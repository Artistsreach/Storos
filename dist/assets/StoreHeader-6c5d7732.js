import{ai as P,aj as i,aS as W,am as e,ap as s,b0 as Y,av as J,at as I,au as r,aA as Q,bI as R,bJ as U,bi as T,bj as X,ao as E,bl as M,aL as _,aW as G}from"./index-15348b98.js";const ee=({store:g,isPublishedView:v=!1})=>{var C;const{name:d,theme:K,logo_url:j,id:l,settings:u}=g,{cart:z,removeFromCart:$,updateQuantity:V,updateStoreTextContent:N}=P(),[H,m]=i.useState(!1),[F,x]=i.useState(!1),[k,p]=i.useState(!1),[O,A]=i.useState(!1),b=W(),o=z.filter(a=>a.storeId===l),w=o.reduce((a,t)=>a+t.quantity,0),D=o.reduce((a,t)=>a+t.price*t.quantity,0);i.useEffect(()=>{const a=()=>{A(window.scrollY>20)};return window.addEventListener("scroll",a),()=>window.removeEventListener("scroll",a)},[]),i.useEffect(()=>{const a=localStorage.getItem("theme"),t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;a==="dark"||!a&&t?(p(!0),document.documentElement.classList.add("dark")):(p(!1),document.documentElement.classList.remove("dark"))},[]);const q=()=>{const a=!k;p(a),a?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},f=`/store/${l}`,c=["Home","Shop","Our Story","Contact"],h=((C=g.content)==null?void 0:C.navLinkLabels)||c,y=[{href:f,label:h[0]||c[0],identifier:"content.navLinkLabels.0"},{href:`#products-${l}`,label:h[1]||c[1],identifier:"content.navLinkLabels.1"},{href:`#features-${l}`,label:h[2]||c[2],identifier:"content.navLinkLabels.2"},{href:`#contact-${l}`,label:h[3]||c[3],identifier:"content.navLinkLabels.3"}],S=(a,t)=>{if(a.preventDefault(),m(!1),t.startsWith("/store/"))b(t);else{const n=t.substring(1),L=document.getElementById(n);L?L.scrollIntoView({behavior:"smooth"}):b(f)}},B=()=>{x(!1),b("/checkout",{state:{cart:o,storeName:d,storeId:l}})};return e.jsxs(e.Fragment,{children:[e.jsx(s.header,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},className:Y("fixed top-0 z-50 w-full transition-all duration-300",O?"bg-white/90 dark:bg-neutral-900/90 backdrop-blur-lg border-b border-neutral-200/70 dark:border-neutral-700/70 shadow-sm":"bg-transparent"),children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 py-3",children:[" ",e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(J,{to:f,className:"flex items-center gap-2.5 group",children:[" ",j&&e.jsx(s.div,{className:"relative overflow-hidden rounded-lg",whileHover:{scale:1.03,boxShadow:"0px 5px 15px rgba(0,0,0,0.1)"},transition:{type:"spring",stiffness:300,damping:20},children:e.jsx("img",{src:j,alt:`${d} logo`,className:"h-9 w-9 object-contain"})}),e.jsx(I,{initialText:d,onSave:N,identifier:"name",isPublishedView:v,as:"span",className:"font-semibold text-lg tracking-normal bg-gradient-to-r from-neutral-800 to-neutral-500 dark:from-white dark:to-neutral-400 bg-clip-text text-transparent group-hover:from-primary group-hover:to-primary/70 transition-all duration-300"})]}),e.jsxs("nav",{className:"hidden lg:flex items-center gap-7",children:[" ",y.map((a,t)=>e.jsx(s.div,{initial:{opacity:0,y:-8},animate:{opacity:1,y:0},transition:{delay:t*.08+.2},children:e.jsxs(I,{initialText:a.label,onSave:N,identifier:a.identifier,isPublishedView:v,as:"a",href:a.href,onClick:n=>S(n,a.href),className:"relative text-sm font-medium text-neutral-500 dark:text-neutral-400 hover:text-primary dark:hover:text-primary-light transition-colors duration-200 group",children:[a.label,e.jsx("span",{className:"absolute -bottom-0.5 left-0 w-0 h-[1.5px] bg-primary transition-all duration-300 group-hover:w-full"})]})},a.identifier))]}),e.jsxs("div",{className:"flex items-center gap-2.5",children:[" ",e.jsx(s.div,{whileHover:{scale:1.1},whileTap:{scale:.9},children:e.jsxs(r,{variant:"ghost",size:"icon",className:"rounded-lg text-neutral-500 dark:text-neutral-400 hover:bg-neutral-100 dark:hover:bg-neutral-800 hover:text-primary dark:hover:text-primary-light",children:[e.jsx(Q,{className:"h-[18px] w-[18px]"})," "]})}),((u==null?void 0:u.showThemeToggle)??!0)&&e.jsx(s.div,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"hidden sm:block",children:e.jsx(r,{variant:"ghost",size:"icon",onClick:q,className:"rounded-lg text-neutral-500 dark:text-neutral-400 hover:bg-neutral-100 dark:hover:bg-neutral-800 hover:text-primary dark:hover:text-primary-light",children:k?e.jsx(R,{className:"h-[18px] w-[18px]"}):e.jsx(U,{className:"h-[18px] w-[18px]"})})}),e.jsx(s.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsxs(r,{onClick:()=>x(!0),className:"relative rounded-lg bg-primary hover:bg-primary/90 text-white dark:bg-neutral-300 dark:text-neutral-800 px-3.5 py-2 text-sm",children:[e.jsx(T,{className:"h-4 w-4 mr-1.5"}),e.jsx("span",{className:"hidden sm:inline",children:"Cart"}),w>0&&e.jsx(s.span,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1.5 -right-1.5 h-5 w-5 bg-red-500 text-white text-[10px] rounded-full flex items-center justify-center font-medium",children:w})]})}),e.jsx(s.div,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"lg:hidden",children:e.jsx(r,{variant:"ghost",size:"icon",onClick:()=>m(!0),className:"rounded-lg text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800",children:e.jsx(X,{className:"h-5 w-5"})})})]})]})]})}),e.jsx(E,{children:H&&e.jsxs(s.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 lg:hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black/25 backdrop-blur-sm",onClick:()=>m(!1)}),e.jsx(s.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:300,damping:30},className:"absolute right-0 top-0 h-full w-72 bg-white dark:bg-neutral-900 shadow-xl border-l dark:border-neutral-700/50",children:e.jsxs("div",{className:"p-5",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("span",{className:"font-semibold text-lg",children:d}),e.jsx(r,{variant:"ghost",size:"icon",onClick:()=>m(!1),className:"rounded-lg",children:e.jsx(M,{className:"h-5 w-5"})})]}),e.jsx("nav",{className:"space-y-2",children:y.map(a=>e.jsx("a",{href:a.href,onClick:t=>S(t,a.href),className:"block py-2 px-3 text-base font-medium text-neutral-600 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-800 hover:text-primary rounded-md transition-colors",children:a.label},a.identifier))})]})})]})}),e.jsx(E,{children:F&&e.jsxs(s.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50",children:[e.jsx("div",{className:"absolute inset-0 bg-black/25 backdrop-blur-sm",onClick:()=>x(!1)}),e.jsxs(s.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:300,damping:30},className:"absolute right-0 top-0 h-full w-full max-w-sm bg-white dark:bg-neutral-900 shadow-xl border-l dark:border-neutral-700/50 flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-5 border-b dark:border-neutral-700/50",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Shopping Cart"}),e.jsx(r,{variant:"ghost",size:"icon",onClick:()=>x(!1),className:"rounded-lg",children:e.jsx(M,{className:"h-5 w-5"})})]}),o.length===0?e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-6 text-center",children:[e.jsx(T,{className:"h-10 w-10 text-neutral-400 mb-3"}),e.jsx("h3",{className:"text-lg font-medium mb-1",children:"Your cart is empty"}),e.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"Add items to get started."})]}):e.jsxs(e.Fragment,{children:[e.jsx(_,{className:"flex-1 p-5",children:e.jsx("div",{className:"space-y-4",children:o.map(a=>{var t,n;return e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("img",{src:((n=(t=a.image)==null?void 0:t.src)==null?void 0:n.tiny)||`https://via.placeholder.com/48x48.png?text=${a.name.charAt(0)}`,alt:a.name,className:"w-12 h-12 object-cover rounded-md border dark:border-neutral-700"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-sm font-medium line-clamp-1",children:a.name}),e.jsxs("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:["$",a.price.toFixed(2)," x ",a.quantity]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-medium",children:["$",(a.price*a.quantity).toFixed(2)]}),e.jsx(r,{variant:"ghost",size:"icon",className:"h-6 w-6 mt-0.5 text-neutral-400 hover:text-red-500",onClick:()=>$(a.id,l),children:e.jsx(G,{className:"h-3 w-3"})})]})]},a.id)})})}),e.jsxs("div",{className:"border-t dark:border-neutral-700/50 p-5 space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm font-medium",children:[e.jsx("span",{children:"Subtotal"}),e.jsxs("span",{children:["$",D.toFixed(2)]})]}),e.jsx(r,{className:"w-full bg-primary hover:bg-primary/90 text-white rounded-lg py-2.5",onClick:B,children:"Proceed to Checkout"})]})]})]})]})})]})};export{ee as default};
