import{u as K,j as e,m as r,I as Z,r as d,ac as oe,a as de,b as U,w as ce,L as X,B as i,l as _,H as me,ad as xe,ae as he,i as J,z as pe,A as z,X as E,af as ue,ag as ge,ah as fe}from"./index-1e2a087c.js";const ye=({navLinks:c,onNavLinkClick:H,store:u})=>{var v;const{updateStoreTextContent:F,store:y}=K(),s=y||u,n=((v=s==null?void 0:s.theme)==null?void 0:v.primaryColor)||"#6366F1",b=((l,j=20)=>{if(!l.startsWith("#"))return l;let m=parseInt(l.slice(1),16),g=Math.round(2.55*j),k=(m>>16)-g,h=(m>>8&255)-g,p=(m&255)-g;return k=Math.max(0,k),h=Math.max(0,h),p=Math.max(0,p),"#"+(16777216+k*65536+h*256+p).toString(16).slice(1)})(n,20);return!c||c.length===0?null:e.jsx("nav",{className:"hidden lg:flex items-center gap-x-10",children:c.map((l,j)=>e.jsx(r.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:j*.1},children:e.jsxs(Z,{initialText:l.label,onSave:F,identifier:l.identifier,as:"a",href:l.href,onClick:m=>H(m,l.href),className:"text-sm font-medium text-gray-700 dark:text-gray-300 transition-all duration-300 relative group premium-font-body",style:{"--hover-text-color":n,"--dark-hover-text-color":b},onMouseEnter:m=>m.currentTarget.style.color=document.documentElement.classList.contains("dark")?b:n,onMouseLeave:m=>m.currentTarget.style.color="",children:[l.label,e.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 transition-all duration-300 group-hover:w-full",style:{background:`linear-gradient(to right, ${n}, ${b})`}}),e.jsx(r.div,{className:"absolute inset-0 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 -z-10",style:{backgroundColor:`${n}1A`},layoutId:`navHover-${l.identifier||j}`})]})},l.identifier||l.label))})},ve=({store:c,isPublishedView:H=!1})=>{var W;const{name:u,theme:F,logo_url:y,id:s,settings:n}=c,{cart:D,removeFromCart:b,updateQuantity:v,updateStoreTextContent:l,viewMode:j}=K(),[m,g]=d.useState(!1),[k,h]=d.useState(!1),[p,S]=d.useState(!1),[L,T]=d.useState(!1),[f,q]=d.useState(""),[I,O]=d.useState([]),[ee,te]=d.useState(!1),$=d.useRef(null),M=oe(),w=D.filter(t=>t.storeId===s),P=w.reduce((t,a)=>t+a.quantity,0),R=w.reduce((t,a)=>t+a.price*a.quantity,0),ae=0,{scrollY:B}=de(),re=U(B,[0,50],[1,.95]),se=U(B,[0,50],[0,20]);d.useEffect(()=>{const t=()=>{te(window.scrollY>50)};return window.addEventListener("scroll",t),()=>window.removeEventListener("scroll",t)},[]),d.useEffect(()=>{L&&$.current&&$.current.focus()},[L]),d.useEffect(()=>{if(f.trim()&&c.products){const t=c.products.filter(a=>{var o,x;return((o=a.name)==null?void 0:o.toLowerCase().includes(f.toLowerCase()))||((x=a.description)==null?void 0:x.toLowerCase().includes(f.toLowerCase()))});O(t)}else O([])},[f,c.products]),d.useEffect(()=>{const t=localStorage.getItem("theme"),a=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;t==="dark"||!t&&a?(S(!0),document.documentElement.classList.add("dark")):(S(!1),document.documentElement.classList.remove("dark"))},[]);const A=()=>{const t=!p;S(t),t?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},N=`/store/${s}`,C=((W=c==null?void 0:c.content)==null?void 0:W.navLinkLabels)||["Home","Products","Features","Contact"],Y=[{href:N,label:C[0]||"Home",identifier:"content.navLinkLabels.0"},{href:`#products-${s}`,label:C[1]||"Products",identifier:"content.navLinkLabels.1"},{href:`#features-${s}`,label:C[2]||"Features",identifier:"content.navLinkLabels.2"},{href:`#contact-${s}`,label:C[3]||"Contact",identifier:"content.navLinkLabels.3"}],V=(t,a)=>{if(t.preventDefault(),g(!1),a.startsWith("/store/"))M(a);else{const o=a.substring(1),x=document.getElementById(o);x?x.scrollIntoView({behavior:"smooth"}):M(N)}},le=()=>{h(!1),M("/checkout",{state:{cart:w,storeName:u,storeId:s}})},ie=t=>{t.preventDefault();const a=document.getElementById(`products-${s}`);a&&a.scrollIntoView({behavior:"smooth"})},ne=t=>{T(!1),q("")};return e.jsxs(e.Fragment,{children:[e.jsx(r.header,{style:{opacity:re,backdropFilter:`blur(${se}px)`},className:ce("fixed top-0 z-50 w-full transition-all duration-500 premium-header",ee?"bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl shadow-2xl border-b border-gray-200/20 dark:border-gray-700/20 py-3":"bg-transparent py-6"),children:e.jsxs("div",{className:"container mx-auto px-6 flex items-center justify-between",children:[e.jsxs(X,{to:N,className:"flex items-center gap-3 group",children:[y&&e.jsxs(r.div,{className:"relative",whileHover:{scale:1.05},transition:{type:"spring",stiffness:400,damping:10},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600 to-pink-600 rounded-full blur-lg opacity-0 group-hover:opacity-30 transition-opacity duration-300"}),e.jsx("img",{src:y,alt:`${u} logo`,className:"h-12 w-12 object-contain relative z-10 rounded-full"})]}),e.jsx(Z,{initialText:u,onSave:l,identifier:"name",as:"span",className:"font-bold text-2xl tracking-tight bg-gradient-to-r from-gray-900 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent premium-font-display group-hover:from-purple-600 group-hover:to-pink-600 transition-all duration-300",children:u})]}),e.jsx(ye,{navLinks:Y,onNavLinkClick:V}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(r.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsx(i,{variant:"ghost",size:"icon",className:"text-gray-600 dark:text-gray-400 hover:text-purple-600 dark:hover:text-purple-400 hover:bg-purple-50 dark:hover:bg-purple-900/20 transition-all duration-300 rounded-full",onClick:()=>T(!0),children:e.jsx(_,{className:"h-5 w-5"})})}),e.jsx(r.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsxs(i,{variant:"ghost",size:"icon",className:"hidden sm:flex text-gray-600 dark:text-gray-400 hover:text-pink-600 dark:hover:text-pink-400 hover:bg-pink-50 dark:hover:bg-pink-900/20 transition-all duration-300 relative rounded-full",children:[e.jsx(me,{className:"h-5 w-5"}),ae>0]})}),((n==null?void 0:n.showThemeToggle)??!0)&&e.jsx(r.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsx(i,{variant:"ghost",size:"icon",className:"hidden sm:flex text-gray-600 dark:text-gray-400 hover:text-yellow-600 dark:hover:text-yellow-400 hover:bg-yellow-50 dark:hover:bg-yellow-900/20 transition-all duration-300 rounded-full",onClick:A,children:e.jsx(r.div,{initial:!1,animate:{rotate:p?180:0},transition:{duration:.3},children:p?e.jsx(xe,{className:"h-5 w-5"}):e.jsx(he,{className:"h-5 w-5"})})})}),e.jsx(r.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsxs(i,{className:"relative flex items-center gap-2 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white border-0 rounded-full px-6 py-2 shadow-lg hover:shadow-xl transition-all duration-300",onClick:()=>h(!0),children:[e.jsx(J,{className:"h-5 w-5"}),P>0&&e.jsx(r.div,{initial:{scale:0},animate:{scale:1},className:"absolute -top-2 -right-2 h-6 w-6 bg-gradient-to-r from-orange-500 to-red-500 text-white text-xs rounded-full flex items-center justify-center font-bold shadow-lg",children:P}),e.jsx("span",{className:"ml-1 hidden sm:inline font-medium premium-font-body",children:"Cart"})]})}),e.jsx(r.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsx(i,{variant:"ghost",size:"icon",className:"lg:hidden text-gray-600 dark:text-gray-400 hover:text-purple-600 dark:hover:text-purple-400 hover:bg-purple-50 dark:hover:bg-purple-900/20 transition-all duration-300 rounded-full",onClick:()=>g(!0),children:e.jsx(pe,{className:"h-6 w-6"})})})]})]})}),e.jsx(z,{children:L&&e.jsx(r.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-md p-4 flex flex-col",children:e.jsx(r.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"container mx-auto pt-20 max-w-4xl",children:e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-3xl shadow-2xl overflow-hidden",children:[e.jsxs("div",{className:"flex justify-between items-center p-8 border-b border-gray-200 dark:border-gray-700",children:[e.jsx("h2",{className:"text-2xl font-bold premium-font-display bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Search Products"}),e.jsx(i,{variant:"ghost",size:"icon",onClick:()=>T(!1),className:"rounded-full hover:bg-gray-100 dark:hover:bg-gray-800",children:e.jsx(E,{className:"h-6 w-6"})})]}),e.jsx("form",{onSubmit:ie,className:"p-8",children:e.jsxs("div",{className:"relative",children:[e.jsx(_,{className:"absolute left-6 top-1/2 transform -translate-y-1/2 text-gray-400 h-6 w-6"}),e.jsx("input",{ref:$,type:"text",placeholder:"Search for products...",className:"w-full pl-16 pr-6 py-4 text-lg border-2 border-gray-200 dark:border-gray-700 rounded-2xl focus:outline-none focus:border-purple-500 bg-gray-50 dark:bg-gray-800 transition-all duration-300 premium-font-body",value:f,onChange:t=>q(t.target.value)})]})}),f.trim()!==""&&e.jsxs("div",{className:"px-8 pb-8 max-h-96 overflow-auto",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-6 premium-font-body",children:I.length>0?`Found ${I.length} results for "${f}"`:`No results found for "${f}"`}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:I.map(t=>{var a,o,x;return e.jsxs(r.div,{className:"bg-gray-50 dark:bg-gray-800 rounded-2xl overflow-hidden hover:shadow-lg transition-all duration-300 cursor-pointer group",whileHover:{y:-5},onClick:()=>ne(t.id),children:[e.jsx("div",{className:"aspect-square bg-gray-200 dark:bg-gray-700 relative overflow-hidden",children:(o=(a=t.image)==null?void 0:a.src)!=null&&o.medium?e.jsx("img",{src:t.image.src.medium,alt:t.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-purple-100 to-pink-100 dark:from-purple-900 dark:to-pink-900 text-purple-600 dark:text-purple-400 text-4xl font-bold premium-font-display",children:t.name.charAt(0)})}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"font-semibold line-clamp-1 premium-font-body text-gray-900 dark:text-white",children:t.name}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2 mt-1 premium-font-body",children:t.description}),e.jsxs("p",{className:"font-bold mt-2 text-lg bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent premium-font-body",children:["$",((x=t.price)==null?void 0:x.toFixed(2))||"0.00"]})]})]},t.id)})})]})]})})})}),e.jsx(z,{children:m&&e.jsx(r.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:300,damping:30},className:"fixed inset-0 z-50 bg-white dark:bg-gray-900 lg:hidden",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs(X,{to:N,className:"flex items-center gap-3",onClick:()=>g(!1),children:[y&&e.jsx("img",{src:y,alt:`${u} logo`,className:"h-10 w-10 object-contain rounded-full"}),e.jsx("span",{className:"font-bold text-xl premium-font-display bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:u})]}),e.jsx(i,{variant:"ghost",size:"icon",onClick:()=>g(!1),className:"rounded-full",children:e.jsx(E,{className:"h-6 w-6"})})]}),e.jsx("nav",{className:"flex flex-col gap-y-6",children:Y.map((t,a)=>e.jsx(r.a,{href:t.href,onClick:o=>V(o,t.href),className:"text-lg font-medium text-gray-900 dark:text-white hover:text-purple-600 dark:hover:text-purple-400 transition-colors premium-font-body",initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{delay:a*.1},children:t.label},t.label))}),((n==null?void 0:n.showThemeToggle)??!0)&&e.jsxs("div",{className:"flex items-center gap-3 mt-8 pt-8 border-t border-gray-200 dark:border-gray-700",children:[e.jsx(ue,{id:`mobile-store-theme-switcher-${s}`,checked:p,onCheckedChange:A,"aria-label":"Toggle dark mode"}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 premium-font-body",children:p?"Dark Mode":"Light Mode"})]})]})})}),e.jsx(z,{children:k&&e.jsxs(e.Fragment,{children:[e.jsx(r.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm",onClick:()=>h(!1)}),e.jsxs(r.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:300,damping:30},className:"fixed z-50 inset-y-0 right-0 h-full w-full max-w-md bg-white dark:bg-gray-900 shadow-2xl flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[e.jsx("h2",{className:"text-xl font-bold premium-font-display bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Your Cart"}),e.jsx(i,{variant:"ghost",size:"icon",onClick:()=>h(!1),className:"rounded-full",children:e.jsx(E,{className:"h-5 w-5"})})]}),w.length===0?e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-6 text-center",children:[e.jsx(r.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:300,damping:30},className:"mb-6",children:e.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-purple-100 to-pink-100 dark:from-purple-900 dark:to-pink-900 rounded-full flex items-center justify-center mb-4",children:e.jsx(J,{className:"h-12 w-12 text-purple-600 dark:text-purple-400"})})}),e.jsx("h3",{className:"text-xl font-semibold mb-2 premium-font-display text-gray-900 dark:text-white",children:"Your cart is empty"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8 premium-font-body",children:"Looks like you haven't added anything yet."}),e.jsx(i,{onClick:()=>h(!1),className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white border-0 rounded-full px-8 py-3 text-lg font-medium premium-font-body",children:"Continue Shopping"})]}):e.jsxs(e.Fragment,{children:[e.jsx(ge,{className:"flex-1 p-6",children:e.jsx("div",{className:"space-y-6",children:w.map((t,a)=>{var o,x,G,Q;return e.jsxs(r.div,{className:"flex items-start gap-4 pb-4 border-b border-gray-200 dark:border-gray-700 last:border-0",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:a*.1},children:[e.jsx("div",{className:"relative w-20 h-20 bg-gray-100 dark:bg-gray-800 rounded-xl overflow-hidden",children:e.jsx("img",{src:((x=(o=t.image)==null?void 0:o.src)==null?void 0:x.tiny)||((Q=(G=t.image)==null?void 0:G.src)==null?void 0:Q.medium)||`https://via.placeholder.com/80x80.png?text=${t.name.substring(0,1)}`,alt:t.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold line-clamp-1 premium-font-body text-gray-900 dark:text-white",children:t.name}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1 premium-font-body",children:["$",t.price.toFixed(2)]}),e.jsxs("div",{className:"flex items-center gap-3 mt-3",children:[e.jsx(i,{variant:"outline",size:"icon",className:"h-8 w-8 rounded-full border-gray-300 dark:border-gray-600",onClick:()=>v(t.id,s,t.quantity-1),children:e.jsx("span",{className:"text-lg leading-none",children:"-"})}),e.jsx("span",{className:"text-sm w-6 text-center font-medium premium-font-body",children:t.quantity}),e.jsx(i,{variant:"outline",size:"icon",className:"h-8 w-8 rounded-full border-gray-300 dark:border-gray-600",onClick:()=>v(t.id,s,t.quantity+1),children:e.jsx("span",{className:"text-lg leading-none",children:"+"})})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-semibold premium-font-body text-gray-900 dark:text-white",children:["$",(t.price*t.quantity).toFixed(2)]}),e.jsx(i,{variant:"ghost",size:"icon",className:"h-8 w-8 mt-2 text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-full",onClick:()=>b(t.id,s),children:e.jsx(fe,{className:"h-4 w-4"})})]})]},t.id)})})}),e.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 p-6 space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm premium-font-body",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Subtotal"}),e.jsxs("span",{className:"text-gray-900 dark:text-white",children:["$",R.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-sm premium-font-body",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Shipping"}),e.jsx("span",{className:"text-gray-900 dark:text-white",children:"Calculated at checkout"})]}),e.jsxs("div",{className:"flex justify-between font-semibold text-lg pt-2 border-t border-gray-200 dark:border-gray-700 premium-font-body",children:[e.jsx("span",{className:"text-gray-900 dark:text-white",children:"Total"}),e.jsxs("span",{className:"bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:["$",R.toFixed(2)]})]})]}),e.jsx(i,{className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white border-0 rounded-full py-4 text-lg font-medium premium-font-body shadow-lg hover:shadow-xl transition-all duration-300",onClick:le,children:"Proceed to Checkout"}),e.jsx("p",{className:"text-xs text-center text-gray-500 dark:text-gray-400 premium-font-body",children:"Shipping and taxes calculated at checkout."})]})]})]})]})})]})};export{ve as default};
