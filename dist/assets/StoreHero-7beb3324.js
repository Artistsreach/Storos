import{p as me,u as ue,r as o,a as pe,b as H,j as a,m as i,ad as he,av as O,$ as ge,c as be,I as x,a3 as fe,t as ye,Z as ve,B as b,L as P,a1 as V,P as je,A as $}from"./index-8adc253b.js";import{R as Ne}from"./ReplaceVideoModal-51ea5c95.js";const we=me("Crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]),Te=({store:e,isPublishedView:n=!1})=>{var T,I,S,_,A,B,F,R,z,E,L,M,q,D;const{updateStore:Y,updateStoreTextContent:c,viewMode:d}=ue(),[Z,f]=o.useState(!1),[Q,y]=o.useState(!1),[v,G]=o.useState(0),[r,J]=o.useState((e==null?void 0:e.hero_video_url)||""),[h,K]=o.useState(((I=(T=e==null?void 0:e.heroImage)==null?void 0:T.src)==null?void 0:I.large)||((S=e==null?void 0:e.heroImage)==null?void 0:S.url)||(e==null?void 0:e.hero_video_poster_url)||"https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=1200&q=80"),{scrollY:j}=pe(),W=H(j,[0,500],[0,150]),X=H(j,[0,300],[1,.8]),u=e==null?void 0:e.id,ee=((_=e==null?void 0:e.content)==null?void 0:_.heroBadgeText)||"Featured Collection",N=((A=e==null?void 0:e.content)==null?void 0:A.heroTitle)||(e==null?void 0:e.name)||"Your Store Title",ae=((B=e==null?void 0:e.content)==null?void 0:B.heroDescription)||"Describe your store and what makes it special. Highlight your unique products and brand mission here.",te=((F=e==null?void 0:e.content)==null?void 0:F.heroFeature1Text)||"Quality Assured",ie=((R=e==null?void 0:e.content)==null?void 0:R.heroFeature2Text)||"Best Sellers",le=((z=e==null?void 0:e.content)==null?void 0:z.heroFeature3Text)||"Fast Shipping",ne=((E=e==null?void 0:e.content)==null?void 0:E.heroPrimaryCtaText)||"Shop Now",se=((L=e==null?void 0:e.content)==null?void 0:L.heroSecondaryCtaText)||"Learn More",w=`#products-${(e==null?void 0:e.id)||"featured-products"}`,C=`#features-${(e==null?void 0:e.id)||"features"}`,re="https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=1200&q=80";o.useEffect(()=>{var t,l,s;J((e==null?void 0:e.hero_video_url)||""),K((e==null?void 0:e.hero_video_poster_url)||((l=(t=e==null?void 0:e.heroImage)==null?void 0:t.src)==null?void 0:l.large)||((s=e==null?void 0:e.heroImage)==null?void 0:s.url)||re)},[e==null?void 0:e.hero_video_url,e==null?void 0:e.hero_video_poster_url,(q=(M=e==null?void 0:e.heroImage)==null?void 0:M.src)==null?void 0:q.large,(D=e==null?void 0:e.heroImage)==null?void 0:D.url]);const m=[h,"https://images.unsplash.com/photo-1481437156560-3205f6a85705?w=1200&q=80","https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=1200&q=80"].filter(Boolean);o.useEffect(()=>{if(!r&&m.length>0){const t=setInterval(()=>{G(l=>(l+1)%m.length)},6e3);return()=>clearInterval(t)}},[r,m]);const k=(t,l)=>{t.preventDefault();const s=document.getElementById(l);s&&s.scrollIntoView({behavior:"smooth",block:"start"})},oe=()=>{f(!0)},ce=async t=>{if(u&&t)try{await Y(u,{hero_video_url:t,hero_video_poster_url:""})}catch(l){console.error("Failed to update store with new video URL:",l)}},de={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.15,delayChildren:.2}}},p={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:100,damping:12}}},g={animate:{y:[-10,10,-10],rotate:[0,2,0,-2,0],transition:{duration:10,repeat:1/0,ease:"easeInOut"}}};return a.jsxs("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden bg-gradient-to-br from-slate-900 via-slate-800 to-blue-950 text-white",children:[a.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[a.jsx(i.div,{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-blue-700/10 rounded-full blur-3xl opacity-50",animate:{scale:[1,1.1,1],opacity:[.1,.2,.1]},transition:{duration:15,repeat:1/0,ease:"linear"}}),a.jsx(i.div,{className:"absolute bottom-1/4 right-1/4 w-80 h-80 bg-blue-600/10 rounded-full blur-3xl opacity-40",animate:{scale:[1.1,1,1.1],opacity:[.05,.15,.05]},transition:{duration:18,repeat:1/0,ease:"linear"}})]}),a.jsx(i.div,{className:"absolute top-1/4 left-10 text-blue-500/20",variants:g,animate:"animate",children:a.jsx(he,{className:"w-10 h-10"})}),a.jsx(i.div,{className:"absolute bottom-1/3 right-10 text-blue-500/20",variants:g,animate:"animate",transition:{delay:3},children:a.jsx(O,{className:"w-8 h-8"})}),a.jsx(i.div,{className:"absolute top-2/3 left-1/3 text-yellow-500/10",variants:g,animate:"animate",transition:{delay:6},children:a.jsx(we,{className:"w-6 h-6"})}),a.jsx(i.div,{className:"container mx-auto px-6 relative z-10 pt-[55px]",style:{y:W,opacity:X},children:a.jsxs(i.div,{className:"grid lg:grid-cols-2 gap-12 lg:gap-16 items-center min-h-[80vh]",variants:de,initial:"hidden",animate:"visible",children:[a.jsxs(i.div,{variants:p,className:"text-center lg:text-left space-y-8",children:[a.jsx(i.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},children:a.jsxs(ge,{variant:"outline",className:"px-4 py-2 bg-blue-900/40 text-blue-300 border-blue-700/60 font-mono uppercase tracking-widest text-xs",children:[a.jsx(be,{className:"w-4 h-4 mr-2"}),a.jsx(x,{initialText:ee,onSave:t=>c("heroBadgeText",t),isAdmin:!n&&d==="edit",as:"span",textClassName:"",inputClassName:"bg-transparent"})]})}),a.jsx(x,{initialText:N,onSave:t=>c("heroTitle",t),isAdmin:!n&&d==="edit",as:"h1",textClassName:"text-4xl sm:text-5xl lg:text-6xl xl:text-7xl font-extrabold leading-tight tracking-tighter font-mono uppercase",inputClassName:"text-4xl sm:text-5xl lg:text-6xl xl:text-7xl font-extrabold leading-tight tracking-tighter font-mono uppercase bg-transparent",className:"text-4xl sm:text-5xl lg:text-6xl xl:text-7xl font-extrabold leading-tight tracking-tighter font-mono uppercase",children:a.jsx(i.span,{className:"bg-gradient-to-r from-slate-100 via-blue-400 to-sky-400 bg-clip-text text-transparent",animate:{backgroundPosition:["0% 50%","200% 50%"]},transition:{duration:5,repeat:1/0,ease:"linear"},style:{backgroundSize:"200% auto"},children:N})}),a.jsx(x,{initialText:ae,onSave:t=>c("heroDescription",t),isAdmin:!n&&d==="edit",as:"p",textClassName:"text-lg md:text-xl text-slate-300 max-w-xl mx-auto lg:mx-0 leading-relaxed",inputClassName:"text-lg md:text-xl text-slate-300 max-w-xl mx-auto lg:mx-0 leading-relaxed bg-transparent",className:"text-lg md:text-xl text-slate-300 max-w-xl mx-auto lg:mx-0 leading-relaxed",useTextarea:!0}),a.jsx(i.div,{className:"flex flex-wrap justify-center lg:justify-start gap-x-6 gap-y-3 text-xs",variants:p,children:[{icon:fe,text:te,identifier:"heroFeature1Text"},{icon:ye,text:ie,identifier:"heroFeature2Text"},{icon:ve,text:le,identifier:"heroFeature3Text"}].map((t,l)=>{var s,U;return a.jsxs(i.div,{className:"flex items-center gap-2 text-slate-400",whileHover:{scale:1.05,color:((s=e==null?void 0:e.theme)==null?void 0:s.primaryColor)||"#60A5FA"},children:[a.jsx(t.icon,{className:"w-4 h-4",style:{color:((U=e==null?void 0:e.theme)==null?void 0:U.primaryColor)||"#2563EB"}})," ",a.jsx(x,{initialText:t.text,onSave:xe=>c(t.identifier,xe),isAdmin:!n&&d==="edit",as:"span",textClassName:"font-mono font-medium uppercase tracking-wider",inputClassName:"font-mono font-medium uppercase tracking-wider bg-transparent"})]},l)})}),a.jsxs(i.div,{className:"flex flex-col sm:flex-row justify-center lg:justify-start gap-4 pt-6",variants:p,children:[a.jsx(i.div,{whileHover:{scale:1.03},whileTap:{scale:.97},children:a.jsx(b,{asChild:!0,size:"lg",className:"group relative overflow-hidden rounded-md px-8 py-3 text-base font-semibold shadow-lg transition-all duration-300 bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-700 hover:to-blue-600 text-white border-0 font-mono uppercase tracking-wider",children:a.jsx(P,{to:w,onClick:t=>k(t,w.substring(1)),children:a.jsxs(i.span,{className:"relative z-10 flex items-center gap-2",children:[a.jsx(O,{className:"w-5 h-5"}),a.jsx(x,{initialText:ne,onSave:t=>c("heroPrimaryCtaText",t),isAdmin:!n&&d==="edit",as:"span",textClassName:"",inputClassName:"bg-transparent"})]})})})}),a.jsx(i.div,{whileHover:{scale:1.03},whileTap:{scale:.97},children:a.jsx(b,{asChild:!0,variant:"outline",size:"lg",className:"group rounded-md px-8 py-3 text-base font-semibold border-2 border-blue-600/70 text-blue-400 hover:bg-blue-600/10 hover:border-blue-500 transition-all duration-300 backdrop-blur-sm font-mono uppercase tracking-wider",children:a.jsx(P,{to:C,onClick:t=>k(t,C.substring(1)),children:a.jsxs(i.span,{className:"flex items-center gap-2",children:[a.jsx(V,{className:"w-4 h-4"}),a.jsx(x,{initialText:se,onSave:t=>c("heroSecondaryCtaText",t),isAdmin:!n&&d==="edit",as:"span",textClassName:"",inputClassName:"bg-transparent"})]})})})})]})]}),a.jsx(i.div,{variants:p,className:"relative aspect-video lg:aspect-[16/10] max-w-2xl mx-auto",children:a.jsxs("div",{className:"relative w-full h-full rounded-lg overflow-hidden shadow-2xl border-2 border-slate-700/50",children:[!n&&(r||h)&&a.jsx(i.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.8},children:a.jsx(b,{variant:"outline",size:"icon",className:"absolute top-3 right-3 z-20 bg-slate-800/80 hover:bg-slate-700 text-slate-300 hover:text-blue-400 backdrop-blur-sm border-slate-600 rounded-md shadow-md",onClick:oe,title:"Replace Media",children:a.jsx(je,{className:"h-4 w-4"})})}),r?a.jsxs("div",{className:"relative w-full h-full group",children:[a.jsx("video",{src:r,poster:h,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"absolute inset-0 w-full h-full object-cover transition-transform duration-500 group-hover:scale-105",onPlay:()=>y(!0),onPause:()=>y(!1)},r),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 via-transparent to-black/10"}),a.jsx($,{children:!Q&&a.jsx(i.div,{initial:{opacity:0,scale:.7},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.7},className:"absolute inset-0 flex items-center justify-center",children:a.jsx("div",{className:"w-16 h-16 bg-blue-600/70 backdrop-blur-sm rounded-full flex items-center justify-center border border-blue-500/60 shadow-xl",children:a.jsx(V,{className:"w-6 h-6 text-white ml-0.5"})})})})]}):m.length>0&&a.jsxs("div",{className:"relative w-full h-full",children:[a.jsx($,{mode:"sync",children:a.jsx(i.img,{src:m[v],alt:"Store hero background",className:"absolute inset-0 w-full h-full object-cover",initial:{opacity:.7,filter:"blur(4px)"},animate:{opacity:1,filter:"blur(0px)"},exit:{opacity:.7,filter:"blur(4px)"},transition:{duration:1}},v)}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-900/20 via-transparent to-sky-900/20"})]})]})})]})}),!n&&u&&a.jsx(Ne,{open:Z,onOpenChange:f,storeId:u,currentVideoUrl:r,onVideoReplaced:ce})]})};export{Te as default};
