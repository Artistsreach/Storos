import{y as T,u as C,r as g,j as e,m as d,M as I,I as i,z as B,B as A,d as E}from"./index-440cc513.js";const M=({store:h,isPublishedView:s=!1})=>{const{theme:n,content:t,name:m,id:w}=h,{toast:c}=T(),{updateStoreTextContent:r,viewMode:l}=C(),[u,p]=g.useState(""),[o,b]=g.useState(!1),y=(t==null?void 0:t.newsletterHeading)||"Stay Fresh, Stay Updated",f=(t==null?void 0:t.newsletterText)||"Be the first to know about our newest arrivals, exclusive sales, and fresh ideas delivered right to your inbox.",v=(t==null?void 0:t.newsletterInputPlaceholder)||"your.email@example.com",N=(t==null?void 0:t.newsletterButtonText)||"Subscribe",k=(t==null?void 0:t.newsletterPrivacyText)||"We respect your privacy. Unsubscribe at any time.";t!=null&&t.newsletterSuccessMessage||`${m}`;const x=(n==null?void 0:n.primaryColor)||"#3B82F6",j=async a=>{if(a.preventDefault(),!u.trim()){c({title:"Email Required",description:"Please enter your email address to subscribe.",variant:"destructive"});return}b(!0),await new Promise(S=>setTimeout(S,1200)),c({title:"Subscribed! ðŸŽ‰",description:`You're now on the list for ${m}'s freshest updates.`}),p(""),b(!1)};return e.jsxs("section",{id:`newsletter-${w}`,className:"py-16 md:py-24 bg-gradient-to-br from-slate-100 to-slate-200 dark:from-slate-800 dark:to-slate-800/90 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-1/4 w-1/2 h-full bg-gradient-to-r from-primary/5 via-transparent to-primary/5 opacity-30 dark:opacity-20 blur-3xl animate-pulse-slow"}),e.jsx("div",{className:"container mx-auto px-4 sm:px-6 relative z-10",children:e.jsx(d.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.2},transition:{duration:.6,ease:"easeOut"},className:"max-w-3xl mx-auto bg-white/70 dark:bg-slate-900/70 backdrop-blur-xl p-8 sm:p-10 md:p-12 rounded-3xl border border-slate-200/70 dark:border-slate-700/70 shadow-xl",children:e.jsxs("div",{className:"text-center",children:[e.jsx(d.div,{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl mb-6",style:{background:`linear-gradient(135deg, ${x}30, ${x}20)`},initial:{scale:.8,opacity:0},whileInView:{scale:1,opacity:1},viewport:{once:!0},transition:{delay:.1,duration:.4,type:"spring",stiffness:150},children:e.jsx(I,{className:"w-8 h-8",style:{color:x}})}),e.jsx(i,{initialText:y,onSave:a=>r("newsletterHeading",a),isAdmin:!s&&l==="edit",as:"h2",textClassName:"text-2xl md:text-3xl lg:text-4xl font-bold mb-3 tracking-tight text-slate-800 dark:text-white",inputClassName:"text-2xl md:text-3xl lg:text-4xl font-bold mb-3 tracking-tight text-slate-800 dark:text-white bg-transparent",className:"text-2xl md:text-3xl lg:text-4xl font-bold mb-3 tracking-tight text-slate-800 dark:text-white"}),e.jsx(i,{initialText:f,onSave:a=>r("newsletterText",a),isAdmin:!s&&l==="edit",as:"p",textClassName:"text-slate-600 dark:text-slate-300 mb-8 text-md md:text-lg leading-relaxed max-w-xl mx-auto",inputClassName:"text-slate-600 dark:text-slate-300 mb-8 text-md md:text-lg leading-relaxed max-w-xl mx-auto bg-transparent",className:"text-slate-600 dark:text-slate-300 mb-8 text-md md:text-lg leading-relaxed max-w-xl mx-auto",useTextarea:!0}),e.jsxs("form",{onSubmit:j,className:"flex flex-col sm:flex-row gap-3 max-w-lg mx-auto",children:[e.jsx("div",{className:"relative flex-grow",children:e.jsx(B,{type:"email",placeholder:v,className:"h-12 text-sm bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm border-slate-300/80 dark:border-slate-600/80 rounded-xl focus:ring-primary/30 focus:border-primary/60 transition-all duration-300 pl-5 pr-5 text-slate-700 dark:text-slate-100 placeholder-slate-500 dark:placeholder-slate-400",value:u,onChange:a=>p(a.target.value),disabled:o,required:!0})}),e.jsx(A,{type:"submit",size:"lg",className:"h-12 text-sm bg-primary hover:bg-primary/90 text-white border-0 rounded-xl px-6 shadow-md hover:shadow-lg group transition-all",disabled:o,children:o?e.jsxs(d.div,{className:"flex items-center gap-2",initial:{opacity:0},animate:{opacity:1},children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),e.jsx("span",{children:"Sending..."})]}):e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx(i,{initialText:N,onSave:a=>r("newsletterButtonText",a),isAdmin:!s&&l==="edit",as:"span",textClassName:"",inputClassName:"bg-transparent"}),e.jsx(E,{className:"w-4 h-4 transition-transform group-hover:translate-x-0.5"})]})})]}),e.jsx(i,{initialText:k,onSave:a=>r("newsletterPrivacyText",a),isAdmin:!s&&l==="edit",as:"p",textClassName:"text-xs text-slate-500 dark:text-slate-400 mt-4",inputClassName:"text-xs text-slate-500 dark:text-slate-400 mt-4 bg-transparent",className:"text-xs text-slate-500 dark:text-slate-400 mt-4"})]})})})]})};export{M as default};
