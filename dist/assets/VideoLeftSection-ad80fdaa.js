import{a$ as P,ai as A,aj as p,am as t,ap as v,au as N,ax as M,at as m,c3 as D,aw as $,bv as L}from"./index-4b0969f0.js";import{R as z}from"./ReplaceVideoModal-f2fee2ed.js";const B=P("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]),W=({store:C,isPublishedView:i=!1})=>{const{name:b,content:e,theme:h,id:n}=C,{updateStoreTextContent:x,updateStore:U,viewMode:l}=A(),[T,S]=p.useState(!1),[f,d]=p.useState((e==null?void 0:e.videoLeftSectionVideoUrl)||""),[k,r]=p.useState((e==null?void 0:e.videoLeftSectionVideoPosterUrl)||"https://images.pexels.com/photos/3183197/pexels-photo-3183197.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"),u=(e==null?void 0:e.videoLeftSectionTitle)||"Experience Our Craft",g=(e==null?void 0:e.videoLeftSectionSubtitle)||"See the dedication and precision that goes into every product we create.",V=(e==null?void 0:e.videoLeftSectionText)||"Our commitment to excellence is evident in our process. Watch to learn more about our values and the journey of our products from concept to your hands.",j=(e==null?void 0:e.videoLeftSectionCtaText)||"View Our Catalog",w=(e==null?void 0:e.videoLeftSectionCtaLink)||`#products-${n}`,c="https://images.pexels.com/photos/3184418/pexels-photo-3184418.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",R=(h==null?void 0:h.primaryColor)||"#2563EB";p.useEffect(()=>{d((e==null?void 0:e.videoLeftSectionVideoUrl)||""),r((e==null?void 0:e.videoLeftSectionVideoPosterUrl)||c)},[e==null?void 0:e.videoLeftSectionVideoUrl,e==null?void 0:e.videoLeftSectionVideoPosterUrl]),p.useEffect(()=>{(async()=>{if(!(e!=null&&e.videoLeftSectionVideoUrl)){const o=b||u||g||"craftsmanship";try{const a=await L(o);a.video&&a.video.videoUrl?(d(a.video.videoUrl),a.video.imageUrl?r(a.video.imageUrl):r(c)):(d(""),r(c))}catch(a){console.error("Error fetching Pexels video for sharp video left section:",a),d(""),r(c)}}})()},[e==null?void 0:e.videoLeftSectionVideoUrl,b,u,g]);const I=()=>{S(!0)},O=async s=>{let o=c;if(s)try{const a=s.match(/pexels\.com\/video-files\/(\d+)\//i);if(a&&a[1]){const y=await L(a[1]);y.video&&y.video.imageUrl&&(o=y.video.imageUrl)}else o=""}catch(a){console.warn("Could not fetch Pexels poster for new video",a),o=""}if(n)try{await U(n,{content:{...e,videoLeftSectionVideoUrl:s||"",videoLeftSectionVideoPosterUrl:o}}),d(s||""),r(o),s||(d(""),r(c))}catch(a){console.error("Failed to update store with new video section video URL:",a)}},E=(e==null?void 0:e.videoLeftSectionListItems)||["Detail-Oriented Design","Expert Assembly Process","Rigorous Testing Protocols","Sustainable Sourcing"];return t.jsxs("section",{id:`video-left-${n}`,className:"py-16 md:py-24 bg-slate-900 text-white overflow-hidden",children:[t.jsx("div",{className:"container mx-auto px-4 sm:px-6",children:t.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 lg:gap-16 items-center",children:[t.jsxs(v.div,{className:"relative aspect-video lg:aspect-[16/10] rounded-lg overflow-hidden shadow-2xl border-2 border-slate-700/50",initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},viewport:{once:!0,amount:.3},transition:{duration:.7,ease:"easeOut"},children:[f?t.jsx("video",{src:f,poster:k,controls:!0,className:"w-full h-full object-cover"},f):t.jsx("div",{className:"w-full h-full bg-slate-800 flex items-center justify-center",children:!i&&l==="edit"?t.jsx("p",{className:"text-slate-500",children:"No video set. Click edit to add one."}):t.jsx(B,{className:"w-16 h-16 text-slate-600"})}),!i&&l==="edit"&&t.jsx(N,{variant:"outline",size:"icon",className:"absolute top-3 right-3 z-20 bg-slate-800/80 hover:bg-slate-700 text-slate-300 hover:text-blue-400 backdrop-blur-sm border-slate-600 rounded-md shadow-md",onClick:I,title:"Replace Section Video",children:t.jsx(M,{className:"h-4 w-4"})})]}),t.jsxs(v.div,{initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},viewport:{once:!0,amount:.3},transition:{duration:.7,ease:"easeOut"},children:[t.jsx(m,{initialText:u,onSave:s=>x("videoLeftSectionTitle",s),isAdmin:!i&&l==="edit",as:"h2",textClassName:"text-5xl md:text-6xl lg:text-7xl font-black mb-4 tracking-tighter font-mono uppercase",inputClassName:"text-5xl md:text-6xl lg:text-7xl font-black mb-4 tracking-tighter font-mono uppercase bg-transparent",className:"text-5xl md:text-6xl lg:text-7xl font-black mb-4 tracking-tighter font-mono uppercase",children:t.jsx("span",{className:"bg-gradient-to-r from-slate-100 via-blue-400 to-sky-400 bg-clip-text text-transparent",children:u})}),t.jsx(m,{initialText:g,onSave:s=>x("videoLeftSectionSubtitle",s),isAdmin:!i&&l==="edit",as:"p",textClassName:"text-xl md:text-2xl text-slate-200 mb-6 leading-relaxed font-sans",inputClassName:"text-xl md:text-2xl text-slate-200 mb-6 leading-relaxed font-sans bg-transparent",className:"text-xl md:text-2xl text-slate-200 mb-6 leading-relaxed font-sans",useTextarea:!0}),t.jsx(m,{initialText:V,onSave:s=>x("videoLeftSectionText",s),isAdmin:!i&&l==="edit",as:"p",textClassName:"text-slate-300 mb-8 leading-relaxed text-md font-sans",inputClassName:"text-slate-300 mb-8 leading-relaxed text-md font-sans bg-transparent",className:"text-slate-300 mb-8 leading-relaxed text-md font-sans",useTextarea:!0}),t.jsx("ul",{className:"space-y-3 mb-8",children:E.map((s,o)=>t.jsxs(v.li,{className:"flex items-center gap-3 text-slate-300",initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.5,delay:o*.1},children:[t.jsx(D,{className:"w-5 h-5 flex-shrink-0",style:{color:R}}),t.jsx(m,{initialText:s,onSave:a=>x(`videoLeftSectionListItems.${o}`,a),isAdmin:!i&&l==="edit",as:"span",textClassName:"font-mono",inputClassName:"font-mono bg-transparent"})]},o))}),j&&w&&t.jsx(v.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.4},children:t.jsx(N,{asChild:!0,size:"lg",className:"group rounded-md px-8 py-3 text-base font-semibold shadow-lg transition-all duration-300 bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-700 hover:to-blue-600 text-white border-0 font-mono uppercase tracking-wider",children:t.jsxs("a",{href:w,children:[t.jsx(m,{initialText:j,onSave:s=>x("videoLeftSectionCtaText",s),isAdmin:!i&&l==="edit",as:"span",textClassName:"",inputClassName:"bg-transparent"}),t.jsx($,{className:"w-5 h-5 ml-2 transition-transform group-hover:translate-x-1"})]})})})]})]})}),!i&&n&&t.jsx(z,{open:T,onOpenChange:S,storeId:n,currentVideoUrl:f,onVideoReplaced:O})]})};export{W as default};
