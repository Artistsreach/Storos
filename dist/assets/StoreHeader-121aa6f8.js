import{u as P,r as n,ac as Y,j as e,m as a,w as Q,L as R,I,B as l,l as U,ad as W,ae as X,i as T,z as _,A as E,X as M,ag as G,ah as J}from"./index-1e2a087c.js";const ee=({store:b,isPublishedView:v=!1})=>{var S;const{name:d,theme:K,logo_url:j,id:r,settings:p}=b,{cart:z,removeFromCart:$,updateQuantity:V,updateStoreTextContent:N}=P(),[H,m]=n.useState(!1),[F,x]=n.useState(!1),[k,u]=n.useState(!1),[O,A]=n.useState(!1),f=Y(),o=z.filter(s=>s.storeId===r),w=o.reduce((s,t)=>s+t.quantity,0),D=o.reduce((s,t)=>s+t.price*t.quantity,0);n.useEffect(()=>{const s=()=>{A(window.scrollY>20)};return window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s)},[]),n.useEffect(()=>{const s=localStorage.getItem("theme"),t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;s==="dark"||!s&&t?(u(!0),document.documentElement.classList.add("dark")):(u(!1),document.documentElement.classList.remove("dark"))},[]);const q=()=>{const s=!k;u(s),s?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},g=`/store/${r}`,c=["Home","Shop","Our Story","Contact"],h=((S=b.content)==null?void 0:S.navLinkLabels)||c,y=[{href:g,label:h[0]||c[0],identifier:"content.navLinkLabels.0"},{href:`#products-${r}`,label:h[1]||c[1],identifier:"content.navLinkLabels.1"},{href:`#features-${r}`,label:h[2]||c[2],identifier:"content.navLinkLabels.2"},{href:`#contact-${r}`,label:h[3]||c[3],identifier:"content.navLinkLabels.3"}],C=(s,t)=>{if(s.preventDefault(),m(!1),t.startsWith("/store/"))f(t);else{const i=t.substring(1),L=document.getElementById(i);L?L.scrollIntoView({behavior:"smooth"}):f(g)}},B=()=>{x(!1),f("/checkout",{state:{cart:o,storeName:d,storeId:r}})};return e.jsxs(e.Fragment,{children:[e.jsx(a.header,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},className:Q("fixed top-0 z-50 w-full transition-all duration-300",O?"bg-white/90 dark:bg-slate-900/90 backdrop-blur-lg border-b border-slate-200/70 dark:border-slate-700/70 shadow-sm":"bg-transparent"),children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 py-3",children:[" ",e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(R,{to:g,className:"flex items-center gap-2.5 group",children:[" ",j&&e.jsx(a.div,{className:"relative overflow-hidden rounded-lg",whileHover:{scale:1.03,boxShadow:"0px 5px 15px rgba(0,0,0,0.1)"},transition:{type:"spring",stiffness:300,damping:20},children:e.jsx("img",{src:j,alt:`${d} logo`,className:"h-9 w-9 object-contain"})}),e.jsx(I,{initialText:d,onSave:N,identifier:"name",isPublishedView:v,as:"span",className:"font-semibold text-lg tracking-normal bg-gradient-to-r from-slate-800 to-slate-500 dark:from-white dark:to-slate-400 bg-clip-text text-transparent group-hover:from-primary group-hover:to-primary/70 transition-all duration-300"})]}),e.jsxs("nav",{className:"hidden lg:flex items-center gap-7",children:[" ",y.map((s,t)=>e.jsx(a.div,{initial:{opacity:0,y:-8},animate:{opacity:1,y:0},transition:{delay:t*.08+.2},children:e.jsxs(I,{initialText:s.label,onSave:N,identifier:s.identifier,isPublishedView:v,as:"a",href:s.href,onClick:i=>C(i,s.href),className:"relative text-sm font-medium text-slate-500 dark:text-slate-400 hover:text-primary dark:hover:text-primary-light transition-colors duration-200 group",children:[s.label,e.jsx("span",{className:"absolute -bottom-0.5 left-0 w-0 h-[1.5px] bg-primary transition-all duration-300 group-hover:w-full"})]})},s.identifier))]}),e.jsxs("div",{className:"flex items-center gap-2.5",children:[" ",e.jsx(a.div,{whileHover:{scale:1.1},whileTap:{scale:.9},children:e.jsxs(l,{variant:"ghost",size:"icon",className:"rounded-lg text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 hover:text-primary dark:hover:text-primary-light",children:[e.jsx(U,{className:"h-[18px] w-[18px]"})," "]})}),((p==null?void 0:p.showThemeToggle)??!0)&&e.jsx(a.div,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"hidden sm:block",children:e.jsx(l,{variant:"ghost",size:"icon",onClick:q,className:"rounded-lg text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 hover:text-primary dark:hover:text-primary-light",children:k?e.jsx(W,{className:"h-[18px] w-[18px]"}):e.jsx(X,{className:"h-[18px] w-[18px]"})})}),e.jsx(a.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsxs(l,{onClick:()=>x(!0),className:"relative rounded-lg bg-primary hover:bg-primary/90 text-white px-3.5 py-2 text-sm",children:[e.jsx(T,{className:"h-4 w-4 mr-1.5"}),e.jsx("span",{className:"hidden sm:inline",children:"Cart"}),w>0&&e.jsx(a.span,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1.5 -right-1.5 h-4.5 w-4.5 bg-red-500 text-white text-[10px] rounded-full flex items-center justify-center font-medium",children:w})]})}),e.jsx(a.div,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"lg:hidden",children:e.jsx(l,{variant:"ghost",size:"icon",onClick:()=>m(!0),className:"rounded-lg text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800",children:e.jsx(_,{className:"h-5 w-5"})})})]})]})]})}),e.jsx(E,{children:H&&e.jsxs(a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 lg:hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black/25 backdrop-blur-sm",onClick:()=>m(!1)}),e.jsx(a.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:300,damping:30},className:"absolute right-0 top-0 h-full w-72 bg-white dark:bg-slate-900 shadow-xl border-l dark:border-slate-700/50",children:e.jsxs("div",{className:"p-5",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("span",{className:"font-semibold text-lg",children:d}),e.jsx(l,{variant:"ghost",size:"icon",onClick:()=>m(!1),className:"rounded-lg",children:e.jsx(M,{className:"h-5 w-5"})})]}),e.jsx("nav",{className:"space-y-2",children:y.map(s=>e.jsx("a",{href:s.href,onClick:t=>C(t,s.href),className:"block py-2 px-3 text-base font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 hover:text-primary rounded-md transition-colors",children:s.label},s.identifier))})]})})]})}),e.jsx(E,{children:F&&e.jsxs(a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50",children:[e.jsx("div",{className:"absolute inset-0 bg-black/25 backdrop-blur-sm",onClick:()=>x(!1)}),e.jsxs(a.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:300,damping:30},className:"absolute right-0 top-0 h-full w-full max-w-sm bg-white dark:bg-slate-900 shadow-xl border-l dark:border-slate-700/50 flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-5 border-b dark:border-slate-700/50",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Shopping Cart"}),e.jsx(l,{variant:"ghost",size:"icon",onClick:()=>x(!1),className:"rounded-lg",children:e.jsx(M,{className:"h-5 w-5"})})]}),o.length===0?e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-6 text-center",children:[e.jsx(T,{className:"h-10 w-10 text-slate-400 mb-3"}),e.jsx("h3",{className:"text-lg font-medium mb-1",children:"Your cart is empty"}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Add items to get started."})]}):e.jsxs(e.Fragment,{children:[e.jsx(G,{className:"flex-1 p-5",children:e.jsx("div",{className:"space-y-4",children:o.map(s=>{var t,i;return e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("img",{src:((i=(t=s.image)==null?void 0:t.src)==null?void 0:i.tiny)||`https://via.placeholder.com/48x48.png?text=${s.name.charAt(0)}`,alt:s.name,className:"w-12 h-12 object-cover rounded-md border dark:border-slate-700"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-sm font-medium line-clamp-1",children:s.name}),e.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["$",s.price.toFixed(2)," x ",s.quantity]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-medium",children:["$",(s.price*s.quantity).toFixed(2)]}),e.jsx(l,{variant:"ghost",size:"icon",className:"h-6 w-6 mt-0.5 text-slate-400 hover:text-red-500",onClick:()=>$(s.id,r),children:e.jsx(J,{className:"h-3 w-3"})})]})]},s.id)})})}),e.jsxs("div",{className:"border-t dark:border-slate-700/50 p-5 space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm font-medium",children:[e.jsx("span",{children:"Subtotal"}),e.jsxs("span",{children:["$",D.toFixed(2)]})]}),e.jsx(l,{className:"w-full bg-primary hover:bg-primary/90 text-white rounded-lg py-2.5",onClick:B,children:"Proceed to Checkout"})]})]})]})]})})]})};export{ee as default};
