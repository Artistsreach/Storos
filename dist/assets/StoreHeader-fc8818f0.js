import{u as P,r as i,af as Y,j as e,m as s,w as J,L as K,I,B as r,n as Q,F as R,J as U,i as T,K as W,A as E,X as M,ah as X,D as _}from"./index-eca7a0fb.js";const ee=({store:b,isPublishedView:v=!1})=>{var S;const{name:d,theme:G,logo_url:j,id:l,settings:u}=b,{cart:z,removeFromCart:$,updateQuantity:V,updateStoreTextContent:N}=P(),[F,m]=i.useState(!1),[H,x]=i.useState(!1),[k,p]=i.useState(!1),[D,O]=i.useState(!1),f=Y(),o=z.filter(t=>t.storeId===l),w=o.reduce((t,a)=>t+a.quantity,0),A=o.reduce((t,a)=>t+a.price*a.quantity,0);i.useEffect(()=>{const t=()=>{O(window.scrollY>20)};return window.addEventListener("scroll",t),()=>window.removeEventListener("scroll",t)},[]),i.useEffect(()=>{const t=localStorage.getItem("theme"),a=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;t==="dark"||!t&&a?(p(!0),document.documentElement.classList.add("dark")):(p(!1),document.documentElement.classList.remove("dark"))},[]);const q=()=>{const t=!k;p(t),t?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},g=`/store/${l}`,c=["Home","Shop","Our Story","Contact"],h=((S=b.content)==null?void 0:S.navLinkLabels)||c,y=[{href:g,label:h[0]||c[0],identifier:"content.navLinkLabels.0"},{href:`#products-${l}`,label:h[1]||c[1],identifier:"content.navLinkLabels.1"},{href:`#features-${l}`,label:h[2]||c[2],identifier:"content.navLinkLabels.2"},{href:`#contact-${l}`,label:h[3]||c[3],identifier:"content.navLinkLabels.3"}],C=(t,a)=>{if(t.preventDefault(),m(!1),a.startsWith("/store/"))f(a);else{const n=a.substring(1),L=document.getElementById(n);L?L.scrollIntoView({behavior:"smooth"}):f(g)}},B=()=>{x(!1),f("/checkout",{state:{cart:o,storeName:d,storeId:l}})};return e.jsxs(e.Fragment,{children:[e.jsx(s.header,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},className:J("fixed top-0 z-50 w-full transition-all duration-300",D?"bg-white/90 dark:bg-neutral-900/90 backdrop-blur-lg border-b border-neutral-200/70 dark:border-neutral-700/70 shadow-sm":"bg-transparent"),children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 py-3",children:[" ",e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(K,{to:g,className:"flex items-center gap-2.5 group",children:[" ",j&&e.jsx(s.div,{className:"relative overflow-hidden rounded-lg",whileHover:{scale:1.03,boxShadow:"0px 5px 15px rgba(0,0,0,0.1)"},transition:{type:"spring",stiffness:300,damping:20},children:e.jsx("img",{src:j,alt:`${d} logo`,className:"h-9 w-9 object-contain"})}),e.jsx(I,{initialText:d,onSave:N,identifier:"name",isPublishedView:v,as:"span",className:"font-semibold text-lg tracking-normal bg-gradient-to-r from-neutral-800 to-neutral-500 dark:from-white dark:to-neutral-400 bg-clip-text text-transparent group-hover:from-primary group-hover:to-primary/70 transition-all duration-300"})]}),e.jsxs("nav",{className:"hidden lg:flex items-center gap-7",children:[" ",y.map((t,a)=>e.jsx(s.div,{initial:{opacity:0,y:-8},animate:{opacity:1,y:0},transition:{delay:a*.08+.2},children:e.jsxs(I,{initialText:t.label,onSave:N,identifier:t.identifier,isPublishedView:v,as:"a",href:t.href,onClick:n=>C(n,t.href),className:"relative text-sm font-medium text-neutral-500 dark:text-neutral-400 hover:text-primary dark:hover:text-primary-light transition-colors duration-200 group",children:[t.label,e.jsx("span",{className:"absolute -bottom-0.5 left-0 w-0 h-[1.5px] bg-primary transition-all duration-300 group-hover:w-full"})]})},t.identifier))]}),e.jsxs("div",{className:"flex items-center gap-2.5",children:[" ",e.jsx(s.div,{whileHover:{scale:1.1},whileTap:{scale:.9},children:e.jsxs(r,{variant:"ghost",size:"icon",className:"rounded-lg text-neutral-500 dark:text-neutral-400 hover:bg-neutral-100 dark:hover:bg-neutral-800 hover:text-primary dark:hover:text-primary-light",children:[e.jsx(Q,{className:"h-[18px] w-[18px]"})," "]})}),((u==null?void 0:u.showThemeToggle)??!0)&&e.jsx(s.div,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"hidden sm:block",children:e.jsx(r,{variant:"ghost",size:"icon",onClick:q,className:"rounded-lg text-neutral-500 dark:text-neutral-400 hover:bg-neutral-100 dark:hover:bg-neutral-800 hover:text-primary dark:hover:text-primary-light",children:k?e.jsx(R,{className:"h-[18px] w-[18px]"}):e.jsx(U,{className:"h-[18px] w-[18px]"})})}),e.jsx(s.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsxs(r,{onClick:()=>x(!0),className:"relative rounded-lg bg-primary hover:bg-primary/90 text-white dark:bg-neutral-300 dark:text-neutral-800 px-3.5 py-2 text-sm",children:[e.jsx(T,{className:"h-4 w-4 mr-1.5"}),e.jsx("span",{className:"hidden sm:inline",children:"Cart"}),w>0&&e.jsx(s.span,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1.5 -right-1.5 h-5 w-5 bg-red-500 text-white text-[10px] rounded-full flex items-center justify-center font-medium",children:w})]})}),e.jsx(s.div,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"lg:hidden",children:e.jsx(r,{variant:"ghost",size:"icon",onClick:()=>m(!0),className:"rounded-lg text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800",children:e.jsx(W,{className:"h-5 w-5"})})})]})]})]})}),e.jsx(E,{children:F&&e.jsxs(s.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 lg:hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black/25 backdrop-blur-sm",onClick:()=>m(!1)}),e.jsx(s.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:300,damping:30},className:"absolute right-0 top-0 h-full w-72 bg-white dark:bg-neutral-900 shadow-xl border-l dark:border-neutral-700/50",children:e.jsxs("div",{className:"p-5",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("span",{className:"font-semibold text-lg",children:d}),e.jsx(r,{variant:"ghost",size:"icon",onClick:()=>m(!1),className:"rounded-lg",children:e.jsx(M,{className:"h-5 w-5"})})]}),e.jsx("nav",{className:"space-y-2",children:y.map(t=>e.jsx("a",{href:t.href,onClick:a=>C(a,t.href),className:"block py-2 px-3 text-base font-medium text-neutral-600 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-800 hover:text-primary rounded-md transition-colors",children:t.label},t.identifier))})]})})]})}),e.jsx(E,{children:H&&e.jsxs(s.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50",children:[e.jsx("div",{className:"absolute inset-0 bg-black/25 backdrop-blur-sm",onClick:()=>x(!1)}),e.jsxs(s.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:300,damping:30},className:"absolute right-0 top-0 h-full w-full max-w-sm bg-white dark:bg-neutral-900 shadow-xl border-l dark:border-neutral-700/50 flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-5 border-b dark:border-neutral-700/50",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Shopping Cart"}),e.jsx(r,{variant:"ghost",size:"icon",onClick:()=>x(!1),className:"rounded-lg",children:e.jsx(M,{className:"h-5 w-5"})})]}),o.length===0?e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-6 text-center",children:[e.jsx(T,{className:"h-10 w-10 text-neutral-400 mb-3"}),e.jsx("h3",{className:"text-lg font-medium mb-1",children:"Your cart is empty"}),e.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"Add items to get started."})]}):e.jsxs(e.Fragment,{children:[e.jsx(X,{className:"flex-1 p-5",children:e.jsx("div",{className:"space-y-4",children:o.map(t=>{var a,n;return e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("img",{src:((n=(a=t.image)==null?void 0:a.src)==null?void 0:n.tiny)||`https://via.placeholder.com/48x48.png?text=${t.name.charAt(0)}`,alt:t.name,className:"w-12 h-12 object-cover rounded-md border dark:border-neutral-700"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-sm font-medium line-clamp-1",children:t.name}),e.jsxs("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:["$",t.price.toFixed(2)," x ",t.quantity]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-medium",children:["$",(t.price*t.quantity).toFixed(2)]}),e.jsx(r,{variant:"ghost",size:"icon",className:"h-6 w-6 mt-0.5 text-neutral-400 hover:text-red-500",onClick:()=>$(t.id,l),children:e.jsx(_,{className:"h-3 w-3"})})]})]},t.id)})})}),e.jsxs("div",{className:"border-t dark:border-neutral-700/50 p-5 space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm font-medium",children:[e.jsx("span",{children:"Subtotal"}),e.jsxs("span",{children:["$",A.toFixed(2)]})]}),e.jsx(r,{className:"w-full bg-primary hover:bg-primary/90 text-white rounded-lg py-2.5",onClick:B,children:"Proceed to Checkout"})]})]})]})]})})]})};export{ee as default};
