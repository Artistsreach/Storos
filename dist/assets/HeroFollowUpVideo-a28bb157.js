import{u as v,r as s,j as o,m as w,B as x,P as j}from"./index-8adc253b.js";import{R as U}from"./ReplaceVideoModal-51ea5c95.js";const b=({store:c,isPublishedView:a=!1})=>{const{name:R,content:e,id:l}=c,{updateStore:p,viewMode:r}=v(),[u,i]=s.useState(!1),[t,d]=s.useState((e==null?void 0:e.heroFollowUpVideoUrl)||"");s.useEffect(()=>{d((e==null?void 0:e.heroFollowUpVideoUrl)||"")},[e==null?void 0:e.heroFollowUpVideoUrl]);const h=()=>{i(!0)},m=async n=>{if(l)try{await p(l,{content:{...e,heroFollowUpVideoUrl:n||""}}),d(n||"")}catch(f){console.error("Failed to update store with new follow-up video URL:",f)}};return!t&&a?null:o.jsxs("section",{id:`hero-follow-up-video-${l}`,className:"relative w-full h-[40vh] md:h-[50vh] lg:h-[60vh] overflow-hidden bg-slate-900",children:[o.jsx(w.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0,amount:.2},transition:{duration:.8,ease:"easeOut"},className:"absolute inset-0",children:t?o.jsx("video",{src:t,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover"},t):o.jsx("div",{className:"w-full h-full bg-slate-800 flex items-center justify-center",children:!a&&r==="edit"&&o.jsx("p",{className:"text-slate-500",children:"No video set. Click edit to add one."})})}),!a&&r==="edit"&&o.jsx(x,{variant:"outline",size:"icon",className:"absolute top-4 right-4 z-20 bg-slate-800/80 hover:bg-slate-700 text-slate-300 hover:text-blue-400 backdrop-blur-sm border-slate-600 rounded-md shadow-md",onClick:h,title:"Replace Follow-up Video",children:o.jsx(j,{className:"h-4 w-4"})}),!a&&l&&o.jsx(U,{open:u,onOpenChange:i,storeId:l,currentVideoUrl:t,onVideoReplaced:m})]})};export{b as default};
