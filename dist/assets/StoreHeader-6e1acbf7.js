import{u as oe,r as n,ac as le,a as ne,b as $,j as e,m as a,w as de,L as Y,I as V,S as ce,B as o,l as Z,H as he,ad as me,ae as xe,i as Q,z as be,A as I,Z as ue,X as T,af as fe,ag as pe,ah as ge}from"./index-ed27cf41.js";const ye=({store:h,isPublishedView:we=!1})=>{var R;const{name:m,theme:s,logo_url:g,id:l,settings:x}=h,{cart:U,removeFromCart:W,updateQuantity:z,updateStoreTextContent:E,viewMode:ve}=oe(),[X,w]=n.useState(!1),[_,b]=n.useState(!1),[u,k]=n.useState(!1),[y,j]=n.useState(!1),[c,H]=n.useState(""),[N,M]=n.useState([]),[G,J]=n.useState(!1),C=n.useRef(null),S=le(),f=U.filter(r=>r.storeId===l),F=f.reduce((r,t)=>r+t.quantity,0),D=f.reduce((r,t)=>r+t.price*t.quantity,0),K=0,{scrollY:L}=ne(),ee=$(L,[0,50],[.95,.98]),re=$(L,[0,50],[8,24]),te=$(L,[0,50],[1,.98]);n.useEffect(()=>{const r=()=>{J(window.scrollY>50)};return window.addEventListener("scroll",r),()=>window.removeEventListener("scroll",r)},[]),n.useEffect(()=>{y&&C.current&&C.current.focus()},[y]),n.useEffect(()=>{if(c.trim()&&h.products){const r=h.products.filter(t=>{var i,d;return((i=t.name)==null?void 0:i.toLowerCase().includes(c.toLowerCase()))||((d=t.description)==null?void 0:d.toLowerCase().includes(c.toLowerCase()))});M(r)}else M([])},[c,h.products]),n.useEffect(()=>{const r=localStorage.getItem("theme"),t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;r==="dark"||!r&&t?(k(!0),document.documentElement.classList.add("dark")):(k(!1),document.documentElement.classList.remove("dark"))},[]);const P=()=>{const r=!u;k(r),r?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},v=`/store/${l}`,p=((R=h==null?void 0:h.content)==null?void 0:R.navLinkLabels)||["Home","Products","Collections","Features","Contact"],q=[{href:v,label:p[0]||"Home",identifier:"content.navLinkLabels.0"},{href:`#products-${l}`,label:p[1]||"Products",identifier:"content.navLinkLabels.1"},{href:`#collections-${l}`,label:p[2]||"Collections",identifier:"content.navLinkLabels.2"},{href:`#features-${l}`,label:p[3]||"Features",identifier:"content.navLinkLabels.3"},{href:`#contact-${l}`,label:p[4]||"Contact",identifier:"content.navLinkLabels.4"}],O=(r,t)=>{if(r.preventDefault(),w(!1),t.startsWith("/store/"))S(t);else{const i=t.substring(1),d=document.getElementById(i);d?d.scrollIntoView({behavior:"smooth"}):S(v)}},ae=()=>{b(!1),S("/checkout",{state:{cart:f,storeName:m,storeId:l}})},se=r=>{r.preventDefault();const t=document.getElementById(`products-${l}`);t&&t.scrollIntoView({behavior:"smooth"})},ie=r=>{j(!1),H("")};return e.jsxs(e.Fragment,{children:[e.jsx(a.header,{style:{opacity:ee,backdropFilter:`blur(${re}px)`,scale:te},className:de("fixed top-0 z-50 w-full transition-all duration-700 border-b-0.5",G?"bg-white/10 dark:bg-black/10 backdrop-blur-3xl shadow-glass border-white/20 dark:border-white/10 py-2":"bg-white/5 dark:bg-black/5 backdrop-blur-lg border-white/10 dark:border-white/5 py-4"),children:e.jsxs("div",{className:"container mx-auto px-6 flex items-center justify-between",children:[e.jsxs(Y,{to:v,className:"flex items-center gap-3 group",children:[g&&e.jsxs(a.div,{className:"relative",whileHover:{scale:1.05,rotateY:15},transition:{type:"spring",stiffness:400,damping:15},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/20 to-secondary/20 blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),e.jsx("div",{className:"relative bg-white/10 dark:bg-black/10 backdrop-blur-md border border-white/20 dark:border-white/10 p-2",children:e.jsx("img",{src:g,alt:`${m} logo`,className:"h-10 w-10 object-contain relative z-10"})})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx(V,{initialText:m,onSave:E,identifier:"name",as:"span",className:"font-bold text-xl tracking-tight text-foreground group-hover:text-primary transition-colors duration-300 font-inter",style:{color:s.primaryColor},children:m}),e.jsxs(a.div,{className:"flex items-center gap-1 mt-0.5",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},children:[e.jsx(ce,{className:"w-3 h-3 text-primary/60"}),e.jsx("span",{className:"text-xs font-medium text-muted-foreground font-inter tracking-wide",children:"Premium Collection"})]})]})]}),e.jsx("nav",{className:"hidden lg:flex items-center gap-x-8",children:q.map((r,t)=>e.jsx(a.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:t*.1},className:"relative group",children:e.jsxs(V,{initialText:r.label,onSave:E,identifier:r.identifier,as:"a",href:r.href,onClick:i=>O(i,r.href),className:"text-sm font-medium text-muted-foreground hover:text-primary transition-all duration-300 relative font-inter tracking-wide",style:{"--hover-color":s.primaryColor},children:[r.label,e.jsx(a.span,{className:"absolute -bottom-1 left-0 h-0.5 bg-gradient-to-r from-primary to-secondary",style:{backgroundColor:s.primaryColor},initial:{width:0},whileHover:{width:"100%"},transition:{duration:.3}})]})},r.identifier))}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(a.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsx(o,{variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-primary hover:bg-white/10 dark:hover:bg-black/10 backdrop-blur-md transition-all duration-300 border border-white/10 dark:border-white/5",onClick:()=>j(!0),style:{"--hover-color":s.primaryColor},children:e.jsx(Z,{className:"h-5 w-5"})})}),e.jsx(a.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsxs(o,{variant:"ghost",size:"icon",className:"hidden sm:flex text-muted-foreground hover:text-primary hover:bg-white/10 dark:hover:bg-black/10 backdrop-blur-md transition-all duration-300 relative border border-white/10 dark:border-white/5",style:{"--hover-color":s.primaryColor},children:[e.jsx(he,{className:"h-5 w-5"}),K>0]})}),((x==null?void 0:x.showThemeToggle)??!0)&&e.jsx(a.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsx(o,{variant:"ghost",size:"icon",className:"hidden sm:flex text-muted-foreground hover:text-primary hover:bg-white/10 dark:hover:bg-black/10 backdrop-blur-md transition-all duration-300 border border-white/10 dark:border-white/5",onClick:P,style:{"--hover-color":s.primaryColor},children:e.jsx(a.div,{initial:!1,animate:{rotate:u?180:0},transition:{duration:.5,type:"spring"},children:u?e.jsx(me,{className:"h-5 w-5"}):e.jsx(xe,{className:"h-5 w-5"})})})}),e.jsx(a.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsxs(o,{className:"relative flex items-center gap-2 bg-white/10 dark:bg-black/10 hover:bg-white/20 dark:hover:bg-black/20 text-foreground border border-white/20 dark:border-white/10 backdrop-blur-md px-6 py-2 shadow-glass hover:shadow-glass-inset transition-all duration-300 font-inter font-medium tracking-wide",onClick:()=>b(!0),style:{borderColor:`${s.primaryColor}40`,color:s.primaryColor},children:[e.jsx(Q,{className:"h-5 w-5"}),F>0&&e.jsx(a.div,{initial:{scale:0},animate:{scale:1},className:"absolute -top-2 -right-2 h-6 w-6 bg-gradient-to-r from-primary to-secondary text-white text-xs flex items-center justify-center font-bold backdrop-blur-md",style:{backgroundColor:s.secondaryColor||s.primaryColor},children:F}),e.jsx("span",{className:"ml-1 hidden sm:inline",children:"Cart"})]})}),e.jsx(a.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsx(o,{variant:"ghost",size:"icon",className:"lg:hidden text-muted-foreground hover:text-primary hover:bg-white/10 dark:hover:bg-black/10 backdrop-blur-md transition-all duration-300 border border-white/10 dark:border-white/5",onClick:()=>w(!0),style:{"--hover-color":s.primaryColor},children:e.jsx(be,{className:"h-6 w-6"})})})]})]})}),e.jsx(I,{children:y&&e.jsx(a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 z-50 bg-black/20 backdrop-blur-2xl p-4 flex flex-col",children:e.jsx(a.div,{initial:{scale:.9,opacity:0,y:50},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:50},className:"container mx-auto pt-20 max-w-4xl",children:e.jsxs("div",{className:"bg-white/10 dark:bg-black/10 backdrop-blur-3xl shadow-glass border border-white/20 dark:border-white/10 overflow-hidden",children:[e.jsxs("div",{className:"flex justify-between items-center p-8 border-b border-white/10 dark:border-white/5",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ue,{className:"w-8 h-8 text-primary"}),e.jsx("h2",{className:"text-2xl font-bold text-foreground font-inter tracking-tight",children:"Search Products"})]}),e.jsx(o,{variant:"ghost",size:"icon",onClick:()=>j(!1),className:"hover:bg-white/10 dark:hover:bg-black/10 text-muted-foreground hover:text-primary backdrop-blur-md",children:e.jsx(T,{className:"h-6 w-6"})})]}),e.jsx("form",{onSubmit:se,className:"p-8",children:e.jsxs("div",{className:"relative",children:[e.jsx(Z,{className:"absolute left-6 top-1/2 transform -translate-y-1/2 text-muted-foreground h-6 w-6"}),e.jsx("input",{ref:C,type:"text",placeholder:"Search for products...",className:"w-full pl-16 pr-6 py-4 text-lg border border-white/20 dark:border-white/10 focus:outline-none focus:border-primary/50 bg-white/5 dark:bg-black/5 backdrop-blur-md transition-all duration-300 text-foreground font-inter",style:{borderColor:`${s.primaryColor}30`},value:c,onChange:r=>H(r.target.value)})]})}),c.trim()!==""&&e.jsxs("div",{className:"px-8 pb-8 max-h-96 overflow-auto",children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-6 font-inter tracking-wide",children:N.length>0?`Found ${N.length} results for "${c}"`:`No products found for "${c}"`}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:N.map(r=>{var t,i,d;return e.jsxs(a.div,{className:"bg-white/5 dark:bg-black/5 backdrop-blur-md overflow-hidden hover:shadow-glass transition-all duration-300 cursor-pointer group border border-white/10 dark:border-white/5 hover:border-primary/30",whileHover:{y:-5,scale:1.02},onClick:()=>ie(r.id),children:[e.jsx("div",{className:"aspect-square bg-white/5 dark:bg-black/5 relative overflow-hidden",children:(i=(t=r.image)==null?void 0:t.src)!=null&&i.medium?e.jsx("img",{src:r.image.src.medium,alt:r.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-white/5 dark:bg-black/5 text-muted-foreground text-4xl font-bold font-inter",children:r.name.charAt(0)})}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"font-semibold line-clamp-1 text-foreground font-inter",children:r.name}),e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mt-1",children:r.description}),e.jsxs("p",{className:"font-bold mt-2 text-lg font-inter",style:{color:s.primaryColor},children:["$",((d=r.price)==null?void 0:d.toFixed(2))||"0.00"]})]})]},r.id)})})]})]})})})}),e.jsx(I,{children:X&&e.jsx(a.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:300,damping:30},className:"fixed inset-0 z-50 bg-white/10 dark:bg-black/10 backdrop-blur-3xl lg:hidden",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs(Y,{to:v,className:"flex items-center gap-3",onClick:()=>w(!1),children:[g&&e.jsx("div",{className:"bg-white/10 dark:bg-black/10 backdrop-blur-md border border-white/20 dark:border-white/10 p-2",children:e.jsx("img",{src:g,alt:`${m} logo`,className:"h-10 w-10 object-contain"})}),e.jsx("span",{className:"font-bold text-xl text-foreground font-inter tracking-tight",style:{color:s.primaryColor},children:m})]}),e.jsx(o,{variant:"ghost",size:"icon",onClick:()=>w(!1),className:"text-muted-foreground hover:text-primary backdrop-blur-md",children:e.jsx(T,{className:"h-6 w-6"})})]}),e.jsx("nav",{className:"flex flex-col gap-y-6",children:q.map((r,t)=>e.jsx(a.a,{href:r.href,onClick:i=>O(i,r.href),className:"text-lg font-medium text-foreground hover:text-primary transition-colors font-inter tracking-wide",initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{delay:t*.1},style:{"--hover-color":s.primaryColor},children:r.label},r.label))}),((x==null?void 0:x.showThemeToggle)??!0)&&e.jsxs("div",{className:"flex items-center gap-3 mt-8 pt-8 border-t border-white/10 dark:border-white/5",children:[e.jsx(fe,{id:`mobile-store-theme-switcher-${l}`,checked:u,onCheckedChange:P,"aria-label":"Toggle dark mode"}),e.jsx("span",{className:"text-sm text-muted-foreground font-inter",children:u?"Dark Mode":"Light Mode"})]})]})})}),e.jsx(I,{children:_&&e.jsxs(e.Fragment,{children:[e.jsx(a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/20 backdrop-blur-xl",onClick:()=>b(!1)}),e.jsxs(a.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:300,damping:30},className:"fixed z-50 inset-y-0 right-0 h-full w-full max-w-md bg-white/10 dark:bg-black/10 backdrop-blur-3xl shadow-float-lg flex flex-col border-l border-white/20 dark:border-white/10",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/10 dark:border-white/5",children:[e.jsx("h2",{className:"text-xl font-bold text-foreground font-inter tracking-tight",children:"Shopping Cart"}),e.jsx(o,{variant:"ghost",size:"icon",onClick:()=>b(!1),className:"text-muted-foreground hover:text-primary backdrop-blur-md",children:e.jsx(T,{className:"h-5 w-5"})})]}),f.length===0?e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-6 text-center",children:[e.jsx(a.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:300,damping:30},className:"mb-6",children:e.jsx("div",{className:"w-24 h-24 bg-white/10 dark:bg-black/10 backdrop-blur-md flex items-center justify-center mb-4 border border-white/20 dark:border-white/10",children:e.jsx(Q,{className:"h-12 w-12 text-muted-foreground"})})}),e.jsx("h3",{className:"text-xl font-semibold mb-2 text-foreground font-inter",children:"Your cart is empty"}),e.jsx("p",{className:"text-muted-foreground mb-8 font-inter",children:"Discover amazing products to add to your collection."}),e.jsx(o,{onClick:()=>b(!1),className:"bg-white/10 dark:bg-black/10 hover:bg-white/20 dark:hover:bg-black/20 text-foreground border border-white/20 dark:border-white/10 backdrop-blur-md px-8 py-3 text-lg font-medium font-inter tracking-wide",style:{borderColor:`${s.primaryColor}40`,color:s.primaryColor},children:"Continue Shopping"})]}):e.jsxs(e.Fragment,{children:[e.jsx(pe,{className:"flex-1 p-6",children:e.jsx("div",{className:"space-y-6",children:f.map((r,t)=>{var i,d,B,A;return e.jsxs(a.div,{className:"flex items-start gap-4 pb-4 border-b border-white/10 dark:border-white/5 last:border-0",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:t*.1},children:[e.jsx("div",{className:"relative w-20 h-20 bg-white/5 dark:bg-black/5 backdrop-blur-md overflow-hidden border border-white/10 dark:border-white/5",children:e.jsx("img",{src:((d=(i=r.image)==null?void 0:i.src)==null?void 0:d.tiny)||((A=(B=r.image)==null?void 0:B.src)==null?void 0:A.medium)||`https://via.placeholder.com/80x80.png?text=${r.name.substring(0,1)}`,alt:r.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold line-clamp-1 text-foreground font-inter",children:r.name}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-1 font-inter",children:["$",r.price.toFixed(2)]}),e.jsxs("div",{className:"flex items-center gap-3 mt-3",children:[e.jsx(o,{variant:"outline",size:"icon",className:"h-8 w-8 border-white/20 dark:border-white/10 text-muted-foreground hover:text-primary hover:border-primary/50 backdrop-blur-md",onClick:()=>z(r.id,l,r.quantity-1),children:e.jsx("span",{className:"text-lg leading-none",children:"-"})}),e.jsx("span",{className:"text-sm w-6 text-center font-medium text-foreground font-inter",children:r.quantity}),e.jsx(o,{variant:"outline",size:"icon",className:"h-8 w-8 border-white/20 dark:border-white/10 text-muted-foreground hover:text-primary hover:border-primary/50 backdrop-blur-md",onClick:()=>z(r.id,l,r.quantity+1),children:e.jsx("span",{className:"text-lg leading-none",children:"+"})})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-semibold text-foreground font-inter",children:["$",(r.price*r.quantity).toFixed(2)]}),e.jsx(o,{variant:"ghost",size:"icon",className:"h-8 w-8 mt-2 text-muted-foreground hover:text-destructive hover:bg-destructive/10 backdrop-blur-md",onClick:()=>W(r.id,l),children:e.jsx(ge,{className:"h-4 w-4"})})]})]},r.id)})})}),e.jsxs("div",{className:"border-t border-white/10 dark:border-white/5 p-6 space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm font-inter",children:[e.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),e.jsxs("span",{className:"text-foreground",children:["$",D.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-sm font-inter",children:[e.jsx("span",{className:"text-muted-foreground",children:"Shipping"}),e.jsx("span",{className:"text-foreground",children:"Calculated at checkout"})]}),e.jsxs("div",{className:"flex justify-between font-semibold text-lg pt-2 border-t border-white/10 dark:border-white/5 font-inter",children:[e.jsx("span",{className:"text-foreground",children:"Total"}),e.jsxs("span",{className:"font-bold",style:{color:s.primaryColor},children:["$",D.toFixed(2)]})]})]}),e.jsx(o,{className:"w-full bg-white/10 dark:bg-black/10 hover:bg-white/20 dark:hover:bg-black/20 text-foreground border border-white/20 dark:border-white/10 backdrop-blur-md py-4 text-lg font-medium font-inter tracking-wide shadow-glass hover:shadow-glass-inset transition-all duration-300",onClick:ae,style:{borderColor:`${s.primaryColor}40`,color:s.primaryColor},children:"Proceed to Checkout"}),e.jsx("p",{className:"text-xs text-center text-muted-foreground font-inter",children:"Secure checkout with SSL encryption."})]})]})]})]})})]})};export{ye as default};
