import{p as he,u as ge,r as n,j as e,L as ee,H as pe,E as xe,i as te,a4 as ye,c as Q,B as f,z as we,d as be,k as fe,l as ve,Z as se,S as G,a as je,b as W,o as Ne,m as c,n as ke,G as ae,A as Ce,T as re}from"./index-8adc253b.js";import{M as Pe}from"./minus-6d107af1.js";import{C as Se}from"./crown-e35592e4.js";import{L as $e}from"./list-dfd3e55d.js";const qe=he("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),m={div:({children:t,...o})=>e.jsx("div",{...o,children:t}),button:({children:t,...o})=>e.jsx("button",{...o,children:t}),img:t=>e.jsx("img",{...t})},D=({children:t})=>e.jsx(e.Fragment,{children:t}),Me=({product:t={id:"sample-1",name:"Modern Premium Product",description:"A cutting-edge item designed for the modern lifestyle with exceptional quality and innovative features",price:299.99,image:{src:{large:"https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=800&q=80",medium:"https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=400&q=80"}},rating:4.9,reviewCount:247,isNew:!0,isBestseller:!1,discount:20,originalPrice:374.99},theme:o={},index:v=0,storeName:S,storeId:p="modern-store",isPublishedView:u=!1,displayMode:z="grid"})=>{var Y,Z,J,K;const{addToCart:C,updateStore:$,currentStore:l}=ge(),[q,w]=n.useState(!1),[j,N]=n.useState(!1),[M,B]=n.useState(!1),[b,P]=n.useState(1),[L,H]=n.useState(!1),[U,O]=n.useState({x:0,y:0}),d=n.useRef(null),[A,k]=n.useState(!1),E=!u,V=r=>typeof r=="string"&&r.startsWith("gid://shopify/"),[a,y]=n.useState(()=>({id:t.id||`product-${v}`,name:t.name||"Modern Premium Product",description:t.description||"A cutting-edge item designed for the modern lifestyle with exceptional quality and innovative features",price:typeof t.price=="number"?t.price:parseFloat(t.price)||299.99,image:t.image||{src:{large:"https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=800&q=80",medium:"https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=400&q=80"}},rating:t.rating||4.9,reviewCount:t.reviewCount||247,isNew:t.isNew||!1,isBestseller:t.isBestseller||!1,discount:t.discount||0,originalPrice:t.originalPrice||null,inventory_count:t.inventory_count===void 0?10:t.inventory_count,variants:t.variants||[]}));n.useEffect(()=>{const r=t.id||`product-${v}`;y({id:r,name:t.name||"Modern Premium Product",description:t.description||"A cutting-edge item designed for the modern lifestyle with exceptional quality and innovative features",price:typeof t.price=="number"?t.price:parseFloat(t.price)||299.99,image:t.image||{src:{large:"https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=800&q=80",medium:"https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=400&q=80"}},rating:t.rating||4.9,reviewCount:t.reviewCount||247,isNew:t.isNew||!1,isBestseller:t.isBestseller||!1,discount:t.discount||0,originalPrice:t.originalPrice||null,inventory_count:t.inventory_count===void 0?10:t.inventory_count,variants:t.variants||[]})},[t,v]);const _=V(a.id)?btoa(a.id):a.id,x=(o==null?void 0:o.primaryColor)||"#6366F1",I=a.discount>0?a.price*(1-a.discount/100):a.price;n.useEffect(()=>{const r=i=>{if(d.current){const g=d.current.getBoundingClientRect(),me=(i.clientX-g.left-g.width/2)/g.width,ue=(i.clientY-g.top-g.height/2)/g.height;O({x:me*10,y:ue*10})}};return j&&window.addEventListener("mousemove",r),()=>window.removeEventListener("mousemove",r)},[j]);const F=(()=>{const r=[];return a.isNew&&r.push({text:"New",icon:G,className:"bg-gradient-to-r from-emerald-500 to-teal-500 text-white"}),a.isBestseller&&r.push({text:"Bestseller",icon:Se,className:"bg-gradient-to-r from-amber-500 to-orange-500 text-white"}),a.discount>0&&r.push({text:`-${a.discount}%`,icon:se,className:"bg-gradient-to-r from-red-500 to-pink-500 text-white"}),a.rating>=4.5&&r.push({text:"Top Rated",icon:Q,className:"bg-gradient-to-r from-purple-500 to-indigo-500 text-white"}),r.slice(0,2)})(),R={hidden:{opacity:0,y:30,scale:.95,rotateX:10},visible:{opacity:1,y:0,scale:1,rotateX:0,transition:{duration:.8,ease:[.25,.46,.45,.94],delay:v*.1}},hover:{y:-12,scale:1.03,rotateX:5,transition:{duration:.4,ease:"easeOut"}}},T={hidden:{scale:1.2,opacity:0},visible:{scale:1,opacity:1,transition:{duration:1,ease:"easeOut"}},hover:{scale:1.15,transition:{duration:.6,ease:"easeOut"}}},s={hidden:{opacity:0,scale:.8},visible:{opacity:1,scale:1,transition:{duration:.3,ease:"easeOut"}}},h=r=>{if(r.stopPropagation(),C&&u&&(a.inventory_count===void 0||a.inventory_count>0))for(let i=0;i<b;i++)C(a,p)},ie=r=>{r.stopPropagation(),w(!q)},oe=r=>{r.stopPropagation(),H(!0)},ne=r=>{r.stopPropagation(),navigator.share&&navigator.share({title:productData.name,text:productData.description,url:window.location.href})},le=r=>{r.stopPropagation(),r.preventDefault(),k(!0)},de=()=>{k(!1)},ce=async r=>{if(p&&a.id)try{if(await fetch("https://uwbrgokfgelgxeonoqah.supabase.co/functions/v1/manage-product",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("supabase.auth.token")}`},body:JSON.stringify({store_id:p,product_id:a.id,...r})}),y(i=>({...i,...r})),l&&l.id===p&&l.products){const i=l.products.map(g=>g.id===a.id?{...g,...r}:g);$(p,{products:i})}else l&&l.id===p&&!l.products&&$(p,{products:[{...a,...r}]});k(!1)}catch(i){console.error("Failed to save product changes:",i)}};return e.jsxs(e.Fragment,{children:[e.jsxs(m.div,{ref:d,variants:R,initial:"hidden",animate:"visible",whileHover:"hover",className:"group relative bg-white dark:bg-gray-900 rounded-3xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-500 border border-gray-100 dark:border-gray-800 backdrop-blur-sm bg-opacity-95 dark:bg-opacity-95",onMouseEnter:()=>N(!0),onMouseLeave:()=>N(!1),style:{},children:[e.jsx(ee,{to:`/${S}/product/${_}`,className:"block relative z-10",children:e.jsxs("div",{className:"relative aspect-square overflow-hidden bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-700",children:[e.jsx(m.img,{src:((Z=(Y=a.image)==null?void 0:Y.src)==null?void 0:Z.medium)||((K=(J=a.image)==null?void 0:J.src)==null?void 0:K.large)||(Array.isArray(a.images)&&a.images.length>0?a.images[0]:`https://via.placeholder.com/400x400.png?text=${encodeURIComponent(a.name)}`),alt:a.name,className:"w-full h-full object-cover",variants:T,initial:"hidden",animate:M?"visible":"hidden",whileHover:"hover",onLoad:()=>B(!0)}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/10 via-transparent to-transparent"}),e.jsx("div",{className:"absolute top-4 left-4 flex flex-col gap-2 z-10",children:e.jsx(D,{children:F.map((r,i)=>{const g=r.icon;return e.jsxs(m.div,{initial:{opacity:0,x:-20,scale:.8},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:-20,scale:.8},transition:{delay:i*.1+.5},className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-bold ${r.className} shadow-lg backdrop-blur-sm`,children:[e.jsx(g,{className:"w-3 h-3"}),e.jsx("span",{children:r.text})]},r.text)})})}),e.jsxs("div",{className:"absolute top-4 right-4 flex flex-col gap-2 z-10",children:[e.jsx(m.button,{className:"w-10 h-10 bg-white/10 dark:bg-gray-800/10 backdrop-blur-md rounded-full flex items-center justify-center shadow-lg border border-white/20 dark:border-white/10",whileHover:{scale:1.1,rotate:10},whileTap:{scale:.9},onClick:ie,children:e.jsx(pe,{className:`w-5 h-5 transition-colors duration-300 ${q?"text-red-500 fill-red-500":"text-gray-600 dark:text-gray-400"}`})}),e.jsx(m.button,{className:"w-10 h-10 bg-white/10 dark:bg-gray-800/10 backdrop-blur-md rounded-full flex items-center justify-center shadow-lg border border-white/20 dark:border-white/10",whileHover:{scale:1.1,rotate:-10},whileTap:{scale:.9},onClick:ne,children:e.jsx(qe,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]}),e.jsx(D,{children:j&&!E&&e.jsx(m.div,{variants:s,initial:"hidden",animate:"visible",exit:"hidden",className:"absolute inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-20",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(m.button,{className:"w-12 h-12 bg-white/20 dark:bg-gray-800/20 backdrop-blur-md rounded-full flex items-center justify-center shadow-lg hover:shadow-xl transition-all duration-300 border border-white/30",whileHover:{scale:1.1,y:-2},whileTap:{scale:.9},onClick:oe,children:e.jsx(xe,{className:"w-5 h-5 text-white"})}),e.jsx(m.button,{className:"w-12 h-12 backdrop-blur-md rounded-full flex items-center justify-center shadow-lg hover:shadow-xl transition-all duration-300 border border-white/30",style:{background:`linear-gradient(135deg, ${x}, ${x}80)`},whileHover:{scale:1.1,y:-2},whileTap:{scale:.9},onClick:h,disabled:a.inventory_count!==void 0&&a.inventory_count<=0,children:e.jsx(te,{className:"w-5 h-5 text-white"})}),e.jsx(m.button,{className:"w-12 h-12 bg-white/20 dark:bg-gray-800/20 backdrop-blur-md rounded-full flex items-center justify-center shadow-lg hover:shadow-xl transition-all duration-300 border border-white/30",whileHover:{scale:1.1,y:-2},whileTap:{scale:.9},children:e.jsx(ye,{className:"w-5 h-5 text-white"})})]})})}),!M&&e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-200 via-gray-100 to-gray-200 dark:from-gray-700 dark:via-gray-600 dark:to-gray-700 animate-pulse",children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-shimmer"})})]})}),e.jsxs("div",{className:"p-6 relative z-10",children:[e.jsxs(ee,{to:`/${S}/product/${_}`,className:"block",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"flex items-center",children:[...Array(5)].map((r,i)=>e.jsx(Q,{className:`w-4 h-4 ${i<Math.floor(a.rating)?"text-yellow-400 fill-yellow-400":"text-gray-300 dark:text-gray-600"}`},i))}),e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["(",a.reviewCount,")"]}),e.jsx(m.div,{className:"ml-auto px-2 py-1 rounded-full text-xs font-medium",style:{backgroundColor:`${x}20`,color:x},whileHover:{scale:1.05},children:a.rating})]}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2 group-hover:text-primary transition-colors duration-300 line-clamp-2",children:a.name}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm leading-relaxed mb-2 line-clamp-2",children:a.description})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["$",I.toFixed(2)]}),a.originalPrice&&a.discount>0&&e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400 line-through",children:["$",a.originalPrice.toFixed(2)]})]}),a.discount>0&&e.jsxs(m.div,{className:"px-2 py-1 rounded-full text-xs font-bold text-white",style:{backgroundColor:"#EF4444"},whileHover:{scale:1.05},children:["Save $",(a.originalPrice-I).toFixed(2)]})]}),u&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(f,{variant:"outline",size:"icon",className:"w-8 h-8 rounded-full border-2",onClick:r=>{r.stopPropagation(),P(Math.max(1,b-1))},children:e.jsx(Pe,{className:"w-3 h-3"})}),e.jsx("span",{className:"w-6 text-center text-sm font-semibold",children:b}),e.jsx(f,{variant:"outline",size:"icon",className:"w-8 h-8 rounded-full border-2",onClick:r=>{r.stopPropagation(),P(b+1)},children:e.jsx(we,{className:"w-3 h-3"})})]}),e.jsxs(f,{onClick:h,className:"flex-1 rounded-full py-2 text-sm font-medium shadow-lg hover:shadow-xl transition-all duration-300 group border-0",style:{background:`linear-gradient(135deg, ${x}, ${x}80)`,color:"white"},disabled:a.inventory_count!==void 0&&a.inventory_count<=0,children:[e.jsx(te,{className:"w-4 h-4 mr-2 group-hover:scale-110 transition-transform duration-300"}),a.inventory_count!==void 0&&a.inventory_count<=0?"Out of Stock":"Add to Cart",e.jsx(be,{className:"w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform duration-300"})]})]}),E&&e.jsx("div",{className:"mt-4",children:e.jsxs(f,{onClick:le,variant:"outline",className:"w-full rounded-full py-2 text-sm font-medium border-gray-300 dark:border-gray-700 hover:border-primary hover:text-primary dark:hover:border-primary dark:hover:text-primary transition-colors duration-300",children:[e.jsx(fe,{className:"w-4 h-4 mr-2"}),"Edit Product"]})})]}),e.jsx(D,{children:j&&e.jsx(m.div,{className:"absolute inset-0 pointer-events-none",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[...Array(6)].map((r,i)=>e.jsx(m.div,{className:"absolute w-1 h-1 rounded-full",style:{backgroundColor:x,left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},animate:{y:[-20,-40,-20],opacity:[0,1,0],scale:[0,1,0]},transition:{duration:2,repeat:1/0,delay:i*.2}},i))})})]}),A&&e.jsx(ve,{product:a,isOpen:A,onClose:de,onSave:ce,storeId:p,theme:o})]})},Ee=({products:t=[],store:o,isPublishedView:v=!1,title:S="Featured Products",subtitle:p="Discover our curated collection of premium products"})=>{var T;const[u,z]=n.useState("grid"),[C,$]=n.useState("featured"),[l,q]=n.useState("all"),[w,j]=n.useState(""),[N,M]=n.useState(8),[B,b]=n.useState(!1),P=n.useRef(null),{scrollYProgress:L}=je({target:P,offset:["start end","end start"]}),H=W(L,[0,1],[100,-100]),U=W(L,[0,.2,.8,1],[0,1,1,0]),O=W(L,[0,.2,.8,1],[.8,1,1,.8]),d=((T=o==null?void 0:o.theme)==null?void 0:T.primaryColor)||"#6366F1",A=(o==null?void 0:o.name)||"Modern Store",k=(o==null?void 0:o.id)||"modern-store",E=Ne(A),V=[{id:"modern-1",name:"Premium Wireless Headphones",description:"High-quality audio with noise cancellation and premium comfort for the modern lifestyle",price:299.99,originalPrice:399.99,discount:25,image:{src:{large:"https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=800&q=80",medium:"https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=400&q=80"}},rating:4.8,reviewCount:324,isNew:!0,isBestseller:!1,category:"electronics"},{id:"modern-2",name:"Smart Fitness Watch",description:"Advanced fitness tracking with heart rate monitoring and GPS capabilities",price:249.99,image:{src:{large:"https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=800&q=80",medium:"https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=400&q=80"}},rating:4.9,reviewCount:567,isNew:!1,isBestseller:!0,category:"wearables"},{id:"modern-3",name:"Minimalist Desk Lamp",description:"Sleek design with adjustable brightness and wireless charging base",price:89.99,originalPrice:119.99,discount:15,image:{src:{large:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=800&q=80",medium:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400&q=80"}},rating:4.7,reviewCount:189,isNew:!1,isBestseller:!1,category:"home"},{id:"modern-4",name:"Premium Coffee Maker",description:"Professional-grade brewing system with temperature control and timer",price:199.99,image:{src:{large:"https://images.unsplash.com/photo-1495474472287-4d71bcdd2085?w=800&q=80",medium:"https://images.unsplash.com/photo-1495474472287-4d71bcdd2085?w=400&q=80"}},rating:4.6,reviewCount:234,isNew:!0,isBestseller:!1,category:"kitchen"},{id:"modern-5",name:"Ergonomic Office Chair",description:"Premium comfort with lumbar support and adjustable height for productivity",price:399.99,originalPrice:499.99,discount:20,image:{src:{large:"https://images.unsplash.com/photo-1586023492125-27b2c045efd7?w=800&q=80",medium:"https://images.unsplash.com/photo-1586023492125-27b2c045efd7?w=400&q=80"}},rating:4.8,reviewCount:445,isNew:!1,isBestseller:!0,category:"furniture"},{id:"modern-6",name:"Wireless Charging Pad",description:"Fast wireless charging with LED indicators and non-slip surface",price:39.99,image:{src:{large:"https://images.unsplash.com/photo-1609592806596-b43dafe50b4d?w=800&q=80",medium:"https://images.unsplash.com/photo-1609592806596-b43dafe50b4d?w=400&q=80"}},rating:4.5,reviewCount:156,isNew:!0,isBestseller:!1,category:"electronics"}],y=(t.length>0?t:V).filter(s=>l==="all"?!0:l==="new"?s.isNew:l==="bestseller"?s.isBestseller:l==="sale"?s.discount>0:s.category===l).filter(s=>s.name.toLowerCase().includes(w.toLowerCase())||s.description.toLowerCase().includes(w.toLowerCase())).sort((s,h)=>{switch(C){case"price-low":return s.price-h.price;case"price-high":return h.price-s.price;case"rating":return h.rating-s.rating;case"newest":return h.isNew-s.isNew;default:return 0}}),_=()=>{b(!0),setTimeout(()=>{M(s=>Math.min(s+8,y.length)),b(!1)},500)},x=[{value:"all",label:"All Products",icon:ae},{value:"new",label:"New Arrivals",icon:G},{value:"bestseller",label:"Bestsellers",icon:Q},{value:"sale",label:"On Sale",icon:se},{value:"electronics",label:"Electronics",icon:re}],I=[{value:"featured",label:"Featured"},{value:"newest",label:"Newest First"},{value:"price-low",label:"Price: Low to High"},{value:"price-high",label:"Price: High to Low"},{value:"rating",label:"Highest Rated"}],X={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},F={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6,ease:[.25,.46,.45,.94]}}},R={hidden:{opacity:0,y:-30},visible:{opacity:1,y:0,transition:{duration:.8,ease:[.25,.46,.45,.94]}}};return e.jsxs("section",{ref:P,className:"relative py-20 bg-gradient-to-br from-gray-50 via-white to-blue-50 dark:from-gray-900 dark:via-gray-800 dark:to-blue-950 overflow-hidden",id:`products-${k}`,children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx(c.div,{className:"absolute top-20 right-20 w-96 h-96 bg-primary/5 blur-3xl rounded-full",style:{backgroundColor:`${d}10`,y:H}}),e.jsx(c.div,{className:"absolute bottom-20 left-20 w-80 h-80 bg-secondary/5 blur-3xl rounded-full",style:{y:H}})]}),e.jsxs(c.div,{className:"container mx-auto px-6 relative z-10",style:{opacity:U,scale:O},children:[e.jsxs(c.div,{variants:R,initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-100px"},className:"text-center mb-16",children:[e.jsxs(c.div,{className:"inline-flex items-center gap-2 px-4 py-2 bg-white/10 dark:bg-black/10 backdrop-blur-md border border-white/20 dark:border-white/10 rounded-full text-sm font-medium mb-6",style:{color:d,borderColor:`${d}30`},whileHover:{scale:1.05},children:[e.jsx(G,{className:"w-4 h-4"}),e.jsx("span",{children:"Premium Collection"})]}),e.jsx("h2",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-gray-900 dark:text-white mb-6 tracking-tight",children:e.jsx(c.span,{className:"bg-gradient-to-r from-gray-900 via-primary to-gray-900 dark:from-white dark:via-primary dark:to-white bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(90deg, currentColor, ${d}, currentColor)`},children:S})}),e.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto leading-relaxed",children:p})]}),e.jsxs(c.div,{variants:F,initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"flex flex-col lg:flex-row gap-6 mb-12 p-6 bg-white/10 dark:bg-black/10 backdrop-blur-md rounded-3xl border border-white/20 dark:border-white/10",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(ke,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search products...",value:w,onChange:s=>j(s.target.value),className:"w-full pl-12 pr-4 py-3 rounded-2xl border border-gray-200 dark:border-gray-700 bg-white/80 dark:bg-gray-800/80 backdrop-blur-md focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-transparent"})]}),e.jsx("div",{className:"flex flex-wrap gap-3",children:x.map(s=>{const h=s.icon;return e.jsxs(c.button,{onClick:()=>q(s.value),className:`flex items-center gap-2 px-4 py-2 rounded-2xl font-medium transition-all duration-300 ${l===s.value?"text-white shadow-lg":"text-gray-600 dark:text-gray-400 bg-white/50 dark:bg-gray-800/50 hover:bg-white/70 dark:hover:bg-gray-800/70"}`,style:{backgroundColor:l===s.value?d:void 0},whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx(h,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:s.label})]},s.value)})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("select",{value:C,onChange:s=>$(s.target.value),className:"px-4 py-2 rounded-2xl border border-gray-200 dark:border-gray-700 bg-white/80 dark:bg-gray-800/80 backdrop-blur-md focus:outline-none focus:ring-2 focus:ring-primary/50 text-sm",children:I.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))}),e.jsxs("div",{className:"flex items-center gap-1 p-1 bg-white/50 dark:bg-gray-800/50 rounded-2xl",children:[e.jsx(f,{variant:u==="grid"?"default":"ghost",size:"sm",onClick:()=>z("grid"),className:"rounded-xl",style:{backgroundColor:u==="grid"?d:"transparent",color:u==="grid"?"white":void 0},children:e.jsx(ae,{className:"w-4 h-4"})}),e.jsx(f,{variant:u==="list"?"default":"ghost",size:"sm",onClick:()=>z("list"),className:"rounded-xl",style:{backgroundColor:u==="list"?d:"transparent",color:u==="list"?"white":void 0},children:e.jsx($e,{className:"w-4 h-4"})})]})]})]}),e.jsx(c.div,{variants:X,initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-50px"},className:`grid gap-8 mb-12 ${u==="grid"?"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4":"grid-cols-1"}`,children:e.jsx(Ce,{children:y.slice(0,N).map((s,h)=>e.jsx(c.div,{variants:F,layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.5,delay:h*.05,layout:{duration:.3}},children:e.jsx(Me,{product:s,theme:{primaryColor:d},index:h,storeName:E,storeId:k,isPublishedView:v,displayMode:u})},s.id))})}),N<y.length&&e.jsx(c.div,{className:"text-center",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:e.jsx(f,{onClick:_,disabled:B,size:"lg",className:"px-8 py-4 rounded-full font-semibold shadow-lg hover:shadow-xl transition-all duration-300 group",style:{background:`linear-gradient(135deg, ${d}, ${d}80)`,color:"white"},children:B?e.jsx(c.div,{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Load More Products"}),e.jsx(re,{className:"w-5 h-5 ml-2 group-hover:translate-y-[-2px] transition-transform duration-300"})]})})}),e.jsx(c.div,{className:"text-center mt-8 text-gray-600 dark:text-gray-400",initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},children:e.jsxs("p",{children:["Showing ",Math.min(N,y.length)," of"," ",y.length," products",w&&e.jsxs("span",{children:[' for "',w,'"']})]})})]})]})};export{Ee as default};
