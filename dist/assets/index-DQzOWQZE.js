const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/StoreHero-B2GVhyph.js","assets/pen-CVSJvuqS.js","assets/ProductGrid-DZtkfKBr.js","assets/ProductCard-CvccPia4.js","assets/StoreFeatures-HTzl1rQh.js","assets/shield-check-DEZc5PQ1.js","assets/StoreHero-DSdYeXn6.js","assets/ProductGrid-CynOJzkq.js","assets/StoreFeatures-C9sEg6gn.js"])))=>i.map(i=>d[i]);
function ZL(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var cV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function e3(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var z1={exports:{}},Wd={},W1={exports:{}},Qt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rN;function uV(){if(rN)return Qt;rN=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function g(F){return F===null||typeof F!="object"?null:(F=p&&F[p]||F["@@iterator"],typeof F=="function"?F:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,C={};function _(F,Z,U){this.props=F,this.context=Z,this.refs=C,this.updater=U||y}_.prototype.isReactComponent={},_.prototype.setState=function(F,Z){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,Z,"setState")},_.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function P(){}P.prototype=_.prototype;function E(F,Z,U){this.props=F,this.context=Z,this.refs=C,this.updater=U||y}var j=E.prototype=new P;j.constructor=E,b(j,_.prototype),j.isPureReactComponent=!0;var R=Array.isArray,I=Object.prototype.hasOwnProperty,M={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function $(F,Z,U){var Ne,De={},je=null,Te=null;if(Z!=null)for(Ne in Z.ref!==void 0&&(Te=Z.ref),Z.key!==void 0&&(je=""+Z.key),Z)I.call(Z,Ne)&&!A.hasOwnProperty(Ne)&&(De[Ne]=Z[Ne]);var Pe=arguments.length-2;if(Pe===1)De.children=U;else if(1<Pe){for(var $e=Array(Pe),He=0;He<Pe;He++)$e[He]=arguments[He+2];De.children=$e}if(F&&F.defaultProps)for(Ne in Pe=F.defaultProps,Pe)De[Ne]===void 0&&(De[Ne]=Pe[Ne]);return{$$typeof:t,type:F,key:je,ref:Te,props:De,_owner:M.current}}function B(F,Z){return{$$typeof:t,type:F.type,key:Z,ref:F.ref,props:F.props,_owner:F._owner}}function G(F){return typeof F=="object"&&F!==null&&F.$$typeof===t}function X(F){var Z={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(U){return Z[U]})}var K=/\/+/g;function W(F,Z){return typeof F=="object"&&F!==null&&F.key!=null?X(""+F.key):Z.toString(36)}function V(F,Z,U,Ne,De){var je=typeof F;(je==="undefined"||je==="boolean")&&(F=null);var Te=!1;if(F===null)Te=!0;else switch(je){case"string":case"number":Te=!0;break;case"object":switch(F.$$typeof){case t:case e:Te=!0}}if(Te)return Te=F,De=De(Te),F=Ne===""?"."+W(Te,0):Ne,R(De)?(U="",F!=null&&(U=F.replace(K,"$&/")+"/"),V(De,Z,U,"",function(He){return He})):De!=null&&(G(De)&&(De=B(De,U+(!De.key||Te&&Te.key===De.key?"":(""+De.key).replace(K,"$&/")+"/")+F)),Z.push(De)),1;if(Te=0,Ne=Ne===""?".":Ne+":",R(F))for(var Pe=0;Pe<F.length;Pe++){je=F[Pe];var $e=Ne+W(je,Pe);Te+=V(je,Z,U,$e,De)}else if($e=g(F),typeof $e=="function")for(F=$e.call(F),Pe=0;!(je=F.next()).done;)je=je.value,$e=Ne+W(je,Pe++),Te+=V(je,Z,U,$e,De);else if(je==="object")throw Z=String(F),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return Te}function Y(F,Z,U){if(F==null)return F;var Ne=[],De=0;return V(F,Ne,"","",function(je){return Z.call(U,je,De++)}),Ne}function ne(F){if(F._status===-1){var Z=F._result;Z=Z(),Z.then(function(U){(F._status===0||F._status===-1)&&(F._status=1,F._result=U)},function(U){(F._status===0||F._status===-1)&&(F._status=2,F._result=U)}),F._status===-1&&(F._status=0,F._result=Z)}if(F._status===1)return F._result.default;throw F._result}var ue={current:null},oe={transition:null},ie={ReactCurrentDispatcher:ue,ReactCurrentBatchConfig:oe,ReactCurrentOwner:M};function L(){throw Error("act(...) is not supported in production builds of React.")}return Qt.Children={map:Y,forEach:function(F,Z,U){Y(F,function(){Z.apply(this,arguments)},U)},count:function(F){var Z=0;return Y(F,function(){Z++}),Z},toArray:function(F){return Y(F,function(Z){return Z})||[]},only:function(F){if(!G(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Qt.Component=_,Qt.Fragment=n,Qt.Profiler=i,Qt.PureComponent=E,Qt.StrictMode=r,Qt.Suspense=u,Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ie,Qt.act=L,Qt.cloneElement=function(F,Z,U){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var Ne=b({},F.props),De=F.key,je=F.ref,Te=F._owner;if(Z!=null){if(Z.ref!==void 0&&(je=Z.ref,Te=M.current),Z.key!==void 0&&(De=""+Z.key),F.type&&F.type.defaultProps)var Pe=F.type.defaultProps;for($e in Z)I.call(Z,$e)&&!A.hasOwnProperty($e)&&(Ne[$e]=Z[$e]===void 0&&Pe!==void 0?Pe[$e]:Z[$e])}var $e=arguments.length-2;if($e===1)Ne.children=U;else if(1<$e){Pe=Array($e);for(var He=0;He<$e;He++)Pe[He]=arguments[He+2];Ne.children=Pe}return{$$typeof:t,type:F.type,key:De,ref:je,props:Ne,_owner:Te}},Qt.createContext=function(F){return F={$$typeof:o,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:s,_context:F},F.Consumer=F},Qt.createElement=$,Qt.createFactory=function(F){var Z=$.bind(null,F);return Z.type=F,Z},Qt.createRef=function(){return{current:null}},Qt.forwardRef=function(F){return{$$typeof:l,render:F}},Qt.isValidElement=G,Qt.lazy=function(F){return{$$typeof:h,_payload:{_status:-1,_result:F},_init:ne}},Qt.memo=function(F,Z){return{$$typeof:d,type:F,compare:Z===void 0?null:Z}},Qt.startTransition=function(F){var Z=oe.transition;oe.transition={};try{F()}finally{oe.transition=Z}},Qt.unstable_act=L,Qt.useCallback=function(F,Z){return ue.current.useCallback(F,Z)},Qt.useContext=function(F){return ue.current.useContext(F)},Qt.useDebugValue=function(){},Qt.useDeferredValue=function(F){return ue.current.useDeferredValue(F)},Qt.useEffect=function(F,Z){return ue.current.useEffect(F,Z)},Qt.useId=function(){return ue.current.useId()},Qt.useImperativeHandle=function(F,Z,U){return ue.current.useImperativeHandle(F,Z,U)},Qt.useInsertionEffect=function(F,Z){return ue.current.useInsertionEffect(F,Z)},Qt.useLayoutEffect=function(F,Z){return ue.current.useLayoutEffect(F,Z)},Qt.useMemo=function(F,Z){return ue.current.useMemo(F,Z)},Qt.useReducer=function(F,Z,U){return ue.current.useReducer(F,Z,U)},Qt.useRef=function(F){return ue.current.useRef(F)},Qt.useState=function(F){return ue.current.useState(F)},Qt.useSyncExternalStore=function(F,Z,U){return ue.current.useSyncExternalStore(F,Z,U)},Qt.useTransition=function(){return ue.current.useTransition()},Qt.version="18.3.1",Qt}var iN;function c_(){return iN||(iN=1,W1.exports=uV()),W1.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sN;function dV(){if(sN)return Wd;sN=1;var t=c_(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(l,u,d){var h,p={},g=null,y=null;d!==void 0&&(g=""+d),u.key!==void 0&&(g=""+u.key),u.ref!==void 0&&(y=u.ref);for(h in u)r.call(u,h)&&!s.hasOwnProperty(h)&&(p[h]=u[h]);if(l&&l.defaultProps)for(h in u=l.defaultProps,u)p[h]===void 0&&(p[h]=u[h]);return{$$typeof:e,type:l,key:g,ref:y,props:p,_owner:i.current}}return Wd.Fragment=n,Wd.jsx=o,Wd.jsxs=o,Wd}var oN;function fV(){return oN||(oN=1,z1.exports=dV()),z1.exports}var a=fV(),x=c_();const re=Gu(x),o0=ZL({__proto__:null,default:re},[x]);var vx={},q1={exports:{}},Ci={},G1={exports:{}},H1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aN;function hV(){return aN||(aN=1,function(t){function e(oe,ie){var L=oe.length;oe.push(ie);e:for(;0<L;){var F=L-1>>>1,Z=oe[F];if(0<i(Z,ie))oe[F]=ie,oe[L]=Z,L=F;else break e}}function n(oe){return oe.length===0?null:oe[0]}function r(oe){if(oe.length===0)return null;var ie=oe[0],L=oe.pop();if(L!==ie){oe[0]=L;e:for(var F=0,Z=oe.length,U=Z>>>1;F<U;){var Ne=2*(F+1)-1,De=oe[Ne],je=Ne+1,Te=oe[je];if(0>i(De,L))je<Z&&0>i(Te,De)?(oe[F]=Te,oe[je]=L,F=je):(oe[F]=De,oe[Ne]=L,F=Ne);else if(je<Z&&0>i(Te,L))oe[F]=Te,oe[je]=L,F=je;else break e}}return ie}function i(oe,ie){var L=oe.sortIndex-ie.sortIndex;return L!==0?L:oe.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],d=[],h=1,p=null,g=3,y=!1,b=!1,C=!1,_=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(oe){for(var ie=n(d);ie!==null;){if(ie.callback===null)r(d);else if(ie.startTime<=oe)r(d),ie.sortIndex=ie.expirationTime,e(u,ie);else break;ie=n(d)}}function R(oe){if(C=!1,j(oe),!b)if(n(u)!==null)b=!0,ne(I);else{var ie=n(d);ie!==null&&ue(R,ie.startTime-oe)}}function I(oe,ie){b=!1,C&&(C=!1,P($),$=-1),y=!0;var L=g;try{for(j(ie),p=n(u);p!==null&&(!(p.expirationTime>ie)||oe&&!X());){var F=p.callback;if(typeof F=="function"){p.callback=null,g=p.priorityLevel;var Z=F(p.expirationTime<=ie);ie=t.unstable_now(),typeof Z=="function"?p.callback=Z:p===n(u)&&r(u),j(ie)}else r(u);p=n(u)}if(p!==null)var U=!0;else{var Ne=n(d);Ne!==null&&ue(R,Ne.startTime-ie),U=!1}return U}finally{p=null,g=L,y=!1}}var M=!1,A=null,$=-1,B=5,G=-1;function X(){return!(t.unstable_now()-G<B)}function K(){if(A!==null){var oe=t.unstable_now();G=oe;var ie=!0;try{ie=A(!0,oe)}finally{ie?W():(M=!1,A=null)}}else M=!1}var W;if(typeof E=="function")W=function(){E(K)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,Y=V.port2;V.port1.onmessage=K,W=function(){Y.postMessage(null)}}else W=function(){_(K,0)};function ne(oe){A=oe,M||(M=!0,W())}function ue(oe,ie){$=_(function(){oe(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(oe){oe.callback=null},t.unstable_continueExecution=function(){b||y||(b=!0,ne(I))},t.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<oe?Math.floor(1e3/oe):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(oe){switch(g){case 1:case 2:case 3:var ie=3;break;default:ie=g}var L=g;g=ie;try{return oe()}finally{g=L}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(oe,ie){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var L=g;g=oe;try{return ie()}finally{g=L}},t.unstable_scheduleCallback=function(oe,ie,L){var F=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?F+L:F):L=F,oe){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=L+Z,oe={id:h++,callback:ie,priorityLevel:oe,startTime:L,expirationTime:Z,sortIndex:-1},L>F?(oe.sortIndex=L,e(d,oe),n(u)===null&&oe===n(d)&&(C?(P($),$=-1):C=!0,ue(R,L-F))):(oe.sortIndex=Z,e(u,oe),b||y||(b=!0,ne(I))),oe},t.unstable_shouldYield=X,t.unstable_wrapCallback=function(oe){var ie=g;return function(){var L=g;g=ie;try{return oe.apply(this,arguments)}finally{g=L}}}}(H1)),H1}var lN;function pV(){return lN||(lN=1,G1.exports=hV()),G1.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cN;function mV(){if(cN)return Ci;cN=1;var t=c_(),e=pV();function n(c){for(var f="https://reactjs.org/docs/error-decoder.html?invariant="+c,m=1;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(c,f){o(c,f),o(c+"Capture",f)}function o(c,f){for(i[c]=f,c=0;c<f.length;c++)r.add(f[c])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function g(c){return u.call(p,c)?!0:u.call(h,c)?!1:d.test(c)?p[c]=!0:(h[c]=!0,!1)}function y(c,f,m,v){if(m!==null&&m.type===0)return!1;switch(typeof f){case"function":case"symbol":return!0;case"boolean":return v?!1:m!==null?!m.acceptsBooleans:(c=c.toLowerCase().slice(0,5),c!=="data-"&&c!=="aria-");default:return!1}}function b(c,f,m,v){if(f===null||typeof f>"u"||y(c,f,m,v))return!0;if(v)return!1;if(m!==null)switch(m.type){case 3:return!f;case 4:return f===!1;case 5:return isNaN(f);case 6:return isNaN(f)||1>f}return!1}function C(c,f,m,v,T,N,O){this.acceptsBooleans=f===2||f===3||f===4,this.attributeName=v,this.attributeNamespace=T,this.mustUseProperty=m,this.propertyName=c,this.type=f,this.sanitizeURL=N,this.removeEmptyString=O}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){_[c]=new C(c,0,!1,c,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var f=c[0];_[f]=new C(f,1,!1,c[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(c){_[c]=new C(c,2,!1,c.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){_[c]=new C(c,2,!1,c,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){_[c]=new C(c,3,!1,c.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(c){_[c]=new C(c,3,!0,c,null,!1,!1)}),["capture","download"].forEach(function(c){_[c]=new C(c,4,!1,c,null,!1,!1)}),["cols","rows","size","span"].forEach(function(c){_[c]=new C(c,6,!1,c,null,!1,!1)}),["rowSpan","start"].forEach(function(c){_[c]=new C(c,5,!1,c.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function E(c){return c[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var f=c.replace(P,E);_[f]=new C(f,1,!1,c,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var f=c.replace(P,E);_[f]=new C(f,1,!1,c,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(c){var f=c.replace(P,E);_[f]=new C(f,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(c){_[c]=new C(c,1,!1,c.toLowerCase(),null,!1,!1)}),_.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(c){_[c]=new C(c,1,!1,c.toLowerCase(),null,!0,!0)});function j(c,f,m,v){var T=_.hasOwnProperty(f)?_[f]:null;(T!==null?T.type!==0:v||!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(b(f,m,T,v)&&(m=null),v||T===null?g(f)&&(m===null?c.removeAttribute(f):c.setAttribute(f,""+m)):T.mustUseProperty?c[T.propertyName]=m===null?T.type===3?!1:"":m:(f=T.attributeName,v=T.attributeNamespace,m===null?c.removeAttribute(f):(T=T.type,m=T===3||T===4&&m===!0?"":""+m,v?c.setAttributeNS(v,f,m):c.setAttribute(f,m))))}var R=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),M=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),X=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),ue=Symbol.for("react.offscreen"),oe=Symbol.iterator;function ie(c){return c===null||typeof c!="object"?null:(c=oe&&c[oe]||c["@@iterator"],typeof c=="function"?c:null)}var L=Object.assign,F;function Z(c){if(F===void 0)try{throw Error()}catch(m){var f=m.stack.trim().match(/\n( *(at )?)/);F=f&&f[1]||""}return`
`+F+c}var U=!1;function Ne(c,f){if(!c||U)return"";U=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(f)if(f=function(){throw Error()},Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(Se){var v=Se}Reflect.construct(c,[],f)}else{try{f.call()}catch(Se){v=Se}c.call(f.prototype)}else{try{throw Error()}catch(Se){v=Se}c()}}catch(Se){if(Se&&v&&typeof Se.stack=="string"){for(var T=Se.stack.split(`
`),N=v.stack.split(`
`),O=T.length-1,Q=N.length-1;1<=O&&0<=Q&&T[O]!==N[Q];)Q--;for(;1<=O&&0<=Q;O--,Q--)if(T[O]!==N[Q]){if(O!==1||Q!==1)do if(O--,Q--,0>Q||T[O]!==N[Q]){var le=`
`+T[O].replace(" at new "," at ");return c.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",c.displayName)),le}while(1<=O&&0<=Q);break}}}finally{U=!1,Error.prepareStackTrace=m}return(c=c?c.displayName||c.name:"")?Z(c):""}function De(c){switch(c.tag){case 5:return Z(c.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return c=Ne(c.type,!1),c;case 11:return c=Ne(c.type.render,!1),c;case 1:return c=Ne(c.type,!0),c;default:return""}}function je(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case A:return"Fragment";case M:return"Portal";case B:return"Profiler";case $:return"StrictMode";case W:return"Suspense";case V:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case X:return(c.displayName||"Context")+".Consumer";case G:return(c._context.displayName||"Context")+".Provider";case K:var f=c.render;return c=c.displayName,c||(c=f.displayName||f.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case Y:return f=c.displayName||null,f!==null?f:je(c.type)||"Memo";case ne:f=c._payload,c=c._init;try{return je(c(f))}catch{}}return null}function Te(c){var f=c.type;switch(c.tag){case 24:return"Cache";case 9:return(f.displayName||"Context")+".Consumer";case 10:return(f._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=f.render,c=c.displayName||c.name||"",f.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return f;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return je(f);case 8:return f===$?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f}return null}function Pe(c){switch(typeof c){case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function $e(c){var f=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function He(c){var f=$e(c)?"checked":"value",m=Object.getOwnPropertyDescriptor(c.constructor.prototype,f),v=""+c[f];if(!c.hasOwnProperty(f)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var T=m.get,N=m.set;return Object.defineProperty(c,f,{configurable:!0,get:function(){return T.call(this)},set:function(O){v=""+O,N.call(this,O)}}),Object.defineProperty(c,f,{enumerable:m.enumerable}),{getValue:function(){return v},setValue:function(O){v=""+O},stopTracking:function(){c._valueTracker=null,delete c[f]}}}}function tt(c){c._valueTracker||(c._valueTracker=He(c))}function nt(c){if(!c)return!1;var f=c._valueTracker;if(!f)return!0;var m=f.getValue(),v="";return c&&(v=$e(c)?c.checked?"true":"false":c.value),c=v,c!==m?(f.setValue(c),!0):!1}function Tt(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}function Bt(c,f){var m=f.checked;return L({},f,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??c._wrapperState.initialChecked})}function vn(c,f){var m=f.defaultValue==null?"":f.defaultValue,v=f.checked!=null?f.checked:f.defaultChecked;m=Pe(f.value!=null?f.value:m),c._wrapperState={initialChecked:v,initialValue:m,controlled:f.type==="checkbox"||f.type==="radio"?f.checked!=null:f.value!=null}}function Ut(c,f){f=f.checked,f!=null&&j(c,"checked",f,!1)}function fn(c,f){Ut(c,f);var m=Pe(f.value),v=f.type;if(m!=null)v==="number"?(m===0&&c.value===""||c.value!=m)&&(c.value=""+m):c.value!==""+m&&(c.value=""+m);else if(v==="submit"||v==="reset"){c.removeAttribute("value");return}f.hasOwnProperty("value")?xn(c,f.type,m):f.hasOwnProperty("defaultValue")&&xn(c,f.type,Pe(f.defaultValue)),f.checked==null&&f.defaultChecked!=null&&(c.defaultChecked=!!f.defaultChecked)}function wn(c,f,m){if(f.hasOwnProperty("value")||f.hasOwnProperty("defaultValue")){var v=f.type;if(!(v!=="submit"&&v!=="reset"||f.value!==void 0&&f.value!==null))return;f=""+c._wrapperState.initialValue,m||f===c.value||(c.value=f),c.defaultValue=f}m=c.name,m!==""&&(c.name=""),c.defaultChecked=!!c._wrapperState.initialChecked,m!==""&&(c.name=m)}function xn(c,f,m){(f!=="number"||Tt(c.ownerDocument)!==c)&&(m==null?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+m&&(c.defaultValue=""+m))}var Zt=Array.isArray;function un(c,f,m,v){if(c=c.options,f){f={};for(var T=0;T<m.length;T++)f["$"+m[T]]=!0;for(m=0;m<c.length;m++)T=f.hasOwnProperty("$"+c[m].value),c[m].selected!==T&&(c[m].selected=T),T&&v&&(c[m].defaultSelected=!0)}else{for(m=""+Pe(m),f=null,T=0;T<c.length;T++){if(c[T].value===m){c[T].selected=!0,v&&(c[T].defaultSelected=!0);return}f!==null||c[T].disabled||(f=c[T])}f!==null&&(f.selected=!0)}}function Hn(c,f){if(f.dangerouslySetInnerHTML!=null)throw Error(n(91));return L({},f,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function Tn(c,f){var m=f.value;if(m==null){if(m=f.children,f=f.defaultValue,m!=null){if(f!=null)throw Error(n(92));if(Zt(m)){if(1<m.length)throw Error(n(93));m=m[0]}f=m}f==null&&(f=""),m=f}c._wrapperState={initialValue:Pe(m)}}function jn(c,f){var m=Pe(f.value),v=Pe(f.defaultValue);m!=null&&(m=""+m,m!==c.value&&(c.value=m),f.defaultValue==null&&c.defaultValue!==m&&(c.defaultValue=m)),v!=null&&(c.defaultValue=""+v)}function xe(c){var f=c.textContent;f===c._wrapperState.initialValue&&f!==""&&f!==null&&(c.value=f)}function fe(c){switch(c){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ve(c,f){return c==null||c==="http://www.w3.org/1999/xhtml"?fe(f):c==="http://www.w3.org/2000/svg"&&f==="foreignObject"?"http://www.w3.org/1999/xhtml":c}var Ie,Ye=function(c){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(f,m,v,T){MSApp.execUnsafeLocalFunction(function(){return c(f,m,v,T)})}:c}(function(c,f){if(c.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in c)c.innerHTML=f;else{for(Ie=Ie||document.createElement("div"),Ie.innerHTML="<svg>"+f.valueOf().toString()+"</svg>",f=Ie.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;f.firstChild;)c.appendChild(f.firstChild)}});function it(c,f){if(f){var m=c.firstChild;if(m&&m===c.lastChild&&m.nodeType===3){m.nodeValue=f;return}}c.textContent=f}var Vt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Sn=["Webkit","ms","Moz","O"];Object.keys(Vt).forEach(function(c){Sn.forEach(function(f){f=f+c.charAt(0).toUpperCase()+c.substring(1),Vt[f]=Vt[c]})});function ye(c,f,m){return f==null||typeof f=="boolean"||f===""?"":m||typeof f!="number"||f===0||Vt.hasOwnProperty(c)&&Vt[c]?(""+f).trim():f+"px"}function Ze(c,f){c=c.style;for(var m in f)if(f.hasOwnProperty(m)){var v=m.indexOf("--")===0,T=ye(m,f[m],v);m==="float"&&(m="cssFloat"),v?c.setProperty(m,T):c[m]=T}}var ce=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ce(c,f){if(f){if(ce[c]&&(f.children!=null||f.dangerouslySetInnerHTML!=null))throw Error(n(137,c));if(f.dangerouslySetInnerHTML!=null){if(f.children!=null)throw Error(n(60));if(typeof f.dangerouslySetInnerHTML!="object"||!("__html"in f.dangerouslySetInnerHTML))throw Error(n(61))}if(f.style!=null&&typeof f.style!="object")throw Error(n(62))}}function Ee(c,f){if(c.indexOf("-")===-1)return typeof f.is=="string";switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _e=null;function Et(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var At=null,bt=null,ht=null;function qt(c){if(c=jd(c)){if(typeof At!="function")throw Error(n(280));var f=c.stateNode;f&&(f=My(f),At(c.stateNode,c.type,f))}}function sr(c){bt?ht?ht.push(c):ht=[c]:bt=c}function ci(){if(bt){var c=bt,f=ht;if(ht=bt=null,qt(c),f)for(c=0;c<f.length;c++)qt(f[c])}}function qr(c,f){return c(f)}function yi(){}var en=!1;function Kn(c,f,m){if(en)return c(f,m);en=!0;try{return qr(c,f,m)}finally{en=!1,(bt!==null||ht!==null)&&(yi(),ci())}}function Tr(c,f){var m=c.stateNode;if(m===null)return null;var v=My(m);if(v===null)return null;m=v[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(c=c.type,v=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!v;break e;default:c=!1}if(c)return null;if(m&&typeof m!="function")throw Error(n(231,f,typeof m));return m}var ae=!1;if(l)try{var H={};Object.defineProperty(H,"passive",{get:function(){ae=!0}}),window.addEventListener("test",H,H),window.removeEventListener("test",H,H)}catch{ae=!1}function J(c,f,m,v,T,N,O,Q,le){var Se=Array.prototype.slice.call(arguments,3);try{f.apply(m,Se)}catch(Me){this.onError(Me)}}var ee=!1,pe=null,be=!1,Re=null,Le={onError:function(c){ee=!0,pe=c}};function et(c,f,m,v,T,N,O,Q,le){ee=!1,pe=null,J.apply(Le,arguments)}function Ge(c,f,m,v,T,N,O,Q,le){if(et.apply(this,arguments),ee){if(ee){var Se=pe;ee=!1,pe=null}else throw Error(n(198));be||(be=!0,Re=Se)}}function Ue(c){var f=c,m=c;if(c.alternate)for(;f.return;)f=f.return;else{c=f;do f=c,(f.flags&4098)!==0&&(m=f.return),c=f.return;while(c)}return f.tag===3?m:null}function lt(c){if(c.tag===13){var f=c.memoizedState;if(f===null&&(c=c.alternate,c!==null&&(f=c.memoizedState)),f!==null)return f.dehydrated}return null}function xt(c){if(Ue(c)!==c)throw Error(n(188))}function Xt(c){var f=c.alternate;if(!f){if(f=Ue(c),f===null)throw Error(n(188));return f!==c?null:c}for(var m=c,v=f;;){var T=m.return;if(T===null)break;var N=T.alternate;if(N===null){if(v=T.return,v!==null){m=v;continue}break}if(T.child===N.child){for(N=T.child;N;){if(N===m)return xt(T),c;if(N===v)return xt(T),f;N=N.sibling}throw Error(n(188))}if(m.return!==v.return)m=T,v=N;else{for(var O=!1,Q=T.child;Q;){if(Q===m){O=!0,m=T,v=N;break}if(Q===v){O=!0,v=T,m=N;break}Q=Q.sibling}if(!O){for(Q=N.child;Q;){if(Q===m){O=!0,m=N,v=T;break}if(Q===v){O=!0,v=N,m=T;break}Q=Q.sibling}if(!O)throw Error(n(189))}}if(m.alternate!==v)throw Error(n(190))}if(m.tag!==3)throw Error(n(188));return m.stateNode.current===m?c:f}function jt(c){return c=Xt(c),c!==null?Lt(c):null}function Lt(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var f=Lt(c);if(f!==null)return f;c=c.sibling}return null}var Ot=e.unstable_scheduleCallback,er=e.unstable_cancelCallback,Nn=e.unstable_shouldYield,bn=e.unstable_requestPaint,zt=e.unstable_now,xr=e.unstable_getCurrentPriorityLevel,Cn=e.unstable_ImmediatePriority,Gr=e.unstable_UserBlockingPriority,Hr=e.unstable_NormalPriority,Kr=e.unstable_LowPriority,yt=e.unstable_IdlePriority,on=null,an=null;function ur(c){if(an&&typeof an.onCommitFiberRoot=="function")try{an.onCommitFiberRoot(on,c,void 0,(c.current.flags&128)===128)}catch{}}var $t=Math.clz32?Math.clz32:qo,Yr=Math.log,Ms=Math.LN2;function qo(c){return c>>>=0,c===0?32:31-(Yr(c)/Ms|0)|0}var gc=64,yc=4194304;function nl(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function rl(c,f){var m=c.pendingLanes;if(m===0)return 0;var v=0,T=c.suspendedLanes,N=c.pingedLanes,O=m&268435455;if(O!==0){var Q=O&~T;Q!==0?v=nl(Q):(N&=O,N!==0&&(v=nl(N)))}else O=m&~T,O!==0?v=nl(O):N!==0&&(v=nl(N));if(v===0)return 0;if(f!==0&&f!==v&&(f&T)===0&&(T=v&-v,N=f&-f,T>=N||T===16&&(N&4194240)!==0))return f;if((v&4)!==0&&(v|=m&16),f=c.entangledLanes,f!==0)for(c=c.entanglements,f&=v;0<f;)m=31-$t(f),T=1<<m,v|=c[m],f&=~T;return v}function wy(c,f){switch(c){case 1:case 2:case 4:return f+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fo(c,f){for(var m=c.suspendedLanes,v=c.pingedLanes,T=c.expirationTimes,N=c.pendingLanes;0<N;){var O=31-$t(N),Q=1<<O,le=T[O];le===-1?((Q&m)===0||(Q&v)!==0)&&(T[O]=wy(Q,f)):le<=f&&(c.expiredLanes|=Q),N&=~Q}}function xc(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function ww(){var c=gc;return gc<<=1,(gc&4194240)===0&&(gc=64),c}function cd(c){for(var f=[],m=0;31>m;m++)f.push(c);return f}function vc(c,f,m){c.pendingLanes|=f,f!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,f=31-$t(f),c[f]=m}function Sw(c,f){var m=c.pendingLanes&~f;c.pendingLanes=f,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=f,c.mutableReadLanes&=f,c.entangledLanes&=f,f=c.entanglements;var v=c.eventTimes;for(c=c.expirationTimes;0<m;){var T=31-$t(m),N=1<<T;f[T]=0,v[T]=-1,c[T]=-1,m&=~N}}function ud(c,f){var m=c.entangledLanes|=f;for(c=c.entanglements;m;){var v=31-$t(m),T=1<<v;T&f|c[v]&f&&(c[v]|=f),m&=~T}}var hn=0;function Sy(c){return c&=-c,1<c?4<c?(c&268435455)!==0?16:536870912:4:1}var dd,Go,fd,by,hd,pd=!1,il=[],Ji=null,Di=null,Ds=null,sl=new Map,ol=new Map,Xi=[],Cy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _y(c,f){switch(c){case"focusin":case"focusout":Ji=null;break;case"dragenter":case"dragleave":Di=null;break;case"mouseover":case"mouseout":Ds=null;break;case"pointerover":case"pointerout":sl.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":ol.delete(f.pointerId)}}function Ho(c,f,m,v,T,N){return c===null||c.nativeEvent!==N?(c={blockedOn:f,domEventName:m,eventSystemFlags:v,nativeEvent:N,targetContainers:[T]},f!==null&&(f=jd(f),f!==null&&Go(f)),c):(c.eventSystemFlags|=v,f=c.targetContainers,T!==null&&f.indexOf(T)===-1&&f.push(T),c)}function md(c,f,m,v,T){switch(f){case"focusin":return Ji=Ho(Ji,c,f,m,v,T),!0;case"dragenter":return Di=Ho(Di,c,f,m,v,T),!0;case"mouseover":return Ds=Ho(Ds,c,f,m,v,T),!0;case"pointerover":var N=T.pointerId;return sl.set(N,Ho(sl.get(N)||null,c,f,m,v,T)),!0;case"gotpointercapture":return N=T.pointerId,ol.set(N,Ho(ol.get(N)||null,c,f,m,v,T)),!0}return!1}function gd(c){var f=ul(c.target);if(f!==null){var m=Ue(f);if(m!==null){if(f=m.tag,f===13){if(f=lt(m),f!==null){c.blockedOn=f,hd(c.priority,function(){fd(m)});return}}else if(f===3&&m.stateNode.current.memoizedState.isDehydrated){c.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}c.blockedOn=null}function al(c){if(c.blockedOn!==null)return!1;for(var f=c.targetContainers;0<f.length;){var m=vd(c.domEventName,c.eventSystemFlags,f[0],c.nativeEvent);if(m===null){m=c.nativeEvent;var v=new m.constructor(m.type,m);_e=v,m.target.dispatchEvent(v),_e=null}else return f=jd(m),f!==null&&Go(f),c.blockedOn=m,!1;f.shift()}return!0}function ll(c,f,m){al(c)&&m.delete(f)}function Ty(){pd=!1,Ji!==null&&al(Ji)&&(Ji=null),Di!==null&&al(Di)&&(Di=null),Ds!==null&&al(Ds)&&(Ds=null),sl.forEach(ll),ol.forEach(ll)}function cl(c,f){c.blockedOn===f&&(c.blockedOn=null,pd||(pd=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ty)))}function Ls(c){function f(T){return cl(T,c)}if(0<il.length){cl(il[0],c);for(var m=1;m<il.length;m++){var v=il[m];v.blockedOn===c&&(v.blockedOn=null)}}for(Ji!==null&&cl(Ji,c),Di!==null&&cl(Di,c),Ds!==null&&cl(Ds,c),sl.forEach(f),ol.forEach(f),m=0;m<Xi.length;m++)v=Xi[m],v.blockedOn===c&&(v.blockedOn=null);for(;0<Xi.length&&(m=Xi[0],m.blockedOn===null);)gd(m),m.blockedOn===null&&Xi.shift()}var Lr=R.ReactCurrentBatchConfig,ho=!0;function wc(c,f,m,v){var T=hn,N=Lr.transition;Lr.transition=null;try{hn=1,xd(c,f,m,v)}finally{hn=T,Lr.transition=N}}function yd(c,f,m,v){var T=hn,N=Lr.transition;Lr.transition=null;try{hn=4,xd(c,f,m,v)}finally{hn=T,Lr.transition=N}}function xd(c,f,m,v){if(ho){var T=vd(c,f,m,v);if(T===null)Iw(c,f,v,Sc,m),_y(c,v);else if(md(T,c,f,m,v))v.stopPropagation();else if(_y(c,v),f&4&&-1<Cy.indexOf(c)){for(;T!==null;){var N=jd(T);if(N!==null&&dd(N),N=vd(c,f,m,v),N===null&&Iw(c,f,v,Sc,m),N===T)break;T=N}T!==null&&v.stopPropagation()}else Iw(c,f,v,null,m)}}var Sc=null;function vd(c,f,m,v){if(Sc=null,c=Et(v),c=ul(c),c!==null)if(f=Ue(c),f===null)c=null;else if(m=f.tag,m===13){if(c=lt(f),c!==null)return c;c=null}else if(m===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;c=null}else f!==c&&(c=null);return Sc=c,null}function bc(c){switch(c){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xr()){case Cn:return 1;case Gr:return 4;case Hr:case Kr:return 16;case yt:return 536870912;default:return 16}default:return 16}}var Os=null,Cc=null,Ln=null;function k(){if(Ln)return Ln;var c,f=Cc,m=f.length,v,T="value"in Os?Os.value:Os.textContent,N=T.length;for(c=0;c<m&&f[c]===T[c];c++);var O=m-c;for(v=1;v<=O&&f[m-v]===T[N-v];v++);return Ln=T.slice(c,1<v?1-v:void 0)}function D(c){var f=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&f===13&&(c=13)):c=f,c===10&&(c=13),32<=c||c===13?c:0}function z(){return!0}function q(){return!1}function se(c){function f(m,v,T,N,O){this._reactName=m,this._targetInst=T,this.type=v,this.nativeEvent=N,this.target=O,this.currentTarget=null;for(var Q in c)c.hasOwnProperty(Q)&&(m=c[Q],this[Q]=m?m(N):N[Q]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?z:q,this.isPropagationStopped=q,this}return L(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=z)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=z)},persist:function(){},isPersistent:z}),f}var he={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},me=se(he),Ae=L({},he,{view:0,detail:0}),dt=se(Ae),Ve,ze,pt,pn=L({},Ae,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bw,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==pt&&(pt&&c.type==="mousemove"?(Ve=c.screenX-pt.screenX,ze=c.screenY-pt.screenY):ze=Ve=0,pt=c),Ve)},movementY:function(c){return"movementY"in c?c.movementY:ze}}),tr=se(pn),wt=L({},pn,{dataTransfer:0}),Gt=se(wt),St=L({},Ae,{relatedTarget:0}),On=se(St),or=L({},he,{animationName:0,elapsedTime:0,pseudoElement:0}),dr=se(or),ps=L({},he,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),Jr=se(ps),$s=L({},he,{data:0}),Fs=se($s),_c={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ey={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},H9={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function K9(c){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(c):(c=H9[c])?!!f[c]:!1}function bw(){return K9}var Y9=L({},Ae,{key:function(c){if(c.key){var f=_c[c.key]||c.key;if(f!=="Unidentified")return f}return c.type==="keypress"?(c=D(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?Ey[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bw,charCode:function(c){return c.type==="keypress"?D(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?D(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),J9=se(Y9),X9=L({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),KE=se(X9),Q9=L({},Ae,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bw}),Z9=se(Q9),e7=L({},he,{propertyName:0,elapsedTime:0,pseudoElement:0}),t7=se(e7),n7=L({},pn,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),r7=se(n7),i7=[9,13,27,32],Cw=l&&"CompositionEvent"in window,wd=null;l&&"documentMode"in document&&(wd=document.documentMode);var s7=l&&"TextEvent"in window&&!wd,YE=l&&(!Cw||wd&&8<wd&&11>=wd),JE=" ",XE=!1;function QE(c,f){switch(c){case"keyup":return i7.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ZE(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var Tc=!1;function o7(c,f){switch(c){case"compositionend":return ZE(f);case"keypress":return f.which!==32?null:(XE=!0,JE);case"textInput":return c=f.data,c===JE&&XE?null:c;default:return null}}function a7(c,f){if(Tc)return c==="compositionend"||!Cw&&QE(c,f)?(c=k(),Ln=Cc=Os=null,Tc=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return YE&&f.locale!=="ko"?null:f.data;default:return null}}var l7={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eP(c){var f=c&&c.nodeName&&c.nodeName.toLowerCase();return f==="input"?!!l7[c.type]:f==="textarea"}function tP(c,f,m,v){sr(v),f=Ay(f,"onChange"),0<f.length&&(m=new me("onChange","change",null,m,v),c.push({event:m,listeners:f}))}var Sd=null,bd=null;function c7(c){vP(c,0)}function Py(c){var f=Rc(c);if(nt(f))return c}function u7(c,f){if(c==="change")return f}var nP=!1;if(l){var _w;if(l){var Tw="oninput"in document;if(!Tw){var rP=document.createElement("div");rP.setAttribute("oninput","return;"),Tw=typeof rP.oninput=="function"}_w=Tw}else _w=!1;nP=_w&&(!document.documentMode||9<document.documentMode)}function iP(){Sd&&(Sd.detachEvent("onpropertychange",sP),bd=Sd=null)}function sP(c){if(c.propertyName==="value"&&Py(bd)){var f=[];tP(f,bd,c,Et(c)),Kn(c7,f)}}function d7(c,f,m){c==="focusin"?(iP(),Sd=f,bd=m,Sd.attachEvent("onpropertychange",sP)):c==="focusout"&&iP()}function f7(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return Py(bd)}function h7(c,f){if(c==="click")return Py(f)}function p7(c,f){if(c==="input"||c==="change")return Py(f)}function m7(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var ms=typeof Object.is=="function"?Object.is:m7;function Cd(c,f){if(ms(c,f))return!0;if(typeof c!="object"||c===null||typeof f!="object"||f===null)return!1;var m=Object.keys(c),v=Object.keys(f);if(m.length!==v.length)return!1;for(v=0;v<m.length;v++){var T=m[v];if(!u.call(f,T)||!ms(c[T],f[T]))return!1}return!0}function oP(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function aP(c,f){var m=oP(c);c=0;for(var v;m;){if(m.nodeType===3){if(v=c+m.textContent.length,c<=f&&v>=f)return{node:m,offset:f-c};c=v}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=oP(m)}}function lP(c,f){return c&&f?c===f?!0:c&&c.nodeType===3?!1:f&&f.nodeType===3?lP(c,f.parentNode):"contains"in c?c.contains(f):c.compareDocumentPosition?!!(c.compareDocumentPosition(f)&16):!1:!1}function cP(){for(var c=window,f=Tt();f instanceof c.HTMLIFrameElement;){try{var m=typeof f.contentWindow.location.href=="string"}catch{m=!1}if(m)c=f.contentWindow;else break;f=Tt(c.document)}return f}function Ew(c){var f=c&&c.nodeName&&c.nodeName.toLowerCase();return f&&(f==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||f==="textarea"||c.contentEditable==="true")}function g7(c){var f=cP(),m=c.focusedElem,v=c.selectionRange;if(f!==m&&m&&m.ownerDocument&&lP(m.ownerDocument.documentElement,m)){if(v!==null&&Ew(m)){if(f=v.start,c=v.end,c===void 0&&(c=f),"selectionStart"in m)m.selectionStart=f,m.selectionEnd=Math.min(c,m.value.length);else if(c=(f=m.ownerDocument||document)&&f.defaultView||window,c.getSelection){c=c.getSelection();var T=m.textContent.length,N=Math.min(v.start,T);v=v.end===void 0?N:Math.min(v.end,T),!c.extend&&N>v&&(T=v,v=N,N=T),T=aP(m,N);var O=aP(m,v);T&&O&&(c.rangeCount!==1||c.anchorNode!==T.node||c.anchorOffset!==T.offset||c.focusNode!==O.node||c.focusOffset!==O.offset)&&(f=f.createRange(),f.setStart(T.node,T.offset),c.removeAllRanges(),N>v?(c.addRange(f),c.extend(O.node,O.offset)):(f.setEnd(O.node,O.offset),c.addRange(f)))}}for(f=[],c=m;c=c.parentNode;)c.nodeType===1&&f.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<f.length;m++)c=f[m],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var y7=l&&"documentMode"in document&&11>=document.documentMode,Ec=null,Pw=null,_d=null,Nw=!1;function uP(c,f,m){var v=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;Nw||Ec==null||Ec!==Tt(v)||(v=Ec,"selectionStart"in v&&Ew(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),_d&&Cd(_d,v)||(_d=v,v=Ay(Pw,"onSelect"),0<v.length&&(f=new me("onSelect","select",null,f,m),c.push({event:f,listeners:v}),f.target=Ec)))}function Ny(c,f){var m={};return m[c.toLowerCase()]=f.toLowerCase(),m["Webkit"+c]="webkit"+f,m["Moz"+c]="moz"+f,m}var Pc={animationend:Ny("Animation","AnimationEnd"),animationiteration:Ny("Animation","AnimationIteration"),animationstart:Ny("Animation","AnimationStart"),transitionend:Ny("Transition","TransitionEnd")},jw={},dP={};l&&(dP=document.createElement("div").style,"AnimationEvent"in window||(delete Pc.animationend.animation,delete Pc.animationiteration.animation,delete Pc.animationstart.animation),"TransitionEvent"in window||delete Pc.transitionend.transition);function jy(c){if(jw[c])return jw[c];if(!Pc[c])return c;var f=Pc[c],m;for(m in f)if(f.hasOwnProperty(m)&&m in dP)return jw[c]=f[m];return c}var fP=jy("animationend"),hP=jy("animationiteration"),pP=jy("animationstart"),mP=jy("transitionend"),gP=new Map,yP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ko(c,f){gP.set(c,f),s(f,[c])}for(var Rw=0;Rw<yP.length;Rw++){var Aw=yP[Rw],x7=Aw.toLowerCase(),v7=Aw[0].toUpperCase()+Aw.slice(1);Ko(x7,"on"+v7)}Ko(fP,"onAnimationEnd"),Ko(hP,"onAnimationIteration"),Ko(pP,"onAnimationStart"),Ko("dblclick","onDoubleClick"),Ko("focusin","onFocus"),Ko("focusout","onBlur"),Ko(mP,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Td="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),w7=new Set("cancel close invalid load scroll toggle".split(" ").concat(Td));function xP(c,f,m){var v=c.type||"unknown-event";c.currentTarget=m,Ge(v,f,void 0,c),c.currentTarget=null}function vP(c,f){f=(f&4)!==0;for(var m=0;m<c.length;m++){var v=c[m],T=v.event;v=v.listeners;e:{var N=void 0;if(f)for(var O=v.length-1;0<=O;O--){var Q=v[O],le=Q.instance,Se=Q.currentTarget;if(Q=Q.listener,le!==N&&T.isPropagationStopped())break e;xP(T,Q,Se),N=le}else for(O=0;O<v.length;O++){if(Q=v[O],le=Q.instance,Se=Q.currentTarget,Q=Q.listener,le!==N&&T.isPropagationStopped())break e;xP(T,Q,Se),N=le}}}if(be)throw c=Re,be=!1,Re=null,c}function $n(c,f){var m=f[Fw];m===void 0&&(m=f[Fw]=new Set);var v=c+"__bubble";m.has(v)||(wP(f,c,2,!1),m.add(v))}function kw(c,f,m){var v=0;f&&(v|=4),wP(m,c,v,f)}var Ry="_reactListening"+Math.random().toString(36).slice(2);function Ed(c){if(!c[Ry]){c[Ry]=!0,r.forEach(function(m){m!=="selectionchange"&&(w7.has(m)||kw(m,!1,c),kw(m,!0,c))});var f=c.nodeType===9?c:c.ownerDocument;f===null||f[Ry]||(f[Ry]=!0,kw("selectionchange",!1,f))}}function wP(c,f,m,v){switch(bc(f)){case 1:var T=wc;break;case 4:T=yd;break;default:T=xd}m=T.bind(null,f,m,c),T=void 0,!ae||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(T=!0),v?T!==void 0?c.addEventListener(f,m,{capture:!0,passive:T}):c.addEventListener(f,m,!0):T!==void 0?c.addEventListener(f,m,{passive:T}):c.addEventListener(f,m,!1)}function Iw(c,f,m,v,T){var N=v;if((f&1)===0&&(f&2)===0&&v!==null)e:for(;;){if(v===null)return;var O=v.tag;if(O===3||O===4){var Q=v.stateNode.containerInfo;if(Q===T||Q.nodeType===8&&Q.parentNode===T)break;if(O===4)for(O=v.return;O!==null;){var le=O.tag;if((le===3||le===4)&&(le=O.stateNode.containerInfo,le===T||le.nodeType===8&&le.parentNode===T))return;O=O.return}for(;Q!==null;){if(O=ul(Q),O===null)return;if(le=O.tag,le===5||le===6){v=N=O;continue e}Q=Q.parentNode}}v=v.return}Kn(function(){var Se=N,Me=Et(m),Oe=[];e:{var ke=gP.get(c);if(ke!==void 0){var rt=me,at=c;switch(c){case"keypress":if(D(m)===0)break e;case"keydown":case"keyup":rt=J9;break;case"focusin":at="focus",rt=On;break;case"focusout":at="blur",rt=On;break;case"beforeblur":case"afterblur":rt=On;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":rt=tr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":rt=Gt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":rt=Z9;break;case fP:case hP:case pP:rt=dr;break;case mP:rt=t7;break;case"scroll":rt=dt;break;case"wheel":rt=r7;break;case"copy":case"cut":case"paste":rt=Jr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":rt=KE}var ut=(f&4)!==0,ar=!ut&&c==="scroll",ge=ut?ke!==null?ke+"Capture":null:ke;ut=[];for(var de=Se,we;de!==null;){we=de;var Be=we.stateNode;if(we.tag===5&&Be!==null&&(we=Be,ge!==null&&(Be=Tr(de,ge),Be!=null&&ut.push(Pd(de,Be,we)))),ar)break;de=de.return}0<ut.length&&(ke=new rt(ke,at,null,m,Me),Oe.push({event:ke,listeners:ut}))}}if((f&7)===0){e:{if(ke=c==="mouseover"||c==="pointerover",rt=c==="mouseout"||c==="pointerout",ke&&m!==_e&&(at=m.relatedTarget||m.fromElement)&&(ul(at)||at[po]))break e;if((rt||ke)&&(ke=Me.window===Me?Me:(ke=Me.ownerDocument)?ke.defaultView||ke.parentWindow:window,rt?(at=m.relatedTarget||m.toElement,rt=Se,at=at?ul(at):null,at!==null&&(ar=Ue(at),at!==ar||at.tag!==5&&at.tag!==6)&&(at=null)):(rt=null,at=Se),rt!==at)){if(ut=tr,Be="onMouseLeave",ge="onMouseEnter",de="mouse",(c==="pointerout"||c==="pointerover")&&(ut=KE,Be="onPointerLeave",ge="onPointerEnter",de="pointer"),ar=rt==null?ke:Rc(rt),we=at==null?ke:Rc(at),ke=new ut(Be,de+"leave",rt,m,Me),ke.target=ar,ke.relatedTarget=we,Be=null,ul(Me)===Se&&(ut=new ut(ge,de+"enter",at,m,Me),ut.target=we,ut.relatedTarget=ar,Be=ut),ar=Be,rt&&at)t:{for(ut=rt,ge=at,de=0,we=ut;we;we=Nc(we))de++;for(we=0,Be=ge;Be;Be=Nc(Be))we++;for(;0<de-we;)ut=Nc(ut),de--;for(;0<we-de;)ge=Nc(ge),we--;for(;de--;){if(ut===ge||ge!==null&&ut===ge.alternate)break t;ut=Nc(ut),ge=Nc(ge)}ut=null}else ut=null;rt!==null&&SP(Oe,ke,rt,ut,!1),at!==null&&ar!==null&&SP(Oe,ar,at,ut,!0)}}e:{if(ke=Se?Rc(Se):window,rt=ke.nodeName&&ke.nodeName.toLowerCase(),rt==="select"||rt==="input"&&ke.type==="file")var mt=u7;else if(eP(ke))if(nP)mt=p7;else{mt=f7;var Ct=d7}else(rt=ke.nodeName)&&rt.toLowerCase()==="input"&&(ke.type==="checkbox"||ke.type==="radio")&&(mt=h7);if(mt&&(mt=mt(c,Se))){tP(Oe,mt,m,Me);break e}Ct&&Ct(c,ke,Se),c==="focusout"&&(Ct=ke._wrapperState)&&Ct.controlled&&ke.type==="number"&&xn(ke,"number",ke.value)}switch(Ct=Se?Rc(Se):window,c){case"focusin":(eP(Ct)||Ct.contentEditable==="true")&&(Ec=Ct,Pw=Se,_d=null);break;case"focusout":_d=Pw=Ec=null;break;case"mousedown":Nw=!0;break;case"contextmenu":case"mouseup":case"dragend":Nw=!1,uP(Oe,m,Me);break;case"selectionchange":if(y7)break;case"keydown":case"keyup":uP(Oe,m,Me)}var _t;if(Cw)e:{switch(c){case"compositionstart":var kt="onCompositionStart";break e;case"compositionend":kt="onCompositionEnd";break e;case"compositionupdate":kt="onCompositionUpdate";break e}kt=void 0}else Tc?QE(c,m)&&(kt="onCompositionEnd"):c==="keydown"&&m.keyCode===229&&(kt="onCompositionStart");kt&&(YE&&m.locale!=="ko"&&(Tc||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&Tc&&(_t=k()):(Os=Me,Cc="value"in Os?Os.value:Os.textContent,Tc=!0)),Ct=Ay(Se,kt),0<Ct.length&&(kt=new Fs(kt,c,null,m,Me),Oe.push({event:kt,listeners:Ct}),_t?kt.data=_t:(_t=ZE(m),_t!==null&&(kt.data=_t)))),(_t=s7?o7(c,m):a7(c,m))&&(Se=Ay(Se,"onBeforeInput"),0<Se.length&&(Me=new Fs("onBeforeInput","beforeinput",null,m,Me),Oe.push({event:Me,listeners:Se}),Me.data=_t))}vP(Oe,f)})}function Pd(c,f,m){return{instance:c,listener:f,currentTarget:m}}function Ay(c,f){for(var m=f+"Capture",v=[];c!==null;){var T=c,N=T.stateNode;T.tag===5&&N!==null&&(T=N,N=Tr(c,m),N!=null&&v.unshift(Pd(c,N,T)),N=Tr(c,f),N!=null&&v.push(Pd(c,N,T))),c=c.return}return v}function Nc(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5);return c||null}function SP(c,f,m,v,T){for(var N=f._reactName,O=[];m!==null&&m!==v;){var Q=m,le=Q.alternate,Se=Q.stateNode;if(le!==null&&le===v)break;Q.tag===5&&Se!==null&&(Q=Se,T?(le=Tr(m,N),le!=null&&O.unshift(Pd(m,le,Q))):T||(le=Tr(m,N),le!=null&&O.push(Pd(m,le,Q)))),m=m.return}O.length!==0&&c.push({event:f,listeners:O})}var S7=/\r\n?/g,b7=/\u0000|\uFFFD/g;function bP(c){return(typeof c=="string"?c:""+c).replace(S7,`
`).replace(b7,"")}function ky(c,f,m){if(f=bP(f),bP(c)!==f&&m)throw Error(n(425))}function Iy(){}var Mw=null,Dw=null;function Lw(c,f){return c==="textarea"||c==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var Ow=typeof setTimeout=="function"?setTimeout:void 0,C7=typeof clearTimeout=="function"?clearTimeout:void 0,CP=typeof Promise=="function"?Promise:void 0,_7=typeof queueMicrotask=="function"?queueMicrotask:typeof CP<"u"?function(c){return CP.resolve(null).then(c).catch(T7)}:Ow;function T7(c){setTimeout(function(){throw c})}function $w(c,f){var m=f,v=0;do{var T=m.nextSibling;if(c.removeChild(m),T&&T.nodeType===8)if(m=T.data,m==="/$"){if(v===0){c.removeChild(T),Ls(f);return}v--}else m!=="$"&&m!=="$?"&&m!=="$!"||v++;m=T}while(m);Ls(f)}function Yo(c){for(;c!=null;c=c.nextSibling){var f=c.nodeType;if(f===1||f===3)break;if(f===8){if(f=c.data,f==="$"||f==="$!"||f==="$?")break;if(f==="/$")return null}}return c}function _P(c){c=c.previousSibling;for(var f=0;c;){if(c.nodeType===8){var m=c.data;if(m==="$"||m==="$!"||m==="$?"){if(f===0)return c;f--}else m==="/$"&&f++}c=c.previousSibling}return null}var jc=Math.random().toString(36).slice(2),Bs="__reactFiber$"+jc,Nd="__reactProps$"+jc,po="__reactContainer$"+jc,Fw="__reactEvents$"+jc,E7="__reactListeners$"+jc,P7="__reactHandles$"+jc;function ul(c){var f=c[Bs];if(f)return f;for(var m=c.parentNode;m;){if(f=m[po]||m[Bs]){if(m=f.alternate,f.child!==null||m!==null&&m.child!==null)for(c=_P(c);c!==null;){if(m=c[Bs])return m;c=_P(c)}return f}c=m,m=c.parentNode}return null}function jd(c){return c=c[Bs]||c[po],!c||c.tag!==5&&c.tag!==6&&c.tag!==13&&c.tag!==3?null:c}function Rc(c){if(c.tag===5||c.tag===6)return c.stateNode;throw Error(n(33))}function My(c){return c[Nd]||null}var Bw=[],Ac=-1;function Jo(c){return{current:c}}function Fn(c){0>Ac||(c.current=Bw[Ac],Bw[Ac]=null,Ac--)}function Rn(c,f){Ac++,Bw[Ac]=c.current,c.current=f}var Xo={},Xr=Jo(Xo),xi=Jo(!1),dl=Xo;function kc(c,f){var m=c.type.contextTypes;if(!m)return Xo;var v=c.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===f)return v.__reactInternalMemoizedMaskedChildContext;var T={},N;for(N in m)T[N]=f[N];return v&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=f,c.__reactInternalMemoizedMaskedChildContext=T),T}function vi(c){return c=c.childContextTypes,c!=null}function Dy(){Fn(xi),Fn(Xr)}function TP(c,f,m){if(Xr.current!==Xo)throw Error(n(168));Rn(Xr,f),Rn(xi,m)}function EP(c,f,m){var v=c.stateNode;if(f=f.childContextTypes,typeof v.getChildContext!="function")return m;v=v.getChildContext();for(var T in v)if(!(T in f))throw Error(n(108,Te(c)||"Unknown",T));return L({},m,v)}function Ly(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||Xo,dl=Xr.current,Rn(Xr,c),Rn(xi,xi.current),!0}function PP(c,f,m){var v=c.stateNode;if(!v)throw Error(n(169));m?(c=EP(c,f,dl),v.__reactInternalMemoizedMergedChildContext=c,Fn(xi),Fn(Xr),Rn(Xr,c)):Fn(xi),Rn(xi,m)}var mo=null,Oy=!1,Uw=!1;function NP(c){mo===null?mo=[c]:mo.push(c)}function N7(c){Oy=!0,NP(c)}function Qo(){if(!Uw&&mo!==null){Uw=!0;var c=0,f=hn;try{var m=mo;for(hn=1;c<m.length;c++){var v=m[c];do v=v(!0);while(v!==null)}mo=null,Oy=!1}catch(T){throw mo!==null&&(mo=mo.slice(c+1)),Ot(Cn,Qo),T}finally{hn=f,Uw=!1}}return null}var Ic=[],Mc=0,$y=null,Fy=0,Qi=[],Zi=0,fl=null,go=1,yo="";function hl(c,f){Ic[Mc++]=Fy,Ic[Mc++]=$y,$y=c,Fy=f}function jP(c,f,m){Qi[Zi++]=go,Qi[Zi++]=yo,Qi[Zi++]=fl,fl=c;var v=go;c=yo;var T=32-$t(v)-1;v&=~(1<<T),m+=1;var N=32-$t(f)+T;if(30<N){var O=T-T%5;N=(v&(1<<O)-1).toString(32),v>>=O,T-=O,go=1<<32-$t(f)+T|m<<T|v,yo=N+c}else go=1<<N|m<<T|v,yo=c}function Vw(c){c.return!==null&&(hl(c,1),jP(c,1,0))}function zw(c){for(;c===$y;)$y=Ic[--Mc],Ic[Mc]=null,Fy=Ic[--Mc],Ic[Mc]=null;for(;c===fl;)fl=Qi[--Zi],Qi[Zi]=null,yo=Qi[--Zi],Qi[Zi]=null,go=Qi[--Zi],Qi[Zi]=null}var Li=null,Oi=null,Un=!1,gs=null;function RP(c,f){var m=rs(5,null,null,0);m.elementType="DELETED",m.stateNode=f,m.return=c,f=c.deletions,f===null?(c.deletions=[m],c.flags|=16):f.push(m)}function AP(c,f){switch(c.tag){case 5:var m=c.type;return f=f.nodeType!==1||m.toLowerCase()!==f.nodeName.toLowerCase()?null:f,f!==null?(c.stateNode=f,Li=c,Oi=Yo(f.firstChild),!0):!1;case 6:return f=c.pendingProps===""||f.nodeType!==3?null:f,f!==null?(c.stateNode=f,Li=c,Oi=null,!0):!1;case 13:return f=f.nodeType!==8?null:f,f!==null?(m=fl!==null?{id:go,overflow:yo}:null,c.memoizedState={dehydrated:f,treeContext:m,retryLane:1073741824},m=rs(18,null,null,0),m.stateNode=f,m.return=c,c.child=m,Li=c,Oi=null,!0):!1;default:return!1}}function Ww(c){return(c.mode&1)!==0&&(c.flags&128)===0}function qw(c){if(Un){var f=Oi;if(f){var m=f;if(!AP(c,f)){if(Ww(c))throw Error(n(418));f=Yo(m.nextSibling);var v=Li;f&&AP(c,f)?RP(v,m):(c.flags=c.flags&-4097|2,Un=!1,Li=c)}}else{if(Ww(c))throw Error(n(418));c.flags=c.flags&-4097|2,Un=!1,Li=c}}}function kP(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;Li=c}function By(c){if(c!==Li)return!1;if(!Un)return kP(c),Un=!0,!1;var f;if((f=c.tag!==3)&&!(f=c.tag!==5)&&(f=c.type,f=f!=="head"&&f!=="body"&&!Lw(c.type,c.memoizedProps)),f&&(f=Oi)){if(Ww(c))throw IP(),Error(n(418));for(;f;)RP(c,f),f=Yo(f.nextSibling)}if(kP(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(n(317));e:{for(c=c.nextSibling,f=0;c;){if(c.nodeType===8){var m=c.data;if(m==="/$"){if(f===0){Oi=Yo(c.nextSibling);break e}f--}else m!=="$"&&m!=="$!"&&m!=="$?"||f++}c=c.nextSibling}Oi=null}}else Oi=Li?Yo(c.stateNode.nextSibling):null;return!0}function IP(){for(var c=Oi;c;)c=Yo(c.nextSibling)}function Dc(){Oi=Li=null,Un=!1}function Gw(c){gs===null?gs=[c]:gs.push(c)}var j7=R.ReactCurrentBatchConfig;function Rd(c,f,m){if(c=m.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(n(309));var v=m.stateNode}if(!v)throw Error(n(147,c));var T=v,N=""+c;return f!==null&&f.ref!==null&&typeof f.ref=="function"&&f.ref._stringRef===N?f.ref:(f=function(O){var Q=T.refs;O===null?delete Q[N]:Q[N]=O},f._stringRef=N,f)}if(typeof c!="string")throw Error(n(284));if(!m._owner)throw Error(n(290,c))}return c}function Uy(c,f){throw c=Object.prototype.toString.call(f),Error(n(31,c==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":c))}function MP(c){var f=c._init;return f(c._payload)}function DP(c){function f(ge,de){if(c){var we=ge.deletions;we===null?(ge.deletions=[de],ge.flags|=16):we.push(de)}}function m(ge,de){if(!c)return null;for(;de!==null;)f(ge,de),de=de.sibling;return null}function v(ge,de){for(ge=new Map;de!==null;)de.key!==null?ge.set(de.key,de):ge.set(de.index,de),de=de.sibling;return ge}function T(ge,de){return ge=oa(ge,de),ge.index=0,ge.sibling=null,ge}function N(ge,de,we){return ge.index=we,c?(we=ge.alternate,we!==null?(we=we.index,we<de?(ge.flags|=2,de):we):(ge.flags|=2,de)):(ge.flags|=1048576,de)}function O(ge){return c&&ge.alternate===null&&(ge.flags|=2),ge}function Q(ge,de,we,Be){return de===null||de.tag!==6?(de=O1(we,ge.mode,Be),de.return=ge,de):(de=T(de,we),de.return=ge,de)}function le(ge,de,we,Be){var mt=we.type;return mt===A?Me(ge,de,we.props.children,Be,we.key):de!==null&&(de.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===ne&&MP(mt)===de.type)?(Be=T(de,we.props),Be.ref=Rd(ge,de,we),Be.return=ge,Be):(Be=dx(we.type,we.key,we.props,null,ge.mode,Be),Be.ref=Rd(ge,de,we),Be.return=ge,Be)}function Se(ge,de,we,Be){return de===null||de.tag!==4||de.stateNode.containerInfo!==we.containerInfo||de.stateNode.implementation!==we.implementation?(de=$1(we,ge.mode,Be),de.return=ge,de):(de=T(de,we.children||[]),de.return=ge,de)}function Me(ge,de,we,Be,mt){return de===null||de.tag!==7?(de=Sl(we,ge.mode,Be,mt),de.return=ge,de):(de=T(de,we),de.return=ge,de)}function Oe(ge,de,we){if(typeof de=="string"&&de!==""||typeof de=="number")return de=O1(""+de,ge.mode,we),de.return=ge,de;if(typeof de=="object"&&de!==null){switch(de.$$typeof){case I:return we=dx(de.type,de.key,de.props,null,ge.mode,we),we.ref=Rd(ge,null,de),we.return=ge,we;case M:return de=$1(de,ge.mode,we),de.return=ge,de;case ne:var Be=de._init;return Oe(ge,Be(de._payload),we)}if(Zt(de)||ie(de))return de=Sl(de,ge.mode,we,null),de.return=ge,de;Uy(ge,de)}return null}function ke(ge,de,we,Be){var mt=de!==null?de.key:null;if(typeof we=="string"&&we!==""||typeof we=="number")return mt!==null?null:Q(ge,de,""+we,Be);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case I:return we.key===mt?le(ge,de,we,Be):null;case M:return we.key===mt?Se(ge,de,we,Be):null;case ne:return mt=we._init,ke(ge,de,mt(we._payload),Be)}if(Zt(we)||ie(we))return mt!==null?null:Me(ge,de,we,Be,null);Uy(ge,we)}return null}function rt(ge,de,we,Be,mt){if(typeof Be=="string"&&Be!==""||typeof Be=="number")return ge=ge.get(we)||null,Q(de,ge,""+Be,mt);if(typeof Be=="object"&&Be!==null){switch(Be.$$typeof){case I:return ge=ge.get(Be.key===null?we:Be.key)||null,le(de,ge,Be,mt);case M:return ge=ge.get(Be.key===null?we:Be.key)||null,Se(de,ge,Be,mt);case ne:var Ct=Be._init;return rt(ge,de,we,Ct(Be._payload),mt)}if(Zt(Be)||ie(Be))return ge=ge.get(we)||null,Me(de,ge,Be,mt,null);Uy(de,Be)}return null}function at(ge,de,we,Be){for(var mt=null,Ct=null,_t=de,kt=de=0,Nr=null;_t!==null&&kt<we.length;kt++){_t.index>kt?(Nr=_t,_t=null):Nr=_t.sibling;var dn=ke(ge,_t,we[kt],Be);if(dn===null){_t===null&&(_t=Nr);break}c&&_t&&dn.alternate===null&&f(ge,_t),de=N(dn,de,kt),Ct===null?mt=dn:Ct.sibling=dn,Ct=dn,_t=Nr}if(kt===we.length)return m(ge,_t),Un&&hl(ge,kt),mt;if(_t===null){for(;kt<we.length;kt++)_t=Oe(ge,we[kt],Be),_t!==null&&(de=N(_t,de,kt),Ct===null?mt=_t:Ct.sibling=_t,Ct=_t);return Un&&hl(ge,kt),mt}for(_t=v(ge,_t);kt<we.length;kt++)Nr=rt(_t,ge,kt,we[kt],Be),Nr!==null&&(c&&Nr.alternate!==null&&_t.delete(Nr.key===null?kt:Nr.key),de=N(Nr,de,kt),Ct===null?mt=Nr:Ct.sibling=Nr,Ct=Nr);return c&&_t.forEach(function(aa){return f(ge,aa)}),Un&&hl(ge,kt),mt}function ut(ge,de,we,Be){var mt=ie(we);if(typeof mt!="function")throw Error(n(150));if(we=mt.call(we),we==null)throw Error(n(151));for(var Ct=mt=null,_t=de,kt=de=0,Nr=null,dn=we.next();_t!==null&&!dn.done;kt++,dn=we.next()){_t.index>kt?(Nr=_t,_t=null):Nr=_t.sibling;var aa=ke(ge,_t,dn.value,Be);if(aa===null){_t===null&&(_t=Nr);break}c&&_t&&aa.alternate===null&&f(ge,_t),de=N(aa,de,kt),Ct===null?mt=aa:Ct.sibling=aa,Ct=aa,_t=Nr}if(dn.done)return m(ge,_t),Un&&hl(ge,kt),mt;if(_t===null){for(;!dn.done;kt++,dn=we.next())dn=Oe(ge,dn.value,Be),dn!==null&&(de=N(dn,de,kt),Ct===null?mt=dn:Ct.sibling=dn,Ct=dn);return Un&&hl(ge,kt),mt}for(_t=v(ge,_t);!dn.done;kt++,dn=we.next())dn=rt(_t,ge,kt,dn.value,Be),dn!==null&&(c&&dn.alternate!==null&&_t.delete(dn.key===null?kt:dn.key),de=N(dn,de,kt),Ct===null?mt=dn:Ct.sibling=dn,Ct=dn);return c&&_t.forEach(function(lV){return f(ge,lV)}),Un&&hl(ge,kt),mt}function ar(ge,de,we,Be){if(typeof we=="object"&&we!==null&&we.type===A&&we.key===null&&(we=we.props.children),typeof we=="object"&&we!==null){switch(we.$$typeof){case I:e:{for(var mt=we.key,Ct=de;Ct!==null;){if(Ct.key===mt){if(mt=we.type,mt===A){if(Ct.tag===7){m(ge,Ct.sibling),de=T(Ct,we.props.children),de.return=ge,ge=de;break e}}else if(Ct.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===ne&&MP(mt)===Ct.type){m(ge,Ct.sibling),de=T(Ct,we.props),de.ref=Rd(ge,Ct,we),de.return=ge,ge=de;break e}m(ge,Ct);break}else f(ge,Ct);Ct=Ct.sibling}we.type===A?(de=Sl(we.props.children,ge.mode,Be,we.key),de.return=ge,ge=de):(Be=dx(we.type,we.key,we.props,null,ge.mode,Be),Be.ref=Rd(ge,de,we),Be.return=ge,ge=Be)}return O(ge);case M:e:{for(Ct=we.key;de!==null;){if(de.key===Ct)if(de.tag===4&&de.stateNode.containerInfo===we.containerInfo&&de.stateNode.implementation===we.implementation){m(ge,de.sibling),de=T(de,we.children||[]),de.return=ge,ge=de;break e}else{m(ge,de);break}else f(ge,de);de=de.sibling}de=$1(we,ge.mode,Be),de.return=ge,ge=de}return O(ge);case ne:return Ct=we._init,ar(ge,de,Ct(we._payload),Be)}if(Zt(we))return at(ge,de,we,Be);if(ie(we))return ut(ge,de,we,Be);Uy(ge,we)}return typeof we=="string"&&we!==""||typeof we=="number"?(we=""+we,de!==null&&de.tag===6?(m(ge,de.sibling),de=T(de,we),de.return=ge,ge=de):(m(ge,de),de=O1(we,ge.mode,Be),de.return=ge,ge=de),O(ge)):m(ge,de)}return ar}var Lc=DP(!0),LP=DP(!1),Vy=Jo(null),zy=null,Oc=null,Hw=null;function Kw(){Hw=Oc=zy=null}function Yw(c){var f=Vy.current;Fn(Vy),c._currentValue=f}function Jw(c,f,m){for(;c!==null;){var v=c.alternate;if((c.childLanes&f)!==f?(c.childLanes|=f,v!==null&&(v.childLanes|=f)):v!==null&&(v.childLanes&f)!==f&&(v.childLanes|=f),c===m)break;c=c.return}}function $c(c,f){zy=c,Hw=Oc=null,c=c.dependencies,c!==null&&c.firstContext!==null&&((c.lanes&f)!==0&&(wi=!0),c.firstContext=null)}function es(c){var f=c._currentValue;if(Hw!==c)if(c={context:c,memoizedValue:f,next:null},Oc===null){if(zy===null)throw Error(n(308));Oc=c,zy.dependencies={lanes:0,firstContext:c}}else Oc=Oc.next=c;return f}var pl=null;function Xw(c){pl===null?pl=[c]:pl.push(c)}function OP(c,f,m,v){var T=f.interleaved;return T===null?(m.next=m,Xw(f)):(m.next=T.next,T.next=m),f.interleaved=m,xo(c,v)}function xo(c,f){c.lanes|=f;var m=c.alternate;for(m!==null&&(m.lanes|=f),m=c,c=c.return;c!==null;)c.childLanes|=f,m=c.alternate,m!==null&&(m.childLanes|=f),m=c,c=c.return;return m.tag===3?m.stateNode:null}var Zo=!1;function Qw(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $P(c,f){c=c.updateQueue,f.updateQueue===c&&(f.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function vo(c,f){return{eventTime:c,lane:f,tag:0,payload:null,callback:null,next:null}}function ea(c,f,m){var v=c.updateQueue;if(v===null)return null;if(v=v.shared,(ln&2)!==0){var T=v.pending;return T===null?f.next=f:(f.next=T.next,T.next=f),v.pending=f,xo(c,m)}return T=v.interleaved,T===null?(f.next=f,Xw(v)):(f.next=T.next,T.next=f),v.interleaved=f,xo(c,m)}function Wy(c,f,m){if(f=f.updateQueue,f!==null&&(f=f.shared,(m&4194240)!==0)){var v=f.lanes;v&=c.pendingLanes,m|=v,f.lanes=m,ud(c,m)}}function FP(c,f){var m=c.updateQueue,v=c.alternate;if(v!==null&&(v=v.updateQueue,m===v)){var T=null,N=null;if(m=m.firstBaseUpdate,m!==null){do{var O={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};N===null?T=N=O:N=N.next=O,m=m.next}while(m!==null);N===null?T=N=f:N=N.next=f}else T=N=f;m={baseState:v.baseState,firstBaseUpdate:T,lastBaseUpdate:N,shared:v.shared,effects:v.effects},c.updateQueue=m;return}c=m.lastBaseUpdate,c===null?m.firstBaseUpdate=f:c.next=f,m.lastBaseUpdate=f}function qy(c,f,m,v){var T=c.updateQueue;Zo=!1;var N=T.firstBaseUpdate,O=T.lastBaseUpdate,Q=T.shared.pending;if(Q!==null){T.shared.pending=null;var le=Q,Se=le.next;le.next=null,O===null?N=Se:O.next=Se,O=le;var Me=c.alternate;Me!==null&&(Me=Me.updateQueue,Q=Me.lastBaseUpdate,Q!==O&&(Q===null?Me.firstBaseUpdate=Se:Q.next=Se,Me.lastBaseUpdate=le))}if(N!==null){var Oe=T.baseState;O=0,Me=Se=le=null,Q=N;do{var ke=Q.lane,rt=Q.eventTime;if((v&ke)===ke){Me!==null&&(Me=Me.next={eventTime:rt,lane:0,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null});e:{var at=c,ut=Q;switch(ke=f,rt=m,ut.tag){case 1:if(at=ut.payload,typeof at=="function"){Oe=at.call(rt,Oe,ke);break e}Oe=at;break e;case 3:at.flags=at.flags&-65537|128;case 0:if(at=ut.payload,ke=typeof at=="function"?at.call(rt,Oe,ke):at,ke==null)break e;Oe=L({},Oe,ke);break e;case 2:Zo=!0}}Q.callback!==null&&Q.lane!==0&&(c.flags|=64,ke=T.effects,ke===null?T.effects=[Q]:ke.push(Q))}else rt={eventTime:rt,lane:ke,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},Me===null?(Se=Me=rt,le=Oe):Me=Me.next=rt,O|=ke;if(Q=Q.next,Q===null){if(Q=T.shared.pending,Q===null)break;ke=Q,Q=ke.next,ke.next=null,T.lastBaseUpdate=ke,T.shared.pending=null}}while(!0);if(Me===null&&(le=Oe),T.baseState=le,T.firstBaseUpdate=Se,T.lastBaseUpdate=Me,f=T.shared.interleaved,f!==null){T=f;do O|=T.lane,T=T.next;while(T!==f)}else N===null&&(T.shared.lanes=0);yl|=O,c.lanes=O,c.memoizedState=Oe}}function BP(c,f,m){if(c=f.effects,f.effects=null,c!==null)for(f=0;f<c.length;f++){var v=c[f],T=v.callback;if(T!==null){if(v.callback=null,v=m,typeof T!="function")throw Error(n(191,T));T.call(v)}}}var Ad={},Us=Jo(Ad),kd=Jo(Ad),Id=Jo(Ad);function ml(c){if(c===Ad)throw Error(n(174));return c}function Zw(c,f){switch(Rn(Id,f),Rn(kd,c),Rn(Us,Ad),c=f.nodeType,c){case 9:case 11:f=(f=f.documentElement)?f.namespaceURI:ve(null,"");break;default:c=c===8?f.parentNode:f,f=c.namespaceURI||null,c=c.tagName,f=ve(f,c)}Fn(Us),Rn(Us,f)}function Fc(){Fn(Us),Fn(kd),Fn(Id)}function UP(c){ml(Id.current);var f=ml(Us.current),m=ve(f,c.type);f!==m&&(Rn(kd,c),Rn(Us,m))}function e1(c){kd.current===c&&(Fn(Us),Fn(kd))}var Yn=Jo(0);function Gy(c){for(var f=c;f!==null;){if(f.tag===13){var m=f.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var t1=[];function n1(){for(var c=0;c<t1.length;c++)t1[c]._workInProgressVersionPrimary=null;t1.length=0}var Hy=R.ReactCurrentDispatcher,r1=R.ReactCurrentBatchConfig,gl=0,Jn=null,vr=null,Er=null,Ky=!1,Md=!1,Dd=0,R7=0;function Qr(){throw Error(n(321))}function i1(c,f){if(f===null)return!1;for(var m=0;m<f.length&&m<c.length;m++)if(!ms(c[m],f[m]))return!1;return!0}function s1(c,f,m,v,T,N){if(gl=N,Jn=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,Hy.current=c===null||c.memoizedState===null?M7:D7,c=m(v,T),Md){N=0;do{if(Md=!1,Dd=0,25<=N)throw Error(n(301));N+=1,Er=vr=null,f.updateQueue=null,Hy.current=L7,c=m(v,T)}while(Md)}if(Hy.current=Xy,f=vr!==null&&vr.next!==null,gl=0,Er=vr=Jn=null,Ky=!1,f)throw Error(n(300));return c}function o1(){var c=Dd!==0;return Dd=0,c}function Vs(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Er===null?Jn.memoizedState=Er=c:Er=Er.next=c,Er}function ts(){if(vr===null){var c=Jn.alternate;c=c!==null?c.memoizedState:null}else c=vr.next;var f=Er===null?Jn.memoizedState:Er.next;if(f!==null)Er=f,vr=c;else{if(c===null)throw Error(n(310));vr=c,c={memoizedState:vr.memoizedState,baseState:vr.baseState,baseQueue:vr.baseQueue,queue:vr.queue,next:null},Er===null?Jn.memoizedState=Er=c:Er=Er.next=c}return Er}function Ld(c,f){return typeof f=="function"?f(c):f}function a1(c){var f=ts(),m=f.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=c;var v=vr,T=v.baseQueue,N=m.pending;if(N!==null){if(T!==null){var O=T.next;T.next=N.next,N.next=O}v.baseQueue=T=N,m.pending=null}if(T!==null){N=T.next,v=v.baseState;var Q=O=null,le=null,Se=N;do{var Me=Se.lane;if((gl&Me)===Me)le!==null&&(le=le.next={lane:0,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null}),v=Se.hasEagerState?Se.eagerState:c(v,Se.action);else{var Oe={lane:Me,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null};le===null?(Q=le=Oe,O=v):le=le.next=Oe,Jn.lanes|=Me,yl|=Me}Se=Se.next}while(Se!==null&&Se!==N);le===null?O=v:le.next=Q,ms(v,f.memoizedState)||(wi=!0),f.memoizedState=v,f.baseState=O,f.baseQueue=le,m.lastRenderedState=v}if(c=m.interleaved,c!==null){T=c;do N=T.lane,Jn.lanes|=N,yl|=N,T=T.next;while(T!==c)}else T===null&&(m.lanes=0);return[f.memoizedState,m.dispatch]}function l1(c){var f=ts(),m=f.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=c;var v=m.dispatch,T=m.pending,N=f.memoizedState;if(T!==null){m.pending=null;var O=T=T.next;do N=c(N,O.action),O=O.next;while(O!==T);ms(N,f.memoizedState)||(wi=!0),f.memoizedState=N,f.baseQueue===null&&(f.baseState=N),m.lastRenderedState=N}return[N,v]}function VP(){}function zP(c,f){var m=Jn,v=ts(),T=f(),N=!ms(v.memoizedState,T);if(N&&(v.memoizedState=T,wi=!0),v=v.queue,c1(GP.bind(null,m,v,c),[c]),v.getSnapshot!==f||N||Er!==null&&Er.memoizedState.tag&1){if(m.flags|=2048,Od(9,qP.bind(null,m,v,T,f),void 0,null),Pr===null)throw Error(n(349));(gl&30)!==0||WP(m,f,T)}return T}function WP(c,f,m){c.flags|=16384,c={getSnapshot:f,value:m},f=Jn.updateQueue,f===null?(f={lastEffect:null,stores:null},Jn.updateQueue=f,f.stores=[c]):(m=f.stores,m===null?f.stores=[c]:m.push(c))}function qP(c,f,m,v){f.value=m,f.getSnapshot=v,HP(f)&&KP(c)}function GP(c,f,m){return m(function(){HP(f)&&KP(c)})}function HP(c){var f=c.getSnapshot;c=c.value;try{var m=f();return!ms(c,m)}catch{return!0}}function KP(c){var f=xo(c,1);f!==null&&ws(f,c,1,-1)}function YP(c){var f=Vs();return typeof c=="function"&&(c=c()),f.memoizedState=f.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ld,lastRenderedState:c},f.queue=c,c=c.dispatch=I7.bind(null,Jn,c),[f.memoizedState,c]}function Od(c,f,m,v){return c={tag:c,create:f,destroy:m,deps:v,next:null},f=Jn.updateQueue,f===null?(f={lastEffect:null,stores:null},Jn.updateQueue=f,f.lastEffect=c.next=c):(m=f.lastEffect,m===null?f.lastEffect=c.next=c:(v=m.next,m.next=c,c.next=v,f.lastEffect=c)),c}function JP(){return ts().memoizedState}function Yy(c,f,m,v){var T=Vs();Jn.flags|=c,T.memoizedState=Od(1|f,m,void 0,v===void 0?null:v)}function Jy(c,f,m,v){var T=ts();v=v===void 0?null:v;var N=void 0;if(vr!==null){var O=vr.memoizedState;if(N=O.destroy,v!==null&&i1(v,O.deps)){T.memoizedState=Od(f,m,N,v);return}}Jn.flags|=c,T.memoizedState=Od(1|f,m,N,v)}function XP(c,f){return Yy(8390656,8,c,f)}function c1(c,f){return Jy(2048,8,c,f)}function QP(c,f){return Jy(4,2,c,f)}function ZP(c,f){return Jy(4,4,c,f)}function e2(c,f){if(typeof f=="function")return c=c(),f(c),function(){f(null)};if(f!=null)return c=c(),f.current=c,function(){f.current=null}}function t2(c,f,m){return m=m!=null?m.concat([c]):null,Jy(4,4,e2.bind(null,f,c),m)}function u1(){}function n2(c,f){var m=ts();f=f===void 0?null:f;var v=m.memoizedState;return v!==null&&f!==null&&i1(f,v[1])?v[0]:(m.memoizedState=[c,f],c)}function r2(c,f){var m=ts();f=f===void 0?null:f;var v=m.memoizedState;return v!==null&&f!==null&&i1(f,v[1])?v[0]:(c=c(),m.memoizedState=[c,f],c)}function i2(c,f,m){return(gl&21)===0?(c.baseState&&(c.baseState=!1,wi=!0),c.memoizedState=m):(ms(m,f)||(m=ww(),Jn.lanes|=m,yl|=m,c.baseState=!0),f)}function A7(c,f){var m=hn;hn=m!==0&&4>m?m:4,c(!0);var v=r1.transition;r1.transition={};try{c(!1),f()}finally{hn=m,r1.transition=v}}function s2(){return ts().memoizedState}function k7(c,f,m){var v=ia(c);if(m={lane:v,action:m,hasEagerState:!1,eagerState:null,next:null},o2(c))a2(f,m);else if(m=OP(c,f,m,v),m!==null){var T=di();ws(m,c,v,T),l2(m,f,v)}}function I7(c,f,m){var v=ia(c),T={lane:v,action:m,hasEagerState:!1,eagerState:null,next:null};if(o2(c))a2(f,T);else{var N=c.alternate;if(c.lanes===0&&(N===null||N.lanes===0)&&(N=f.lastRenderedReducer,N!==null))try{var O=f.lastRenderedState,Q=N(O,m);if(T.hasEagerState=!0,T.eagerState=Q,ms(Q,O)){var le=f.interleaved;le===null?(T.next=T,Xw(f)):(T.next=le.next,le.next=T),f.interleaved=T;return}}catch{}finally{}m=OP(c,f,T,v),m!==null&&(T=di(),ws(m,c,v,T),l2(m,f,v))}}function o2(c){var f=c.alternate;return c===Jn||f!==null&&f===Jn}function a2(c,f){Md=Ky=!0;var m=c.pending;m===null?f.next=f:(f.next=m.next,m.next=f),c.pending=f}function l2(c,f,m){if((m&4194240)!==0){var v=f.lanes;v&=c.pendingLanes,m|=v,f.lanes=m,ud(c,m)}}var Xy={readContext:es,useCallback:Qr,useContext:Qr,useEffect:Qr,useImperativeHandle:Qr,useInsertionEffect:Qr,useLayoutEffect:Qr,useMemo:Qr,useReducer:Qr,useRef:Qr,useState:Qr,useDebugValue:Qr,useDeferredValue:Qr,useTransition:Qr,useMutableSource:Qr,useSyncExternalStore:Qr,useId:Qr,unstable_isNewReconciler:!1},M7={readContext:es,useCallback:function(c,f){return Vs().memoizedState=[c,f===void 0?null:f],c},useContext:es,useEffect:XP,useImperativeHandle:function(c,f,m){return m=m!=null?m.concat([c]):null,Yy(4194308,4,e2.bind(null,f,c),m)},useLayoutEffect:function(c,f){return Yy(4194308,4,c,f)},useInsertionEffect:function(c,f){return Yy(4,2,c,f)},useMemo:function(c,f){var m=Vs();return f=f===void 0?null:f,c=c(),m.memoizedState=[c,f],c},useReducer:function(c,f,m){var v=Vs();return f=m!==void 0?m(f):f,v.memoizedState=v.baseState=f,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:f},v.queue=c,c=c.dispatch=k7.bind(null,Jn,c),[v.memoizedState,c]},useRef:function(c){var f=Vs();return c={current:c},f.memoizedState=c},useState:YP,useDebugValue:u1,useDeferredValue:function(c){return Vs().memoizedState=c},useTransition:function(){var c=YP(!1),f=c[0];return c=A7.bind(null,c[1]),Vs().memoizedState=c,[f,c]},useMutableSource:function(){},useSyncExternalStore:function(c,f,m){var v=Jn,T=Vs();if(Un){if(m===void 0)throw Error(n(407));m=m()}else{if(m=f(),Pr===null)throw Error(n(349));(gl&30)!==0||WP(v,f,m)}T.memoizedState=m;var N={value:m,getSnapshot:f};return T.queue=N,XP(GP.bind(null,v,N,c),[c]),v.flags|=2048,Od(9,qP.bind(null,v,N,m,f),void 0,null),m},useId:function(){var c=Vs(),f=Pr.identifierPrefix;if(Un){var m=yo,v=go;m=(v&~(1<<32-$t(v)-1)).toString(32)+m,f=":"+f+"R"+m,m=Dd++,0<m&&(f+="H"+m.toString(32)),f+=":"}else m=R7++,f=":"+f+"r"+m.toString(32)+":";return c.memoizedState=f},unstable_isNewReconciler:!1},D7={readContext:es,useCallback:n2,useContext:es,useEffect:c1,useImperativeHandle:t2,useInsertionEffect:QP,useLayoutEffect:ZP,useMemo:r2,useReducer:a1,useRef:JP,useState:function(){return a1(Ld)},useDebugValue:u1,useDeferredValue:function(c){var f=ts();return i2(f,vr.memoizedState,c)},useTransition:function(){var c=a1(Ld)[0],f=ts().memoizedState;return[c,f]},useMutableSource:VP,useSyncExternalStore:zP,useId:s2,unstable_isNewReconciler:!1},L7={readContext:es,useCallback:n2,useContext:es,useEffect:c1,useImperativeHandle:t2,useInsertionEffect:QP,useLayoutEffect:ZP,useMemo:r2,useReducer:l1,useRef:JP,useState:function(){return l1(Ld)},useDebugValue:u1,useDeferredValue:function(c){var f=ts();return vr===null?f.memoizedState=c:i2(f,vr.memoizedState,c)},useTransition:function(){var c=l1(Ld)[0],f=ts().memoizedState;return[c,f]},useMutableSource:VP,useSyncExternalStore:zP,useId:s2,unstable_isNewReconciler:!1};function ys(c,f){if(c&&c.defaultProps){f=L({},f),c=c.defaultProps;for(var m in c)f[m]===void 0&&(f[m]=c[m]);return f}return f}function d1(c,f,m,v){f=c.memoizedState,m=m(v,f),m=m==null?f:L({},f,m),c.memoizedState=m,c.lanes===0&&(c.updateQueue.baseState=m)}var Qy={isMounted:function(c){return(c=c._reactInternals)?Ue(c)===c:!1},enqueueSetState:function(c,f,m){c=c._reactInternals;var v=di(),T=ia(c),N=vo(v,T);N.payload=f,m!=null&&(N.callback=m),f=ea(c,N,T),f!==null&&(ws(f,c,T,v),Wy(f,c,T))},enqueueReplaceState:function(c,f,m){c=c._reactInternals;var v=di(),T=ia(c),N=vo(v,T);N.tag=1,N.payload=f,m!=null&&(N.callback=m),f=ea(c,N,T),f!==null&&(ws(f,c,T,v),Wy(f,c,T))},enqueueForceUpdate:function(c,f){c=c._reactInternals;var m=di(),v=ia(c),T=vo(m,v);T.tag=2,f!=null&&(T.callback=f),f=ea(c,T,v),f!==null&&(ws(f,c,v,m),Wy(f,c,v))}};function c2(c,f,m,v,T,N,O){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(v,N,O):f.prototype&&f.prototype.isPureReactComponent?!Cd(m,v)||!Cd(T,N):!0}function u2(c,f,m){var v=!1,T=Xo,N=f.contextType;return typeof N=="object"&&N!==null?N=es(N):(T=vi(f)?dl:Xr.current,v=f.contextTypes,N=(v=v!=null)?kc(c,T):Xo),f=new f(m,N),c.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Qy,c.stateNode=f,f._reactInternals=c,v&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=T,c.__reactInternalMemoizedMaskedChildContext=N),f}function d2(c,f,m,v){c=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(m,v),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(m,v),f.state!==c&&Qy.enqueueReplaceState(f,f.state,null)}function f1(c,f,m,v){var T=c.stateNode;T.props=m,T.state=c.memoizedState,T.refs={},Qw(c);var N=f.contextType;typeof N=="object"&&N!==null?T.context=es(N):(N=vi(f)?dl:Xr.current,T.context=kc(c,N)),T.state=c.memoizedState,N=f.getDerivedStateFromProps,typeof N=="function"&&(d1(c,f,N,m),T.state=c.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(f=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),f!==T.state&&Qy.enqueueReplaceState(T,T.state,null),qy(c,m,T,v),T.state=c.memoizedState),typeof T.componentDidMount=="function"&&(c.flags|=4194308)}function Bc(c,f){try{var m="",v=f;do m+=De(v),v=v.return;while(v);var T=m}catch(N){T=`
Error generating stack: `+N.message+`
`+N.stack}return{value:c,source:f,stack:T,digest:null}}function h1(c,f,m){return{value:c,source:null,stack:m??null,digest:f??null}}function p1(c,f){try{console.error(f.value)}catch(m){setTimeout(function(){throw m})}}var O7=typeof WeakMap=="function"?WeakMap:Map;function f2(c,f,m){m=vo(-1,m),m.tag=3,m.payload={element:null};var v=f.value;return m.callback=function(){sx||(sx=!0,j1=v),p1(c,f)},m}function h2(c,f,m){m=vo(-1,m),m.tag=3;var v=c.type.getDerivedStateFromError;if(typeof v=="function"){var T=f.value;m.payload=function(){return v(T)},m.callback=function(){p1(c,f)}}var N=c.stateNode;return N!==null&&typeof N.componentDidCatch=="function"&&(m.callback=function(){p1(c,f),typeof v!="function"&&(na===null?na=new Set([this]):na.add(this));var O=f.stack;this.componentDidCatch(f.value,{componentStack:O!==null?O:""})}),m}function p2(c,f,m){var v=c.pingCache;if(v===null){v=c.pingCache=new O7;var T=new Set;v.set(f,T)}else T=v.get(f),T===void 0&&(T=new Set,v.set(f,T));T.has(m)||(T.add(m),c=X7.bind(null,c,f,m),f.then(c,c))}function m2(c){do{var f;if((f=c.tag===13)&&(f=c.memoizedState,f=f!==null?f.dehydrated!==null:!0),f)return c;c=c.return}while(c!==null);return null}function g2(c,f,m,v,T){return(c.mode&1)===0?(c===f?c.flags|=65536:(c.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(f=vo(-1,1),f.tag=2,ea(m,f,1))),m.lanes|=1),c):(c.flags|=65536,c.lanes=T,c)}var $7=R.ReactCurrentOwner,wi=!1;function ui(c,f,m,v){f.child=c===null?LP(f,null,m,v):Lc(f,c.child,m,v)}function y2(c,f,m,v,T){m=m.render;var N=f.ref;return $c(f,T),v=s1(c,f,m,v,N,T),m=o1(),c!==null&&!wi?(f.updateQueue=c.updateQueue,f.flags&=-2053,c.lanes&=~T,wo(c,f,T)):(Un&&m&&Vw(f),f.flags|=1,ui(c,f,v,T),f.child)}function x2(c,f,m,v,T){if(c===null){var N=m.type;return typeof N=="function"&&!L1(N)&&N.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(f.tag=15,f.type=N,v2(c,f,N,v,T)):(c=dx(m.type,null,v,f,f.mode,T),c.ref=f.ref,c.return=f,f.child=c)}if(N=c.child,(c.lanes&T)===0){var O=N.memoizedProps;if(m=m.compare,m=m!==null?m:Cd,m(O,v)&&c.ref===f.ref)return wo(c,f,T)}return f.flags|=1,c=oa(N,v),c.ref=f.ref,c.return=f,f.child=c}function v2(c,f,m,v,T){if(c!==null){var N=c.memoizedProps;if(Cd(N,v)&&c.ref===f.ref)if(wi=!1,f.pendingProps=v=N,(c.lanes&T)!==0)(c.flags&131072)!==0&&(wi=!0);else return f.lanes=c.lanes,wo(c,f,T)}return m1(c,f,m,v,T)}function w2(c,f,m){var v=f.pendingProps,T=v.children,N=c!==null?c.memoizedState:null;if(v.mode==="hidden")if((f.mode&1)===0)f.memoizedState={baseLanes:0,cachePool:null,transitions:null},Rn(Vc,$i),$i|=m;else{if((m&1073741824)===0)return c=N!==null?N.baseLanes|m:m,f.lanes=f.childLanes=1073741824,f.memoizedState={baseLanes:c,cachePool:null,transitions:null},f.updateQueue=null,Rn(Vc,$i),$i|=c,null;f.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=N!==null?N.baseLanes:m,Rn(Vc,$i),$i|=v}else N!==null?(v=N.baseLanes|m,f.memoizedState=null):v=m,Rn(Vc,$i),$i|=v;return ui(c,f,T,m),f.child}function S2(c,f){var m=f.ref;(c===null&&m!==null||c!==null&&c.ref!==m)&&(f.flags|=512,f.flags|=2097152)}function m1(c,f,m,v,T){var N=vi(m)?dl:Xr.current;return N=kc(f,N),$c(f,T),m=s1(c,f,m,v,N,T),v=o1(),c!==null&&!wi?(f.updateQueue=c.updateQueue,f.flags&=-2053,c.lanes&=~T,wo(c,f,T)):(Un&&v&&Vw(f),f.flags|=1,ui(c,f,m,T),f.child)}function b2(c,f,m,v,T){if(vi(m)){var N=!0;Ly(f)}else N=!1;if($c(f,T),f.stateNode===null)ex(c,f),u2(f,m,v),f1(f,m,v,T),v=!0;else if(c===null){var O=f.stateNode,Q=f.memoizedProps;O.props=Q;var le=O.context,Se=m.contextType;typeof Se=="object"&&Se!==null?Se=es(Se):(Se=vi(m)?dl:Xr.current,Se=kc(f,Se));var Me=m.getDerivedStateFromProps,Oe=typeof Me=="function"||typeof O.getSnapshotBeforeUpdate=="function";Oe||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(Q!==v||le!==Se)&&d2(f,O,v,Se),Zo=!1;var ke=f.memoizedState;O.state=ke,qy(f,v,O,T),le=f.memoizedState,Q!==v||ke!==le||xi.current||Zo?(typeof Me=="function"&&(d1(f,m,Me,v),le=f.memoizedState),(Q=Zo||c2(f,m,Q,v,ke,le,Se))?(Oe||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(f.flags|=4194308)):(typeof O.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=v,f.memoizedState=le),O.props=v,O.state=le,O.context=Se,v=Q):(typeof O.componentDidMount=="function"&&(f.flags|=4194308),v=!1)}else{O=f.stateNode,$P(c,f),Q=f.memoizedProps,Se=f.type===f.elementType?Q:ys(f.type,Q),O.props=Se,Oe=f.pendingProps,ke=O.context,le=m.contextType,typeof le=="object"&&le!==null?le=es(le):(le=vi(m)?dl:Xr.current,le=kc(f,le));var rt=m.getDerivedStateFromProps;(Me=typeof rt=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(Q!==Oe||ke!==le)&&d2(f,O,v,le),Zo=!1,ke=f.memoizedState,O.state=ke,qy(f,v,O,T);var at=f.memoizedState;Q!==Oe||ke!==at||xi.current||Zo?(typeof rt=="function"&&(d1(f,m,rt,v),at=f.memoizedState),(Se=Zo||c2(f,m,Se,v,ke,at,le)||!1)?(Me||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(v,at,le),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(v,at,le)),typeof O.componentDidUpdate=="function"&&(f.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof O.componentDidUpdate!="function"||Q===c.memoizedProps&&ke===c.memoizedState||(f.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||Q===c.memoizedProps&&ke===c.memoizedState||(f.flags|=1024),f.memoizedProps=v,f.memoizedState=at),O.props=v,O.state=at,O.context=le,v=Se):(typeof O.componentDidUpdate!="function"||Q===c.memoizedProps&&ke===c.memoizedState||(f.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||Q===c.memoizedProps&&ke===c.memoizedState||(f.flags|=1024),v=!1)}return g1(c,f,m,v,N,T)}function g1(c,f,m,v,T,N){S2(c,f);var O=(f.flags&128)!==0;if(!v&&!O)return T&&PP(f,m,!1),wo(c,f,N);v=f.stateNode,$7.current=f;var Q=O&&typeof m.getDerivedStateFromError!="function"?null:v.render();return f.flags|=1,c!==null&&O?(f.child=Lc(f,c.child,null,N),f.child=Lc(f,null,Q,N)):ui(c,f,Q,N),f.memoizedState=v.state,T&&PP(f,m,!0),f.child}function C2(c){var f=c.stateNode;f.pendingContext?TP(c,f.pendingContext,f.pendingContext!==f.context):f.context&&TP(c,f.context,!1),Zw(c,f.containerInfo)}function _2(c,f,m,v,T){return Dc(),Gw(T),f.flags|=256,ui(c,f,m,v),f.child}var y1={dehydrated:null,treeContext:null,retryLane:0};function x1(c){return{baseLanes:c,cachePool:null,transitions:null}}function T2(c,f,m){var v=f.pendingProps,T=Yn.current,N=!1,O=(f.flags&128)!==0,Q;if((Q=O)||(Q=c!==null&&c.memoizedState===null?!1:(T&2)!==0),Q?(N=!0,f.flags&=-129):(c===null||c.memoizedState!==null)&&(T|=1),Rn(Yn,T&1),c===null)return qw(f),c=f.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?((f.mode&1)===0?f.lanes=1:c.data==="$!"?f.lanes=8:f.lanes=1073741824,null):(O=v.children,c=v.fallback,N?(v=f.mode,N=f.child,O={mode:"hidden",children:O},(v&1)===0&&N!==null?(N.childLanes=0,N.pendingProps=O):N=fx(O,v,0,null),c=Sl(c,v,m,null),N.return=f,c.return=f,N.sibling=c,f.child=N,f.child.memoizedState=x1(m),f.memoizedState=y1,c):v1(f,O));if(T=c.memoizedState,T!==null&&(Q=T.dehydrated,Q!==null))return F7(c,f,O,v,Q,T,m);if(N){N=v.fallback,O=f.mode,T=c.child,Q=T.sibling;var le={mode:"hidden",children:v.children};return(O&1)===0&&f.child!==T?(v=f.child,v.childLanes=0,v.pendingProps=le,f.deletions=null):(v=oa(T,le),v.subtreeFlags=T.subtreeFlags&14680064),Q!==null?N=oa(Q,N):(N=Sl(N,O,m,null),N.flags|=2),N.return=f,v.return=f,v.sibling=N,f.child=v,v=N,N=f.child,O=c.child.memoizedState,O=O===null?x1(m):{baseLanes:O.baseLanes|m,cachePool:null,transitions:O.transitions},N.memoizedState=O,N.childLanes=c.childLanes&~m,f.memoizedState=y1,v}return N=c.child,c=N.sibling,v=oa(N,{mode:"visible",children:v.children}),(f.mode&1)===0&&(v.lanes=m),v.return=f,v.sibling=null,c!==null&&(m=f.deletions,m===null?(f.deletions=[c],f.flags|=16):m.push(c)),f.child=v,f.memoizedState=null,v}function v1(c,f){return f=fx({mode:"visible",children:f},c.mode,0,null),f.return=c,c.child=f}function Zy(c,f,m,v){return v!==null&&Gw(v),Lc(f,c.child,null,m),c=v1(f,f.pendingProps.children),c.flags|=2,f.memoizedState=null,c}function F7(c,f,m,v,T,N,O){if(m)return f.flags&256?(f.flags&=-257,v=h1(Error(n(422))),Zy(c,f,O,v)):f.memoizedState!==null?(f.child=c.child,f.flags|=128,null):(N=v.fallback,T=f.mode,v=fx({mode:"visible",children:v.children},T,0,null),N=Sl(N,T,O,null),N.flags|=2,v.return=f,N.return=f,v.sibling=N,f.child=v,(f.mode&1)!==0&&Lc(f,c.child,null,O),f.child.memoizedState=x1(O),f.memoizedState=y1,N);if((f.mode&1)===0)return Zy(c,f,O,null);if(T.data==="$!"){if(v=T.nextSibling&&T.nextSibling.dataset,v)var Q=v.dgst;return v=Q,N=Error(n(419)),v=h1(N,v,void 0),Zy(c,f,O,v)}if(Q=(O&c.childLanes)!==0,wi||Q){if(v=Pr,v!==null){switch(O&-O){case 4:T=2;break;case 16:T=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:T=32;break;case 536870912:T=268435456;break;default:T=0}T=(T&(v.suspendedLanes|O))!==0?0:T,T!==0&&T!==N.retryLane&&(N.retryLane=T,xo(c,T),ws(v,c,T,-1))}return D1(),v=h1(Error(n(421))),Zy(c,f,O,v)}return T.data==="$?"?(f.flags|=128,f.child=c.child,f=Q7.bind(null,c),T._reactRetry=f,null):(c=N.treeContext,Oi=Yo(T.nextSibling),Li=f,Un=!0,gs=null,c!==null&&(Qi[Zi++]=go,Qi[Zi++]=yo,Qi[Zi++]=fl,go=c.id,yo=c.overflow,fl=f),f=v1(f,v.children),f.flags|=4096,f)}function E2(c,f,m){c.lanes|=f;var v=c.alternate;v!==null&&(v.lanes|=f),Jw(c.return,f,m)}function w1(c,f,m,v,T){var N=c.memoizedState;N===null?c.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:v,tail:m,tailMode:T}:(N.isBackwards=f,N.rendering=null,N.renderingStartTime=0,N.last=v,N.tail=m,N.tailMode=T)}function P2(c,f,m){var v=f.pendingProps,T=v.revealOrder,N=v.tail;if(ui(c,f,v.children,m),v=Yn.current,(v&2)!==0)v=v&1|2,f.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=f.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&E2(c,m,f);else if(c.tag===19)E2(c,m,f);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===f)break e;for(;c.sibling===null;){if(c.return===null||c.return===f)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}v&=1}if(Rn(Yn,v),(f.mode&1)===0)f.memoizedState=null;else switch(T){case"forwards":for(m=f.child,T=null;m!==null;)c=m.alternate,c!==null&&Gy(c)===null&&(T=m),m=m.sibling;m=T,m===null?(T=f.child,f.child=null):(T=m.sibling,m.sibling=null),w1(f,!1,T,m,N);break;case"backwards":for(m=null,T=f.child,f.child=null;T!==null;){if(c=T.alternate,c!==null&&Gy(c)===null){f.child=T;break}c=T.sibling,T.sibling=m,m=T,T=c}w1(f,!0,m,null,N);break;case"together":w1(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function ex(c,f){(f.mode&1)===0&&c!==null&&(c.alternate=null,f.alternate=null,f.flags|=2)}function wo(c,f,m){if(c!==null&&(f.dependencies=c.dependencies),yl|=f.lanes,(m&f.childLanes)===0)return null;if(c!==null&&f.child!==c.child)throw Error(n(153));if(f.child!==null){for(c=f.child,m=oa(c,c.pendingProps),f.child=m,m.return=f;c.sibling!==null;)c=c.sibling,m=m.sibling=oa(c,c.pendingProps),m.return=f;m.sibling=null}return f.child}function B7(c,f,m){switch(f.tag){case 3:C2(f),Dc();break;case 5:UP(f);break;case 1:vi(f.type)&&Ly(f);break;case 4:Zw(f,f.stateNode.containerInfo);break;case 10:var v=f.type._context,T=f.memoizedProps.value;Rn(Vy,v._currentValue),v._currentValue=T;break;case 13:if(v=f.memoizedState,v!==null)return v.dehydrated!==null?(Rn(Yn,Yn.current&1),f.flags|=128,null):(m&f.child.childLanes)!==0?T2(c,f,m):(Rn(Yn,Yn.current&1),c=wo(c,f,m),c!==null?c.sibling:null);Rn(Yn,Yn.current&1);break;case 19:if(v=(m&f.childLanes)!==0,(c.flags&128)!==0){if(v)return P2(c,f,m);f.flags|=128}if(T=f.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),Rn(Yn,Yn.current),v)break;return null;case 22:case 23:return f.lanes=0,w2(c,f,m)}return wo(c,f,m)}var N2,S1,j2,R2;N2=function(c,f){for(var m=f.child;m!==null;){if(m.tag===5||m.tag===6)c.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===f)break;for(;m.sibling===null;){if(m.return===null||m.return===f)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},S1=function(){},j2=function(c,f,m,v){var T=c.memoizedProps;if(T!==v){c=f.stateNode,ml(Us.current);var N=null;switch(m){case"input":T=Bt(c,T),v=Bt(c,v),N=[];break;case"select":T=L({},T,{value:void 0}),v=L({},v,{value:void 0}),N=[];break;case"textarea":T=Hn(c,T),v=Hn(c,v),N=[];break;default:typeof T.onClick!="function"&&typeof v.onClick=="function"&&(c.onclick=Iy)}Ce(m,v);var O;m=null;for(Se in T)if(!v.hasOwnProperty(Se)&&T.hasOwnProperty(Se)&&T[Se]!=null)if(Se==="style"){var Q=T[Se];for(O in Q)Q.hasOwnProperty(O)&&(m||(m={}),m[O]="")}else Se!=="dangerouslySetInnerHTML"&&Se!=="children"&&Se!=="suppressContentEditableWarning"&&Se!=="suppressHydrationWarning"&&Se!=="autoFocus"&&(i.hasOwnProperty(Se)?N||(N=[]):(N=N||[]).push(Se,null));for(Se in v){var le=v[Se];if(Q=T!=null?T[Se]:void 0,v.hasOwnProperty(Se)&&le!==Q&&(le!=null||Q!=null))if(Se==="style")if(Q){for(O in Q)!Q.hasOwnProperty(O)||le&&le.hasOwnProperty(O)||(m||(m={}),m[O]="");for(O in le)le.hasOwnProperty(O)&&Q[O]!==le[O]&&(m||(m={}),m[O]=le[O])}else m||(N||(N=[]),N.push(Se,m)),m=le;else Se==="dangerouslySetInnerHTML"?(le=le?le.__html:void 0,Q=Q?Q.__html:void 0,le!=null&&Q!==le&&(N=N||[]).push(Se,le)):Se==="children"?typeof le!="string"&&typeof le!="number"||(N=N||[]).push(Se,""+le):Se!=="suppressContentEditableWarning"&&Se!=="suppressHydrationWarning"&&(i.hasOwnProperty(Se)?(le!=null&&Se==="onScroll"&&$n("scroll",c),N||Q===le||(N=[])):(N=N||[]).push(Se,le))}m&&(N=N||[]).push("style",m);var Se=N;(f.updateQueue=Se)&&(f.flags|=4)}},R2=function(c,f,m,v){m!==v&&(f.flags|=4)};function $d(c,f){if(!Un)switch(c.tailMode){case"hidden":f=c.tail;for(var m=null;f!==null;)f.alternate!==null&&(m=f),f=f.sibling;m===null?c.tail=null:m.sibling=null;break;case"collapsed":m=c.tail;for(var v=null;m!==null;)m.alternate!==null&&(v=m),m=m.sibling;v===null?f||c.tail===null?c.tail=null:c.tail.sibling=null:v.sibling=null}}function Zr(c){var f=c.alternate!==null&&c.alternate.child===c.child,m=0,v=0;if(f)for(var T=c.child;T!==null;)m|=T.lanes|T.childLanes,v|=T.subtreeFlags&14680064,v|=T.flags&14680064,T.return=c,T=T.sibling;else for(T=c.child;T!==null;)m|=T.lanes|T.childLanes,v|=T.subtreeFlags,v|=T.flags,T.return=c,T=T.sibling;return c.subtreeFlags|=v,c.childLanes=m,f}function U7(c,f,m){var v=f.pendingProps;switch(zw(f),f.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zr(f),null;case 1:return vi(f.type)&&Dy(),Zr(f),null;case 3:return v=f.stateNode,Fc(),Fn(xi),Fn(Xr),n1(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(c===null||c.child===null)&&(By(f)?f.flags|=4:c===null||c.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,gs!==null&&(k1(gs),gs=null))),S1(c,f),Zr(f),null;case 5:e1(f);var T=ml(Id.current);if(m=f.type,c!==null&&f.stateNode!=null)j2(c,f,m,v,T),c.ref!==f.ref&&(f.flags|=512,f.flags|=2097152);else{if(!v){if(f.stateNode===null)throw Error(n(166));return Zr(f),null}if(c=ml(Us.current),By(f)){v=f.stateNode,m=f.type;var N=f.memoizedProps;switch(v[Bs]=f,v[Nd]=N,c=(f.mode&1)!==0,m){case"dialog":$n("cancel",v),$n("close",v);break;case"iframe":case"object":case"embed":$n("load",v);break;case"video":case"audio":for(T=0;T<Td.length;T++)$n(Td[T],v);break;case"source":$n("error",v);break;case"img":case"image":case"link":$n("error",v),$n("load",v);break;case"details":$n("toggle",v);break;case"input":vn(v,N),$n("invalid",v);break;case"select":v._wrapperState={wasMultiple:!!N.multiple},$n("invalid",v);break;case"textarea":Tn(v,N),$n("invalid",v)}Ce(m,N),T=null;for(var O in N)if(N.hasOwnProperty(O)){var Q=N[O];O==="children"?typeof Q=="string"?v.textContent!==Q&&(N.suppressHydrationWarning!==!0&&ky(v.textContent,Q,c),T=["children",Q]):typeof Q=="number"&&v.textContent!==""+Q&&(N.suppressHydrationWarning!==!0&&ky(v.textContent,Q,c),T=["children",""+Q]):i.hasOwnProperty(O)&&Q!=null&&O==="onScroll"&&$n("scroll",v)}switch(m){case"input":tt(v),wn(v,N,!0);break;case"textarea":tt(v),xe(v);break;case"select":case"option":break;default:typeof N.onClick=="function"&&(v.onclick=Iy)}v=T,f.updateQueue=v,v!==null&&(f.flags|=4)}else{O=T.nodeType===9?T:T.ownerDocument,c==="http://www.w3.org/1999/xhtml"&&(c=fe(m)),c==="http://www.w3.org/1999/xhtml"?m==="script"?(c=O.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild)):typeof v.is=="string"?c=O.createElement(m,{is:v.is}):(c=O.createElement(m),m==="select"&&(O=c,v.multiple?O.multiple=!0:v.size&&(O.size=v.size))):c=O.createElementNS(c,m),c[Bs]=f,c[Nd]=v,N2(c,f,!1,!1),f.stateNode=c;e:{switch(O=Ee(m,v),m){case"dialog":$n("cancel",c),$n("close",c),T=v;break;case"iframe":case"object":case"embed":$n("load",c),T=v;break;case"video":case"audio":for(T=0;T<Td.length;T++)$n(Td[T],c);T=v;break;case"source":$n("error",c),T=v;break;case"img":case"image":case"link":$n("error",c),$n("load",c),T=v;break;case"details":$n("toggle",c),T=v;break;case"input":vn(c,v),T=Bt(c,v),$n("invalid",c);break;case"option":T=v;break;case"select":c._wrapperState={wasMultiple:!!v.multiple},T=L({},v,{value:void 0}),$n("invalid",c);break;case"textarea":Tn(c,v),T=Hn(c,v),$n("invalid",c);break;default:T=v}Ce(m,T),Q=T;for(N in Q)if(Q.hasOwnProperty(N)){var le=Q[N];N==="style"?Ze(c,le):N==="dangerouslySetInnerHTML"?(le=le?le.__html:void 0,le!=null&&Ye(c,le)):N==="children"?typeof le=="string"?(m!=="textarea"||le!=="")&&it(c,le):typeof le=="number"&&it(c,""+le):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(i.hasOwnProperty(N)?le!=null&&N==="onScroll"&&$n("scroll",c):le!=null&&j(c,N,le,O))}switch(m){case"input":tt(c),wn(c,v,!1);break;case"textarea":tt(c),xe(c);break;case"option":v.value!=null&&c.setAttribute("value",""+Pe(v.value));break;case"select":c.multiple=!!v.multiple,N=v.value,N!=null?un(c,!!v.multiple,N,!1):v.defaultValue!=null&&un(c,!!v.multiple,v.defaultValue,!0);break;default:typeof T.onClick=="function"&&(c.onclick=Iy)}switch(m){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}}v&&(f.flags|=4)}f.ref!==null&&(f.flags|=512,f.flags|=2097152)}return Zr(f),null;case 6:if(c&&f.stateNode!=null)R2(c,f,c.memoizedProps,v);else{if(typeof v!="string"&&f.stateNode===null)throw Error(n(166));if(m=ml(Id.current),ml(Us.current),By(f)){if(v=f.stateNode,m=f.memoizedProps,v[Bs]=f,(N=v.nodeValue!==m)&&(c=Li,c!==null))switch(c.tag){case 3:ky(v.nodeValue,m,(c.mode&1)!==0);break;case 5:c.memoizedProps.suppressHydrationWarning!==!0&&ky(v.nodeValue,m,(c.mode&1)!==0)}N&&(f.flags|=4)}else v=(m.nodeType===9?m:m.ownerDocument).createTextNode(v),v[Bs]=f,f.stateNode=v}return Zr(f),null;case 13:if(Fn(Yn),v=f.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(Un&&Oi!==null&&(f.mode&1)!==0&&(f.flags&128)===0)IP(),Dc(),f.flags|=98560,N=!1;else if(N=By(f),v!==null&&v.dehydrated!==null){if(c===null){if(!N)throw Error(n(318));if(N=f.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(n(317));N[Bs]=f}else Dc(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;Zr(f),N=!1}else gs!==null&&(k1(gs),gs=null),N=!0;if(!N)return f.flags&65536?f:null}return(f.flags&128)!==0?(f.lanes=m,f):(v=v!==null,v!==(c!==null&&c.memoizedState!==null)&&v&&(f.child.flags|=8192,(f.mode&1)!==0&&(c===null||(Yn.current&1)!==0?wr===0&&(wr=3):D1())),f.updateQueue!==null&&(f.flags|=4),Zr(f),null);case 4:return Fc(),S1(c,f),c===null&&Ed(f.stateNode.containerInfo),Zr(f),null;case 10:return Yw(f.type._context),Zr(f),null;case 17:return vi(f.type)&&Dy(),Zr(f),null;case 19:if(Fn(Yn),N=f.memoizedState,N===null)return Zr(f),null;if(v=(f.flags&128)!==0,O=N.rendering,O===null)if(v)$d(N,!1);else{if(wr!==0||c!==null&&(c.flags&128)!==0)for(c=f.child;c!==null;){if(O=Gy(c),O!==null){for(f.flags|=128,$d(N,!1),v=O.updateQueue,v!==null&&(f.updateQueue=v,f.flags|=4),f.subtreeFlags=0,v=m,m=f.child;m!==null;)N=m,c=v,N.flags&=14680066,O=N.alternate,O===null?(N.childLanes=0,N.lanes=c,N.child=null,N.subtreeFlags=0,N.memoizedProps=null,N.memoizedState=null,N.updateQueue=null,N.dependencies=null,N.stateNode=null):(N.childLanes=O.childLanes,N.lanes=O.lanes,N.child=O.child,N.subtreeFlags=0,N.deletions=null,N.memoizedProps=O.memoizedProps,N.memoizedState=O.memoizedState,N.updateQueue=O.updateQueue,N.type=O.type,c=O.dependencies,N.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),m=m.sibling;return Rn(Yn,Yn.current&1|2),f.child}c=c.sibling}N.tail!==null&&zt()>zc&&(f.flags|=128,v=!0,$d(N,!1),f.lanes=4194304)}else{if(!v)if(c=Gy(O),c!==null){if(f.flags|=128,v=!0,m=c.updateQueue,m!==null&&(f.updateQueue=m,f.flags|=4),$d(N,!0),N.tail===null&&N.tailMode==="hidden"&&!O.alternate&&!Un)return Zr(f),null}else 2*zt()-N.renderingStartTime>zc&&m!==1073741824&&(f.flags|=128,v=!0,$d(N,!1),f.lanes=4194304);N.isBackwards?(O.sibling=f.child,f.child=O):(m=N.last,m!==null?m.sibling=O:f.child=O,N.last=O)}return N.tail!==null?(f=N.tail,N.rendering=f,N.tail=f.sibling,N.renderingStartTime=zt(),f.sibling=null,m=Yn.current,Rn(Yn,v?m&1|2:m&1),f):(Zr(f),null);case 22:case 23:return M1(),v=f.memoizedState!==null,c!==null&&c.memoizedState!==null!==v&&(f.flags|=8192),v&&(f.mode&1)!==0?($i&1073741824)!==0&&(Zr(f),f.subtreeFlags&6&&(f.flags|=8192)):Zr(f),null;case 24:return null;case 25:return null}throw Error(n(156,f.tag))}function V7(c,f){switch(zw(f),f.tag){case 1:return vi(f.type)&&Dy(),c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 3:return Fc(),Fn(xi),Fn(Xr),n1(),c=f.flags,(c&65536)!==0&&(c&128)===0?(f.flags=c&-65537|128,f):null;case 5:return e1(f),null;case 13:if(Fn(Yn),c=f.memoizedState,c!==null&&c.dehydrated!==null){if(f.alternate===null)throw Error(n(340));Dc()}return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 19:return Fn(Yn),null;case 4:return Fc(),null;case 10:return Yw(f.type._context),null;case 22:case 23:return M1(),null;case 24:return null;default:return null}}var tx=!1,ei=!1,z7=typeof WeakSet=="function"?WeakSet:Set,st=null;function Uc(c,f){var m=c.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(v){nr(c,f,v)}else m.current=null}function b1(c,f,m){try{m()}catch(v){nr(c,f,v)}}var A2=!1;function W7(c,f){if(Mw=ho,c=cP(),Ew(c)){if("selectionStart"in c)var m={start:c.selectionStart,end:c.selectionEnd};else e:{m=(m=c.ownerDocument)&&m.defaultView||window;var v=m.getSelection&&m.getSelection();if(v&&v.rangeCount!==0){m=v.anchorNode;var T=v.anchorOffset,N=v.focusNode;v=v.focusOffset;try{m.nodeType,N.nodeType}catch{m=null;break e}var O=0,Q=-1,le=-1,Se=0,Me=0,Oe=c,ke=null;t:for(;;){for(var rt;Oe!==m||T!==0&&Oe.nodeType!==3||(Q=O+T),Oe!==N||v!==0&&Oe.nodeType!==3||(le=O+v),Oe.nodeType===3&&(O+=Oe.nodeValue.length),(rt=Oe.firstChild)!==null;)ke=Oe,Oe=rt;for(;;){if(Oe===c)break t;if(ke===m&&++Se===T&&(Q=O),ke===N&&++Me===v&&(le=O),(rt=Oe.nextSibling)!==null)break;Oe=ke,ke=Oe.parentNode}Oe=rt}m=Q===-1||le===-1?null:{start:Q,end:le}}else m=null}m=m||{start:0,end:0}}else m=null;for(Dw={focusedElem:c,selectionRange:m},ho=!1,st=f;st!==null;)if(f=st,c=f.child,(f.subtreeFlags&1028)!==0&&c!==null)c.return=f,st=c;else for(;st!==null;){f=st;try{var at=f.alternate;if((f.flags&1024)!==0)switch(f.tag){case 0:case 11:case 15:break;case 1:if(at!==null){var ut=at.memoizedProps,ar=at.memoizedState,ge=f.stateNode,de=ge.getSnapshotBeforeUpdate(f.elementType===f.type?ut:ys(f.type,ut),ar);ge.__reactInternalSnapshotBeforeUpdate=de}break;case 3:var we=f.stateNode.containerInfo;we.nodeType===1?we.textContent="":we.nodeType===9&&we.documentElement&&we.removeChild(we.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Be){nr(f,f.return,Be)}if(c=f.sibling,c!==null){c.return=f.return,st=c;break}st=f.return}return at=A2,A2=!1,at}function Fd(c,f,m){var v=f.updateQueue;if(v=v!==null?v.lastEffect:null,v!==null){var T=v=v.next;do{if((T.tag&c)===c){var N=T.destroy;T.destroy=void 0,N!==void 0&&b1(f,m,N)}T=T.next}while(T!==v)}}function nx(c,f){if(f=f.updateQueue,f=f!==null?f.lastEffect:null,f!==null){var m=f=f.next;do{if((m.tag&c)===c){var v=m.create;m.destroy=v()}m=m.next}while(m!==f)}}function C1(c){var f=c.ref;if(f!==null){var m=c.stateNode;switch(c.tag){case 5:c=m;break;default:c=m}typeof f=="function"?f(c):f.current=c}}function k2(c){var f=c.alternate;f!==null&&(c.alternate=null,k2(f)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(f=c.stateNode,f!==null&&(delete f[Bs],delete f[Nd],delete f[Fw],delete f[E7],delete f[P7])),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function I2(c){return c.tag===5||c.tag===3||c.tag===4}function M2(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||I2(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function _1(c,f,m){var v=c.tag;if(v===5||v===6)c=c.stateNode,f?m.nodeType===8?m.parentNode.insertBefore(c,f):m.insertBefore(c,f):(m.nodeType===8?(f=m.parentNode,f.insertBefore(c,m)):(f=m,f.appendChild(c)),m=m._reactRootContainer,m!=null||f.onclick!==null||(f.onclick=Iy));else if(v!==4&&(c=c.child,c!==null))for(_1(c,f,m),c=c.sibling;c!==null;)_1(c,f,m),c=c.sibling}function T1(c,f,m){var v=c.tag;if(v===5||v===6)c=c.stateNode,f?m.insertBefore(c,f):m.appendChild(c);else if(v!==4&&(c=c.child,c!==null))for(T1(c,f,m),c=c.sibling;c!==null;)T1(c,f,m),c=c.sibling}var Or=null,xs=!1;function ta(c,f,m){for(m=m.child;m!==null;)D2(c,f,m),m=m.sibling}function D2(c,f,m){if(an&&typeof an.onCommitFiberUnmount=="function")try{an.onCommitFiberUnmount(on,m)}catch{}switch(m.tag){case 5:ei||Uc(m,f);case 6:var v=Or,T=xs;Or=null,ta(c,f,m),Or=v,xs=T,Or!==null&&(xs?(c=Or,m=m.stateNode,c.nodeType===8?c.parentNode.removeChild(m):c.removeChild(m)):Or.removeChild(m.stateNode));break;case 18:Or!==null&&(xs?(c=Or,m=m.stateNode,c.nodeType===8?$w(c.parentNode,m):c.nodeType===1&&$w(c,m),Ls(c)):$w(Or,m.stateNode));break;case 4:v=Or,T=xs,Or=m.stateNode.containerInfo,xs=!0,ta(c,f,m),Or=v,xs=T;break;case 0:case 11:case 14:case 15:if(!ei&&(v=m.updateQueue,v!==null&&(v=v.lastEffect,v!==null))){T=v=v.next;do{var N=T,O=N.destroy;N=N.tag,O!==void 0&&((N&2)!==0||(N&4)!==0)&&b1(m,f,O),T=T.next}while(T!==v)}ta(c,f,m);break;case 1:if(!ei&&(Uc(m,f),v=m.stateNode,typeof v.componentWillUnmount=="function"))try{v.props=m.memoizedProps,v.state=m.memoizedState,v.componentWillUnmount()}catch(Q){nr(m,f,Q)}ta(c,f,m);break;case 21:ta(c,f,m);break;case 22:m.mode&1?(ei=(v=ei)||m.memoizedState!==null,ta(c,f,m),ei=v):ta(c,f,m);break;default:ta(c,f,m)}}function L2(c){var f=c.updateQueue;if(f!==null){c.updateQueue=null;var m=c.stateNode;m===null&&(m=c.stateNode=new z7),f.forEach(function(v){var T=Z7.bind(null,c,v);m.has(v)||(m.add(v),v.then(T,T))})}}function vs(c,f){var m=f.deletions;if(m!==null)for(var v=0;v<m.length;v++){var T=m[v];try{var N=c,O=f,Q=O;e:for(;Q!==null;){switch(Q.tag){case 5:Or=Q.stateNode,xs=!1;break e;case 3:Or=Q.stateNode.containerInfo,xs=!0;break e;case 4:Or=Q.stateNode.containerInfo,xs=!0;break e}Q=Q.return}if(Or===null)throw Error(n(160));D2(N,O,T),Or=null,xs=!1;var le=T.alternate;le!==null&&(le.return=null),T.return=null}catch(Se){nr(T,f,Se)}}if(f.subtreeFlags&12854)for(f=f.child;f!==null;)O2(f,c),f=f.sibling}function O2(c,f){var m=c.alternate,v=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:if(vs(f,c),zs(c),v&4){try{Fd(3,c,c.return),nx(3,c)}catch(ut){nr(c,c.return,ut)}try{Fd(5,c,c.return)}catch(ut){nr(c,c.return,ut)}}break;case 1:vs(f,c),zs(c),v&512&&m!==null&&Uc(m,m.return);break;case 5:if(vs(f,c),zs(c),v&512&&m!==null&&Uc(m,m.return),c.flags&32){var T=c.stateNode;try{it(T,"")}catch(ut){nr(c,c.return,ut)}}if(v&4&&(T=c.stateNode,T!=null)){var N=c.memoizedProps,O=m!==null?m.memoizedProps:N,Q=c.type,le=c.updateQueue;if(c.updateQueue=null,le!==null)try{Q==="input"&&N.type==="radio"&&N.name!=null&&Ut(T,N),Ee(Q,O);var Se=Ee(Q,N);for(O=0;O<le.length;O+=2){var Me=le[O],Oe=le[O+1];Me==="style"?Ze(T,Oe):Me==="dangerouslySetInnerHTML"?Ye(T,Oe):Me==="children"?it(T,Oe):j(T,Me,Oe,Se)}switch(Q){case"input":fn(T,N);break;case"textarea":jn(T,N);break;case"select":var ke=T._wrapperState.wasMultiple;T._wrapperState.wasMultiple=!!N.multiple;var rt=N.value;rt!=null?un(T,!!N.multiple,rt,!1):ke!==!!N.multiple&&(N.defaultValue!=null?un(T,!!N.multiple,N.defaultValue,!0):un(T,!!N.multiple,N.multiple?[]:"",!1))}T[Nd]=N}catch(ut){nr(c,c.return,ut)}}break;case 6:if(vs(f,c),zs(c),v&4){if(c.stateNode===null)throw Error(n(162));T=c.stateNode,N=c.memoizedProps;try{T.nodeValue=N}catch(ut){nr(c,c.return,ut)}}break;case 3:if(vs(f,c),zs(c),v&4&&m!==null&&m.memoizedState.isDehydrated)try{Ls(f.containerInfo)}catch(ut){nr(c,c.return,ut)}break;case 4:vs(f,c),zs(c);break;case 13:vs(f,c),zs(c),T=c.child,T.flags&8192&&(N=T.memoizedState!==null,T.stateNode.isHidden=N,!N||T.alternate!==null&&T.alternate.memoizedState!==null||(N1=zt())),v&4&&L2(c);break;case 22:if(Me=m!==null&&m.memoizedState!==null,c.mode&1?(ei=(Se=ei)||Me,vs(f,c),ei=Se):vs(f,c),zs(c),v&8192){if(Se=c.memoizedState!==null,(c.stateNode.isHidden=Se)&&!Me&&(c.mode&1)!==0)for(st=c,Me=c.child;Me!==null;){for(Oe=st=Me;st!==null;){switch(ke=st,rt=ke.child,ke.tag){case 0:case 11:case 14:case 15:Fd(4,ke,ke.return);break;case 1:Uc(ke,ke.return);var at=ke.stateNode;if(typeof at.componentWillUnmount=="function"){v=ke,m=ke.return;try{f=v,at.props=f.memoizedProps,at.state=f.memoizedState,at.componentWillUnmount()}catch(ut){nr(v,m,ut)}}break;case 5:Uc(ke,ke.return);break;case 22:if(ke.memoizedState!==null){B2(Oe);continue}}rt!==null?(rt.return=ke,st=rt):B2(Oe)}Me=Me.sibling}e:for(Me=null,Oe=c;;){if(Oe.tag===5){if(Me===null){Me=Oe;try{T=Oe.stateNode,Se?(N=T.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none"):(Q=Oe.stateNode,le=Oe.memoizedProps.style,O=le!=null&&le.hasOwnProperty("display")?le.display:null,Q.style.display=ye("display",O))}catch(ut){nr(c,c.return,ut)}}}else if(Oe.tag===6){if(Me===null)try{Oe.stateNode.nodeValue=Se?"":Oe.memoizedProps}catch(ut){nr(c,c.return,ut)}}else if((Oe.tag!==22&&Oe.tag!==23||Oe.memoizedState===null||Oe===c)&&Oe.child!==null){Oe.child.return=Oe,Oe=Oe.child;continue}if(Oe===c)break e;for(;Oe.sibling===null;){if(Oe.return===null||Oe.return===c)break e;Me===Oe&&(Me=null),Oe=Oe.return}Me===Oe&&(Me=null),Oe.sibling.return=Oe.return,Oe=Oe.sibling}}break;case 19:vs(f,c),zs(c),v&4&&L2(c);break;case 21:break;default:vs(f,c),zs(c)}}function zs(c){var f=c.flags;if(f&2){try{e:{for(var m=c.return;m!==null;){if(I2(m)){var v=m;break e}m=m.return}throw Error(n(160))}switch(v.tag){case 5:var T=v.stateNode;v.flags&32&&(it(T,""),v.flags&=-33);var N=M2(c);T1(c,N,T);break;case 3:case 4:var O=v.stateNode.containerInfo,Q=M2(c);_1(c,Q,O);break;default:throw Error(n(161))}}catch(le){nr(c,c.return,le)}c.flags&=-3}f&4096&&(c.flags&=-4097)}function q7(c,f,m){st=c,$2(c)}function $2(c,f,m){for(var v=(c.mode&1)!==0;st!==null;){var T=st,N=T.child;if(T.tag===22&&v){var O=T.memoizedState!==null||tx;if(!O){var Q=T.alternate,le=Q!==null&&Q.memoizedState!==null||ei;Q=tx;var Se=ei;if(tx=O,(ei=le)&&!Se)for(st=T;st!==null;)O=st,le=O.child,O.tag===22&&O.memoizedState!==null?U2(T):le!==null?(le.return=O,st=le):U2(T);for(;N!==null;)st=N,$2(N),N=N.sibling;st=T,tx=Q,ei=Se}F2(c)}else(T.subtreeFlags&8772)!==0&&N!==null?(N.return=T,st=N):F2(c)}}function F2(c){for(;st!==null;){var f=st;if((f.flags&8772)!==0){var m=f.alternate;try{if((f.flags&8772)!==0)switch(f.tag){case 0:case 11:case 15:ei||nx(5,f);break;case 1:var v=f.stateNode;if(f.flags&4&&!ei)if(m===null)v.componentDidMount();else{var T=f.elementType===f.type?m.memoizedProps:ys(f.type,m.memoizedProps);v.componentDidUpdate(T,m.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var N=f.updateQueue;N!==null&&BP(f,N,v);break;case 3:var O=f.updateQueue;if(O!==null){if(m=null,f.child!==null)switch(f.child.tag){case 5:m=f.child.stateNode;break;case 1:m=f.child.stateNode}BP(f,O,m)}break;case 5:var Q=f.stateNode;if(m===null&&f.flags&4){m=Q;var le=f.memoizedProps;switch(f.type){case"button":case"input":case"select":case"textarea":le.autoFocus&&m.focus();break;case"img":le.src&&(m.src=le.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(f.memoizedState===null){var Se=f.alternate;if(Se!==null){var Me=Se.memoizedState;if(Me!==null){var Oe=Me.dehydrated;Oe!==null&&Ls(Oe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}ei||f.flags&512&&C1(f)}catch(ke){nr(f,f.return,ke)}}if(f===c){st=null;break}if(m=f.sibling,m!==null){m.return=f.return,st=m;break}st=f.return}}function B2(c){for(;st!==null;){var f=st;if(f===c){st=null;break}var m=f.sibling;if(m!==null){m.return=f.return,st=m;break}st=f.return}}function U2(c){for(;st!==null;){var f=st;try{switch(f.tag){case 0:case 11:case 15:var m=f.return;try{nx(4,f)}catch(le){nr(f,m,le)}break;case 1:var v=f.stateNode;if(typeof v.componentDidMount=="function"){var T=f.return;try{v.componentDidMount()}catch(le){nr(f,T,le)}}var N=f.return;try{C1(f)}catch(le){nr(f,N,le)}break;case 5:var O=f.return;try{C1(f)}catch(le){nr(f,O,le)}}}catch(le){nr(f,f.return,le)}if(f===c){st=null;break}var Q=f.sibling;if(Q!==null){Q.return=f.return,st=Q;break}st=f.return}}var G7=Math.ceil,rx=R.ReactCurrentDispatcher,E1=R.ReactCurrentOwner,ns=R.ReactCurrentBatchConfig,ln=0,Pr=null,fr=null,$r=0,$i=0,Vc=Jo(0),wr=0,Bd=null,yl=0,ix=0,P1=0,Ud=null,Si=null,N1=0,zc=1/0,So=null,sx=!1,j1=null,na=null,ox=!1,ra=null,ax=0,Vd=0,R1=null,lx=-1,cx=0;function di(){return(ln&6)!==0?zt():lx!==-1?lx:lx=zt()}function ia(c){return(c.mode&1)===0?1:(ln&2)!==0&&$r!==0?$r&-$r:j7.transition!==null?(cx===0&&(cx=ww()),cx):(c=hn,c!==0||(c=window.event,c=c===void 0?16:bc(c.type)),c)}function ws(c,f,m,v){if(50<Vd)throw Vd=0,R1=null,Error(n(185));vc(c,m,v),((ln&2)===0||c!==Pr)&&(c===Pr&&((ln&2)===0&&(ix|=m),wr===4&&sa(c,$r)),bi(c,v),m===1&&ln===0&&(f.mode&1)===0&&(zc=zt()+500,Oy&&Qo()))}function bi(c,f){var m=c.callbackNode;fo(c,f);var v=rl(c,c===Pr?$r:0);if(v===0)m!==null&&er(m),c.callbackNode=null,c.callbackPriority=0;else if(f=v&-v,c.callbackPriority!==f){if(m!=null&&er(m),f===1)c.tag===0?N7(z2.bind(null,c)):NP(z2.bind(null,c)),_7(function(){(ln&6)===0&&Qo()}),m=null;else{switch(Sy(v)){case 1:m=Cn;break;case 4:m=Gr;break;case 16:m=Hr;break;case 536870912:m=yt;break;default:m=Hr}m=X2(m,V2.bind(null,c))}c.callbackPriority=f,c.callbackNode=m}}function V2(c,f){if(lx=-1,cx=0,(ln&6)!==0)throw Error(n(327));var m=c.callbackNode;if(Wc()&&c.callbackNode!==m)return null;var v=rl(c,c===Pr?$r:0);if(v===0)return null;if((v&30)!==0||(v&c.expiredLanes)!==0||f)f=ux(c,v);else{f=v;var T=ln;ln|=2;var N=q2();(Pr!==c||$r!==f)&&(So=null,zc=zt()+500,vl(c,f));do try{Y7();break}catch(Q){W2(c,Q)}while(!0);Kw(),rx.current=N,ln=T,fr!==null?f=0:(Pr=null,$r=0,f=wr)}if(f!==0){if(f===2&&(T=xc(c),T!==0&&(v=T,f=A1(c,T))),f===1)throw m=Bd,vl(c,0),sa(c,v),bi(c,zt()),m;if(f===6)sa(c,v);else{if(T=c.current.alternate,(v&30)===0&&!H7(T)&&(f=ux(c,v),f===2&&(N=xc(c),N!==0&&(v=N,f=A1(c,N))),f===1))throw m=Bd,vl(c,0),sa(c,v),bi(c,zt()),m;switch(c.finishedWork=T,c.finishedLanes=v,f){case 0:case 1:throw Error(n(345));case 2:wl(c,Si,So);break;case 3:if(sa(c,v),(v&130023424)===v&&(f=N1+500-zt(),10<f)){if(rl(c,0)!==0)break;if(T=c.suspendedLanes,(T&v)!==v){di(),c.pingedLanes|=c.suspendedLanes&T;break}c.timeoutHandle=Ow(wl.bind(null,c,Si,So),f);break}wl(c,Si,So);break;case 4:if(sa(c,v),(v&4194240)===v)break;for(f=c.eventTimes,T=-1;0<v;){var O=31-$t(v);N=1<<O,O=f[O],O>T&&(T=O),v&=~N}if(v=T,v=zt()-v,v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*G7(v/1960))-v,10<v){c.timeoutHandle=Ow(wl.bind(null,c,Si,So),v);break}wl(c,Si,So);break;case 5:wl(c,Si,So);break;default:throw Error(n(329))}}}return bi(c,zt()),c.callbackNode===m?V2.bind(null,c):null}function A1(c,f){var m=Ud;return c.current.memoizedState.isDehydrated&&(vl(c,f).flags|=256),c=ux(c,f),c!==2&&(f=Si,Si=m,f!==null&&k1(f)),c}function k1(c){Si===null?Si=c:Si.push.apply(Si,c)}function H7(c){for(var f=c;;){if(f.flags&16384){var m=f.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var v=0;v<m.length;v++){var T=m[v],N=T.getSnapshot;T=T.value;try{if(!ms(N(),T))return!1}catch{return!1}}}if(m=f.child,f.subtreeFlags&16384&&m!==null)m.return=f,f=m;else{if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function sa(c,f){for(f&=~P1,f&=~ix,c.suspendedLanes|=f,c.pingedLanes&=~f,c=c.expirationTimes;0<f;){var m=31-$t(f),v=1<<m;c[m]=-1,f&=~v}}function z2(c){if((ln&6)!==0)throw Error(n(327));Wc();var f=rl(c,0);if((f&1)===0)return bi(c,zt()),null;var m=ux(c,f);if(c.tag!==0&&m===2){var v=xc(c);v!==0&&(f=v,m=A1(c,v))}if(m===1)throw m=Bd,vl(c,0),sa(c,f),bi(c,zt()),m;if(m===6)throw Error(n(345));return c.finishedWork=c.current.alternate,c.finishedLanes=f,wl(c,Si,So),bi(c,zt()),null}function I1(c,f){var m=ln;ln|=1;try{return c(f)}finally{ln=m,ln===0&&(zc=zt()+500,Oy&&Qo())}}function xl(c){ra!==null&&ra.tag===0&&(ln&6)===0&&Wc();var f=ln;ln|=1;var m=ns.transition,v=hn;try{if(ns.transition=null,hn=1,c)return c()}finally{hn=v,ns.transition=m,ln=f,(ln&6)===0&&Qo()}}function M1(){$i=Vc.current,Fn(Vc)}function vl(c,f){c.finishedWork=null,c.finishedLanes=0;var m=c.timeoutHandle;if(m!==-1&&(c.timeoutHandle=-1,C7(m)),fr!==null)for(m=fr.return;m!==null;){var v=m;switch(zw(v),v.tag){case 1:v=v.type.childContextTypes,v!=null&&Dy();break;case 3:Fc(),Fn(xi),Fn(Xr),n1();break;case 5:e1(v);break;case 4:Fc();break;case 13:Fn(Yn);break;case 19:Fn(Yn);break;case 10:Yw(v.type._context);break;case 22:case 23:M1()}m=m.return}if(Pr=c,fr=c=oa(c.current,null),$r=$i=f,wr=0,Bd=null,P1=ix=yl=0,Si=Ud=null,pl!==null){for(f=0;f<pl.length;f++)if(m=pl[f],v=m.interleaved,v!==null){m.interleaved=null;var T=v.next,N=m.pending;if(N!==null){var O=N.next;N.next=T,v.next=O}m.pending=v}pl=null}return c}function W2(c,f){do{var m=fr;try{if(Kw(),Hy.current=Xy,Ky){for(var v=Jn.memoizedState;v!==null;){var T=v.queue;T!==null&&(T.pending=null),v=v.next}Ky=!1}if(gl=0,Er=vr=Jn=null,Md=!1,Dd=0,E1.current=null,m===null||m.return===null){wr=1,Bd=f,fr=null;break}e:{var N=c,O=m.return,Q=m,le=f;if(f=$r,Q.flags|=32768,le!==null&&typeof le=="object"&&typeof le.then=="function"){var Se=le,Me=Q,Oe=Me.tag;if((Me.mode&1)===0&&(Oe===0||Oe===11||Oe===15)){var ke=Me.alternate;ke?(Me.updateQueue=ke.updateQueue,Me.memoizedState=ke.memoizedState,Me.lanes=ke.lanes):(Me.updateQueue=null,Me.memoizedState=null)}var rt=m2(O);if(rt!==null){rt.flags&=-257,g2(rt,O,Q,N,f),rt.mode&1&&p2(N,Se,f),f=rt,le=Se;var at=f.updateQueue;if(at===null){var ut=new Set;ut.add(le),f.updateQueue=ut}else at.add(le);break e}else{if((f&1)===0){p2(N,Se,f),D1();break e}le=Error(n(426))}}else if(Un&&Q.mode&1){var ar=m2(O);if(ar!==null){(ar.flags&65536)===0&&(ar.flags|=256),g2(ar,O,Q,N,f),Gw(Bc(le,Q));break e}}N=le=Bc(le,Q),wr!==4&&(wr=2),Ud===null?Ud=[N]:Ud.push(N),N=O;do{switch(N.tag){case 3:N.flags|=65536,f&=-f,N.lanes|=f;var ge=f2(N,le,f);FP(N,ge);break e;case 1:Q=le;var de=N.type,we=N.stateNode;if((N.flags&128)===0&&(typeof de.getDerivedStateFromError=="function"||we!==null&&typeof we.componentDidCatch=="function"&&(na===null||!na.has(we)))){N.flags|=65536,f&=-f,N.lanes|=f;var Be=h2(N,Q,f);FP(N,Be);break e}}N=N.return}while(N!==null)}H2(m)}catch(mt){f=mt,fr===m&&m!==null&&(fr=m=m.return);continue}break}while(!0)}function q2(){var c=rx.current;return rx.current=Xy,c===null?Xy:c}function D1(){(wr===0||wr===3||wr===2)&&(wr=4),Pr===null||(yl&268435455)===0&&(ix&268435455)===0||sa(Pr,$r)}function ux(c,f){var m=ln;ln|=2;var v=q2();(Pr!==c||$r!==f)&&(So=null,vl(c,f));do try{K7();break}catch(T){W2(c,T)}while(!0);if(Kw(),ln=m,rx.current=v,fr!==null)throw Error(n(261));return Pr=null,$r=0,wr}function K7(){for(;fr!==null;)G2(fr)}function Y7(){for(;fr!==null&&!Nn();)G2(fr)}function G2(c){var f=J2(c.alternate,c,$i);c.memoizedProps=c.pendingProps,f===null?H2(c):fr=f,E1.current=null}function H2(c){var f=c;do{var m=f.alternate;if(c=f.return,(f.flags&32768)===0){if(m=U7(m,f,$i),m!==null){fr=m;return}}else{if(m=V7(m,f),m!==null){m.flags&=32767,fr=m;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{wr=6,fr=null;return}}if(f=f.sibling,f!==null){fr=f;return}fr=f=c}while(f!==null);wr===0&&(wr=5)}function wl(c,f,m){var v=hn,T=ns.transition;try{ns.transition=null,hn=1,J7(c,f,m,v)}finally{ns.transition=T,hn=v}return null}function J7(c,f,m,v){do Wc();while(ra!==null);if((ln&6)!==0)throw Error(n(327));m=c.finishedWork;var T=c.finishedLanes;if(m===null)return null;if(c.finishedWork=null,c.finishedLanes=0,m===c.current)throw Error(n(177));c.callbackNode=null,c.callbackPriority=0;var N=m.lanes|m.childLanes;if(Sw(c,N),c===Pr&&(fr=Pr=null,$r=0),(m.subtreeFlags&2064)===0&&(m.flags&2064)===0||ox||(ox=!0,X2(Hr,function(){return Wc(),null})),N=(m.flags&15990)!==0,(m.subtreeFlags&15990)!==0||N){N=ns.transition,ns.transition=null;var O=hn;hn=1;var Q=ln;ln|=4,E1.current=null,W7(c,m),O2(m,c),g7(Dw),ho=!!Mw,Dw=Mw=null,c.current=m,q7(m),bn(),ln=Q,hn=O,ns.transition=N}else c.current=m;if(ox&&(ox=!1,ra=c,ax=T),N=c.pendingLanes,N===0&&(na=null),ur(m.stateNode),bi(c,zt()),f!==null)for(v=c.onRecoverableError,m=0;m<f.length;m++)T=f[m],v(T.value,{componentStack:T.stack,digest:T.digest});if(sx)throw sx=!1,c=j1,j1=null,c;return(ax&1)!==0&&c.tag!==0&&Wc(),N=c.pendingLanes,(N&1)!==0?c===R1?Vd++:(Vd=0,R1=c):Vd=0,Qo(),null}function Wc(){if(ra!==null){var c=Sy(ax),f=ns.transition,m=hn;try{if(ns.transition=null,hn=16>c?16:c,ra===null)var v=!1;else{if(c=ra,ra=null,ax=0,(ln&6)!==0)throw Error(n(331));var T=ln;for(ln|=4,st=c.current;st!==null;){var N=st,O=N.child;if((st.flags&16)!==0){var Q=N.deletions;if(Q!==null){for(var le=0;le<Q.length;le++){var Se=Q[le];for(st=Se;st!==null;){var Me=st;switch(Me.tag){case 0:case 11:case 15:Fd(8,Me,N)}var Oe=Me.child;if(Oe!==null)Oe.return=Me,st=Oe;else for(;st!==null;){Me=st;var ke=Me.sibling,rt=Me.return;if(k2(Me),Me===Se){st=null;break}if(ke!==null){ke.return=rt,st=ke;break}st=rt}}}var at=N.alternate;if(at!==null){var ut=at.child;if(ut!==null){at.child=null;do{var ar=ut.sibling;ut.sibling=null,ut=ar}while(ut!==null)}}st=N}}if((N.subtreeFlags&2064)!==0&&O!==null)O.return=N,st=O;else e:for(;st!==null;){if(N=st,(N.flags&2048)!==0)switch(N.tag){case 0:case 11:case 15:Fd(9,N,N.return)}var ge=N.sibling;if(ge!==null){ge.return=N.return,st=ge;break e}st=N.return}}var de=c.current;for(st=de;st!==null;){O=st;var we=O.child;if((O.subtreeFlags&2064)!==0&&we!==null)we.return=O,st=we;else e:for(O=de;st!==null;){if(Q=st,(Q.flags&2048)!==0)try{switch(Q.tag){case 0:case 11:case 15:nx(9,Q)}}catch(mt){nr(Q,Q.return,mt)}if(Q===O){st=null;break e}var Be=Q.sibling;if(Be!==null){Be.return=Q.return,st=Be;break e}st=Q.return}}if(ln=T,Qo(),an&&typeof an.onPostCommitFiberRoot=="function")try{an.onPostCommitFiberRoot(on,c)}catch{}v=!0}return v}finally{hn=m,ns.transition=f}}return!1}function K2(c,f,m){f=Bc(m,f),f=f2(c,f,1),c=ea(c,f,1),f=di(),c!==null&&(vc(c,1,f),bi(c,f))}function nr(c,f,m){if(c.tag===3)K2(c,c,m);else for(;f!==null;){if(f.tag===3){K2(f,c,m);break}else if(f.tag===1){var v=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(na===null||!na.has(v))){c=Bc(m,c),c=h2(f,c,1),f=ea(f,c,1),c=di(),f!==null&&(vc(f,1,c),bi(f,c));break}}f=f.return}}function X7(c,f,m){var v=c.pingCache;v!==null&&v.delete(f),f=di(),c.pingedLanes|=c.suspendedLanes&m,Pr===c&&($r&m)===m&&(wr===4||wr===3&&($r&130023424)===$r&&500>zt()-N1?vl(c,0):P1|=m),bi(c,f)}function Y2(c,f){f===0&&((c.mode&1)===0?f=1:(f=yc,yc<<=1,(yc&130023424)===0&&(yc=4194304)));var m=di();c=xo(c,f),c!==null&&(vc(c,f,m),bi(c,m))}function Q7(c){var f=c.memoizedState,m=0;f!==null&&(m=f.retryLane),Y2(c,m)}function Z7(c,f){var m=0;switch(c.tag){case 13:var v=c.stateNode,T=c.memoizedState;T!==null&&(m=T.retryLane);break;case 19:v=c.stateNode;break;default:throw Error(n(314))}v!==null&&v.delete(f),Y2(c,m)}var J2;J2=function(c,f,m){if(c!==null)if(c.memoizedProps!==f.pendingProps||xi.current)wi=!0;else{if((c.lanes&m)===0&&(f.flags&128)===0)return wi=!1,B7(c,f,m);wi=(c.flags&131072)!==0}else wi=!1,Un&&(f.flags&1048576)!==0&&jP(f,Fy,f.index);switch(f.lanes=0,f.tag){case 2:var v=f.type;ex(c,f),c=f.pendingProps;var T=kc(f,Xr.current);$c(f,m),T=s1(null,f,v,c,T,m);var N=o1();return f.flags|=1,typeof T=="object"&&T!==null&&typeof T.render=="function"&&T.$$typeof===void 0?(f.tag=1,f.memoizedState=null,f.updateQueue=null,vi(v)?(N=!0,Ly(f)):N=!1,f.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,Qw(f),T.updater=Qy,f.stateNode=T,T._reactInternals=f,f1(f,v,c,m),f=g1(null,f,v,!0,N,m)):(f.tag=0,Un&&N&&Vw(f),ui(null,f,T,m),f=f.child),f;case 16:v=f.elementType;e:{switch(ex(c,f),c=f.pendingProps,T=v._init,v=T(v._payload),f.type=v,T=f.tag=tV(v),c=ys(v,c),T){case 0:f=m1(null,f,v,c,m);break e;case 1:f=b2(null,f,v,c,m);break e;case 11:f=y2(null,f,v,c,m);break e;case 14:f=x2(null,f,v,ys(v.type,c),m);break e}throw Error(n(306,v,""))}return f;case 0:return v=f.type,T=f.pendingProps,T=f.elementType===v?T:ys(v,T),m1(c,f,v,T,m);case 1:return v=f.type,T=f.pendingProps,T=f.elementType===v?T:ys(v,T),b2(c,f,v,T,m);case 3:e:{if(C2(f),c===null)throw Error(n(387));v=f.pendingProps,N=f.memoizedState,T=N.element,$P(c,f),qy(f,v,null,m);var O=f.memoizedState;if(v=O.element,N.isDehydrated)if(N={element:v,isDehydrated:!1,cache:O.cache,pendingSuspenseBoundaries:O.pendingSuspenseBoundaries,transitions:O.transitions},f.updateQueue.baseState=N,f.memoizedState=N,f.flags&256){T=Bc(Error(n(423)),f),f=_2(c,f,v,m,T);break e}else if(v!==T){T=Bc(Error(n(424)),f),f=_2(c,f,v,m,T);break e}else for(Oi=Yo(f.stateNode.containerInfo.firstChild),Li=f,Un=!0,gs=null,m=LP(f,null,v,m),f.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(Dc(),v===T){f=wo(c,f,m);break e}ui(c,f,v,m)}f=f.child}return f;case 5:return UP(f),c===null&&qw(f),v=f.type,T=f.pendingProps,N=c!==null?c.memoizedProps:null,O=T.children,Lw(v,T)?O=null:N!==null&&Lw(v,N)&&(f.flags|=32),S2(c,f),ui(c,f,O,m),f.child;case 6:return c===null&&qw(f),null;case 13:return T2(c,f,m);case 4:return Zw(f,f.stateNode.containerInfo),v=f.pendingProps,c===null?f.child=Lc(f,null,v,m):ui(c,f,v,m),f.child;case 11:return v=f.type,T=f.pendingProps,T=f.elementType===v?T:ys(v,T),y2(c,f,v,T,m);case 7:return ui(c,f,f.pendingProps,m),f.child;case 8:return ui(c,f,f.pendingProps.children,m),f.child;case 12:return ui(c,f,f.pendingProps.children,m),f.child;case 10:e:{if(v=f.type._context,T=f.pendingProps,N=f.memoizedProps,O=T.value,Rn(Vy,v._currentValue),v._currentValue=O,N!==null)if(ms(N.value,O)){if(N.children===T.children&&!xi.current){f=wo(c,f,m);break e}}else for(N=f.child,N!==null&&(N.return=f);N!==null;){var Q=N.dependencies;if(Q!==null){O=N.child;for(var le=Q.firstContext;le!==null;){if(le.context===v){if(N.tag===1){le=vo(-1,m&-m),le.tag=2;var Se=N.updateQueue;if(Se!==null){Se=Se.shared;var Me=Se.pending;Me===null?le.next=le:(le.next=Me.next,Me.next=le),Se.pending=le}}N.lanes|=m,le=N.alternate,le!==null&&(le.lanes|=m),Jw(N.return,m,f),Q.lanes|=m;break}le=le.next}}else if(N.tag===10)O=N.type===f.type?null:N.child;else if(N.tag===18){if(O=N.return,O===null)throw Error(n(341));O.lanes|=m,Q=O.alternate,Q!==null&&(Q.lanes|=m),Jw(O,m,f),O=N.sibling}else O=N.child;if(O!==null)O.return=N;else for(O=N;O!==null;){if(O===f){O=null;break}if(N=O.sibling,N!==null){N.return=O.return,O=N;break}O=O.return}N=O}ui(c,f,T.children,m),f=f.child}return f;case 9:return T=f.type,v=f.pendingProps.children,$c(f,m),T=es(T),v=v(T),f.flags|=1,ui(c,f,v,m),f.child;case 14:return v=f.type,T=ys(v,f.pendingProps),T=ys(v.type,T),x2(c,f,v,T,m);case 15:return v2(c,f,f.type,f.pendingProps,m);case 17:return v=f.type,T=f.pendingProps,T=f.elementType===v?T:ys(v,T),ex(c,f),f.tag=1,vi(v)?(c=!0,Ly(f)):c=!1,$c(f,m),u2(f,v,T),f1(f,v,T,m),g1(null,f,v,!0,c,m);case 19:return P2(c,f,m);case 22:return w2(c,f,m)}throw Error(n(156,f.tag))};function X2(c,f){return Ot(c,f)}function eV(c,f,m,v){this.tag=c,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rs(c,f,m,v){return new eV(c,f,m,v)}function L1(c){return c=c.prototype,!(!c||!c.isReactComponent)}function tV(c){if(typeof c=="function")return L1(c)?1:0;if(c!=null){if(c=c.$$typeof,c===K)return 11;if(c===Y)return 14}return 2}function oa(c,f){var m=c.alternate;return m===null?(m=rs(c.tag,f,c.key,c.mode),m.elementType=c.elementType,m.type=c.type,m.stateNode=c.stateNode,m.alternate=c,c.alternate=m):(m.pendingProps=f,m.type=c.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=c.flags&14680064,m.childLanes=c.childLanes,m.lanes=c.lanes,m.child=c.child,m.memoizedProps=c.memoizedProps,m.memoizedState=c.memoizedState,m.updateQueue=c.updateQueue,f=c.dependencies,m.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},m.sibling=c.sibling,m.index=c.index,m.ref=c.ref,m}function dx(c,f,m,v,T,N){var O=2;if(v=c,typeof c=="function")L1(c)&&(O=1);else if(typeof c=="string")O=5;else e:switch(c){case A:return Sl(m.children,T,N,f);case $:O=8,T|=8;break;case B:return c=rs(12,m,f,T|2),c.elementType=B,c.lanes=N,c;case W:return c=rs(13,m,f,T),c.elementType=W,c.lanes=N,c;case V:return c=rs(19,m,f,T),c.elementType=V,c.lanes=N,c;case ue:return fx(m,T,N,f);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case G:O=10;break e;case X:O=9;break e;case K:O=11;break e;case Y:O=14;break e;case ne:O=16,v=null;break e}throw Error(n(130,c==null?c:typeof c,""))}return f=rs(O,m,f,T),f.elementType=c,f.type=v,f.lanes=N,f}function Sl(c,f,m,v){return c=rs(7,c,v,f),c.lanes=m,c}function fx(c,f,m,v){return c=rs(22,c,v,f),c.elementType=ue,c.lanes=m,c.stateNode={isHidden:!1},c}function O1(c,f,m){return c=rs(6,c,null,f),c.lanes=m,c}function $1(c,f,m){return f=rs(4,c.children!==null?c.children:[],c.key,f),f.lanes=m,f.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},f}function nV(c,f,m,v,T){this.tag=f,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cd(0),this.expirationTimes=cd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cd(0),this.identifierPrefix=v,this.onRecoverableError=T,this.mutableSourceEagerHydrationData=null}function F1(c,f,m,v,T,N,O,Q,le){return c=new nV(c,f,m,Q,le),f===1?(f=1,N===!0&&(f|=8)):f=0,N=rs(3,null,null,f),c.current=N,N.stateNode=c,N.memoizedState={element:v,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qw(N),c}function rV(c,f,m){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:M,key:v==null?null:""+v,children:c,containerInfo:f,implementation:m}}function Q2(c){if(!c)return Xo;c=c._reactInternals;e:{if(Ue(c)!==c||c.tag!==1)throw Error(n(170));var f=c;do{switch(f.tag){case 3:f=f.stateNode.context;break e;case 1:if(vi(f.type)){f=f.stateNode.__reactInternalMemoizedMergedChildContext;break e}}f=f.return}while(f!==null);throw Error(n(171))}if(c.tag===1){var m=c.type;if(vi(m))return EP(c,m,f)}return f}function Z2(c,f,m,v,T,N,O,Q,le){return c=F1(m,v,!0,c,T,N,O,Q,le),c.context=Q2(null),m=c.current,v=di(),T=ia(m),N=vo(v,T),N.callback=f??null,ea(m,N,T),c.current.lanes=T,vc(c,T,v),bi(c,v),c}function hx(c,f,m,v){var T=f.current,N=di(),O=ia(T);return m=Q2(m),f.context===null?f.context=m:f.pendingContext=m,f=vo(N,O),f.payload={element:c},v=v===void 0?null:v,v!==null&&(f.callback=v),c=ea(T,f,O),c!==null&&(ws(c,T,O,N),Wy(c,T,O)),O}function px(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return c.child.stateNode;default:return c.child.stateNode}}function eN(c,f){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var m=c.retryLane;c.retryLane=m!==0&&m<f?m:f}}function B1(c,f){eN(c,f),(c=c.alternate)&&eN(c,f)}function iV(){return null}var tN=typeof reportError=="function"?reportError:function(c){console.error(c)};function U1(c){this._internalRoot=c}mx.prototype.render=U1.prototype.render=function(c){var f=this._internalRoot;if(f===null)throw Error(n(409));hx(c,f,null,null)},mx.prototype.unmount=U1.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var f=c.containerInfo;xl(function(){hx(null,c,null,null)}),f[po]=null}};function mx(c){this._internalRoot=c}mx.prototype.unstable_scheduleHydration=function(c){if(c){var f=by();c={blockedOn:null,target:c,priority:f};for(var m=0;m<Xi.length&&f!==0&&f<Xi[m].priority;m++);Xi.splice(m,0,c),m===0&&gd(c)}};function V1(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function gx(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11&&(c.nodeType!==8||c.nodeValue!==" react-mount-point-unstable "))}function nN(){}function sV(c,f,m,v,T){if(T){if(typeof v=="function"){var N=v;v=function(){var Se=px(O);N.call(Se)}}var O=Z2(f,v,c,0,null,!1,!1,"",nN);return c._reactRootContainer=O,c[po]=O.current,Ed(c.nodeType===8?c.parentNode:c),xl(),O}for(;T=c.lastChild;)c.removeChild(T);if(typeof v=="function"){var Q=v;v=function(){var Se=px(le);Q.call(Se)}}var le=F1(c,0,!1,null,null,!1,!1,"",nN);return c._reactRootContainer=le,c[po]=le.current,Ed(c.nodeType===8?c.parentNode:c),xl(function(){hx(f,le,m,v)}),le}function yx(c,f,m,v,T){var N=m._reactRootContainer;if(N){var O=N;if(typeof T=="function"){var Q=T;T=function(){var le=px(O);Q.call(le)}}hx(f,O,c,T)}else O=sV(m,f,c,T,v);return px(O)}dd=function(c){switch(c.tag){case 3:var f=c.stateNode;if(f.current.memoizedState.isDehydrated){var m=nl(f.pendingLanes);m!==0&&(ud(f,m|1),bi(f,zt()),(ln&6)===0&&(zc=zt()+500,Qo()))}break;case 13:xl(function(){var v=xo(c,1);if(v!==null){var T=di();ws(v,c,1,T)}}),B1(c,1)}},Go=function(c){if(c.tag===13){var f=xo(c,134217728);if(f!==null){var m=di();ws(f,c,134217728,m)}B1(c,134217728)}},fd=function(c){if(c.tag===13){var f=ia(c),m=xo(c,f);if(m!==null){var v=di();ws(m,c,f,v)}B1(c,f)}},by=function(){return hn},hd=function(c,f){var m=hn;try{return hn=c,f()}finally{hn=m}},At=function(c,f,m){switch(f){case"input":if(fn(c,m),f=m.name,m.type==="radio"&&f!=null){for(m=c;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+f)+'][type="radio"]'),f=0;f<m.length;f++){var v=m[f];if(v!==c&&v.form===c.form){var T=My(v);if(!T)throw Error(n(90));nt(v),fn(v,T)}}}break;case"textarea":jn(c,m);break;case"select":f=m.value,f!=null&&un(c,!!m.multiple,f,!1)}},qr=I1,yi=xl;var oV={usingClientEntryPoint:!1,Events:[jd,Rc,My,sr,ci,I1]},zd={findFiberByHostInstance:ul,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},aV={bundleType:zd.bundleType,version:zd.version,rendererPackageName:zd.rendererPackageName,rendererConfig:zd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(c){return c=jt(c),c===null?null:c.stateNode},findFiberByHostInstance:zd.findFiberByHostInstance||iV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xx.isDisabled&&xx.supportsFiber)try{on=xx.inject(aV),an=xx}catch{}}return Ci.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oV,Ci.createPortal=function(c,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!V1(f))throw Error(n(200));return rV(c,f,null,m)},Ci.createRoot=function(c,f){if(!V1(c))throw Error(n(299));var m=!1,v="",T=tN;return f!=null&&(f.unstable_strictMode===!0&&(m=!0),f.identifierPrefix!==void 0&&(v=f.identifierPrefix),f.onRecoverableError!==void 0&&(T=f.onRecoverableError)),f=F1(c,1,!1,null,null,m,!1,v,T),c[po]=f.current,Ed(c.nodeType===8?c.parentNode:c),new U1(f)},Ci.findDOMNode=function(c){if(c==null)return null;if(c.nodeType===1)return c;var f=c._reactInternals;if(f===void 0)throw typeof c.render=="function"?Error(n(188)):(c=Object.keys(c).join(","),Error(n(268,c)));return c=jt(f),c=c===null?null:c.stateNode,c},Ci.flushSync=function(c){return xl(c)},Ci.hydrate=function(c,f,m){if(!gx(f))throw Error(n(200));return yx(null,c,f,!0,m)},Ci.hydrateRoot=function(c,f,m){if(!V1(c))throw Error(n(405));var v=m!=null&&m.hydratedSources||null,T=!1,N="",O=tN;if(m!=null&&(m.unstable_strictMode===!0&&(T=!0),m.identifierPrefix!==void 0&&(N=m.identifierPrefix),m.onRecoverableError!==void 0&&(O=m.onRecoverableError)),f=Z2(f,null,c,1,m??null,T,!1,N,O),c[po]=f.current,Ed(c),v)for(c=0;c<v.length;c++)m=v[c],T=m._getVersion,T=T(m._source),f.mutableSourceEagerHydrationData==null?f.mutableSourceEagerHydrationData=[m,T]:f.mutableSourceEagerHydrationData.push(m,T);return new mx(f)},Ci.render=function(c,f,m){if(!gx(f))throw Error(n(200));return yx(null,c,f,!1,m)},Ci.unmountComponentAtNode=function(c){if(!gx(c))throw Error(n(40));return c._reactRootContainer?(xl(function(){yx(null,null,c,!1,function(){c._reactRootContainer=null,c[po]=null})}),!0):!1},Ci.unstable_batchedUpdates=I1,Ci.unstable_renderSubtreeIntoContainer=function(c,f,m,v){if(!gx(m))throw Error(n(200));if(c==null||c._reactInternals===void 0)throw Error(n(38));return yx(c,f,m,!1,v)},Ci.version="18.3.1-next-f1338f8080-20240426",Ci}var uN;function t3(){if(uN)return q1.exports;uN=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),q1.exports=mV(),q1.exports}var dN;function gV(){if(dN)return vx;dN=1;var t=t3();return vx.createRoot=t.createRoot,vx.hydrateRoot=t.hydrateRoot,vx}var yV=gV();const xV=Gu(yV);var Ua=t3();const u_=Gu(Ua),vV=ZL({__proto__:null,default:u_},[Ua]);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zn(){return zn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zn.apply(this,arguments)}var mr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(mr||(mr={}));const fN="popstate";function wV(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return Ng("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Jl(i)}return bV(e,n,null,t)}function tn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ou(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function SV(){return Math.random().toString(36).substr(2,8)}function hN(t,e){return{usr:t.state,key:t.key,idx:e}}function Ng(t,e,n,r){return n===void 0&&(n=null),zn({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Va(e):e,{state:n,key:e&&e.key||r||SV()})}function Jl(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Va(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function bV(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=mr.Pop,u=null,d=h();d==null&&(d=0,o.replaceState(zn({},o.state,{idx:d}),""));function h(){return(o.state||{idx:null}).idx}function p(){l=mr.Pop;let _=h(),P=_==null?null:_-d;d=_,u&&u({action:l,location:C.location,delta:P})}function g(_,P){l=mr.Push;let E=Ng(C.location,_,P);d=h()+1;let j=hN(E,d),R=C.createHref(E);try{o.pushState(j,"",R)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;i.location.assign(R)}s&&u&&u({action:l,location:C.location,delta:1})}function y(_,P){l=mr.Replace;let E=Ng(C.location,_,P);d=h();let j=hN(E,d),R=C.createHref(E);o.replaceState(j,"",R),s&&u&&u({action:l,location:C.location,delta:0})}function b(_){let P=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof _=="string"?_:Jl(_);return E=E.replace(/ $/,"%20"),tn(P,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,P)}let C={get action(){return l},get location(){return t(i,o)},listen(_){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(fN,p),u=_,()=>{i.removeEventListener(fN,p),u=null}},createHref(_){return e(i,_)},createURL:b,encodeLocation(_){let P=b(_);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:g,replace:y,go(_){return o.go(_)}};return C}var _n;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(_n||(_n={}));const CV=new Set(["lazy","caseSensitive","path","id","index","children"]);function _V(t){return t.index===!0}function _v(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,String(s)],l=typeof i.id=="string"?i.id:o.join("-");if(tn(i.index!==!0||!i.children,"Cannot specify children on an index route"),tn(!r[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),_V(i)){let u=zn({},i,e(i),{id:l});return r[l]=u,u}else{let u=zn({},i,e(i),{id:l,children:void 0});return r[l]=u,i.children&&(u.children=_v(i.children,e,o,r)),u}})}function Dl(t,e,n){return n===void 0&&(n="/"),av(t,e,n,!1)}function av(t,e,n,r){let i=typeof e=="string"?Va(e):e,s=Hu(i.pathname||"/",n);if(s==null)return null;let o=n3(t);EV(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let d=OV(s);l=DV(o[u],d,r)}return l}function TV(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function n3(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(tn(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let d=jo([r,u.relativePath]),h=n.concat(u);s.children&&s.children.length>0&&(tn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),n3(s.children,e,h,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:IV(d,s.index),routesMeta:h})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let u of r3(s.path))i(s,o,u)}),e}function r3(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=r3(r.join("/")),l=[];return l.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&l.push(...o),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function EV(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:MV(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const PV=/^:[\w-]+$/,NV=3,jV=2,RV=1,AV=10,kV=-2,pN=t=>t==="*";function IV(t,e){let n=t.split("/"),r=n.length;return n.some(pN)&&(r+=kV),e&&(r+=jV),n.filter(i=>!pN(i)).reduce((i,s)=>i+(PV.test(s)?NV:s===""?RV:AV),r)}function MV(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function DV(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let l=0;l<r.length;++l){let u=r[l],d=l===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",p=mN({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},h),g=u.route;if(!p&&d&&n&&!r[r.length-1].route.index&&(p=mN({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:jo([s,p.pathname]),pathnameBase:BV(jo([s,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(s=jo([s,p.pathnameBase]))}return o}function mN(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=LV(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((d,h,p)=>{let{paramName:g,isOptional:y}=h;if(g==="*"){let C=l[p]||"";o=s.slice(0,s.length-C.length).replace(/(.)\/+$/,"$1")}const b=l[p];return y&&!b?d[g]=void 0:d[g]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:o,pattern:t}}function LV(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Ou(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function OV(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ou(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Hu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function $V(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Va(t):t;return{pathname:n?n.startsWith("/")?n:FV(n,e):e,search:UV(r),hash:VV(i)}}function FV(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function K1(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function i3(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function a0(t,e){let n=i3(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function l0(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Va(t):(i=zn({},t),tn(!i.pathname||!i.pathname.includes("?"),K1("?","pathname","search",i)),tn(!i.pathname||!i.pathname.includes("#"),K1("#","pathname","hash",i)),tn(!i.search||!i.search.includes("#"),K1("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}l=p>=0?e[p]:"/"}let u=$V(i,l),d=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||h)&&(u.pathname+="/"),u}const jo=t=>t.join("/").replace(/\/\/+/g,"/"),BV=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),UV=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,VV=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Tv{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function jg(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const s3=["post","put","patch","delete"],zV=new Set(s3),WV=["get",...s3],qV=new Set(WV),GV=new Set([301,302,303,307,308]),HV=new Set([307,308]),Y1={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},KV={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},qd={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},d_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,YV=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),o3="remix-router-transitions";function JV(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;tn(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let ae=t.detectErrorBoundary;i=H=>({hasErrorBoundary:ae(H)})}else i=YV;let s={},o=_v(t.routes,i,void 0,s),l,u=t.basename||"/",d=t.dataStrategy||ez,h=t.patchRoutesOnNavigation,p=zn({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),g=null,y=new Set,b=null,C=null,_=null,P=t.hydrationData!=null,E=Dl(o,t.history.location,u),j=!1,R=null;if(E==null&&!h){let ae=Pi(404,{pathname:t.history.location.pathname}),{matches:H,route:J}=EN(o);E=H,R={[J.id]:ae}}E&&!t.hydrationData&&yi(E,o,t.history.location.pathname).active&&(E=null);let I;if(E)if(E.some(ae=>ae.route.lazy))I=!1;else if(!E.some(ae=>ae.route.loader))I=!0;else if(p.v7_partialHydration){let ae=t.hydrationData?t.hydrationData.loaderData:null,H=t.hydrationData?t.hydrationData.errors:null;if(H){let J=E.findIndex(ee=>H[ee.route.id]!==void 0);I=E.slice(0,J+1).every(ee=>!Ib(ee.route,ae,H))}else I=E.every(J=>!Ib(J.route,ae,H))}else I=t.hydrationData!=null;else if(I=!1,E=[],p.v7_partialHydration){let ae=yi(null,o,t.history.location.pathname);ae.active&&ae.matches&&(j=!0,E=ae.matches)}let M,A={historyAction:t.history.action,location:t.history.location,matches:E,initialized:I,navigation:Y1,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||R,fetchers:new Map,blockers:new Map},$=mr.Pop,B=!1,G,X=!1,K=new Map,W=null,V=!1,Y=!1,ne=[],ue=new Set,oe=new Map,ie=0,L=-1,F=new Map,Z=new Set,U=new Map,Ne=new Map,De=new Set,je=new Map,Te=new Map,Pe;function $e(){if(g=t.history.listen(ae=>{let{action:H,location:J,delta:ee}=ae;if(Pe){Pe(),Pe=void 0;return}Ou(Te.size===0||ee!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let pe=At({currentLocation:A.location,nextLocation:J,historyAction:H});if(pe&&ee!=null){let be=new Promise(Re=>{Pe=Re});t.history.go(ee*-1),Et(pe,{state:"blocked",location:J,proceed(){Et(pe,{state:"proceeding",proceed:void 0,reset:void 0,location:J}),be.then(()=>t.history.go(ee))},reset(){let Re=new Map(A.blockers);Re.set(pe,qd),nt({blockers:Re})}});return}return Ut(H,J)}),n){pz(e,K);let ae=()=>mz(e,K);e.addEventListener("pagehide",ae),W=()=>e.removeEventListener("pagehide",ae)}return A.initialized||Ut(mr.Pop,A.location,{initialHydration:!0}),M}function He(){g&&g(),W&&W(),y.clear(),G&&G.abort(),A.fetchers.forEach((ae,H)=>Vt(H)),A.blockers.forEach((ae,H)=>_e(H))}function tt(ae){return y.add(ae),()=>y.delete(ae)}function nt(ae,H){H===void 0&&(H={}),A=zn({},A,ae);let J=[],ee=[];p.v7_fetcherPersist&&A.fetchers.forEach((pe,be)=>{pe.state==="idle"&&(De.has(be)?ee.push(be):J.push(be))}),De.forEach(pe=>{!A.fetchers.has(pe)&&!oe.has(pe)&&ee.push(pe)}),[...y].forEach(pe=>pe(A,{deletedFetchers:ee,viewTransitionOpts:H.viewTransitionOpts,flushSync:H.flushSync===!0})),p.v7_fetcherPersist?(J.forEach(pe=>A.fetchers.delete(pe)),ee.forEach(pe=>Vt(pe))):ee.forEach(pe=>De.delete(pe))}function Tt(ae,H,J){var ee,pe;let{flushSync:be}=J===void 0?{}:J,Re=A.actionData!=null&&A.navigation.formMethod!=null&&_s(A.navigation.formMethod)&&A.navigation.state==="loading"&&((ee=ae.state)==null?void 0:ee._isRedirect)!==!0,Le;H.actionData?Object.keys(H.actionData).length>0?Le=H.actionData:Le=null:Re?Le=A.actionData:Le=null;let et=H.loaderData?_N(A.loaderData,H.loaderData,H.matches||[],H.errors):A.loaderData,Ge=A.blockers;Ge.size>0&&(Ge=new Map(Ge),Ge.forEach((xt,Xt)=>Ge.set(Xt,qd)));let Ue=B===!0||A.navigation.formMethod!=null&&_s(A.navigation.formMethod)&&((pe=ae.state)==null?void 0:pe._isRedirect)!==!0;l&&(o=l,l=void 0),V||$===mr.Pop||($===mr.Push?t.history.push(ae,ae.state):$===mr.Replace&&t.history.replace(ae,ae.state));let lt;if($===mr.Pop){let xt=K.get(A.location.pathname);xt&&xt.has(ae.pathname)?lt={currentLocation:A.location,nextLocation:ae}:K.has(ae.pathname)&&(lt={currentLocation:ae,nextLocation:A.location})}else if(X){let xt=K.get(A.location.pathname);xt?xt.add(ae.pathname):(xt=new Set([ae.pathname]),K.set(A.location.pathname,xt)),lt={currentLocation:A.location,nextLocation:ae}}nt(zn({},H,{actionData:Le,loaderData:et,historyAction:$,location:ae,initialized:!0,navigation:Y1,revalidation:"idle",restoreScrollPosition:qr(ae,H.matches||A.matches),preventScrollReset:Ue,blockers:Ge}),{viewTransitionOpts:lt,flushSync:be===!0}),$=mr.Pop,B=!1,X=!1,V=!1,Y=!1,ne=[]}async function Bt(ae,H){if(typeof ae=="number"){t.history.go(ae);return}let J=kb(A.location,A.matches,u,p.v7_prependBasename,ae,p.v7_relativeSplatPath,H==null?void 0:H.fromRouteId,H==null?void 0:H.relative),{path:ee,submission:pe,error:be}=gN(p.v7_normalizeFormMethod,!1,J,H),Re=A.location,Le=Ng(A.location,ee,H&&H.state);Le=zn({},Le,t.history.encodeLocation(Le));let et=H&&H.replace!=null?H.replace:void 0,Ge=mr.Push;et===!0?Ge=mr.Replace:et===!1||pe!=null&&_s(pe.formMethod)&&pe.formAction===A.location.pathname+A.location.search&&(Ge=mr.Replace);let Ue=H&&"preventScrollReset"in H?H.preventScrollReset===!0:void 0,lt=(H&&H.flushSync)===!0,xt=At({currentLocation:Re,nextLocation:Le,historyAction:Ge});if(xt){Et(xt,{state:"blocked",location:Le,proceed(){Et(xt,{state:"proceeding",proceed:void 0,reset:void 0,location:Le}),Bt(ae,H)},reset(){let Xt=new Map(A.blockers);Xt.set(xt,qd),nt({blockers:Xt})}});return}return await Ut(Ge,Le,{submission:pe,pendingError:be,preventScrollReset:Ue,replace:H&&H.replace,enableViewTransition:H&&H.viewTransition,flushSync:lt})}function vn(){if(ve(),nt({revalidation:"loading"}),A.navigation.state!=="submitting"){if(A.navigation.state==="idle"){Ut(A.historyAction,A.location,{startUninterruptedRevalidation:!0});return}Ut($||A.historyAction,A.navigation.location,{overrideNavigation:A.navigation,enableViewTransition:X===!0})}}async function Ut(ae,H,J){G&&G.abort(),G=null,$=ae,V=(J&&J.startUninterruptedRevalidation)===!0,ci(A.location,A.matches),B=(J&&J.preventScrollReset)===!0,X=(J&&J.enableViewTransition)===!0;let ee=l||o,pe=J&&J.overrideNavigation,be=J!=null&&J.initialHydration&&A.matches&&A.matches.length>0&&!j?A.matches:Dl(ee,H,u),Re=(J&&J.flushSync)===!0;if(be&&A.initialized&&!Y&&oz(A.location,H)&&!(J&&J.submission&&_s(J.submission.formMethod))){Tt(H,{matches:be},{flushSync:Re});return}let Le=yi(be,ee,H.pathname);if(Le.active&&Le.matches&&(be=Le.matches),!be){let{error:jt,notFoundMatches:Lt,route:Ot}=bt(H.pathname);Tt(H,{matches:Lt,loaderData:{},errors:{[Ot.id]:jt}},{flushSync:Re});return}G=new AbortController;let et=qc(t.history,H,G.signal,J&&J.submission),Ge;if(J&&J.pendingError)Ge=[Ll(be).route.id,{type:_n.error,error:J.pendingError}];else if(J&&J.submission&&_s(J.submission.formMethod)){let jt=await fn(et,H,J.submission,be,Le.active,{replace:J.replace,flushSync:Re});if(jt.shortCircuited)return;if(jt.pendingActionResult){let[Lt,Ot]=jt.pendingActionResult;if(qi(Ot)&&jg(Ot.error)&&Ot.error.status===404){G=null,Tt(H,{matches:jt.matches,loaderData:{},errors:{[Lt]:Ot.error}});return}}be=jt.matches||be,Ge=jt.pendingActionResult,pe=J1(H,J.submission),Re=!1,Le.active=!1,et=qc(t.history,et.url,et.signal)}let{shortCircuited:Ue,matches:lt,loaderData:xt,errors:Xt}=await wn(et,H,be,Le.active,pe,J&&J.submission,J&&J.fetcherSubmission,J&&J.replace,J&&J.initialHydration===!0,Re,Ge);Ue||(G=null,Tt(H,zn({matches:lt||be},TN(Ge),{loaderData:xt,errors:Xt})))}async function fn(ae,H,J,ee,pe,be){be===void 0&&(be={}),ve();let Re=fz(H,J);if(nt({navigation:Re},{flushSync:be.flushSync===!0}),pe){let Ge=await en(ee,H.pathname,ae.signal);if(Ge.type==="aborted")return{shortCircuited:!0};if(Ge.type==="error"){let Ue=Ll(Ge.partialMatches).route.id;return{matches:Ge.partialMatches,pendingActionResult:[Ue,{type:_n.error,error:Ge.error}]}}else if(Ge.matches)ee=Ge.matches;else{let{notFoundMatches:Ue,error:lt,route:xt}=bt(H.pathname);return{matches:Ue,pendingActionResult:[xt.id,{type:_n.error,error:lt}]}}}let Le,et=Zm(ee,H);if(!et.route.action&&!et.route.lazy)Le={type:_n.error,error:Pi(405,{method:ae.method,pathname:H.pathname,routeId:et.route.id})};else if(Le=(await xe("action",A,ae,[et],ee,null))[et.route.id],ae.signal.aborted)return{shortCircuited:!0};if(Fl(Le)){let Ge;return be&&be.replace!=null?Ge=be.replace:Ge=SN(Le.response.headers.get("Location"),new URL(ae.url),u)===A.location.pathname+A.location.search,await jn(ae,Le,!0,{submission:J,replace:Ge}),{shortCircuited:!0}}if(Ca(Le))throw Pi(400,{type:"defer-action"});if(qi(Le)){let Ge=Ll(ee,et.route.id);return(be&&be.replace)!==!0&&($=mr.Push),{matches:ee,pendingActionResult:[Ge.route.id,Le]}}return{matches:ee,pendingActionResult:[et.route.id,Le]}}async function wn(ae,H,J,ee,pe,be,Re,Le,et,Ge,Ue){let lt=pe||J1(H,be),xt=be||Re||NN(lt),Xt=!V&&(!p.v7_partialHydration||!et);if(ee){if(Xt){let on=xn(Ue);nt(zn({navigation:lt},on!==void 0?{actionData:on}:{}),{flushSync:Ge})}let yt=await en(J,H.pathname,ae.signal);if(yt.type==="aborted")return{shortCircuited:!0};if(yt.type==="error"){let on=Ll(yt.partialMatches).route.id;return{matches:yt.partialMatches,loaderData:{},errors:{[on]:yt.error}}}else if(yt.matches)J=yt.matches;else{let{error:on,notFoundMatches:an,route:ur}=bt(H.pathname);return{matches:an,loaderData:{},errors:{[ur.id]:on}}}}let jt=l||o,[Lt,Ot]=xN(t.history,A,J,xt,H,p.v7_partialHydration&&et===!0,p.v7_skipActionErrorRevalidation,Y,ne,ue,De,U,Z,jt,u,Ue);if(ht(yt=>!(J&&J.some(on=>on.route.id===yt))||Lt&&Lt.some(on=>on.route.id===yt)),L=++ie,Lt.length===0&&Ot.length===0){let yt=ce();return Tt(H,zn({matches:J,loaderData:{},errors:Ue&&qi(Ue[1])?{[Ue[0]]:Ue[1].error}:null},TN(Ue),yt?{fetchers:new Map(A.fetchers)}:{}),{flushSync:Ge}),{shortCircuited:!0}}if(Xt){let yt={};if(!ee){yt.navigation=lt;let on=xn(Ue);on!==void 0&&(yt.actionData=on)}Ot.length>0&&(yt.fetchers=Zt(Ot)),nt(yt,{flushSync:Ge})}Ot.forEach(yt=>{ye(yt.key),yt.controller&&oe.set(yt.key,yt.controller)});let er=()=>Ot.forEach(yt=>ye(yt.key));G&&G.signal.addEventListener("abort",er);let{loaderResults:Nn,fetcherResults:bn}=await fe(A,J,Lt,Ot,ae);if(ae.signal.aborted)return{shortCircuited:!0};G&&G.signal.removeEventListener("abort",er),Ot.forEach(yt=>oe.delete(yt.key));let zt=wx(Nn);if(zt)return await jn(ae,zt.result,!0,{replace:Le}),{shortCircuited:!0};if(zt=wx(bn),zt)return Z.add(zt.key),await jn(ae,zt.result,!0,{replace:Le}),{shortCircuited:!0};let{loaderData:xr,errors:Cn}=CN(A,J,Nn,Ue,Ot,bn,je);je.forEach((yt,on)=>{yt.subscribe(an=>{(an||yt.done)&&je.delete(on)})}),p.v7_partialHydration&&et&&A.errors&&(Cn=zn({},A.errors,Cn));let Gr=ce(),Hr=Ce(L),Kr=Gr||Hr||Ot.length>0;return zn({matches:J,loaderData:xr,errors:Cn},Kr?{fetchers:new Map(A.fetchers)}:{})}function xn(ae){if(ae&&!qi(ae[1]))return{[ae[0]]:ae[1].data};if(A.actionData)return Object.keys(A.actionData).length===0?null:A.actionData}function Zt(ae){return ae.forEach(H=>{let J=A.fetchers.get(H.key),ee=Gd(void 0,J?J.data:void 0);A.fetchers.set(H.key,ee)}),new Map(A.fetchers)}function un(ae,H,J,ee){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");ye(ae);let pe=(ee&&ee.flushSync)===!0,be=l||o,Re=kb(A.location,A.matches,u,p.v7_prependBasename,J,p.v7_relativeSplatPath,H,ee==null?void 0:ee.relative),Le=Dl(be,Re,u),et=yi(Le,be,Re);if(et.active&&et.matches&&(Le=et.matches),!Le){Ye(ae,H,Pi(404,{pathname:Re}),{flushSync:pe});return}let{path:Ge,submission:Ue,error:lt}=gN(p.v7_normalizeFormMethod,!0,Re,ee);if(lt){Ye(ae,H,lt,{flushSync:pe});return}let xt=Zm(Le,Ge),Xt=(ee&&ee.preventScrollReset)===!0;if(Ue&&_s(Ue.formMethod)){Hn(ae,H,Ge,xt,Le,et.active,pe,Xt,Ue);return}U.set(ae,{routeId:H,path:Ge}),Tn(ae,H,Ge,xt,Le,et.active,pe,Xt,Ue)}async function Hn(ae,H,J,ee,pe,be,Re,Le,et){ve(),U.delete(ae);function Ge($t){if(!$t.route.action&&!$t.route.lazy){let Yr=Pi(405,{method:et.formMethod,pathname:J,routeId:H});return Ye(ae,H,Yr,{flushSync:Re}),!0}return!1}if(!be&&Ge(ee))return;let Ue=A.fetchers.get(ae);Ie(ae,hz(et,Ue),{flushSync:Re});let lt=new AbortController,xt=qc(t.history,J,lt.signal,et);if(be){let $t=await en(pe,new URL(xt.url).pathname,xt.signal,ae);if($t.type==="aborted")return;if($t.type==="error"){Ye(ae,H,$t.error,{flushSync:Re});return}else if($t.matches){if(pe=$t.matches,ee=Zm(pe,J),Ge(ee))return}else{Ye(ae,H,Pi(404,{pathname:J}),{flushSync:Re});return}}oe.set(ae,lt);let Xt=ie,Lt=(await xe("action",A,xt,[ee],pe,ae))[ee.route.id];if(xt.signal.aborted){oe.get(ae)===lt&&oe.delete(ae);return}if(p.v7_fetcherPersist&&De.has(ae)){if(Fl(Lt)||qi(Lt)){Ie(ae,ha(void 0));return}}else{if(Fl(Lt))if(oe.delete(ae),L>Xt){Ie(ae,ha(void 0));return}else return Z.add(ae),Ie(ae,Gd(et)),jn(xt,Lt,!1,{fetcherSubmission:et,preventScrollReset:Le});if(qi(Lt)){Ye(ae,H,Lt.error);return}}if(Ca(Lt))throw Pi(400,{type:"defer-action"});let Ot=A.navigation.location||A.location,er=qc(t.history,Ot,lt.signal),Nn=l||o,bn=A.navigation.state!=="idle"?Dl(Nn,A.navigation.location,u):A.matches;tn(bn,"Didn't find any matches after fetcher action");let zt=++ie;F.set(ae,zt);let xr=Gd(et,Lt.data);A.fetchers.set(ae,xr);let[Cn,Gr]=xN(t.history,A,bn,et,Ot,!1,p.v7_skipActionErrorRevalidation,Y,ne,ue,De,U,Z,Nn,u,[ee.route.id,Lt]);Gr.filter($t=>$t.key!==ae).forEach($t=>{let Yr=$t.key,Ms=A.fetchers.get(Yr),qo=Gd(void 0,Ms?Ms.data:void 0);A.fetchers.set(Yr,qo),ye(Yr),$t.controller&&oe.set(Yr,$t.controller)}),nt({fetchers:new Map(A.fetchers)});let Hr=()=>Gr.forEach($t=>ye($t.key));lt.signal.addEventListener("abort",Hr);let{loaderResults:Kr,fetcherResults:yt}=await fe(A,bn,Cn,Gr,er);if(lt.signal.aborted)return;lt.signal.removeEventListener("abort",Hr),F.delete(ae),oe.delete(ae),Gr.forEach($t=>oe.delete($t.key));let on=wx(Kr);if(on)return jn(er,on.result,!1,{preventScrollReset:Le});if(on=wx(yt),on)return Z.add(on.key),jn(er,on.result,!1,{preventScrollReset:Le});let{loaderData:an,errors:ur}=CN(A,bn,Kr,void 0,Gr,yt,je);if(A.fetchers.has(ae)){let $t=ha(Lt.data);A.fetchers.set(ae,$t)}Ce(zt),A.navigation.state==="loading"&&zt>L?(tn($,"Expected pending action"),G&&G.abort(),Tt(A.navigation.location,{matches:bn,loaderData:an,errors:ur,fetchers:new Map(A.fetchers)})):(nt({errors:ur,loaderData:_N(A.loaderData,an,bn,ur),fetchers:new Map(A.fetchers)}),Y=!1)}async function Tn(ae,H,J,ee,pe,be,Re,Le,et){let Ge=A.fetchers.get(ae);Ie(ae,Gd(et,Ge?Ge.data:void 0),{flushSync:Re});let Ue=new AbortController,lt=qc(t.history,J,Ue.signal);if(be){let Lt=await en(pe,new URL(lt.url).pathname,lt.signal,ae);if(Lt.type==="aborted")return;if(Lt.type==="error"){Ye(ae,H,Lt.error,{flushSync:Re});return}else if(Lt.matches)pe=Lt.matches,ee=Zm(pe,J);else{Ye(ae,H,Pi(404,{pathname:J}),{flushSync:Re});return}}oe.set(ae,Ue);let xt=ie,jt=(await xe("loader",A,lt,[ee],pe,ae))[ee.route.id];if(Ca(jt)&&(jt=await f_(jt,lt.signal,!0)||jt),oe.get(ae)===Ue&&oe.delete(ae),!lt.signal.aborted){if(De.has(ae)){Ie(ae,ha(void 0));return}if(Fl(jt))if(L>xt){Ie(ae,ha(void 0));return}else{Z.add(ae),await jn(lt,jt,!1,{preventScrollReset:Le});return}if(qi(jt)){Ye(ae,H,jt.error);return}tn(!Ca(jt),"Unhandled fetcher deferred data"),Ie(ae,ha(jt.data))}}async function jn(ae,H,J,ee){let{submission:pe,fetcherSubmission:be,preventScrollReset:Re,replace:Le}=ee===void 0?{}:ee;H.response.headers.has("X-Remix-Revalidate")&&(Y=!0);let et=H.response.headers.get("Location");tn(et,"Expected a Location header on the redirect Response"),et=SN(et,new URL(ae.url),u);let Ge=Ng(A.location,et,{_isRedirect:!0});if(n){let Lt=!1;if(H.response.headers.has("X-Remix-Reload-Document"))Lt=!0;else if(d_.test(et)){const Ot=t.history.createURL(et);Lt=Ot.origin!==e.location.origin||Hu(Ot.pathname,u)==null}if(Lt){Le?e.location.replace(et):e.location.assign(et);return}}G=null;let Ue=Le===!0||H.response.headers.has("X-Remix-Replace")?mr.Replace:mr.Push,{formMethod:lt,formAction:xt,formEncType:Xt}=A.navigation;!pe&&!be&&lt&&xt&&Xt&&(pe=NN(A.navigation));let jt=pe||be;if(HV.has(H.response.status)&&jt&&_s(jt.formMethod))await Ut(Ue,Ge,{submission:zn({},jt,{formAction:et}),preventScrollReset:Re||B,enableViewTransition:J?X:void 0});else{let Lt=J1(Ge,pe);await Ut(Ue,Ge,{overrideNavigation:Lt,fetcherSubmission:be,preventScrollReset:Re||B,enableViewTransition:J?X:void 0})}}async function xe(ae,H,J,ee,pe,be){let Re,Le={};try{Re=await tz(d,ae,H,J,ee,pe,be,s,i)}catch(et){return ee.forEach(Ge=>{Le[Ge.route.id]={type:_n.error,error:et}}),Le}for(let[et,Ge]of Object.entries(Re))if(az(Ge)){let Ue=Ge.result;Le[et]={type:_n.redirect,response:iz(Ue,J,et,pe,u,p.v7_relativeSplatPath)}}else Le[et]=await rz(Ge);return Le}async function fe(ae,H,J,ee,pe){let be=ae.matches,Re=xe("loader",ae,pe,J,H,null),Le=Promise.all(ee.map(async Ue=>{if(Ue.matches&&Ue.match&&Ue.controller){let xt=(await xe("loader",ae,qc(t.history,Ue.path,Ue.controller.signal),[Ue.match],Ue.matches,Ue.key))[Ue.match.route.id];return{[Ue.key]:xt}}else return Promise.resolve({[Ue.key]:{type:_n.error,error:Pi(404,{pathname:Ue.path})}})})),et=await Re,Ge=(await Le).reduce((Ue,lt)=>Object.assign(Ue,lt),{});return await Promise.all([uz(H,et,pe.signal,be,ae.loaderData),dz(H,Ge,ee)]),{loaderResults:et,fetcherResults:Ge}}function ve(){Y=!0,ne.push(...ht()),U.forEach((ae,H)=>{oe.has(H)&&ue.add(H),ye(H)})}function Ie(ae,H,J){J===void 0&&(J={}),A.fetchers.set(ae,H),nt({fetchers:new Map(A.fetchers)},{flushSync:(J&&J.flushSync)===!0})}function Ye(ae,H,J,ee){ee===void 0&&(ee={});let pe=Ll(A.matches,H);Vt(ae),nt({errors:{[pe.route.id]:J},fetchers:new Map(A.fetchers)},{flushSync:(ee&&ee.flushSync)===!0})}function it(ae){return Ne.set(ae,(Ne.get(ae)||0)+1),De.has(ae)&&De.delete(ae),A.fetchers.get(ae)||KV}function Vt(ae){let H=A.fetchers.get(ae);oe.has(ae)&&!(H&&H.state==="loading"&&F.has(ae))&&ye(ae),U.delete(ae),F.delete(ae),Z.delete(ae),p.v7_fetcherPersist&&De.delete(ae),ue.delete(ae),A.fetchers.delete(ae)}function Sn(ae){let H=(Ne.get(ae)||0)-1;H<=0?(Ne.delete(ae),De.add(ae),p.v7_fetcherPersist||Vt(ae)):Ne.set(ae,H),nt({fetchers:new Map(A.fetchers)})}function ye(ae){let H=oe.get(ae);H&&(H.abort(),oe.delete(ae))}function Ze(ae){for(let H of ae){let J=it(H),ee=ha(J.data);A.fetchers.set(H,ee)}}function ce(){let ae=[],H=!1;for(let J of Z){let ee=A.fetchers.get(J);tn(ee,"Expected fetcher: "+J),ee.state==="loading"&&(Z.delete(J),ae.push(J),H=!0)}return Ze(ae),H}function Ce(ae){let H=[];for(let[J,ee]of F)if(ee<ae){let pe=A.fetchers.get(J);tn(pe,"Expected fetcher: "+J),pe.state==="loading"&&(ye(J),F.delete(J),H.push(J))}return Ze(H),H.length>0}function Ee(ae,H){let J=A.blockers.get(ae)||qd;return Te.get(ae)!==H&&Te.set(ae,H),J}function _e(ae){A.blockers.delete(ae),Te.delete(ae)}function Et(ae,H){let J=A.blockers.get(ae)||qd;tn(J.state==="unblocked"&&H.state==="blocked"||J.state==="blocked"&&H.state==="blocked"||J.state==="blocked"&&H.state==="proceeding"||J.state==="blocked"&&H.state==="unblocked"||J.state==="proceeding"&&H.state==="unblocked","Invalid blocker state transition: "+J.state+" -> "+H.state);let ee=new Map(A.blockers);ee.set(ae,H),nt({blockers:ee})}function At(ae){let{currentLocation:H,nextLocation:J,historyAction:ee}=ae;if(Te.size===0)return;Te.size>1&&Ou(!1,"A router only supports one blocker at a time");let pe=Array.from(Te.entries()),[be,Re]=pe[pe.length-1],Le=A.blockers.get(be);if(!(Le&&Le.state==="proceeding")&&Re({currentLocation:H,nextLocation:J,historyAction:ee}))return be}function bt(ae){let H=Pi(404,{pathname:ae}),J=l||o,{matches:ee,route:pe}=EN(J);return ht(),{notFoundMatches:ee,route:pe,error:H}}function ht(ae){let H=[];return je.forEach((J,ee)=>{(!ae||ae(ee))&&(J.cancel(),H.push(ee),je.delete(ee))}),H}function qt(ae,H,J){if(b=ae,_=H,C=J||null,!P&&A.navigation===Y1){P=!0;let ee=qr(A.location,A.matches);ee!=null&&nt({restoreScrollPosition:ee})}return()=>{b=null,_=null,C=null}}function sr(ae,H){return C&&C(ae,H.map(ee=>TV(ee,A.loaderData)))||ae.key}function ci(ae,H){if(b&&_){let J=sr(ae,H);b[J]=_()}}function qr(ae,H){if(b){let J=sr(ae,H),ee=b[J];if(typeof ee=="number")return ee}return null}function yi(ae,H,J){if(h)if(ae){if(Object.keys(ae[0].params).length>0)return{active:!0,matches:av(H,J,u,!0)}}else return{active:!0,matches:av(H,J,u,!0)||[]};return{active:!1,matches:null}}async function en(ae,H,J,ee){if(!h)return{type:"success",matches:ae};let pe=ae;for(;;){let be=l==null,Re=l||o,Le=s;try{await h({signal:J,path:H,matches:pe,fetcherKey:ee,patch:(Ue,lt)=>{J.aborted||wN(Ue,lt,Re,Le,i)}})}catch(Ue){return{type:"error",error:Ue,partialMatches:pe}}finally{be&&!J.aborted&&(o=[...o])}if(J.aborted)return{type:"aborted"};let et=Dl(Re,H,u);if(et)return{type:"success",matches:et};let Ge=av(Re,H,u,!0);if(!Ge||pe.length===Ge.length&&pe.every((Ue,lt)=>Ue.route.id===Ge[lt].route.id))return{type:"success",matches:null};pe=Ge}}function Kn(ae){s={},l=_v(ae,i,void 0,s)}function Tr(ae,H){let J=l==null;wN(ae,H,l||o,s,i),J&&(o=[...o],nt({}))}return M={get basename(){return u},get future(){return p},get state(){return A},get routes(){return o},get window(){return e},initialize:$e,subscribe:tt,enableScrollRestoration:qt,navigate:Bt,fetch:un,revalidate:vn,createHref:ae=>t.history.createHref(ae),encodeLocation:ae=>t.history.encodeLocation(ae),getFetcher:it,deleteFetcher:Sn,dispose:He,getBlocker:Ee,deleteBlocker:_e,patchRoutes:Tr,_internalFetchControllers:oe,_internalActiveDeferreds:je,_internalSetRoutes:Kn},M}function XV(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function kb(t,e,n,r,i,s,o,l){let u,d;if(o){u=[];for(let p of e)if(u.push(p),p.route.id===o){d=p;break}}else u=e,d=e[e.length-1];let h=l0(i||".",a0(u,s),Hu(t.pathname,n)||t.pathname,l==="path");if(i==null&&(h.search=t.search,h.hash=t.hash),(i==null||i===""||i===".")&&d){let p=h_(h.search);if(d.route.index&&!p)h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&p){let g=new URLSearchParams(h.search),y=g.getAll("index");g.delete("index"),y.filter(C=>C).forEach(C=>g.append("index",C));let b=g.toString();h.search=b?"?"+b:""}}return r&&n!=="/"&&(h.pathname=h.pathname==="/"?n:jo([n,h.pathname])),Jl(h)}function gN(t,e,n,r){if(!r||!XV(r))return{path:n};if(r.formMethod&&!cz(r.formMethod))return{path:n,error:Pi(405,{method:r.formMethod})};let i=()=>({path:n,error:Pi(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),l=c3(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!_s(o))return i();let g=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((y,b)=>{let[C,_]=b;return""+y+C+"="+_+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:void 0,text:g}}}else if(r.formEncType==="application/json"){if(!_s(o))return i();try{let g=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:g,text:void 0}}}catch{return i()}}}tn(typeof FormData=="function","FormData is not available in this environment");let u,d;if(r.formData)u=Mb(r.formData),d=r.formData;else if(r.body instanceof FormData)u=Mb(r.body),d=r.body;else if(r.body instanceof URLSearchParams)u=r.body,d=bN(u);else if(r.body==null)u=new URLSearchParams,d=new FormData;else try{u=new URLSearchParams(r.body),d=bN(u)}catch{return i()}let h={formMethod:o,formAction:l,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(_s(h.formMethod))return{path:n,submission:h};let p=Va(n);return e&&p.search&&h_(p.search)&&u.append("index",""),p.search="?"+u,{path:Jl(p),submission:h}}function yN(t,e,n){n===void 0&&(n=!1);let r=t.findIndex(i=>i.route.id===e);return r>=0?t.slice(0,n?r+1:r):t}function xN(t,e,n,r,i,s,o,l,u,d,h,p,g,y,b,C){let _=C?qi(C[1])?C[1].error:C[1].data:void 0,P=t.createURL(e.location),E=t.createURL(i),j=n;s&&e.errors?j=yN(n,Object.keys(e.errors)[0],!0):C&&qi(C[1])&&(j=yN(n,C[0]));let R=C?C[1].statusCode:void 0,I=o&&R&&R>=400,M=j.filter(($,B)=>{let{route:G}=$;if(G.lazy)return!0;if(G.loader==null)return!1;if(s)return Ib(G,e.loaderData,e.errors);if(QV(e.loaderData,e.matches[B],$)||u.some(W=>W===$.route.id))return!0;let X=e.matches[B],K=$;return vN($,zn({currentUrl:P,currentParams:X.params,nextUrl:E,nextParams:K.params},r,{actionResult:_,actionStatus:R,defaultShouldRevalidate:I?!1:l||P.pathname+P.search===E.pathname+E.search||P.search!==E.search||a3(X,K)}))}),A=[];return p.forEach(($,B)=>{if(s||!n.some(V=>V.route.id===$.routeId)||h.has(B))return;let G=Dl(y,$.path,b);if(!G){A.push({key:B,routeId:$.routeId,path:$.path,matches:null,match:null,controller:null});return}let X=e.fetchers.get(B),K=Zm(G,$.path),W=!1;g.has(B)?W=!1:d.has(B)?(d.delete(B),W=!0):X&&X.state!=="idle"&&X.data===void 0?W=l:W=vN(K,zn({currentUrl:P,currentParams:e.matches[e.matches.length-1].params,nextUrl:E,nextParams:n[n.length-1].params},r,{actionResult:_,actionStatus:R,defaultShouldRevalidate:I?!1:l})),W&&A.push({key:B,routeId:$.routeId,path:$.path,matches:G,match:K,controller:new AbortController})}),[M,A]}function Ib(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&e[t.id]!==void 0,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function QV(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function a3(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function vN(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function wN(t,e,n,r,i){var s;let o;if(t){let d=r[t];tn(d,"No route found to patch children into: routeId = "+t),d.children||(d.children=[]),o=d.children}else o=n;let l=e.filter(d=>!o.some(h=>l3(d,h))),u=_v(l,i,[t||"_","patch",String(((s=o)==null?void 0:s.length)||"0")],r);o.push(...u)}function l3(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var i;return(i=e.children)==null?void 0:i.some(s=>l3(n,s))}):!1}async function ZV(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];tn(i,"No route found in manifest");let s={};for(let o in r){let u=i[o]!==void 0&&o!=="hasErrorBoundary";Ou(!u,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!u&&!CV.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,zn({},e(i),{lazy:void 0}))}async function ez(t){let{matches:e}=t,n=e.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,s,o)=>Object.assign(i,{[n[o].route.id]:s}),{})}async function tz(t,e,n,r,i,s,o,l,u,d){let h=s.map(y=>y.route.lazy?ZV(y.route,u,l):void 0),p=s.map((y,b)=>{let C=h[b],_=i.some(E=>E.route.id===y.route.id);return zn({},y,{shouldLoad:_,resolve:async E=>(E&&r.method==="GET"&&(y.route.lazy||y.route.loader)&&(_=!0),_?nz(e,r,y,C,E,d):Promise.resolve({type:_n.data,result:void 0}))})}),g=await t({matches:p,request:r,params:s[0].params,fetcherKey:o,context:d});try{await Promise.all(h)}catch{}return g}async function nz(t,e,n,r,i,s){let o,l,u=d=>{let h,p=new Promise((b,C)=>h=C);l=()=>h(),e.signal.addEventListener("abort",l);let g=b=>typeof d!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):d({request:e,params:n.params,context:s},...b!==void 0?[b]:[]),y=(async()=>{try{return{type:"data",result:await(i?i(C=>g(C)):g())}}catch(b){return{type:"error",result:b}}})();return Promise.race([y,p])};try{let d=n.route[t];if(r)if(d){let h,[p]=await Promise.all([u(d).catch(g=>{h=g}),r]);if(h!==void 0)throw h;o=p}else if(await r,d=n.route[t],d)o=await u(d);else if(t==="action"){let h=new URL(e.url),p=h.pathname+h.search;throw Pi(405,{method:e.method,pathname:p,routeId:n.route.id})}else return{type:_n.data,result:void 0};else if(d)o=await u(d);else{let h=new URL(e.url),p=h.pathname+h.search;throw Pi(404,{pathname:p})}tn(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(d){return{type:_n.error,result:d}}finally{l&&e.signal.removeEventListener("abort",l)}return o}async function rz(t){let{result:e,type:n}=t;if(u3(e)){let p;try{let g=e.headers.get("Content-Type");g&&/\bapplication\/json\b/.test(g)?e.body==null?p=null:p=await e.json():p=await e.text()}catch(g){return{type:_n.error,error:g}}return n===_n.error?{type:_n.error,error:new Tv(e.status,e.statusText,p),statusCode:e.status,headers:e.headers}:{type:_n.data,data:p,statusCode:e.status,headers:e.headers}}if(n===_n.error){if(PN(e)){var r,i;if(e.data instanceof Error){var s,o;return{type:_n.error,error:e.data,statusCode:(s=e.init)==null?void 0:s.status,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}}return{type:_n.error,error:new Tv(((r=e.init)==null?void 0:r.status)||500,void 0,e.data),statusCode:jg(e)?e.status:void 0,headers:(i=e.init)!=null&&i.headers?new Headers(e.init.headers):void 0}}return{type:_n.error,error:e,statusCode:jg(e)?e.status:void 0}}if(lz(e)){var l,u;return{type:_n.deferred,deferredData:e,statusCode:(l=e.init)==null?void 0:l.status,headers:((u=e.init)==null?void 0:u.headers)&&new Headers(e.init.headers)}}if(PN(e)){var d,h;return{type:_n.data,data:e.data,statusCode:(d=e.init)==null?void 0:d.status,headers:(h=e.init)!=null&&h.headers?new Headers(e.init.headers):void 0}}return{type:_n.data,data:e}}function iz(t,e,n,r,i,s){let o=t.headers.get("Location");if(tn(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!d_.test(o)){let l=r.slice(0,r.findIndex(u=>u.route.id===n)+1);o=kb(new URL(e.url),l,i,!0,o,s),t.headers.set("Location",o)}return t}function SN(t,e,n){if(d_.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=Hu(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function qc(t,e,n,r){let i=t.createURL(c3(e)).toString(),s={signal:n};if(r&&_s(r.formMethod)){let{formMethod:o,formEncType:l}=r;s.method=o.toUpperCase(),l==="application/json"?(s.headers=new Headers({"Content-Type":l}),s.body=JSON.stringify(r.json)):l==="text/plain"?s.body=r.text:l==="application/x-www-form-urlencoded"&&r.formData?s.body=Mb(r.formData):s.body=r.formData}return new Request(i,s)}function Mb(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function bN(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function sz(t,e,n,r,i){let s={},o=null,l,u=!1,d={},h=n&&qi(n[1])?n[1].error:void 0;return t.forEach(p=>{if(!(p.route.id in e))return;let g=p.route.id,y=e[g];if(tn(!Fl(y),"Cannot handle redirect results in processLoaderData"),qi(y)){let b=y.error;h!==void 0&&(b=h,h=void 0),o=o||{};{let C=Ll(t,g);o[C.route.id]==null&&(o[C.route.id]=b)}s[g]=void 0,u||(u=!0,l=jg(y.error)?y.error.status:500),y.headers&&(d[g]=y.headers)}else Ca(y)?(r.set(g,y.deferredData),s[g]=y.deferredData.data,y.statusCode!=null&&y.statusCode!==200&&!u&&(l=y.statusCode),y.headers&&(d[g]=y.headers)):(s[g]=y.data,y.statusCode&&y.statusCode!==200&&!u&&(l=y.statusCode),y.headers&&(d[g]=y.headers))}),h!==void 0&&n&&(o={[n[0]]:h},s[n[0]]=void 0),{loaderData:s,errors:o,statusCode:l||200,loaderHeaders:d}}function CN(t,e,n,r,i,s,o){let{loaderData:l,errors:u}=sz(e,n,r,o);return i.forEach(d=>{let{key:h,match:p,controller:g}=d,y=s[h];if(tn(y,"Did not find corresponding fetcher result"),!(g&&g.signal.aborted))if(qi(y)){let b=Ll(t.matches,p==null?void 0:p.route.id);u&&u[b.route.id]||(u=zn({},u,{[b.route.id]:y.error})),t.fetchers.delete(h)}else if(Fl(y))tn(!1,"Unhandled fetcher revalidation redirect");else if(Ca(y))tn(!1,"Unhandled fetcher deferred data");else{let b=ha(y.data);t.fetchers.set(h,b)}}),{loaderData:l,errors:u}}function _N(t,e,n,r){let i=zn({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function TN(t){return t?qi(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Ll(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function EN(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Pi(t,e){let{pathname:n,routeId:r,method:i,type:s,message:o}=e===void 0?{}:e,l="Unknown Server Error",u="Unknown @remix-run/router error";return t===400?(l="Bad Request",i&&n&&r?u="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?u="defer() is not supported in actions":s==="invalid-body"&&(u="Unable to encode submission body")):t===403?(l="Forbidden",u='Route "'+r+'" does not match URL "'+n+'"'):t===404?(l="Not Found",u='No route matches URL "'+n+'"'):t===405&&(l="Method Not Allowed",i&&n&&r?u="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(u='Invalid request method "'+i.toUpperCase()+'"')),new Tv(t||500,l,new Error(u),!0)}function wx(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(Fl(i))return{key:r,result:i}}}function c3(t){let e=typeof t=="string"?Va(t):t;return Jl(zn({},e,{hash:""}))}function oz(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function az(t){return u3(t.result)&&GV.has(t.result.status)}function Ca(t){return t.type===_n.deferred}function qi(t){return t.type===_n.error}function Fl(t){return(t&&t.type)===_n.redirect}function PN(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function lz(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function u3(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function cz(t){return qV.has(t.toLowerCase())}function _s(t){return zV.has(t.toLowerCase())}async function uz(t,e,n,r,i){let s=Object.entries(e);for(let o=0;o<s.length;o++){let[l,u]=s[o],d=t.find(g=>(g==null?void 0:g.route.id)===l);if(!d)continue;let h=r.find(g=>g.route.id===d.route.id),p=h!=null&&!a3(h,d)&&(i&&i[d.route.id])!==void 0;Ca(u)&&p&&await f_(u,n,!1).then(g=>{g&&(e[l]=g)})}}async function dz(t,e,n){for(let r=0;r<n.length;r++){let{key:i,routeId:s,controller:o}=n[r],l=e[i];t.find(d=>(d==null?void 0:d.route.id)===s)&&Ca(l)&&(tn(o,"Expected an AbortController for revalidating fetcher deferred result"),await f_(l,o.signal,!0).then(d=>{d&&(e[i]=d)}))}}async function f_(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:_n.data,data:t.deferredData.unwrappedData}}catch(i){return{type:_n.error,error:i}}return{type:_n.data,data:t.deferredData.data}}}function h_(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Zm(t,e){let n=typeof e=="string"?Va(e).search:e.search;if(t[t.length-1].route.index&&h_(n||""))return t[t.length-1];let r=i3(t);return r[r.length-1]}function NN(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function J1(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function fz(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Gd(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function hz(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function ha(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function pz(t,e){try{let n=t.sessionStorage.getItem(o3);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function mz(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(o3,JSON.stringify(n))}catch(r){Ou(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ev(){return Ev=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ev.apply(this,arguments)}const c0=x.createContext(null),d3=x.createContext(null),za=x.createContext(null),p_=x.createContext(null),so=x.createContext({outlet:null,matches:[],isDataRoute:!1}),f3=x.createContext(null);function gz(t,e){let{relative:n}=e===void 0?{}:e;Ku()||tn(!1);let{basename:r,navigator:i}=x.useContext(za),{hash:s,pathname:o,search:l}=p3(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:jo([r,o])),i.createHref({pathname:u,search:l,hash:s})}function Ku(){return x.useContext(p_)!=null}function Fo(){return Ku()||tn(!1),x.useContext(p_).location}function h3(t){x.useContext(za).static||x.useLayoutEffect(t)}function Rs(){let{isDataRoute:t}=x.useContext(so);return t?Rz():yz()}function yz(){Ku()||tn(!1);let t=x.useContext(c0),{basename:e,future:n,navigator:r}=x.useContext(za),{matches:i}=x.useContext(so),{pathname:s}=Fo(),o=JSON.stringify(a0(i,n.v7_relativeSplatPath)),l=x.useRef(!1);return h3(()=>{l.current=!0}),x.useCallback(function(d,h){if(h===void 0&&(h={}),!l.current)return;if(typeof d=="number"){r.go(d);return}let p=l0(d,JSON.parse(o),s,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:jo([e,p.pathname])),(h.replace?r.replace:r.push)(p,h.state,h)},[e,r,o,s,t])}const xz=x.createContext(null);function vz(t){let e=x.useContext(so).outlet;return e&&x.createElement(xz.Provider,{value:t},e)}function u0(){let{matches:t}=x.useContext(so),e=t[t.length-1];return e?e.params:{}}function p3(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=x.useContext(za),{matches:i}=x.useContext(so),{pathname:s}=Fo(),o=JSON.stringify(a0(i,r.v7_relativeSplatPath));return x.useMemo(()=>l0(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function wz(t,e,n,r){Ku()||tn(!1);let{navigator:i}=x.useContext(za),{matches:s}=x.useContext(so),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let d=Fo(),h;h=d;let p=h.pathname||"/",g=p;if(u!=="/"){let C=u.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(C.length).join("/")}let y=Dl(t,{pathname:g});return Tz(y&&y.map(C=>Object.assign({},C,{params:Object.assign({},l,C.params),pathname:jo([u,i.encodeLocation?i.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?u:jo([u,i.encodeLocation?i.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),s,n,r)}function Sz(){let t=jz(),e=jg(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),n?x.createElement("pre",{style:i},n):null,null)}const bz=x.createElement(Sz,null);class Cz extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?x.createElement(so.Provider,{value:this.props.routeContext},x.createElement(f3.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function _z(t){let{routeContext:e,match:n,children:r}=t,i=x.useContext(c0);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(so.Provider,{value:e},r)}function Tz(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let h=o.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);h>=0||tn(!1),o=o.slice(0,Math.min(o.length,h+1))}let u=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let p=o[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=h),p.route.id){let{loaderData:g,errors:y}=n,b=p.route.loader&&g[p.route.id]===void 0&&(!y||y[p.route.id]===void 0);if(p.route.lazy||b){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((h,p,g)=>{let y,b=!1,C=null,_=null;n&&(y=l&&p.route.id?l[p.route.id]:void 0,C=p.route.errorElement||bz,u&&(d<0&&g===0?(Az("route-fallback"),b=!0,_=null):d===g&&(b=!0,_=p.route.hydrateFallbackElement||null)));let P=e.concat(o.slice(0,g+1)),E=()=>{let j;return y?j=C:b?j=_:p.route.Component?j=x.createElement(p.route.Component,null):p.route.element?j=p.route.element:j=h,x.createElement(_z,{match:p,routeContext:{outlet:h,matches:P,isDataRoute:n!=null},children:j})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?x.createElement(Cz,{location:n.location,revalidation:n.revalidation,component:C,error:y,children:E(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):E()},null)}var m3=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(m3||{}),g3=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(g3||{});function Ez(t){let e=x.useContext(c0);return e||tn(!1),e}function Pz(t){let e=x.useContext(d3);return e||tn(!1),e}function Nz(t){let e=x.useContext(so);return e||tn(!1),e}function y3(t){let e=Nz(),n=e.matches[e.matches.length-1];return n.route.id||tn(!1),n.route.id}function jz(){var t;let e=x.useContext(f3),n=Pz(),r=y3();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Rz(){let{router:t}=Ez(m3.UseNavigateStable),e=y3(g3.UseNavigateStable),n=x.useRef(!1);return h3(()=>{n.current=!0}),x.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ev({fromRouteId:e},s)))},[t,e])}const jN={};function Az(t,e,n){jN[t]||(jN[t]=!0)}function kz(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function m_(t){let{to:e,replace:n,state:r,relative:i}=t;Ku()||tn(!1);let{future:s,static:o}=x.useContext(za),{matches:l}=x.useContext(so),{pathname:u}=Fo(),d=Rs(),h=l0(e,a0(l,s.v7_relativeSplatPath),u,i==="path"),p=JSON.stringify(h);return x.useEffect(()=>d(JSON.parse(p),{replace:n,state:r,relative:i}),[d,p,i,n,r]),null}function Iz(t){return vz(t.context)}function Mz(t){let{basename:e="/",children:n=null,location:r,navigationType:i=mr.Pop,navigator:s,static:o=!1,future:l}=t;Ku()&&tn(!1);let u=e.replace(/^\/*/,"/"),d=x.useMemo(()=>({basename:u,navigator:s,static:o,future:Ev({v7_relativeSplatPath:!1},l)}),[u,l,s,o]);typeof r=="string"&&(r=Va(r));let{pathname:h="/",search:p="",hash:g="",state:y=null,key:b="default"}=r,C=x.useMemo(()=>{let _=Hu(h,u);return _==null?null:{location:{pathname:_,search:p,hash:g,state:y,key:b},navigationType:i}},[u,h,p,g,y,b,i]);return C==null?null:x.createElement(za.Provider,{value:d},x.createElement(p_.Provider,{children:n,value:C}))}new Promise(()=>{});function Dz(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:x.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:x.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:x.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rg(){return Rg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rg.apply(this,arguments)}function Lz(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Oz(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function $z(t,e){return t.button===0&&(!e||e==="_self")&&!Oz(t)}const Fz=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Bz="6";try{window.__reactRouterVersion=Bz}catch{}function Uz(t,e){return JV({basename:e==null?void 0:e.basename,future:Rg({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:wV({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||Vz(),routes:t,mapRouteProperties:Dz,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function Vz(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Rg({},e,{errors:zz(e.errors)})),e}function zz(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Tv(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const Wz=x.createContext({isTransitioning:!1}),qz=x.createContext(new Map),Gz="startTransition",RN=o0[Gz],Hz="flushSync",AN=vV[Hz];function Kz(t){RN?RN(t):t()}function Hd(t){AN?AN(t):t()}let Yz=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function Jz(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=x.useState(n.state),[o,l]=x.useState(),[u,d]=x.useState({isTransitioning:!1}),[h,p]=x.useState(),[g,y]=x.useState(),[b,C]=x.useState(),_=x.useRef(new Map),{v7_startTransition:P}=r||{},E=x.useCallback($=>{P?Kz($):$()},[P]),j=x.useCallback(($,B)=>{let{deletedFetchers:G,flushSync:X,viewTransitionOpts:K}=B;$.fetchers.forEach((V,Y)=>{V.data!==void 0&&_.current.set(Y,V.data)}),G.forEach(V=>_.current.delete(V));let W=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!K||W){X?Hd(()=>s($)):E(()=>s($));return}if(X){Hd(()=>{g&&(h&&h.resolve(),g.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:K.currentLocation,nextLocation:K.nextLocation})});let V=n.window.document.startViewTransition(()=>{Hd(()=>s($))});V.finished.finally(()=>{Hd(()=>{p(void 0),y(void 0),l(void 0),d({isTransitioning:!1})})}),Hd(()=>y(V));return}g?(h&&h.resolve(),g.skipTransition(),C({state:$,currentLocation:K.currentLocation,nextLocation:K.nextLocation})):(l($),d({isTransitioning:!0,flushSync:!1,currentLocation:K.currentLocation,nextLocation:K.nextLocation}))},[n.window,g,h,_,E]);x.useLayoutEffect(()=>n.subscribe(j),[n,j]),x.useEffect(()=>{u.isTransitioning&&!u.flushSync&&p(new Yz)},[u]),x.useEffect(()=>{if(h&&o&&n.window){let $=o,B=h.promise,G=n.window.document.startViewTransition(async()=>{E(()=>s($)),await B});G.finished.finally(()=>{p(void 0),y(void 0),l(void 0),d({isTransitioning:!1})}),y(G)}},[E,o,h,n.window]),x.useEffect(()=>{h&&o&&i.location.key===o.location.key&&h.resolve()},[h,g,i.location,o]),x.useEffect(()=>{!u.isTransitioning&&b&&(l(b.state),d({isTransitioning:!0,flushSync:!1,currentLocation:b.currentLocation,nextLocation:b.nextLocation}),C(void 0))},[u.isTransitioning,b]),x.useEffect(()=>{},[]);let R=x.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:$=>n.navigate($),push:($,B,G)=>n.navigate($,{state:B,preventScrollReset:G==null?void 0:G.preventScrollReset}),replace:($,B,G)=>n.navigate($,{replace:!0,state:B,preventScrollReset:G==null?void 0:G.preventScrollReset})}),[n]),I=n.basename||"/",M=x.useMemo(()=>({router:n,navigator:R,static:!1,basename:I}),[n,R,I]),A=x.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return x.useEffect(()=>kz(r,n.future),[r,n.future]),x.createElement(x.Fragment,null,x.createElement(c0.Provider,{value:M},x.createElement(d3.Provider,{value:i},x.createElement(qz.Provider,{value:_.current},x.createElement(Wz.Provider,{value:u},x.createElement(Mz,{basename:I,location:i.location,navigationType:i.historyAction,navigator:R,future:A},i.initialized||n.future.v7_partialHydration?x.createElement(Xz,{routes:n.routes,future:n.future,state:i}):e))))),null)}const Xz=x.memo(Qz);function Qz(t){let{routes:e,future:n,state:r}=t;return wz(e,void 0,r,n)}const Zz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",eW=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ni=x.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:u,to:d,preventScrollReset:h,viewTransition:p}=e,g=Lz(e,Fz),{basename:y}=x.useContext(za),b,C=!1;if(typeof d=="string"&&eW.test(d)&&(b=d,Zz))try{let j=new URL(window.location.href),R=d.startsWith("//")?new URL(j.protocol+d):new URL(d),I=Hu(R.pathname,y);R.origin===j.origin&&I!=null?d=I+R.search+R.hash:C=!0}catch{}let _=gz(d,{relative:i}),P=tW(d,{replace:o,state:l,target:u,preventScrollReset:h,relative:i,viewTransition:p});function E(j){r&&r(j),j.defaultPrevented||P(j)}return x.createElement("a",Rg({},g,{href:b||_,onClick:C||s?r:E,ref:n,target:u}))});var kN;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(kN||(kN={}));var IN;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(IN||(IN={}));function tW(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:l}=e===void 0?{}:e,u=Rs(),d=Fo(),h=p3(t,{relative:o});return x.useCallback(p=>{if($z(p,n)){p.preventDefault();let g=r!==void 0?r:Jl(d)===Jl(h);u(t,{replace:g,state:i,preventScrollReset:s,relative:o,viewTransition:l})}},[d,u,h,r,i,n,t,s,o,l])}function x3(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=x3(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function v3(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=x3(t))&&(r&&(r+=" "),r+=e);return r}function nW(){for(var t=0,e,n,r="";t<arguments.length;)(e=arguments[t++])&&(n=w3(e))&&(r&&(r+=" "),r+=n);return r}function w3(t){if(typeof t=="string")return t;for(var e,n="",r=0;r<t.length;r++)t[r]&&(e=w3(t[r]))&&(n&&(n+=" "),n+=e);return n}var g_="-";function rW(t){var e=sW(t),n=t.conflictingClassGroups,r=t.conflictingClassGroupModifiers,i=r===void 0?{}:r;function s(l){var u=l.split(g_);return u[0]===""&&u.length!==1&&u.shift(),S3(u,e)||iW(l)}function o(l,u){var d=n[l]||[];return u&&i[l]?[].concat(d,i[l]):d}return{getClassGroupId:s,getConflictingClassGroupIds:o}}function S3(t,e){var o;if(t.length===0)return e.classGroupId;var n=t[0],r=e.nextPart.get(n),i=r?S3(t.slice(1),r):void 0;if(i)return i;if(e.validators.length!==0){var s=t.join(g_);return(o=e.validators.find(function(l){var u=l.validator;return u(s)}))==null?void 0:o.classGroupId}}var MN=/^\[(.+)\]$/;function iW(t){if(MN.test(t)){var e=MN.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function sW(t){var e=t.theme,n=t.prefix,r={nextPart:new Map,validators:[]},i=aW(Object.entries(t.classGroups),n);return i.forEach(function(s){var o=s[0],l=s[1];Db(l,r,o,e)}),r}function Db(t,e,n,r){t.forEach(function(i){if(typeof i=="string"){var s=i===""?e:DN(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(oW(i)){Db(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(function(o){var l=o[0],u=o[1];Db(u,DN(e,l),n,r)})})}function DN(t,e){var n=t;return e.split(g_).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function oW(t){return t.isThemeGetter}function aW(t,e){return e?t.map(function(n){var r=n[0],i=n[1],s=i.map(function(o){return typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(function(l){var u=l[0],d=l[1];return[e+u,d]})):o});return[r,s]}):t}function lW(t){if(t<1)return{get:function(){},set:function(){}};var e=0,n=new Map,r=new Map;function i(s,o){n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)}return{get:function(o){var l=n.get(o);if(l!==void 0)return l;if((l=r.get(o))!==void 0)return i(o,l),l},set:function(o,l){n.has(o)?n.set(o,l):i(o,l)}}}var b3="!";function cW(t){var e=t.separator||":",n=e.length===1,r=e[0],i=e.length;return function(o){for(var l=[],u=0,d=0,h,p=0;p<o.length;p++){var g=o[p];if(u===0){if(g===r&&(n||o.slice(p,p+i)===e)){l.push(o.slice(d,p)),d=p+i;continue}if(g==="/"){h=p;continue}}g==="["?u++:g==="]"&&u--}var y=l.length===0?o:o.substring(d),b=y.startsWith(b3),C=b?y.substring(1):y,_=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:b,baseClassName:C,maybePostfixModifierPosition:_}}}function uW(t){if(t.length<=1)return t;var e=[],n=[];return t.forEach(function(r){var i=r[0]==="[";i?(e.push.apply(e,n.sort().concat([r])),n=[]):n.push(r)}),e.push.apply(e,n.sort()),e}function dW(t){return{cache:lW(t.cacheSize),splitModifiers:cW(t),...rW(t)}}var fW=/\s+/;function hW(t,e){var n=e.splitModifiers,r=e.getClassGroupId,i=e.getConflictingClassGroupIds,s=new Set;return t.trim().split(fW).map(function(o){var l=n(o),u=l.modifiers,d=l.hasImportantModifier,h=l.baseClassName,p=l.maybePostfixModifierPosition,g=r(p?h.substring(0,p):h),y=!!p;if(!g){if(!p)return{isTailwindClass:!1,originalClassName:o};if(g=r(h),!g)return{isTailwindClass:!1,originalClassName:o};y=!1}var b=uW(u).join(":"),C=d?b+b3:b;return{isTailwindClass:!0,modifierId:C,classGroupId:g,originalClassName:o,hasPostfixModifier:y}}).reverse().filter(function(o){if(!o.isTailwindClass)return!0;var l=o.modifierId,u=o.classGroupId,d=o.hasPostfixModifier,h=l+u;return s.has(h)?!1:(s.add(h),i(u,d).forEach(function(p){return s.add(l+p)}),!0)}).reverse().map(function(o){return o.originalClassName}).join(" ")}function pW(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,i,s,o=l;function l(d){var h=e[0],p=e.slice(1),g=p.reduce(function(y,b){return b(y)},h());return r=dW(g),i=r.cache.get,s=r.cache.set,o=u,u(d)}function u(d){var h=i(d);if(h)return h;var p=hW(d,r);return s(d,p),p}return function(){return o(nW.apply(null,arguments))}}function Bn(t){var e=function(r){return r[t]||[]};return e.isThemeGetter=!0,e}var C3=/^\[(?:([a-z-]+):)?(.+)\]$/i,mW=/^\d+\/\d+$/,gW=new Set(["px","full","screen"]),yW=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,xW=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,vW=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function Ss(t){return Bl(t)||gW.has(t)||mW.test(t)||Lb(t)}function Lb(t){return nc(t,"length",TW)}function wW(t){return nc(t,"size",_3)}function SW(t){return nc(t,"position",_3)}function bW(t){return nc(t,"url",EW)}function Sx(t){return nc(t,"number",Bl)}function Bl(t){return!Number.isNaN(Number(t))}function CW(t){return t.endsWith("%")&&Bl(t.slice(0,-1))}function Kd(t){return LN(t)||nc(t,"number",LN)}function nn(t){return C3.test(t)}function Yd(){return!0}function la(t){return yW.test(t)}function _W(t){return nc(t,"",PW)}function nc(t,e,n){var r=C3.exec(t);return r?r[1]?r[1]===e:n(r[2]):!1}function TW(t){return xW.test(t)}function _3(){return!1}function EW(t){return t.startsWith("url(")}function LN(t){return Number.isInteger(Number(t))}function PW(t){return vW.test(t)}function NW(){var t=Bn("colors"),e=Bn("spacing"),n=Bn("blur"),r=Bn("brightness"),i=Bn("borderColor"),s=Bn("borderRadius"),o=Bn("borderSpacing"),l=Bn("borderWidth"),u=Bn("contrast"),d=Bn("grayscale"),h=Bn("hueRotate"),p=Bn("invert"),g=Bn("gap"),y=Bn("gradientColorStops"),b=Bn("gradientColorStopPositions"),C=Bn("inset"),_=Bn("margin"),P=Bn("opacity"),E=Bn("padding"),j=Bn("saturate"),R=Bn("scale"),I=Bn("sepia"),M=Bn("skew"),A=Bn("space"),$=Bn("translate"),B=function(){return["auto","contain","none"]},G=function(){return["auto","hidden","clip","visible","scroll"]},X=function(){return["auto",nn,e]},K=function(){return[nn,e]},W=function(){return["",Ss]},V=function(){return["auto",Bl,nn]},Y=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},ne=function(){return["solid","dashed","dotted","double","none"]},ue=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},oe=function(){return["start","end","center","between","around","evenly","stretch"]},ie=function(){return["","0",nn]},L=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},F=function(){return[Bl,Sx]},Z=function(){return[Bl,nn]};return{cacheSize:500,theme:{colors:[Yd],spacing:[Ss],blur:["none","",la,nn],brightness:F(),borderColor:[t],borderRadius:["none","","full",la,nn],borderSpacing:K(),borderWidth:W(),contrast:F(),grayscale:ie(),hueRotate:Z(),invert:ie(),gap:K(),gradientColorStops:[t],gradientColorStopPositions:[CW,Lb],inset:X(),margin:X(),opacity:F(),padding:K(),saturate:F(),scale:F(),sepia:ie(),skew:Z(),space:K(),translate:K()},classGroups:{aspect:[{aspect:["auto","square","video",nn]}],container:["container"],columns:[{columns:[la]}],"break-after":[{"break-after":L()}],"break-before":[{"break-before":L()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(Y(),[nn])}],overflow:[{overflow:G()}],"overflow-x":[{"overflow-x":G()}],"overflow-y":[{"overflow-y":G()}],overscroll:[{overscroll:B()}],"overscroll-x":[{"overscroll-x":B()}],"overscroll-y":[{"overscroll-y":B()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[C]}],"inset-x":[{"inset-x":[C]}],"inset-y":[{"inset-y":[C]}],start:[{start:[C]}],end:[{end:[C]}],top:[{top:[C]}],right:[{right:[C]}],bottom:[{bottom:[C]}],left:[{left:[C]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Kd]}],basis:[{basis:X()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",nn]}],grow:[{grow:ie()}],shrink:[{shrink:ie()}],order:[{order:["first","last","none",Kd]}],"grid-cols":[{"grid-cols":[Yd]}],"col-start-end":[{col:["auto",{span:["full",Kd]},nn]}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":[Yd]}],"row-start-end":[{row:["auto",{span:[Kd]},nn]}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",nn]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",nn]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal"].concat(oe())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(oe(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(oe(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[E]}],px:[{px:[E]}],py:[{py:[E]}],ps:[{ps:[E]}],pe:[{pe:[E]}],pt:[{pt:[E]}],pr:[{pr:[E]}],pb:[{pb:[E]}],pl:[{pl:[E]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",nn,e]}],"min-w":[{"min-w":["min","max","fit",nn,Ss]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[la]},la,nn]}],h:[{h:[nn,e,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",nn,Ss]}],"max-h":[{"max-h":[nn,e,"min","max","fit"]}],"font-size":[{text:["base",la,Lb]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Sx]}],"font-family":[{font:[Yd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",nn]}],"line-clamp":[{"line-clamp":["none",Bl,Sx]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",nn,Ss]}],"list-image":[{"list-image":["none",nn]}],"list-style-type":[{list:["none","disc","decimal",nn]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[P]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[P]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(ne(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",Ss]}],"underline-offset":[{"underline-offset":["auto",nn,Ss]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:K()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",nn]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",nn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[P]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(Y(),[SW])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",wW]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},bW]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[P]}],"border-style":[{border:[].concat(ne(),["hidden"])}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[P]}],"divide-style":[{divide:ne()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:[""].concat(ne())}],"outline-offset":[{"outline-offset":[nn,Ss]}],"outline-w":[{outline:[Ss]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:W()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[P]}],"ring-offset-w":[{"ring-offset":[Ss]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",la,_W]}],"shadow-color":[{shadow:[Yd]}],opacity:[{opacity:[P]}],"mix-blend":[{"mix-blend":ue()}],"bg-blend":[{"bg-blend":ue()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",la,nn]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[p]}],saturate:[{saturate:[j]}],sepia:[{sepia:[I]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[P]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[I]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",nn]}],duration:[{duration:Z()}],ease:[{ease:["linear","in","out","in-out",nn]}],delay:[{delay:Z()}],animate:[{animate:["none","spin","ping","pulse","bounce",nn]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[R]}],"scale-x":[{"scale-x":[R]}],"scale-y":[{"scale-y":[R]}],rotate:[{rotate:[Kd,nn]}],"translate-x":[{"translate-x":[$]}],"translate-y":[{"translate-y":[$]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",nn]}],accent:[{accent:["auto",t]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",nn]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":K()}],"scroll-mx":[{"scroll-mx":K()}],"scroll-my":[{"scroll-my":K()}],"scroll-ms":[{"scroll-ms":K()}],"scroll-me":[{"scroll-me":K()}],"scroll-mt":[{"scroll-mt":K()}],"scroll-mr":[{"scroll-mr":K()}],"scroll-mb":[{"scroll-mb":K()}],"scroll-ml":[{"scroll-ml":K()}],"scroll-p":[{"scroll-p":K()}],"scroll-px":[{"scroll-px":K()}],"scroll-py":[{"scroll-py":K()}],"scroll-ps":[{"scroll-ps":K()}],"scroll-pe":[{"scroll-pe":K()}],"scroll-pt":[{"scroll-pt":K()}],"scroll-pr":[{"scroll-pr":K()}],"scroll-pb":[{"scroll-pb":K()}],"scroll-pl":[{"scroll-pl":K()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",nn]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ss,Sx]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var jW=pW(NW);let bx;const RW=new Uint8Array(16);function AW(){if(!bx&&(bx=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!bx))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return bx(RW)}const Br=[];for(let t=0;t<256;++t)Br.push((t+256).toString(16).slice(1));function kW(t,e=0){return Br[t[e+0]]+Br[t[e+1]]+Br[t[e+2]]+Br[t[e+3]]+"-"+Br[t[e+4]]+Br[t[e+5]]+"-"+Br[t[e+6]]+Br[t[e+7]]+"-"+Br[t[e+8]]+Br[t[e+9]]+"-"+Br[t[e+10]]+Br[t[e+11]]+Br[t[e+12]]+Br[t[e+13]]+Br[t[e+14]]+Br[t[e+15]]}const IW=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),ON={randomUUID:IW};function MW(t,e,n){if(ON.randomUUID&&!t)return ON.randomUUID();t=t||{};const r=t.random||(t.rng||AW)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,kW(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let DW,LW;function OW(){return{geminiUrl:DW,vertexUrl:LW}}function $W(t,e,n){var r,i,s;if(!(!((r=t.httpOptions)===null||r===void 0)&&r.baseUrl)){const o=OW();return t.vertexai?(i=o.vertexUrl)!==null&&i!==void 0?i:e:(s=o.geminiUrl)!==null&&s!==void 0?s:n}return t.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gg{}function It(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const s=e[i];return s!=null?String(s):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function S(t,e,n){for(let s=0;s<e.length-1;s++){const o=e[s];if(o.endsWith("[]")){const l=o.slice(0,-2);if(!(l in t))if(Array.isArray(n))t[l]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${o}`);if(Array.isArray(t[l])){const u=t[l];if(Array.isArray(n))for(let d=0;d<u.length;d++){const h=u[d];S(h,e.slice(s+1),n[d])}else for(const d of u)S(d,e.slice(s+1),n)}return}else if(o.endsWith("[0]")){const l=o.slice(0,-3);l in t||(t[l]=[{}]);const u=t[l];S(u[0],e.slice(s+1),n);return}(!t[o]||typeof t[o]!="object")&&(t[o]={}),t=t[o]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else t[r]=n}function w(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const r=e[n];if(r.endsWith("[]")){const i=r.slice(0,-2);if(i in t){const s=t[i];return Array.isArray(s)?s.map(o=>w(o,e.slice(n+1))):void 0}else return}else t=t[r]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wn(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function T3(t,e){const n=Wn(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function E3(t,e){return Array.isArray(e)?e.map(n=>Pv(t,n)):[Pv(t,e)]}function Pv(t,e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function FW(t,e){const n=Pv(t,e);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function BW(t,e){const n=Pv(t,e);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function $N(t,e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function P3(t,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(n=>$N(t,n)):[$N(t,e)]}function Ob(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function FN(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function BN(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function ji(t,e){if(e==null)throw new Error("ContentUnion is required");return Ob(e)?e:{role:"user",parts:P3(t,e)}}function N3(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=ji(t,n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=ji(t,e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>ji(t,n)):[ji(t,e)]}function Wa(t,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(FN(e)||BN(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ji(t,e)]}const n=[],r=[],i=Ob(e[0]);for(const s of e){const o=Ob(s);if(o!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)n.push(s);else{if(FN(s)||BN(s))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");r.push(s)}}return i||n.push({role:"user",parts:P3(t,r)}),n}function j3(t,e){return e}function R3(t,e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function d0(t,e){return e}function f0(t,e){if(!Array.isArray(e))throw new Error("tool is required and must be an array of Tools");return e}function UW(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function qa(t,e){if(typeof e!="string")throw new Error("name must be a string");return UW(t,e,"cachedContents")}function A3(t,e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function Ga(t,e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function VW(t){return t!=null&&typeof t=="object"&&"name"in t}function zW(t){return t!=null&&typeof t=="object"&&"video"in t}function WW(t){return t!=null&&typeof t=="object"&&"uri"in t}function k3(t,e){var n;let r;if(VW(e)&&(r=e.name),!(WW(e)&&(r=e.uri,r===void 0))&&!(zW(e)&&(r=(n=e.video)===null||n===void 0?void 0:n.uri,r===void 0))){if(typeof e=="string"&&(r=e),r===void 0)throw new Error("Could not extract file name from the provided input.");if(r.startsWith("https://")){const s=r.split("files/")[1].match(/[a-z0-9]+/);if(s===null)throw new Error(`Could not extract file name from URI ${r}`);r=s[0]}else r.startsWith("files/")&&(r=r.split("files/")[1]);return r}}function I3(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function M3(t,e){for(const n of["models","tunedModels","publisherModels"])if(qW(e,n))return e[n];return[]}function qW(t,e){return t!==null&&typeof t=="object"&&e in t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function GW(t,e){const n={};if(w(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=w(e,["data"]);r!=null&&S(n,["data"],r);const i=w(e,["mimeType"]);return i!=null&&S(n,["mimeType"],i),n}function HW(t,e){const n={};if(w(e,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const r=w(e,["thought"]);r!=null&&S(n,["thought"],r);const i=w(e,["inlineData"]);i!=null&&S(n,["inlineData"],GW(t,i));const s=w(e,["codeExecutionResult"]);s!=null&&S(n,["codeExecutionResult"],s);const o=w(e,["executableCode"]);o!=null&&S(n,["executableCode"],o);const l=w(e,["fileData"]);l!=null&&S(n,["fileData"],l);const u=w(e,["functionCall"]);u!=null&&S(n,["functionCall"],u);const d=w(e,["functionResponse"]);d!=null&&S(n,["functionResponse"],d);const h=w(e,["text"]);return h!=null&&S(n,["text"],h),n}function UN(t,e){const n={},r=w(e,["parts"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>HW(t,o))),S(n,["parts"],s)}const i=w(e,["role"]);return i!=null&&S(n,["role"],i),n}function KW(){return{}}function YW(t,e){const n={},r=w(e,["mode"]);r!=null&&S(n,["mode"],r);const i=w(e,["dynamicThreshold"]);return i!=null&&S(n,["dynamicThreshold"],i),n}function JW(t,e){const n={},r=w(e,["dynamicRetrievalConfig"]);return r!=null&&S(n,["dynamicRetrievalConfig"],YW(t,r)),n}function XW(t,e){const n={};if(w(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");w(e,["googleSearch"])!=null&&S(n,["googleSearch"],KW());const i=w(e,["googleSearchRetrieval"]);if(i!=null&&S(n,["googleSearchRetrieval"],JW(t,i)),w(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(w(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");const s=w(e,["codeExecution"]);s!=null&&S(n,["codeExecution"],s);const o=w(e,["functionDeclarations"]);return o!=null&&S(n,["functionDeclarations"],o),n}function QW(t,e){const n={},r=w(e,["mode"]);r!=null&&S(n,["mode"],r);const i=w(e,["allowedFunctionNames"]);return i!=null&&S(n,["allowedFunctionNames"],i),n}function ZW(t,e){const n={},r=w(e,["functionCallingConfig"]);if(r!=null&&S(n,["functionCallingConfig"],QW(t,r)),w(e,["retrievalConfig"])!==void 0)throw new Error("retrievalConfig parameter is not supported in Gemini API.");return n}function eq(t,e,n){const r={},i=w(e,["ttl"]);n!==void 0&&i!=null&&S(n,["ttl"],i);const s=w(e,["expireTime"]);n!==void 0&&s!=null&&S(n,["expireTime"],s);const o=w(e,["displayName"]);n!==void 0&&o!=null&&S(n,["displayName"],o);const l=w(e,["contents"]);if(n!==void 0&&l!=null){let p=Wa(t,l);Array.isArray(p)&&(p=p.map(g=>UN(t,g))),S(n,["contents"],p)}const u=w(e,["systemInstruction"]);n!==void 0&&u!=null&&S(n,["systemInstruction"],UN(t,ji(t,u)));const d=w(e,["tools"]);if(n!==void 0&&d!=null){let p=d;Array.isArray(p)&&(p=p.map(g=>XW(t,g))),S(n,["tools"],p)}const h=w(e,["toolConfig"]);return n!==void 0&&h!=null&&S(n,["toolConfig"],ZW(t,h)),r}function tq(t,e){const n={},r=w(e,["model"]);r!=null&&S(n,["model"],T3(t,r));const i=w(e,["config"]);return i!=null&&S(n,["config"],eq(t,i,n)),n}function nq(t,e){const n={},r=w(e,["name"]);r!=null&&S(n,["_url","name"],qa(t,r));const i=w(e,["config"]);return i!=null&&S(n,["config"],i),n}function rq(t,e){const n={},r=w(e,["name"]);r!=null&&S(n,["_url","name"],qa(t,r));const i=w(e,["config"]);return i!=null&&S(n,["config"],i),n}function iq(t,e,n){const r={},i=w(e,["ttl"]);n!==void 0&&i!=null&&S(n,["ttl"],i);const s=w(e,["expireTime"]);return n!==void 0&&s!=null&&S(n,["expireTime"],s),r}function sq(t,e){const n={},r=w(e,["name"]);r!=null&&S(n,["_url","name"],qa(t,r));const i=w(e,["config"]);return i!=null&&S(n,["config"],iq(t,i,n)),n}function oq(t,e,n){const r={},i=w(e,["pageSize"]);n!==void 0&&i!=null&&S(n,["_query","pageSize"],i);const s=w(e,["pageToken"]);return n!==void 0&&s!=null&&S(n,["_query","pageToken"],s),r}function aq(t,e){const n={},r=w(e,["config"]);return r!=null&&S(n,["config"],oq(t,r,n)),n}function lq(t,e){const n={},r=w(e,["displayName"]);r!=null&&S(n,["displayName"],r);const i=w(e,["data"]);i!=null&&S(n,["data"],i);const s=w(e,["mimeType"]);return s!=null&&S(n,["mimeType"],s),n}function cq(t,e){const n={},r=w(e,["videoMetadata"]);r!=null&&S(n,["videoMetadata"],r);const i=w(e,["thought"]);i!=null&&S(n,["thought"],i);const s=w(e,["inlineData"]);s!=null&&S(n,["inlineData"],lq(t,s));const o=w(e,["codeExecutionResult"]);o!=null&&S(n,["codeExecutionResult"],o);const l=w(e,["executableCode"]);l!=null&&S(n,["executableCode"],l);const u=w(e,["fileData"]);u!=null&&S(n,["fileData"],u);const d=w(e,["functionCall"]);d!=null&&S(n,["functionCall"],d);const h=w(e,["functionResponse"]);h!=null&&S(n,["functionResponse"],h);const p=w(e,["text"]);return p!=null&&S(n,["text"],p),n}function VN(t,e){const n={},r=w(e,["parts"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>cq(t,o))),S(n,["parts"],s)}const i=w(e,["role"]);return i!=null&&S(n,["role"],i),n}function uq(){return{}}function dq(t,e){const n={},r=w(e,["mode"]);r!=null&&S(n,["mode"],r);const i=w(e,["dynamicThreshold"]);return i!=null&&S(n,["dynamicThreshold"],i),n}function fq(t,e){const n={},r=w(e,["dynamicRetrievalConfig"]);return r!=null&&S(n,["dynamicRetrievalConfig"],dq(t,r)),n}function hq(){return{}}function pq(t,e){const n={},r=w(e,["apiKeyString"]);return r!=null&&S(n,["apiKeyString"],r),n}function mq(t,e){const n={},r=w(e,["apiKeyConfig"]);r!=null&&S(n,["apiKeyConfig"],pq(t,r));const i=w(e,["authType"]);i!=null&&S(n,["authType"],i);const s=w(e,["googleServiceAccountConfig"]);s!=null&&S(n,["googleServiceAccountConfig"],s);const o=w(e,["httpBasicAuthConfig"]);o!=null&&S(n,["httpBasicAuthConfig"],o);const l=w(e,["oauthConfig"]);l!=null&&S(n,["oauthConfig"],l);const u=w(e,["oidcConfig"]);return u!=null&&S(n,["oidcConfig"],u),n}function gq(t,e){const n={},r=w(e,["authConfig"]);return r!=null&&S(n,["authConfig"],mq(t,r)),n}function yq(t,e){const n={},r=w(e,["retrieval"]);r!=null&&S(n,["retrieval"],r),w(e,["googleSearch"])!=null&&S(n,["googleSearch"],uq());const s=w(e,["googleSearchRetrieval"]);s!=null&&S(n,["googleSearchRetrieval"],fq(t,s)),w(e,["enterpriseWebSearch"])!=null&&S(n,["enterpriseWebSearch"],hq());const l=w(e,["googleMaps"]);l!=null&&S(n,["googleMaps"],gq(t,l));const u=w(e,["codeExecution"]);u!=null&&S(n,["codeExecution"],u);const d=w(e,["functionDeclarations"]);return d!=null&&S(n,["functionDeclarations"],d),n}function xq(t,e){const n={},r=w(e,["mode"]);r!=null&&S(n,["mode"],r);const i=w(e,["allowedFunctionNames"]);return i!=null&&S(n,["allowedFunctionNames"],i),n}function vq(t,e){const n={},r=w(e,["latitude"]);r!=null&&S(n,["latitude"],r);const i=w(e,["longitude"]);return i!=null&&S(n,["longitude"],i),n}function wq(t,e){const n={},r=w(e,["latLng"]);return r!=null&&S(n,["latLng"],vq(t,r)),n}function Sq(t,e){const n={},r=w(e,["functionCallingConfig"]);r!=null&&S(n,["functionCallingConfig"],xq(t,r));const i=w(e,["retrievalConfig"]);return i!=null&&S(n,["retrievalConfig"],wq(t,i)),n}function bq(t,e,n){const r={},i=w(e,["ttl"]);n!==void 0&&i!=null&&S(n,["ttl"],i);const s=w(e,["expireTime"]);n!==void 0&&s!=null&&S(n,["expireTime"],s);const o=w(e,["displayName"]);n!==void 0&&o!=null&&S(n,["displayName"],o);const l=w(e,["contents"]);if(n!==void 0&&l!=null){let p=Wa(t,l);Array.isArray(p)&&(p=p.map(g=>VN(t,g))),S(n,["contents"],p)}const u=w(e,["systemInstruction"]);n!==void 0&&u!=null&&S(n,["systemInstruction"],VN(t,ji(t,u)));const d=w(e,["tools"]);if(n!==void 0&&d!=null){let p=d;Array.isArray(p)&&(p=p.map(g=>yq(t,g))),S(n,["tools"],p)}const h=w(e,["toolConfig"]);return n!==void 0&&h!=null&&S(n,["toolConfig"],Sq(t,h)),r}function Cq(t,e){const n={},r=w(e,["model"]);r!=null&&S(n,["model"],T3(t,r));const i=w(e,["config"]);return i!=null&&S(n,["config"],bq(t,i,n)),n}function _q(t,e){const n={},r=w(e,["name"]);r!=null&&S(n,["_url","name"],qa(t,r));const i=w(e,["config"]);return i!=null&&S(n,["config"],i),n}function Tq(t,e){const n={},r=w(e,["name"]);r!=null&&S(n,["_url","name"],qa(t,r));const i=w(e,["config"]);return i!=null&&S(n,["config"],i),n}function Eq(t,e,n){const r={},i=w(e,["ttl"]);n!==void 0&&i!=null&&S(n,["ttl"],i);const s=w(e,["expireTime"]);return n!==void 0&&s!=null&&S(n,["expireTime"],s),r}function Pq(t,e){const n={},r=w(e,["name"]);r!=null&&S(n,["_url","name"],qa(t,r));const i=w(e,["config"]);return i!=null&&S(n,["config"],Eq(t,i,n)),n}function Nq(t,e,n){const r={},i=w(e,["pageSize"]);n!==void 0&&i!=null&&S(n,["_query","pageSize"],i);const s=w(e,["pageToken"]);return n!==void 0&&s!=null&&S(n,["_query","pageToken"],s),r}function jq(t,e){const n={},r=w(e,["config"]);return r!=null&&S(n,["config"],Nq(t,r,n)),n}function lv(t,e){const n={},r=w(e,["name"]);r!=null&&S(n,["name"],r);const i=w(e,["displayName"]);i!=null&&S(n,["displayName"],i);const s=w(e,["model"]);s!=null&&S(n,["model"],s);const o=w(e,["createTime"]);o!=null&&S(n,["createTime"],o);const l=w(e,["updateTime"]);l!=null&&S(n,["updateTime"],l);const u=w(e,["expireTime"]);u!=null&&S(n,["expireTime"],u);const d=w(e,["usageMetadata"]);return d!=null&&S(n,["usageMetadata"],d),n}function Rq(){return{}}function Aq(t,e){const n={},r=w(e,["nextPageToken"]);r!=null&&S(n,["nextPageToken"],r);const i=w(e,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>lv(t,o))),S(n,["cachedContents"],s)}return n}function cv(t,e){const n={},r=w(e,["name"]);r!=null&&S(n,["name"],r);const i=w(e,["displayName"]);i!=null&&S(n,["displayName"],i);const s=w(e,["model"]);s!=null&&S(n,["model"],s);const o=w(e,["createTime"]);o!=null&&S(n,["createTime"],o);const l=w(e,["updateTime"]);l!=null&&S(n,["updateTime"],l);const u=w(e,["expireTime"]);u!=null&&S(n,["expireTime"],u);const d=w(e,["usageMetadata"]);return d!=null&&S(n,["usageMetadata"],d),n}function kq(){return{}}function Iq(t,e){const n={},r=w(e,["nextPageToken"]);r!=null&&S(n,["nextPageToken"],r);const i=w(e,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>cv(t,o))),S(n,["cachedContents"],s)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var $u;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})($u||($u={}));class h0{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,s;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let o={config:{}};r?typeof r=="object"?o=Object.assign({},r):o=r:o={config:{}},o.config&&(o.config.pageToken=n.nextPageToken),this.paramsInternal=o,this.pageInternalSize=(s=(i=o.config)===null||i===void 0?void 0:i.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var zN;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(zN||(zN={}));var WN;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(WN||(WN={}));var Ir;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Ir||(Ir={}));var qN;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(qN||(qN={}));var Mr;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Mr||(Mr={}));var GN;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(GN||(GN={}));var HN;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(HN||(HN={}));var mn;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT"})(mn||(mn={}));var KN;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY"})(KN||(KN={}));var YN;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(YN||(YN={}));var JN;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(JN||(JN={}));var XN;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(XN||(XN={}));var QN;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(QN||(QN={}));var Vr;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Vr||(Vr={}));var ZN;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(ZN||(ZN={}));var $b;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})($b||($b={}));var ej;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(ej||(ej={}));var tj;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(tj||(tj={}));var nj;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(nj||(nj={}));var rj;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(rj||(rj={}));var ij;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(ij||(ij={}));var sj;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(sj||(sj={}));var oj;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi"})(oj||(oj={}));var aj;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(aj||(aj={}));var lj;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(lj||(lj={}));var cj;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(cj||(cj={}));var uj;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(uj||(uj={}));var dj;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(dj||(dj={}));var fj;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(fj||(fj={}));var hj;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(hj||(hj={}));var pj;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(pj||(pj={}));var mj;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(mj||(mj={}));var gj;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(gj||(gj={}));var yj;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(yj||(yj={}));class Cx{get text(){var e,n,r,i,s,o,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",h=!1;const p=[];for(const g of(u=(l=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)!==null&&u!==void 0?u:[]){for(const[y,b]of Object.entries(g))y!=="text"&&y!=="thought"&&(b!==null||b!==void 0)&&p.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;h=!0,d+=g.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?d:void 0}get data(){var e,n,r,i,s,o,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const h=[];for(const p of(u=(l=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)!==null&&u!==void 0?u:[]){for(const[g,y]of Object.entries(p))g!=="inlineData"&&(y!==null||y!==void 0)&&h.push(g);p.inlineData&&typeof p.inlineData.data=="string"&&(d+=atob(p.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,r,i,s,o,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(u=(l=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||u===void 0?void 0:u.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var e,n,r,i,s,o,l,u,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(u=(l=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||u===void 0?void 0:u.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((h==null?void 0:h.length)!==0)return(d=h==null?void 0:h[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,r,i,s,o,l,u,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(u=(l=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||u===void 0?void 0:u.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((h==null?void 0:h.length)!==0)return(d=h==null?void 0:h[0])===null||d===void 0?void 0:d.output}}class xj{}class vj{}class Mq{}class Dq{}class wj{}class Sj{}class bj{}class Lq{}class Cj{}class _j{}class Tj{}class Oq{}class Fb{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class $q{}class Fq{}class Bq{get text(){var e,n,r;let i="",s=!1;const o=[];for(const l of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,d]of Object.entries(l))u!=="text"&&u!=="thought"&&d!==null&&o.push(u);if(typeof l.text=="string"){if(typeof l.thought=="boolean"&&l.thought)continue;s=!0,i+=l.text}}return o.length>0&&console.warn(`there are non-text parts ${o} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?i:void 0}get data(){var e,n,r;let i="";const s=[];for(const o of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(o))l!=="inlineData"&&u!==null&&s.push(l);o.inlineData&&typeof o.inlineData.data=="string"&&(i+=atob(o.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Uq extends Gg{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new h0($u.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,s;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=Cq(this.apiClient,e);return l=It("cachedContents",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>cv(this.apiClient,h))}else{const d=tq(this.apiClient,e);return l=It("cachedContents",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>lv(this.apiClient,h))}}async get(e){var n,r,i,s;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=_q(this.apiClient,e);return l=It("{name}",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>cv(this.apiClient,h))}else{const d=nq(this.apiClient,e);return l=It("{name}",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>lv(this.apiClient,h))}}async delete(e){var n,r,i,s;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=Tq(this.apiClient,e);return l=It("{name}",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(()=>{const h=kq(),p=new _j;return Object.assign(p,h),p})}else{const d=rq(this.apiClient,e);return l=It("{name}",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(()=>{const h=Rq(),p=new _j;return Object.assign(p,h),p})}}async update(e){var n,r,i,s;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=Pq(this.apiClient,e);return l=It("{name}",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>cv(this.apiClient,h))}else{const d=sq(this.apiClient,e);return l=It("{name}",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>lv(this.apiClient,h))}}async listInternal(e){var n,r,i,s;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=jq(this.apiClient,e);return l=It("cachedContents",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>{const p=Iq(this.apiClient,h),g=new Tj;return Object.assign(g,p),g})}else{const d=aq(this.apiClient,e);return l=It("cachedContents",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>{const p=Aq(this.apiClient,h),g=new Tj;return Object.assign(g,p),g})}}}function Ej(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ii(t){return this instanceof ii?(this.v=t,this):new ii(t)}function Nv(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(y){return function(b){return Promise.resolve(b).then(y,p)}}function l(y,b){r[y]&&(i[y]=function(C){return new Promise(function(_,P){s.push([y,C,_,P])>1||u(y,C)})},b&&(i[y]=b(i[y])))}function u(y,b){try{d(r[y](b))}catch(C){g(s[0][3],C)}}function d(y){y.value instanceof ii?Promise.resolve(y.value.v).then(h,p):g(s[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function g(y,b){y(b),s.shift(),s.length&&u(s[0][0],s[0][1])}}function Bb(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Ej=="function"?Ej(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(l,u){o=t[s](o),i(l,u,o.done,o.value)})}}function i(s,o,l,u){Promise.resolve(u).then(function(d){s({value:d,done:l})},o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Vq(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:D3(n)}function D3(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||e.text!==void 0&&e.text==="")return!1;return!0}function zq(t){if(t.length!==0){if(t[0].role!=="user")throw new Error("History must start with a user turn.");for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Wq(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0,i=t[0];for(;r<n;)if(t[r].role==="user")i=t[r],r++;else{const s=[];let o=!0;for(;r<n&&t[r].role==="model";)s.push(t[r]),o&&!D3(t[r])&&(o=!1),r++;o&&(e.push(i),e.push(...s))}return e}class qq{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new Gq(this.apiClient,this.modelsModule,e.model,e.config,e.history)}}let Gq=class{constructor(e,n,r,i={},s=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=s,this.sendPromise=Promise.resolve(),zq(s)}async sendMessage(e){var n;await this.sendPromise;const r=ji(this.apiClient,e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var s,o;const u=(o=(s=(await i).candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content,d=u?[u]:[];this.recordHistory(r,d)})(),await this.sendPromise,i}async sendMessageStream(e){var n;await this.sendPromise;const r=ji(this.apiClient,e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const s=await i;return this.processStreamResponse(s,r)}getHistory(e=!1){return e?Wq(this.history):this.history}processStreamResponse(e,n){var r,i;return Nv(this,arguments,function*(){var o,l,u,d;const h=[];try{for(var p=!0,g=Bb(e),y;y=yield ii(g.next()),o=y.done,!o;p=!0){d=y.value,p=!1;const b=d;if(Vq(b)){const C=(i=(r=b.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;C!==void 0&&h.push(C)}yield yield ii(b)}}catch(b){l={error:b}}finally{try{!p&&!o&&(u=g.return)&&(yield ii(u.call(g)))}finally{if(l)throw l.error}}this.recordHistory(n,h)})}recordHistory(e,n){let r=[];n.length>0&&n.every(i=>i.role==="model")?r=n:r.push({role:"model",parts:[]}),this.history.push(e),this.history.push(...r)}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Hq(t,e,n){const r={},i=w(e,["pageSize"]);n!==void 0&&i!=null&&S(n,["_query","pageSize"],i);const s=w(e,["pageToken"]);return n!==void 0&&s!=null&&S(n,["_query","pageToken"],s),r}function Kq(t,e){const n={},r=w(e,["config"]);return r!=null&&S(n,["config"],Hq(t,r,n)),n}function Yq(t,e){const n={},r=w(e,["details"]);r!=null&&S(n,["details"],r);const i=w(e,["message"]);i!=null&&S(n,["message"],i);const s=w(e,["code"]);return s!=null&&S(n,["code"],s),n}function Jq(t,e){const n={},r=w(e,["name"]);r!=null&&S(n,["name"],r);const i=w(e,["displayName"]);i!=null&&S(n,["displayName"],i);const s=w(e,["mimeType"]);s!=null&&S(n,["mimeType"],s);const o=w(e,["sizeBytes"]);o!=null&&S(n,["sizeBytes"],o);const l=w(e,["createTime"]);l!=null&&S(n,["createTime"],l);const u=w(e,["expirationTime"]);u!=null&&S(n,["expirationTime"],u);const d=w(e,["updateTime"]);d!=null&&S(n,["updateTime"],d);const h=w(e,["sha256Hash"]);h!=null&&S(n,["sha256Hash"],h);const p=w(e,["uri"]);p!=null&&S(n,["uri"],p);const g=w(e,["downloadUri"]);g!=null&&S(n,["downloadUri"],g);const y=w(e,["state"]);y!=null&&S(n,["state"],y);const b=w(e,["source"]);b!=null&&S(n,["source"],b);const C=w(e,["videoMetadata"]);C!=null&&S(n,["videoMetadata"],C);const _=w(e,["error"]);return _!=null&&S(n,["error"],Yq(t,_)),n}function Xq(t,e){const n={},r=w(e,["file"]);r!=null&&S(n,["file"],Jq(t,r));const i=w(e,["config"]);return i!=null&&S(n,["config"],i),n}function Qq(t,e){const n={},r=w(e,["name"]);r!=null&&S(n,["_url","file"],k3(t,r));const i=w(e,["config"]);return i!=null&&S(n,["config"],i),n}function Zq(t,e){const n={},r=w(e,["name"]);r!=null&&S(n,["_url","file"],k3(t,r));const i=w(e,["config"]);return i!=null&&S(n,["config"],i),n}function eG(t,e){const n={},r=w(e,["details"]);r!=null&&S(n,["details"],r);const i=w(e,["message"]);i!=null&&S(n,["message"],i);const s=w(e,["code"]);return s!=null&&S(n,["code"],s),n}function Ub(t,e){const n={},r=w(e,["name"]);r!=null&&S(n,["name"],r);const i=w(e,["displayName"]);i!=null&&S(n,["displayName"],i);const s=w(e,["mimeType"]);s!=null&&S(n,["mimeType"],s);const o=w(e,["sizeBytes"]);o!=null&&S(n,["sizeBytes"],o);const l=w(e,["createTime"]);l!=null&&S(n,["createTime"],l);const u=w(e,["expirationTime"]);u!=null&&S(n,["expirationTime"],u);const d=w(e,["updateTime"]);d!=null&&S(n,["updateTime"],d);const h=w(e,["sha256Hash"]);h!=null&&S(n,["sha256Hash"],h);const p=w(e,["uri"]);p!=null&&S(n,["uri"],p);const g=w(e,["downloadUri"]);g!=null&&S(n,["downloadUri"],g);const y=w(e,["state"]);y!=null&&S(n,["state"],y);const b=w(e,["source"]);b!=null&&S(n,["source"],b);const C=w(e,["videoMetadata"]);C!=null&&S(n,["videoMetadata"],C);const _=w(e,["error"]);return _!=null&&S(n,["error"],eG(t,_)),n}function tG(t,e){const n={},r=w(e,["nextPageToken"]);r!=null&&S(n,["nextPageToken"],r);const i=w(e,["files"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>Ub(t,o))),S(n,["files"],s)}return n}function nG(){return{}}function rG(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let iG=class extends Gg{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new h0($u.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>Ub(this.apiClient,n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Kq(this.apiClient,e);return s=It("files",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const d=tG(this.apiClient,u),h=new Oq;return Object.assign(h,d),h})}}async createInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Xq(this.apiClient,e);return s=It("upload/v1beta/files",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(()=>{const u=nG(),d=new $q;return Object.assign(d,u),d})}}async get(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Qq(this.apiClient,e);return s=It("files/{file}",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>Ub(this.apiClient,u))}}async delete(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Zq(this.apiClient,e);return s=It("files/{file}",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(()=>{const u=rG(),d=new Fq;return Object.assign(d,u),d})}}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sG(t,e){const n={};if(w(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=w(e,["data"]);r!=null&&S(n,["data"],r);const i=w(e,["mimeType"]);return i!=null&&S(n,["mimeType"],i),n}function oG(t,e){const n={},r=w(e,["displayName"]);r!=null&&S(n,["displayName"],r);const i=w(e,["data"]);i!=null&&S(n,["data"],i);const s=w(e,["mimeType"]);return s!=null&&S(n,["mimeType"],s),n}function aG(t,e){const n={};if(w(e,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const r=w(e,["thought"]);r!=null&&S(n,["thought"],r);const i=w(e,["inlineData"]);i!=null&&S(n,["inlineData"],sG(t,i));const s=w(e,["codeExecutionResult"]);s!=null&&S(n,["codeExecutionResult"],s);const o=w(e,["executableCode"]);o!=null&&S(n,["executableCode"],o);const l=w(e,["fileData"]);l!=null&&S(n,["fileData"],l);const u=w(e,["functionCall"]);u!=null&&S(n,["functionCall"],u);const d=w(e,["functionResponse"]);d!=null&&S(n,["functionResponse"],d);const h=w(e,["text"]);return h!=null&&S(n,["text"],h),n}function lG(t,e){const n={},r=w(e,["videoMetadata"]);r!=null&&S(n,["videoMetadata"],r);const i=w(e,["thought"]);i!=null&&S(n,["thought"],i);const s=w(e,["inlineData"]);s!=null&&S(n,["inlineData"],oG(t,s));const o=w(e,["codeExecutionResult"]);o!=null&&S(n,["codeExecutionResult"],o);const l=w(e,["executableCode"]);l!=null&&S(n,["executableCode"],l);const u=w(e,["fileData"]);u!=null&&S(n,["fileData"],u);const d=w(e,["functionCall"]);d!=null&&S(n,["functionCall"],d);const h=w(e,["functionResponse"]);h!=null&&S(n,["functionResponse"],h);const p=w(e,["text"]);return p!=null&&S(n,["text"],p),n}function cG(t,e){const n={},r=w(e,["parts"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>aG(t,o))),S(n,["parts"],s)}const i=w(e,["role"]);return i!=null&&S(n,["role"],i),n}function uG(t,e){const n={},r=w(e,["parts"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>lG(t,o))),S(n,["parts"],s)}const i=w(e,["role"]);return i!=null&&S(n,["role"],i),n}function dG(){return{}}function fG(){return{}}function hG(t,e){const n={},r=w(e,["mode"]);r!=null&&S(n,["mode"],r);const i=w(e,["dynamicThreshold"]);return i!=null&&S(n,["dynamicThreshold"],i),n}function pG(t,e){const n={},r=w(e,["mode"]);r!=null&&S(n,["mode"],r);const i=w(e,["dynamicThreshold"]);return i!=null&&S(n,["dynamicThreshold"],i),n}function mG(t,e){const n={},r=w(e,["dynamicRetrievalConfig"]);return r!=null&&S(n,["dynamicRetrievalConfig"],hG(t,r)),n}function gG(t,e){const n={},r=w(e,["dynamicRetrievalConfig"]);return r!=null&&S(n,["dynamicRetrievalConfig"],pG(t,r)),n}function yG(){return{}}function xG(t,e){const n={},r=w(e,["apiKeyString"]);return r!=null&&S(n,["apiKeyString"],r),n}function vG(t,e){const n={},r=w(e,["apiKeyConfig"]);r!=null&&S(n,["apiKeyConfig"],xG(t,r));const i=w(e,["authType"]);i!=null&&S(n,["authType"],i);const s=w(e,["googleServiceAccountConfig"]);s!=null&&S(n,["googleServiceAccountConfig"],s);const o=w(e,["httpBasicAuthConfig"]);o!=null&&S(n,["httpBasicAuthConfig"],o);const l=w(e,["oauthConfig"]);l!=null&&S(n,["oauthConfig"],l);const u=w(e,["oidcConfig"]);return u!=null&&S(n,["oidcConfig"],u),n}function wG(t,e){const n={},r=w(e,["authConfig"]);return r!=null&&S(n,["authConfig"],vG(t,r)),n}function SG(t,e){const n={};if(w(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");w(e,["googleSearch"])!=null&&S(n,["googleSearch"],dG());const i=w(e,["googleSearchRetrieval"]);if(i!=null&&S(n,["googleSearchRetrieval"],mG(t,i)),w(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(w(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");const s=w(e,["codeExecution"]);s!=null&&S(n,["codeExecution"],s);const o=w(e,["functionDeclarations"]);return o!=null&&S(n,["functionDeclarations"],o),n}function bG(t,e){const n={},r=w(e,["retrieval"]);r!=null&&S(n,["retrieval"],r),w(e,["googleSearch"])!=null&&S(n,["googleSearch"],fG());const s=w(e,["googleSearchRetrieval"]);s!=null&&S(n,["googleSearchRetrieval"],gG(t,s)),w(e,["enterpriseWebSearch"])!=null&&S(n,["enterpriseWebSearch"],yG());const l=w(e,["googleMaps"]);l!=null&&S(n,["googleMaps"],wG(t,l));const u=w(e,["codeExecution"]);u!=null&&S(n,["codeExecution"],u);const d=w(e,["functionDeclarations"]);return d!=null&&S(n,["functionDeclarations"],d),n}function CG(t,e){const n={},r=w(e,["handle"]);if(r!=null&&S(n,["handle"],r),w(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function _G(t,e){const n={},r=w(e,["handle"]);r!=null&&S(n,["handle"],r);const i=w(e,["transparent"]);return i!=null&&S(n,["transparent"],i),n}function Pj(){return{}}function Nj(){return{}}function TG(t,e){const n={},r=w(e,["disabled"]);r!=null&&S(n,["disabled"],r);const i=w(e,["startOfSpeechSensitivity"]);i!=null&&S(n,["startOfSpeechSensitivity"],i);const s=w(e,["endOfSpeechSensitivity"]);s!=null&&S(n,["endOfSpeechSensitivity"],s);const o=w(e,["prefixPaddingMs"]);o!=null&&S(n,["prefixPaddingMs"],o);const l=w(e,["silenceDurationMs"]);return l!=null&&S(n,["silenceDurationMs"],l),n}function EG(t,e){const n={},r=w(e,["disabled"]);r!=null&&S(n,["disabled"],r);const i=w(e,["startOfSpeechSensitivity"]);i!=null&&S(n,["startOfSpeechSensitivity"],i);const s=w(e,["endOfSpeechSensitivity"]);s!=null&&S(n,["endOfSpeechSensitivity"],s);const o=w(e,["prefixPaddingMs"]);o!=null&&S(n,["prefixPaddingMs"],o);const l=w(e,["silenceDurationMs"]);return l!=null&&S(n,["silenceDurationMs"],l),n}function PG(t,e){const n={},r=w(e,["automaticActivityDetection"]);r!=null&&S(n,["automaticActivityDetection"],TG(t,r));const i=w(e,["activityHandling"]);i!=null&&S(n,["activityHandling"],i);const s=w(e,["turnCoverage"]);return s!=null&&S(n,["turnCoverage"],s),n}function NG(t,e){const n={},r=w(e,["automaticActivityDetection"]);r!=null&&S(n,["automaticActivityDetection"],EG(t,r));const i=w(e,["activityHandling"]);i!=null&&S(n,["activityHandling"],i);const s=w(e,["turnCoverage"]);return s!=null&&S(n,["turnCoverage"],s),n}function jG(t,e){const n={},r=w(e,["targetTokens"]);return r!=null&&S(n,["targetTokens"],r),n}function RG(t,e){const n={},r=w(e,["targetTokens"]);return r!=null&&S(n,["targetTokens"],r),n}function AG(t,e){const n={},r=w(e,["triggerTokens"]);r!=null&&S(n,["triggerTokens"],r);const i=w(e,["slidingWindow"]);return i!=null&&S(n,["slidingWindow"],jG(t,i)),n}function kG(t,e){const n={},r=w(e,["triggerTokens"]);r!=null&&S(n,["triggerTokens"],r);const i=w(e,["slidingWindow"]);return i!=null&&S(n,["slidingWindow"],RG(t,i)),n}function IG(t,e,n){const r={},i=w(e,["generationConfig"]);n!==void 0&&i!=null&&S(n,["setup","generationConfig"],i);const s=w(e,["responseModalities"]);n!==void 0&&s!=null&&S(n,["setup","generationConfig","responseModalities"],s);const o=w(e,["temperature"]);n!==void 0&&o!=null&&S(n,["setup","generationConfig","temperature"],o);const l=w(e,["topP"]);n!==void 0&&l!=null&&S(n,["setup","generationConfig","topP"],l);const u=w(e,["topK"]);n!==void 0&&u!=null&&S(n,["setup","generationConfig","topK"],u);const d=w(e,["maxOutputTokens"]);n!==void 0&&d!=null&&S(n,["setup","generationConfig","maxOutputTokens"],d);const h=w(e,["mediaResolution"]);n!==void 0&&h!=null&&S(n,["setup","generationConfig","mediaResolution"],h);const p=w(e,["seed"]);n!==void 0&&p!=null&&S(n,["setup","generationConfig","seed"],p);const g=w(e,["speechConfig"]);n!==void 0&&g!=null&&S(n,["setup","generationConfig","speechConfig"],g);const y=w(e,["systemInstruction"]);n!==void 0&&y!=null&&S(n,["setup","systemInstruction"],cG(t,ji(t,y)));const b=w(e,["tools"]);if(n!==void 0&&b!=null){let R=f0(t,b);Array.isArray(R)&&(R=R.map(I=>SG(t,d0(t,I)))),S(n,["setup","tools"],R)}const C=w(e,["sessionResumption"]);n!==void 0&&C!=null&&S(n,["setup","sessionResumption"],CG(t,C));const _=w(e,["inputAudioTranscription"]);n!==void 0&&_!=null&&S(n,["setup","inputAudioTranscription"],Pj());const P=w(e,["outputAudioTranscription"]);n!==void 0&&P!=null&&S(n,["setup","outputAudioTranscription"],Pj());const E=w(e,["realtimeInputConfig"]);n!==void 0&&E!=null&&S(n,["setup","realtimeInputConfig"],PG(t,E));const j=w(e,["contextWindowCompression"]);return n!==void 0&&j!=null&&S(n,["setup","contextWindowCompression"],AG(t,j)),r}function MG(t,e,n){const r={},i=w(e,["generationConfig"]);n!==void 0&&i!=null&&S(n,["setup","generationConfig"],i);const s=w(e,["responseModalities"]);n!==void 0&&s!=null&&S(n,["setup","generationConfig","responseModalities"],s);const o=w(e,["temperature"]);n!==void 0&&o!=null&&S(n,["setup","generationConfig","temperature"],o);const l=w(e,["topP"]);n!==void 0&&l!=null&&S(n,["setup","generationConfig","topP"],l);const u=w(e,["topK"]);n!==void 0&&u!=null&&S(n,["setup","generationConfig","topK"],u);const d=w(e,["maxOutputTokens"]);n!==void 0&&d!=null&&S(n,["setup","generationConfig","maxOutputTokens"],d);const h=w(e,["mediaResolution"]);n!==void 0&&h!=null&&S(n,["setup","generationConfig","mediaResolution"],h);const p=w(e,["seed"]);n!==void 0&&p!=null&&S(n,["setup","generationConfig","seed"],p);const g=w(e,["speechConfig"]);n!==void 0&&g!=null&&S(n,["setup","generationConfig","speechConfig"],g);const y=w(e,["systemInstruction"]);n!==void 0&&y!=null&&S(n,["setup","systemInstruction"],uG(t,ji(t,y)));const b=w(e,["tools"]);if(n!==void 0&&b!=null){let R=f0(t,b);Array.isArray(R)&&(R=R.map(I=>bG(t,d0(t,I)))),S(n,["setup","tools"],R)}const C=w(e,["sessionResumption"]);n!==void 0&&C!=null&&S(n,["setup","sessionResumption"],_G(t,C));const _=w(e,["inputAudioTranscription"]);n!==void 0&&_!=null&&S(n,["setup","inputAudioTranscription"],Nj());const P=w(e,["outputAudioTranscription"]);n!==void 0&&P!=null&&S(n,["setup","outputAudioTranscription"],Nj());const E=w(e,["realtimeInputConfig"]);n!==void 0&&E!=null&&S(n,["setup","realtimeInputConfig"],NG(t,E));const j=w(e,["contextWindowCompression"]);return n!==void 0&&j!=null&&S(n,["setup","contextWindowCompression"],kG(t,j)),r}function DG(t,e){const n={},r=w(e,["model"]);r!=null&&S(n,["setup","model"],Wn(t,r));const i=w(e,["config"]);return i!=null&&S(n,["config"],IG(t,i,n)),n}function LG(t,e){const n={},r=w(e,["model"]);r!=null&&S(n,["setup","model"],Wn(t,r));const i=w(e,["config"]);return i!=null&&S(n,["config"],MG(t,i,n)),n}function OG(){return{}}function $G(){return{}}function FG(){return{}}function BG(){return{}}function UG(t,e){const n={},r=w(e,["media"]);r!=null&&S(n,["mediaChunks"],E3(t,r));const i=w(e,["audio"]);i!=null&&S(n,["audio"],BW(t,i));const s=w(e,["audioStreamEnd"]);s!=null&&S(n,["audioStreamEnd"],s);const o=w(e,["video"]);o!=null&&S(n,["video"],FW(t,o));const l=w(e,["text"]);return l!=null&&S(n,["text"],l),w(e,["activityStart"])!=null&&S(n,["activityStart"],OG()),w(e,["activityEnd"])!=null&&S(n,["activityEnd"],FG()),n}function VG(t,e){const n={},r=w(e,["media"]);if(r!=null&&S(n,["mediaChunks"],E3(t,r)),w(e,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const i=w(e,["audioStreamEnd"]);if(i!=null&&S(n,["audioStreamEnd"],i),w(e,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(w(e,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return w(e,["activityStart"])!=null&&S(n,["activityStart"],$G()),w(e,["activityEnd"])!=null&&S(n,["activityEnd"],BG()),n}function zG(){return{}}function WG(){return{}}function qG(t,e){const n={},r=w(e,["data"]);r!=null&&S(n,["data"],r);const i=w(e,["mimeType"]);return i!=null&&S(n,["mimeType"],i),n}function GG(t,e){const n={},r=w(e,["displayName"]);r!=null&&S(n,["displayName"],r);const i=w(e,["data"]);i!=null&&S(n,["data"],i);const s=w(e,["mimeType"]);return s!=null&&S(n,["mimeType"],s),n}function HG(t,e){const n={},r=w(e,["thought"]);r!=null&&S(n,["thought"],r);const i=w(e,["inlineData"]);i!=null&&S(n,["inlineData"],qG(t,i));const s=w(e,["codeExecutionResult"]);s!=null&&S(n,["codeExecutionResult"],s);const o=w(e,["executableCode"]);o!=null&&S(n,["executableCode"],o);const l=w(e,["fileData"]);l!=null&&S(n,["fileData"],l);const u=w(e,["functionCall"]);u!=null&&S(n,["functionCall"],u);const d=w(e,["functionResponse"]);d!=null&&S(n,["functionResponse"],d);const h=w(e,["text"]);return h!=null&&S(n,["text"],h),n}function KG(t,e){const n={},r=w(e,["videoMetadata"]);r!=null&&S(n,["videoMetadata"],r);const i=w(e,["thought"]);i!=null&&S(n,["thought"],i);const s=w(e,["inlineData"]);s!=null&&S(n,["inlineData"],GG(t,s));const o=w(e,["codeExecutionResult"]);o!=null&&S(n,["codeExecutionResult"],o);const l=w(e,["executableCode"]);l!=null&&S(n,["executableCode"],l);const u=w(e,["fileData"]);u!=null&&S(n,["fileData"],u);const d=w(e,["functionCall"]);d!=null&&S(n,["functionCall"],d);const h=w(e,["functionResponse"]);h!=null&&S(n,["functionResponse"],h);const p=w(e,["text"]);return p!=null&&S(n,["text"],p),n}function YG(t,e){const n={},r=w(e,["parts"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>HG(t,o))),S(n,["parts"],s)}const i=w(e,["role"]);return i!=null&&S(n,["role"],i),n}function JG(t,e){const n={},r=w(e,["parts"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>KG(t,o))),S(n,["parts"],s)}const i=w(e,["role"]);return i!=null&&S(n,["role"],i),n}function jj(t,e){const n={},r=w(e,["text"]);r!=null&&S(n,["text"],r);const i=w(e,["finished"]);return i!=null&&S(n,["finished"],i),n}function Rj(t,e){const n={},r=w(e,["text"]);r!=null&&S(n,["text"],r);const i=w(e,["finished"]);return i!=null&&S(n,["finished"],i),n}function XG(t,e){const n={},r=w(e,["modelTurn"]);r!=null&&S(n,["modelTurn"],YG(t,r));const i=w(e,["turnComplete"]);i!=null&&S(n,["turnComplete"],i);const s=w(e,["interrupted"]);s!=null&&S(n,["interrupted"],s);const o=w(e,["groundingMetadata"]);o!=null&&S(n,["groundingMetadata"],o);const l=w(e,["generationComplete"]);l!=null&&S(n,["generationComplete"],l);const u=w(e,["inputTranscription"]);u!=null&&S(n,["inputTranscription"],jj(t,u));const d=w(e,["outputTranscription"]);return d!=null&&S(n,["outputTranscription"],jj(t,d)),n}function QG(t,e){const n={},r=w(e,["modelTurn"]);r!=null&&S(n,["modelTurn"],JG(t,r));const i=w(e,["turnComplete"]);i!=null&&S(n,["turnComplete"],i);const s=w(e,["interrupted"]);s!=null&&S(n,["interrupted"],s);const o=w(e,["groundingMetadata"]);o!=null&&S(n,["groundingMetadata"],o);const l=w(e,["generationComplete"]);l!=null&&S(n,["generationComplete"],l);const u=w(e,["inputTranscription"]);u!=null&&S(n,["inputTranscription"],Rj(t,u));const d=w(e,["outputTranscription"]);return d!=null&&S(n,["outputTranscription"],Rj(t,d)),n}function ZG(t,e){const n={},r=w(e,["id"]);r!=null&&S(n,["id"],r);const i=w(e,["args"]);i!=null&&S(n,["args"],i);const s=w(e,["name"]);return s!=null&&S(n,["name"],s),n}function eH(t,e){const n={},r=w(e,["args"]);r!=null&&S(n,["args"],r);const i=w(e,["name"]);return i!=null&&S(n,["name"],i),n}function tH(t,e){const n={},r=w(e,["functionCalls"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>ZG(t,s))),S(n,["functionCalls"],i)}return n}function nH(t,e){const n={},r=w(e,["functionCalls"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>eH(t,s))),S(n,["functionCalls"],i)}return n}function rH(t,e){const n={},r=w(e,["ids"]);return r!=null&&S(n,["ids"],r),n}function iH(t,e){const n={},r=w(e,["ids"]);return r!=null&&S(n,["ids"],r),n}function _x(t,e){const n={},r=w(e,["modality"]);r!=null&&S(n,["modality"],r);const i=w(e,["tokenCount"]);return i!=null&&S(n,["tokenCount"],i),n}function Tx(t,e){const n={},r=w(e,["modality"]);r!=null&&S(n,["modality"],r);const i=w(e,["tokenCount"]);return i!=null&&S(n,["tokenCount"],i),n}function sH(t,e){const n={},r=w(e,["promptTokenCount"]);r!=null&&S(n,["promptTokenCount"],r);const i=w(e,["cachedContentTokenCount"]);i!=null&&S(n,["cachedContentTokenCount"],i);const s=w(e,["responseTokenCount"]);s!=null&&S(n,["responseTokenCount"],s);const o=w(e,["toolUsePromptTokenCount"]);o!=null&&S(n,["toolUsePromptTokenCount"],o);const l=w(e,["thoughtsTokenCount"]);l!=null&&S(n,["thoughtsTokenCount"],l);const u=w(e,["totalTokenCount"]);u!=null&&S(n,["totalTokenCount"],u);const d=w(e,["promptTokensDetails"]);if(d!=null){let y=d;Array.isArray(y)&&(y=y.map(b=>_x(t,b))),S(n,["promptTokensDetails"],y)}const h=w(e,["cacheTokensDetails"]);if(h!=null){let y=h;Array.isArray(y)&&(y=y.map(b=>_x(t,b))),S(n,["cacheTokensDetails"],y)}const p=w(e,["responseTokensDetails"]);if(p!=null){let y=p;Array.isArray(y)&&(y=y.map(b=>_x(t,b))),S(n,["responseTokensDetails"],y)}const g=w(e,["toolUsePromptTokensDetails"]);if(g!=null){let y=g;Array.isArray(y)&&(y=y.map(b=>_x(t,b))),S(n,["toolUsePromptTokensDetails"],y)}return n}function oH(t,e){const n={},r=w(e,["promptTokenCount"]);r!=null&&S(n,["promptTokenCount"],r);const i=w(e,["cachedContentTokenCount"]);i!=null&&S(n,["cachedContentTokenCount"],i);const s=w(e,["candidatesTokenCount"]);s!=null&&S(n,["responseTokenCount"],s);const o=w(e,["toolUsePromptTokenCount"]);o!=null&&S(n,["toolUsePromptTokenCount"],o);const l=w(e,["thoughtsTokenCount"]);l!=null&&S(n,["thoughtsTokenCount"],l);const u=w(e,["totalTokenCount"]);u!=null&&S(n,["totalTokenCount"],u);const d=w(e,["promptTokensDetails"]);if(d!=null){let b=d;Array.isArray(b)&&(b=b.map(C=>Tx(t,C))),S(n,["promptTokensDetails"],b)}const h=w(e,["cacheTokensDetails"]);if(h!=null){let b=h;Array.isArray(b)&&(b=b.map(C=>Tx(t,C))),S(n,["cacheTokensDetails"],b)}const p=w(e,["candidatesTokensDetails"]);if(p!=null){let b=p;Array.isArray(b)&&(b=b.map(C=>Tx(t,C))),S(n,["responseTokensDetails"],b)}const g=w(e,["toolUsePromptTokensDetails"]);if(g!=null){let b=g;Array.isArray(b)&&(b=b.map(C=>Tx(t,C))),S(n,["toolUsePromptTokensDetails"],b)}const y=w(e,["trafficType"]);return y!=null&&S(n,["trafficType"],y),n}function aH(t,e){const n={},r=w(e,["timeLeft"]);return r!=null&&S(n,["timeLeft"],r),n}function lH(t,e){const n={},r=w(e,["timeLeft"]);return r!=null&&S(n,["timeLeft"],r),n}function cH(t,e){const n={},r=w(e,["newHandle"]);r!=null&&S(n,["newHandle"],r);const i=w(e,["resumable"]);i!=null&&S(n,["resumable"],i);const s=w(e,["lastConsumedClientMessageIndex"]);return s!=null&&S(n,["lastConsumedClientMessageIndex"],s),n}function uH(t,e){const n={},r=w(e,["newHandle"]);r!=null&&S(n,["newHandle"],r);const i=w(e,["resumable"]);i!=null&&S(n,["resumable"],i);const s=w(e,["lastConsumedClientMessageIndex"]);return s!=null&&S(n,["lastConsumedClientMessageIndex"],s),n}function dH(t,e){const n={};w(e,["setupComplete"])!=null&&S(n,["setupComplete"],zG());const i=w(e,["serverContent"]);i!=null&&S(n,["serverContent"],XG(t,i));const s=w(e,["toolCall"]);s!=null&&S(n,["toolCall"],tH(t,s));const o=w(e,["toolCallCancellation"]);o!=null&&S(n,["toolCallCancellation"],rH(t,o));const l=w(e,["usageMetadata"]);l!=null&&S(n,["usageMetadata"],sH(t,l));const u=w(e,["goAway"]);u!=null&&S(n,["goAway"],aH(t,u));const d=w(e,["sessionResumptionUpdate"]);return d!=null&&S(n,["sessionResumptionUpdate"],cH(t,d)),n}function fH(t,e){const n={};w(e,["setupComplete"])!=null&&S(n,["setupComplete"],WG());const i=w(e,["serverContent"]);i!=null&&S(n,["serverContent"],QG(t,i));const s=w(e,["toolCall"]);s!=null&&S(n,["toolCall"],nH(t,s));const o=w(e,["toolCallCancellation"]);o!=null&&S(n,["toolCallCancellation"],iH(t,o));const l=w(e,["usageMetadata"]);l!=null&&S(n,["usageMetadata"],oH(t,l));const u=w(e,["goAway"]);u!=null&&S(n,["goAway"],lH(t,u));const d=w(e,["sessionResumptionUpdate"]);return d!=null&&S(n,["sessionResumptionUpdate"],uH(t,d)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hH(t,e){const n={};if(w(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=w(e,["data"]);r!=null&&S(n,["data"],r);const i=w(e,["mimeType"]);return i!=null&&S(n,["mimeType"],i),n}function pH(t,e){const n={};if(w(e,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const r=w(e,["thought"]);r!=null&&S(n,["thought"],r);const i=w(e,["inlineData"]);i!=null&&S(n,["inlineData"],hH(t,i));const s=w(e,["codeExecutionResult"]);s!=null&&S(n,["codeExecutionResult"],s);const o=w(e,["executableCode"]);o!=null&&S(n,["executableCode"],o);const l=w(e,["fileData"]);l!=null&&S(n,["fileData"],l);const u=w(e,["functionCall"]);u!=null&&S(n,["functionCall"],u);const d=w(e,["functionResponse"]);d!=null&&S(n,["functionResponse"],d);const h=w(e,["text"]);return h!=null&&S(n,["text"],h),n}function p0(t,e){const n={},r=w(e,["parts"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>pH(t,o))),S(n,["parts"],s)}const i=w(e,["role"]);return i!=null&&S(n,["role"],i),n}function mH(t,e){const n={};if(w(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=w(e,["category"]);r!=null&&S(n,["category"],r);const i=w(e,["threshold"]);return i!=null&&S(n,["threshold"],i),n}function gH(){return{}}function yH(t,e){const n={},r=w(e,["mode"]);r!=null&&S(n,["mode"],r);const i=w(e,["dynamicThreshold"]);return i!=null&&S(n,["dynamicThreshold"],i),n}function xH(t,e){const n={},r=w(e,["dynamicRetrievalConfig"]);return r!=null&&S(n,["dynamicRetrievalConfig"],yH(t,r)),n}function vH(t,e){const n={};if(w(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");w(e,["googleSearch"])!=null&&S(n,["googleSearch"],gH());const i=w(e,["googleSearchRetrieval"]);if(i!=null&&S(n,["googleSearchRetrieval"],xH(t,i)),w(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(w(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");const s=w(e,["codeExecution"]);s!=null&&S(n,["codeExecution"],s);const o=w(e,["functionDeclarations"]);return o!=null&&S(n,["functionDeclarations"],o),n}function wH(t,e){const n={},r=w(e,["mode"]);r!=null&&S(n,["mode"],r);const i=w(e,["allowedFunctionNames"]);return i!=null&&S(n,["allowedFunctionNames"],i),n}function SH(t,e){const n={},r=w(e,["functionCallingConfig"]);if(r!=null&&S(n,["functionCallingConfig"],wH(t,r)),w(e,["retrievalConfig"])!==void 0)throw new Error("retrievalConfig parameter is not supported in Gemini API.");return n}function bH(t,e){const n={},r=w(e,["voiceName"]);return r!=null&&S(n,["voiceName"],r),n}function CH(t,e){const n={},r=w(e,["prebuiltVoiceConfig"]);return r!=null&&S(n,["prebuiltVoiceConfig"],bH(t,r)),n}function _H(t,e){const n={},r=w(e,["voiceConfig"]);r!=null&&S(n,["voiceConfig"],CH(t,r));const i=w(e,["languageCode"]);return i!=null&&S(n,["languageCode"],i),n}function TH(t,e){const n={},r=w(e,["includeThoughts"]);r!=null&&S(n,["includeThoughts"],r);const i=w(e,["thinkingBudget"]);return i!=null&&S(n,["thinkingBudget"],i),n}function EH(t,e,n){const r={},i=w(e,["systemInstruction"]);n!==void 0&&i!=null&&S(n,["systemInstruction"],p0(t,ji(t,i)));const s=w(e,["temperature"]);s!=null&&S(r,["temperature"],s);const o=w(e,["topP"]);o!=null&&S(r,["topP"],o);const l=w(e,["topK"]);l!=null&&S(r,["topK"],l);const u=w(e,["candidateCount"]);u!=null&&S(r,["candidateCount"],u);const d=w(e,["maxOutputTokens"]);d!=null&&S(r,["maxOutputTokens"],d);const h=w(e,["stopSequences"]);h!=null&&S(r,["stopSequences"],h);const p=w(e,["responseLogprobs"]);p!=null&&S(r,["responseLogprobs"],p);const g=w(e,["logprobs"]);g!=null&&S(r,["logprobs"],g);const y=w(e,["presencePenalty"]);y!=null&&S(r,["presencePenalty"],y);const b=w(e,["frequencyPenalty"]);b!=null&&S(r,["frequencyPenalty"],b);const C=w(e,["seed"]);C!=null&&S(r,["seed"],C);const _=w(e,["responseMimeType"]);_!=null&&S(r,["responseMimeType"],_);const P=w(e,["responseSchema"]);if(P!=null&&S(r,["responseSchema"],j3(t,P)),w(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(w(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const E=w(e,["safetySettings"]);if(n!==void 0&&E!=null){let G=E;Array.isArray(G)&&(G=G.map(X=>mH(t,X))),S(n,["safetySettings"],G)}const j=w(e,["tools"]);if(n!==void 0&&j!=null){let G=f0(t,j);Array.isArray(G)&&(G=G.map(X=>vH(t,d0(t,X)))),S(n,["tools"],G)}const R=w(e,["toolConfig"]);if(n!==void 0&&R!=null&&S(n,["toolConfig"],SH(t,R)),w(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const I=w(e,["cachedContent"]);n!==void 0&&I!=null&&S(n,["cachedContent"],qa(t,I));const M=w(e,["responseModalities"]);M!=null&&S(r,["responseModalities"],M);const A=w(e,["mediaResolution"]);A!=null&&S(r,["mediaResolution"],A);const $=w(e,["speechConfig"]);if($!=null&&S(r,["speechConfig"],_H(t,R3(t,$))),w(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const B=w(e,["thinkingConfig"]);return B!=null&&S(r,["thinkingConfig"],TH(t,B)),r}function Aj(t,e){const n={},r=w(e,["model"]);r!=null&&S(n,["_url","model"],Wn(t,r));const i=w(e,["contents"]);if(i!=null){let o=Wa(t,i);Array.isArray(o)&&(o=o.map(l=>p0(t,l))),S(n,["contents"],o)}const s=w(e,["config"]);return s!=null&&S(n,["generationConfig"],EH(t,s,n)),n}function PH(t,e,n){const r={},i=w(e,["taskType"]);n!==void 0&&i!=null&&S(n,["requests[]","taskType"],i);const s=w(e,["title"]);n!==void 0&&s!=null&&S(n,["requests[]","title"],s);const o=w(e,["outputDimensionality"]);if(n!==void 0&&o!=null&&S(n,["requests[]","outputDimensionality"],o),w(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(w(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function NH(t,e){const n={},r=w(e,["model"]);r!=null&&S(n,["_url","model"],Wn(t,r));const i=w(e,["contents"]);i!=null&&S(n,["requests[]","content"],N3(t,i));const s=w(e,["config"]);s!=null&&S(n,["config"],PH(t,s,n));const o=w(e,["model"]);return o!==void 0&&S(n,["requests[]","model"],Wn(t,o)),n}function jH(t,e,n){const r={};if(w(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(w(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=w(e,["numberOfImages"]);n!==void 0&&i!=null&&S(n,["parameters","sampleCount"],i);const s=w(e,["aspectRatio"]);n!==void 0&&s!=null&&S(n,["parameters","aspectRatio"],s);const o=w(e,["guidanceScale"]);if(n!==void 0&&o!=null&&S(n,["parameters","guidanceScale"],o),w(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=w(e,["safetyFilterLevel"]);n!==void 0&&l!=null&&S(n,["parameters","safetySetting"],l);const u=w(e,["personGeneration"]);n!==void 0&&u!=null&&S(n,["parameters","personGeneration"],u);const d=w(e,["includeSafetyAttributes"]);n!==void 0&&d!=null&&S(n,["parameters","includeSafetyAttributes"],d);const h=w(e,["includeRaiReason"]);n!==void 0&&h!=null&&S(n,["parameters","includeRaiReason"],h);const p=w(e,["language"]);n!==void 0&&p!=null&&S(n,["parameters","language"],p);const g=w(e,["outputMimeType"]);n!==void 0&&g!=null&&S(n,["parameters","outputOptions","mimeType"],g);const y=w(e,["outputCompressionQuality"]);if(n!==void 0&&y!=null&&S(n,["parameters","outputOptions","compressionQuality"],y),w(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(w(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function RH(t,e){const n={},r=w(e,["model"]);r!=null&&S(n,["_url","model"],Wn(t,r));const i=w(e,["prompt"]);i!=null&&S(n,["instances[0]","prompt"],i);const s=w(e,["config"]);return s!=null&&S(n,["config"],jH(t,s,n)),n}function AH(t,e){const n={},r=w(e,["model"]);r!=null&&S(n,["_url","name"],Wn(t,r));const i=w(e,["config"]);return i!=null&&S(n,["config"],i),n}function kH(t,e,n){const r={},i=w(e,["pageSize"]);n!==void 0&&i!=null&&S(n,["_query","pageSize"],i);const s=w(e,["pageToken"]);n!==void 0&&s!=null&&S(n,["_query","pageToken"],s);const o=w(e,["filter"]);n!==void 0&&o!=null&&S(n,["_query","filter"],o);const l=w(e,["queryBase"]);return n!==void 0&&l!=null&&S(n,["_url","models_url"],I3(t,l)),r}function IH(t,e){const n={},r=w(e,["config"]);return r!=null&&S(n,["config"],kH(t,r,n)),n}function MH(t,e,n){const r={},i=w(e,["displayName"]);n!==void 0&&i!=null&&S(n,["displayName"],i);const s=w(e,["description"]);n!==void 0&&s!=null&&S(n,["description"],s);const o=w(e,["defaultCheckpointId"]);return n!==void 0&&o!=null&&S(n,["defaultCheckpointId"],o),r}function DH(t,e){const n={},r=w(e,["model"]);r!=null&&S(n,["_url","name"],Wn(t,r));const i=w(e,["config"]);return i!=null&&S(n,["config"],MH(t,i,n)),n}function LH(t,e){const n={},r=w(e,["model"]);r!=null&&S(n,["_url","name"],Wn(t,r));const i=w(e,["config"]);return i!=null&&S(n,["config"],i),n}function OH(t,e){const n={};if(w(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(w(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(w(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function $H(t,e){const n={},r=w(e,["model"]);r!=null&&S(n,["_url","model"],Wn(t,r));const i=w(e,["contents"]);if(i!=null){let o=Wa(t,i);Array.isArray(o)&&(o=o.map(l=>p0(t,l))),S(n,["contents"],o)}const s=w(e,["config"]);return s!=null&&S(n,["config"],OH(t,s)),n}function FH(t,e){const n={};if(w(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=w(e,["imageBytes"]);r!=null&&S(n,["bytesBase64Encoded"],Ga(t,r));const i=w(e,["mimeType"]);return i!=null&&S(n,["mimeType"],i),n}function BH(t,e,n){const r={},i=w(e,["numberOfVideos"]);if(n!==void 0&&i!=null&&S(n,["parameters","sampleCount"],i),w(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(w(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const s=w(e,["durationSeconds"]);if(n!==void 0&&s!=null&&S(n,["parameters","durationSeconds"],s),w(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=w(e,["aspectRatio"]);if(n!==void 0&&o!=null&&S(n,["parameters","aspectRatio"],o),w(e,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const l=w(e,["personGeneration"]);if(n!==void 0&&l!=null&&S(n,["parameters","personGeneration"],l),w(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const u=w(e,["negativePrompt"]);if(n!==void 0&&u!=null&&S(n,["parameters","negativePrompt"],u),w(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function UH(t,e){const n={},r=w(e,["model"]);r!=null&&S(n,["_url","model"],Wn(t,r));const i=w(e,["prompt"]);i!=null&&S(n,["instances[0]","prompt"],i);const s=w(e,["image"]);s!=null&&S(n,["instances[0]","image"],FH(t,s));const o=w(e,["config"]);return o!=null&&S(n,["config"],BH(t,o,n)),n}function VH(t,e){const n={},r=w(e,["displayName"]);r!=null&&S(n,["displayName"],r);const i=w(e,["data"]);i!=null&&S(n,["data"],i);const s=w(e,["mimeType"]);return s!=null&&S(n,["mimeType"],s),n}function zH(t,e){const n={},r=w(e,["videoMetadata"]);r!=null&&S(n,["videoMetadata"],r);const i=w(e,["thought"]);i!=null&&S(n,["thought"],i);const s=w(e,["inlineData"]);s!=null&&S(n,["inlineData"],VH(t,s));const o=w(e,["codeExecutionResult"]);o!=null&&S(n,["codeExecutionResult"],o);const l=w(e,["executableCode"]);l!=null&&S(n,["executableCode"],l);const u=w(e,["fileData"]);u!=null&&S(n,["fileData"],u);const d=w(e,["functionCall"]);d!=null&&S(n,["functionCall"],d);const h=w(e,["functionResponse"]);h!=null&&S(n,["functionResponse"],h);const p=w(e,["text"]);return p!=null&&S(n,["text"],p),n}function Yu(t,e){const n={},r=w(e,["parts"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>zH(t,o))),S(n,["parts"],s)}const i=w(e,["role"]);return i!=null&&S(n,["role"],i),n}function WH(t,e){const n={},r=w(e,["featureSelectionPreference"]);return r!=null&&S(n,["featureSelectionPreference"],r),n}function qH(t,e){const n={},r=w(e,["method"]);r!=null&&S(n,["method"],r);const i=w(e,["category"]);i!=null&&S(n,["category"],i);const s=w(e,["threshold"]);return s!=null&&S(n,["threshold"],s),n}function GH(){return{}}function HH(t,e){const n={},r=w(e,["mode"]);r!=null&&S(n,["mode"],r);const i=w(e,["dynamicThreshold"]);return i!=null&&S(n,["dynamicThreshold"],i),n}function KH(t,e){const n={},r=w(e,["dynamicRetrievalConfig"]);return r!=null&&S(n,["dynamicRetrievalConfig"],HH(t,r)),n}function YH(){return{}}function JH(t,e){const n={},r=w(e,["apiKeyString"]);return r!=null&&S(n,["apiKeyString"],r),n}function XH(t,e){const n={},r=w(e,["apiKeyConfig"]);r!=null&&S(n,["apiKeyConfig"],JH(t,r));const i=w(e,["authType"]);i!=null&&S(n,["authType"],i);const s=w(e,["googleServiceAccountConfig"]);s!=null&&S(n,["googleServiceAccountConfig"],s);const o=w(e,["httpBasicAuthConfig"]);o!=null&&S(n,["httpBasicAuthConfig"],o);const l=w(e,["oauthConfig"]);l!=null&&S(n,["oauthConfig"],l);const u=w(e,["oidcConfig"]);return u!=null&&S(n,["oidcConfig"],u),n}function QH(t,e){const n={},r=w(e,["authConfig"]);return r!=null&&S(n,["authConfig"],XH(t,r)),n}function L3(t,e){const n={},r=w(e,["retrieval"]);r!=null&&S(n,["retrieval"],r),w(e,["googleSearch"])!=null&&S(n,["googleSearch"],GH());const s=w(e,["googleSearchRetrieval"]);s!=null&&S(n,["googleSearchRetrieval"],KH(t,s)),w(e,["enterpriseWebSearch"])!=null&&S(n,["enterpriseWebSearch"],YH());const l=w(e,["googleMaps"]);l!=null&&S(n,["googleMaps"],QH(t,l));const u=w(e,["codeExecution"]);u!=null&&S(n,["codeExecution"],u);const d=w(e,["functionDeclarations"]);return d!=null&&S(n,["functionDeclarations"],d),n}function ZH(t,e){const n={},r=w(e,["mode"]);r!=null&&S(n,["mode"],r);const i=w(e,["allowedFunctionNames"]);return i!=null&&S(n,["allowedFunctionNames"],i),n}function eK(t,e){const n={},r=w(e,["latitude"]);r!=null&&S(n,["latitude"],r);const i=w(e,["longitude"]);return i!=null&&S(n,["longitude"],i),n}function tK(t,e){const n={},r=w(e,["latLng"]);return r!=null&&S(n,["latLng"],eK(t,r)),n}function nK(t,e){const n={},r=w(e,["functionCallingConfig"]);r!=null&&S(n,["functionCallingConfig"],ZH(t,r));const i=w(e,["retrievalConfig"]);return i!=null&&S(n,["retrievalConfig"],tK(t,i)),n}function rK(t,e){const n={},r=w(e,["voiceName"]);return r!=null&&S(n,["voiceName"],r),n}function iK(t,e){const n={},r=w(e,["prebuiltVoiceConfig"]);return r!=null&&S(n,["prebuiltVoiceConfig"],rK(t,r)),n}function sK(t,e){const n={},r=w(e,["voiceConfig"]);r!=null&&S(n,["voiceConfig"],iK(t,r));const i=w(e,["languageCode"]);return i!=null&&S(n,["languageCode"],i),n}function oK(t,e){const n={},r=w(e,["includeThoughts"]);r!=null&&S(n,["includeThoughts"],r);const i=w(e,["thinkingBudget"]);return i!=null&&S(n,["thinkingBudget"],i),n}function aK(t,e,n){const r={},i=w(e,["systemInstruction"]);n!==void 0&&i!=null&&S(n,["systemInstruction"],Yu(t,ji(t,i)));const s=w(e,["temperature"]);s!=null&&S(r,["temperature"],s);const o=w(e,["topP"]);o!=null&&S(r,["topP"],o);const l=w(e,["topK"]);l!=null&&S(r,["topK"],l);const u=w(e,["candidateCount"]);u!=null&&S(r,["candidateCount"],u);const d=w(e,["maxOutputTokens"]);d!=null&&S(r,["maxOutputTokens"],d);const h=w(e,["stopSequences"]);h!=null&&S(r,["stopSequences"],h);const p=w(e,["responseLogprobs"]);p!=null&&S(r,["responseLogprobs"],p);const g=w(e,["logprobs"]);g!=null&&S(r,["logprobs"],g);const y=w(e,["presencePenalty"]);y!=null&&S(r,["presencePenalty"],y);const b=w(e,["frequencyPenalty"]);b!=null&&S(r,["frequencyPenalty"],b);const C=w(e,["seed"]);C!=null&&S(r,["seed"],C);const _=w(e,["responseMimeType"]);_!=null&&S(r,["responseMimeType"],_);const P=w(e,["responseSchema"]);P!=null&&S(r,["responseSchema"],j3(t,P));const E=w(e,["routingConfig"]);E!=null&&S(r,["routingConfig"],E);const j=w(e,["modelSelectionConfig"]);j!=null&&S(r,["modelConfig"],WH(t,j));const R=w(e,["safetySettings"]);if(n!==void 0&&R!=null){let V=R;Array.isArray(V)&&(V=V.map(Y=>qH(t,Y))),S(n,["safetySettings"],V)}const I=w(e,["tools"]);if(n!==void 0&&I!=null){let V=f0(t,I);Array.isArray(V)&&(V=V.map(Y=>L3(t,d0(t,Y)))),S(n,["tools"],V)}const M=w(e,["toolConfig"]);n!==void 0&&M!=null&&S(n,["toolConfig"],nK(t,M));const A=w(e,["labels"]);n!==void 0&&A!=null&&S(n,["labels"],A);const $=w(e,["cachedContent"]);n!==void 0&&$!=null&&S(n,["cachedContent"],qa(t,$));const B=w(e,["responseModalities"]);B!=null&&S(r,["responseModalities"],B);const G=w(e,["mediaResolution"]);G!=null&&S(r,["mediaResolution"],G);const X=w(e,["speechConfig"]);X!=null&&S(r,["speechConfig"],sK(t,R3(t,X)));const K=w(e,["audioTimestamp"]);K!=null&&S(r,["audioTimestamp"],K);const W=w(e,["thinkingConfig"]);return W!=null&&S(r,["thinkingConfig"],oK(t,W)),r}function kj(t,e){const n={},r=w(e,["model"]);r!=null&&S(n,["_url","model"],Wn(t,r));const i=w(e,["contents"]);if(i!=null){let o=Wa(t,i);Array.isArray(o)&&(o=o.map(l=>Yu(t,l))),S(n,["contents"],o)}const s=w(e,["config"]);return s!=null&&S(n,["generationConfig"],aK(t,s,n)),n}function lK(t,e,n){const r={},i=w(e,["taskType"]);n!==void 0&&i!=null&&S(n,["instances[]","task_type"],i);const s=w(e,["title"]);n!==void 0&&s!=null&&S(n,["instances[]","title"],s);const o=w(e,["outputDimensionality"]);n!==void 0&&o!=null&&S(n,["parameters","outputDimensionality"],o);const l=w(e,["mimeType"]);n!==void 0&&l!=null&&S(n,["instances[]","mimeType"],l);const u=w(e,["autoTruncate"]);return n!==void 0&&u!=null&&S(n,["parameters","autoTruncate"],u),r}function cK(t,e){const n={},r=w(e,["model"]);r!=null&&S(n,["_url","model"],Wn(t,r));const i=w(e,["contents"]);i!=null&&S(n,["instances[]","content"],N3(t,i));const s=w(e,["config"]);return s!=null&&S(n,["config"],lK(t,s,n)),n}function uK(t,e,n){const r={},i=w(e,["outputGcsUri"]);n!==void 0&&i!=null&&S(n,["parameters","storageUri"],i);const s=w(e,["negativePrompt"]);n!==void 0&&s!=null&&S(n,["parameters","negativePrompt"],s);const o=w(e,["numberOfImages"]);n!==void 0&&o!=null&&S(n,["parameters","sampleCount"],o);const l=w(e,["aspectRatio"]);n!==void 0&&l!=null&&S(n,["parameters","aspectRatio"],l);const u=w(e,["guidanceScale"]);n!==void 0&&u!=null&&S(n,["parameters","guidanceScale"],u);const d=w(e,["seed"]);n!==void 0&&d!=null&&S(n,["parameters","seed"],d);const h=w(e,["safetyFilterLevel"]);n!==void 0&&h!=null&&S(n,["parameters","safetySetting"],h);const p=w(e,["personGeneration"]);n!==void 0&&p!=null&&S(n,["parameters","personGeneration"],p);const g=w(e,["includeSafetyAttributes"]);n!==void 0&&g!=null&&S(n,["parameters","includeSafetyAttributes"],g);const y=w(e,["includeRaiReason"]);n!==void 0&&y!=null&&S(n,["parameters","includeRaiReason"],y);const b=w(e,["language"]);n!==void 0&&b!=null&&S(n,["parameters","language"],b);const C=w(e,["outputMimeType"]);n!==void 0&&C!=null&&S(n,["parameters","outputOptions","mimeType"],C);const _=w(e,["outputCompressionQuality"]);n!==void 0&&_!=null&&S(n,["parameters","outputOptions","compressionQuality"],_);const P=w(e,["addWatermark"]);n!==void 0&&P!=null&&S(n,["parameters","addWatermark"],P);const E=w(e,["enhancePrompt"]);return n!==void 0&&E!=null&&S(n,["parameters","enhancePrompt"],E),r}function dK(t,e){const n={},r=w(e,["model"]);r!=null&&S(n,["_url","model"],Wn(t,r));const i=w(e,["prompt"]);i!=null&&S(n,["instances[0]","prompt"],i);const s=w(e,["config"]);return s!=null&&S(n,["config"],uK(t,s,n)),n}function y_(t,e){const n={},r=w(e,["gcsUri"]);r!=null&&S(n,["gcsUri"],r);const i=w(e,["imageBytes"]);i!=null&&S(n,["bytesBase64Encoded"],Ga(t,i));const s=w(e,["mimeType"]);return s!=null&&S(n,["mimeType"],s),n}function fK(t,e){const n={},r=w(e,["maskMode"]);r!=null&&S(n,["maskMode"],r);const i=w(e,["segmentationClasses"]);i!=null&&S(n,["maskClasses"],i);const s=w(e,["maskDilation"]);return s!=null&&S(n,["dilation"],s),n}function hK(t,e){const n={},r=w(e,["controlType"]);r!=null&&S(n,["controlType"],r);const i=w(e,["enableControlImageComputation"]);return i!=null&&S(n,["computeControl"],i),n}function pK(t,e){const n={},r=w(e,["styleDescription"]);return r!=null&&S(n,["styleDescription"],r),n}function mK(t,e){const n={},r=w(e,["subjectType"]);r!=null&&S(n,["subjectType"],r);const i=w(e,["subjectDescription"]);return i!=null&&S(n,["subjectDescription"],i),n}function gK(t,e){const n={},r=w(e,["referenceImage"]);r!=null&&S(n,["referenceImage"],y_(t,r));const i=w(e,["referenceId"]);i!=null&&S(n,["referenceId"],i);const s=w(e,["referenceType"]);s!=null&&S(n,["referenceType"],s);const o=w(e,["maskImageConfig"]);o!=null&&S(n,["maskImageConfig"],fK(t,o));const l=w(e,["controlImageConfig"]);l!=null&&S(n,["controlImageConfig"],hK(t,l));const u=w(e,["styleImageConfig"]);u!=null&&S(n,["styleImageConfig"],pK(t,u));const d=w(e,["subjectImageConfig"]);return d!=null&&S(n,["subjectImageConfig"],mK(t,d)),n}function yK(t,e,n){const r={},i=w(e,["outputGcsUri"]);n!==void 0&&i!=null&&S(n,["parameters","storageUri"],i);const s=w(e,["negativePrompt"]);n!==void 0&&s!=null&&S(n,["parameters","negativePrompt"],s);const o=w(e,["numberOfImages"]);n!==void 0&&o!=null&&S(n,["parameters","sampleCount"],o);const l=w(e,["aspectRatio"]);n!==void 0&&l!=null&&S(n,["parameters","aspectRatio"],l);const u=w(e,["guidanceScale"]);n!==void 0&&u!=null&&S(n,["parameters","guidanceScale"],u);const d=w(e,["seed"]);n!==void 0&&d!=null&&S(n,["parameters","seed"],d);const h=w(e,["safetyFilterLevel"]);n!==void 0&&h!=null&&S(n,["parameters","safetySetting"],h);const p=w(e,["personGeneration"]);n!==void 0&&p!=null&&S(n,["parameters","personGeneration"],p);const g=w(e,["includeSafetyAttributes"]);n!==void 0&&g!=null&&S(n,["parameters","includeSafetyAttributes"],g);const y=w(e,["includeRaiReason"]);n!==void 0&&y!=null&&S(n,["parameters","includeRaiReason"],y);const b=w(e,["language"]);n!==void 0&&b!=null&&S(n,["parameters","language"],b);const C=w(e,["outputMimeType"]);n!==void 0&&C!=null&&S(n,["parameters","outputOptions","mimeType"],C);const _=w(e,["outputCompressionQuality"]);n!==void 0&&_!=null&&S(n,["parameters","outputOptions","compressionQuality"],_);const P=w(e,["editMode"]);n!==void 0&&P!=null&&S(n,["parameters","editMode"],P);const E=w(e,["baseSteps"]);return n!==void 0&&E!=null&&S(n,["parameters","editConfig","baseSteps"],E),r}function xK(t,e){const n={},r=w(e,["model"]);r!=null&&S(n,["_url","model"],Wn(t,r));const i=w(e,["prompt"]);i!=null&&S(n,["instances[0]","prompt"],i);const s=w(e,["referenceImages"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>gK(t,u))),S(n,["instances[0]","referenceImages"],l)}const o=w(e,["config"]);return o!=null&&S(n,["config"],yK(t,o,n)),n}function vK(t,e,n){const r={},i=w(e,["includeRaiReason"]);n!==void 0&&i!=null&&S(n,["parameters","includeRaiReason"],i);const s=w(e,["outputMimeType"]);n!==void 0&&s!=null&&S(n,["parameters","outputOptions","mimeType"],s);const o=w(e,["outputCompressionQuality"]);n!==void 0&&o!=null&&S(n,["parameters","outputOptions","compressionQuality"],o);const l=w(e,["numberOfImages"]);n!==void 0&&l!=null&&S(n,["parameters","sampleCount"],l);const u=w(e,["mode"]);return n!==void 0&&u!=null&&S(n,["parameters","mode"],u),r}function wK(t,e){const n={},r=w(e,["model"]);r!=null&&S(n,["_url","model"],Wn(t,r));const i=w(e,["image"]);i!=null&&S(n,["instances[0]","image"],y_(t,i));const s=w(e,["upscaleFactor"]);s!=null&&S(n,["parameters","upscaleConfig","upscaleFactor"],s);const o=w(e,["config"]);return o!=null&&S(n,["config"],vK(t,o,n)),n}function SK(t,e){const n={},r=w(e,["model"]);r!=null&&S(n,["_url","name"],Wn(t,r));const i=w(e,["config"]);return i!=null&&S(n,["config"],i),n}function bK(t,e,n){const r={},i=w(e,["pageSize"]);n!==void 0&&i!=null&&S(n,["_query","pageSize"],i);const s=w(e,["pageToken"]);n!==void 0&&s!=null&&S(n,["_query","pageToken"],s);const o=w(e,["filter"]);n!==void 0&&o!=null&&S(n,["_query","filter"],o);const l=w(e,["queryBase"]);return n!==void 0&&l!=null&&S(n,["_url","models_url"],I3(t,l)),r}function CK(t,e){const n={},r=w(e,["config"]);return r!=null&&S(n,["config"],bK(t,r,n)),n}function _K(t,e,n){const r={},i=w(e,["displayName"]);n!==void 0&&i!=null&&S(n,["displayName"],i);const s=w(e,["description"]);n!==void 0&&s!=null&&S(n,["description"],s);const o=w(e,["defaultCheckpointId"]);return n!==void 0&&o!=null&&S(n,["defaultCheckpointId"],o),r}function TK(t,e){const n={},r=w(e,["model"]);r!=null&&S(n,["_url","model"],Wn(t,r));const i=w(e,["config"]);return i!=null&&S(n,["config"],_K(t,i,n)),n}function EK(t,e){const n={},r=w(e,["model"]);r!=null&&S(n,["_url","name"],Wn(t,r));const i=w(e,["config"]);return i!=null&&S(n,["config"],i),n}function PK(t,e,n){const r={},i=w(e,["systemInstruction"]);n!==void 0&&i!=null&&S(n,["systemInstruction"],Yu(t,ji(t,i)));const s=w(e,["tools"]);if(n!==void 0&&s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>L3(t,u))),S(n,["tools"],l)}const o=w(e,["generationConfig"]);return n!==void 0&&o!=null&&S(n,["generationConfig"],o),r}function NK(t,e){const n={},r=w(e,["model"]);r!=null&&S(n,["_url","model"],Wn(t,r));const i=w(e,["contents"]);if(i!=null){let o=Wa(t,i);Array.isArray(o)&&(o=o.map(l=>Yu(t,l))),S(n,["contents"],o)}const s=w(e,["config"]);return s!=null&&S(n,["config"],PK(t,s,n)),n}function jK(t,e){const n={},r=w(e,["model"]);r!=null&&S(n,["_url","model"],Wn(t,r));const i=w(e,["contents"]);if(i!=null){let o=Wa(t,i);Array.isArray(o)&&(o=o.map(l=>Yu(t,l))),S(n,["contents"],o)}const s=w(e,["config"]);return s!=null&&S(n,["config"],s),n}function RK(t,e,n){const r={},i=w(e,["numberOfVideos"]);n!==void 0&&i!=null&&S(n,["parameters","sampleCount"],i);const s=w(e,["outputGcsUri"]);n!==void 0&&s!=null&&S(n,["parameters","storageUri"],s);const o=w(e,["fps"]);n!==void 0&&o!=null&&S(n,["parameters","fps"],o);const l=w(e,["durationSeconds"]);n!==void 0&&l!=null&&S(n,["parameters","durationSeconds"],l);const u=w(e,["seed"]);n!==void 0&&u!=null&&S(n,["parameters","seed"],u);const d=w(e,["aspectRatio"]);n!==void 0&&d!=null&&S(n,["parameters","aspectRatio"],d);const h=w(e,["resolution"]);n!==void 0&&h!=null&&S(n,["parameters","resolution"],h);const p=w(e,["personGeneration"]);n!==void 0&&p!=null&&S(n,["parameters","personGeneration"],p);const g=w(e,["pubsubTopic"]);n!==void 0&&g!=null&&S(n,["parameters","pubsubTopic"],g);const y=w(e,["negativePrompt"]);n!==void 0&&y!=null&&S(n,["parameters","negativePrompt"],y);const b=w(e,["enhancePrompt"]);return n!==void 0&&b!=null&&S(n,["parameters","enhancePrompt"],b),r}function AK(t,e){const n={},r=w(e,["model"]);r!=null&&S(n,["_url","model"],Wn(t,r));const i=w(e,["prompt"]);i!=null&&S(n,["instances[0]","prompt"],i);const s=w(e,["image"]);s!=null&&S(n,["instances[0]","image"],y_(t,s));const o=w(e,["config"]);return o!=null&&S(n,["config"],RK(t,o,n)),n}function kK(t,e){const n={},r=w(e,["data"]);r!=null&&S(n,["data"],r);const i=w(e,["mimeType"]);return i!=null&&S(n,["mimeType"],i),n}function IK(t,e){const n={},r=w(e,["thought"]);r!=null&&S(n,["thought"],r);const i=w(e,["inlineData"]);i!=null&&S(n,["inlineData"],kK(t,i));const s=w(e,["codeExecutionResult"]);s!=null&&S(n,["codeExecutionResult"],s);const o=w(e,["executableCode"]);o!=null&&S(n,["executableCode"],o);const l=w(e,["fileData"]);l!=null&&S(n,["fileData"],l);const u=w(e,["functionCall"]);u!=null&&S(n,["functionCall"],u);const d=w(e,["functionResponse"]);d!=null&&S(n,["functionResponse"],d);const h=w(e,["text"]);return h!=null&&S(n,["text"],h),n}function MK(t,e){const n={},r=w(e,["parts"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>IK(t,o))),S(n,["parts"],s)}const i=w(e,["role"]);return i!=null&&S(n,["role"],i),n}function DK(t,e){const n={},r=w(e,["citationSources"]);return r!=null&&S(n,["citations"],r),n}function LK(t,e){const n={},r=w(e,["content"]);r!=null&&S(n,["content"],MK(t,r));const i=w(e,["citationMetadata"]);i!=null&&S(n,["citationMetadata"],DK(t,i));const s=w(e,["tokenCount"]);s!=null&&S(n,["tokenCount"],s);const o=w(e,["finishReason"]);o!=null&&S(n,["finishReason"],o);const l=w(e,["avgLogprobs"]);l!=null&&S(n,["avgLogprobs"],l);const u=w(e,["groundingMetadata"]);u!=null&&S(n,["groundingMetadata"],u);const d=w(e,["index"]);d!=null&&S(n,["index"],d);const h=w(e,["logprobsResult"]);h!=null&&S(n,["logprobsResult"],h);const p=w(e,["safetyRatings"]);return p!=null&&S(n,["safetyRatings"],p),n}function Ij(t,e){const n={},r=w(e,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>LK(t,u))),S(n,["candidates"],l)}const i=w(e,["modelVersion"]);i!=null&&S(n,["modelVersion"],i);const s=w(e,["promptFeedback"]);s!=null&&S(n,["promptFeedback"],s);const o=w(e,["usageMetadata"]);return o!=null&&S(n,["usageMetadata"],o),n}function OK(t,e){const n={},r=w(e,["values"]);return r!=null&&S(n,["values"],r),n}function $K(){return{}}function FK(t,e){const n={},r=w(e,["embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>OK(t,o))),S(n,["embeddings"],s)}return w(e,["metadata"])!=null&&S(n,["metadata"],$K()),n}function BK(t,e){const n={},r=w(e,["bytesBase64Encoded"]);r!=null&&S(n,["imageBytes"],Ga(t,r));const i=w(e,["mimeType"]);return i!=null&&S(n,["mimeType"],i),n}function O3(t,e){const n={},r=w(e,["safetyAttributes","categories"]);r!=null&&S(n,["categories"],r);const i=w(e,["safetyAttributes","scores"]);i!=null&&S(n,["scores"],i);const s=w(e,["contentType"]);return s!=null&&S(n,["contentType"],s),n}function UK(t,e){const n={},r=w(e,["_self"]);r!=null&&S(n,["image"],BK(t,r));const i=w(e,["raiFilteredReason"]);i!=null&&S(n,["raiFilteredReason"],i);const s=w(e,["_self"]);return s!=null&&S(n,["safetyAttributes"],O3(t,s)),n}function VK(t,e){const n={},r=w(e,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>UK(t,o))),S(n,["generatedImages"],s)}const i=w(e,["positivePromptSafetyAttributes"]);return i!=null&&S(n,["positivePromptSafetyAttributes"],O3(t,i)),n}function zK(t,e){const n={},r=w(e,["baseModel"]);r!=null&&S(n,["baseModel"],r);const i=w(e,["createTime"]);i!=null&&S(n,["createTime"],i);const s=w(e,["updateTime"]);return s!=null&&S(n,["updateTime"],s),n}function Vb(t,e){const n={},r=w(e,["name"]);r!=null&&S(n,["name"],r);const i=w(e,["displayName"]);i!=null&&S(n,["displayName"],i);const s=w(e,["description"]);s!=null&&S(n,["description"],s);const o=w(e,["version"]);o!=null&&S(n,["version"],o);const l=w(e,["_self"]);l!=null&&S(n,["tunedModelInfo"],zK(t,l));const u=w(e,["inputTokenLimit"]);u!=null&&S(n,["inputTokenLimit"],u);const d=w(e,["outputTokenLimit"]);d!=null&&S(n,["outputTokenLimit"],d);const h=w(e,["supportedGenerationMethods"]);return h!=null&&S(n,["supportedActions"],h),n}function WK(t,e){const n={},r=w(e,["nextPageToken"]);r!=null&&S(n,["nextPageToken"],r);const i=w(e,["_self"]);if(i!=null){let s=M3(t,i);Array.isArray(s)&&(s=s.map(o=>Vb(t,o))),S(n,["models"],s)}return n}function qK(){return{}}function GK(t,e){const n={},r=w(e,["totalTokens"]);r!=null&&S(n,["totalTokens"],r);const i=w(e,["cachedContentTokenCount"]);return i!=null&&S(n,["cachedContentTokenCount"],i),n}function HK(t,e){const n={},r=w(e,["video","uri"]);r!=null&&S(n,["uri"],r);const i=w(e,["video","encodedVideo"]);i!=null&&S(n,["videoBytes"],Ga(t,i));const s=w(e,["encoding"]);return s!=null&&S(n,["mimeType"],s),n}function KK(t,e){const n={},r=w(e,["_self"]);return r!=null&&S(n,["video"],HK(t,r)),n}function YK(t,e){const n={},r=w(e,["generatedSamples"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>KK(t,l))),S(n,["generatedVideos"],o)}const i=w(e,["raiMediaFilteredCount"]);i!=null&&S(n,["raiMediaFilteredCount"],i);const s=w(e,["raiMediaFilteredReasons"]);return s!=null&&S(n,["raiMediaFilteredReasons"],s),n}function JK(t,e){const n={},r=w(e,["name"]);r!=null&&S(n,["name"],r);const i=w(e,["metadata"]);i!=null&&S(n,["metadata"],i);const s=w(e,["done"]);s!=null&&S(n,["done"],s);const o=w(e,["error"]);o!=null&&S(n,["error"],o);const l=w(e,["response","generateVideoResponse"]);return l!=null&&S(n,["response"],YK(t,l)),n}function XK(t,e){const n={},r=w(e,["displayName"]);r!=null&&S(n,["displayName"],r);const i=w(e,["data"]);i!=null&&S(n,["data"],i);const s=w(e,["mimeType"]);return s!=null&&S(n,["mimeType"],s),n}function QK(t,e){const n={},r=w(e,["videoMetadata"]);r!=null&&S(n,["videoMetadata"],r);const i=w(e,["thought"]);i!=null&&S(n,["thought"],i);const s=w(e,["inlineData"]);s!=null&&S(n,["inlineData"],XK(t,s));const o=w(e,["codeExecutionResult"]);o!=null&&S(n,["codeExecutionResult"],o);const l=w(e,["executableCode"]);l!=null&&S(n,["executableCode"],l);const u=w(e,["fileData"]);u!=null&&S(n,["fileData"],u);const d=w(e,["functionCall"]);d!=null&&S(n,["functionCall"],d);const h=w(e,["functionResponse"]);h!=null&&S(n,["functionResponse"],h);const p=w(e,["text"]);return p!=null&&S(n,["text"],p),n}function ZK(t,e){const n={},r=w(e,["parts"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>QK(t,o))),S(n,["parts"],s)}const i=w(e,["role"]);return i!=null&&S(n,["role"],i),n}function eY(t,e){const n={},r=w(e,["citations"]);return r!=null&&S(n,["citations"],r),n}function tY(t,e){const n={},r=w(e,["content"]);r!=null&&S(n,["content"],ZK(t,r));const i=w(e,["citationMetadata"]);i!=null&&S(n,["citationMetadata"],eY(t,i));const s=w(e,["finishMessage"]);s!=null&&S(n,["finishMessage"],s);const o=w(e,["finishReason"]);o!=null&&S(n,["finishReason"],o);const l=w(e,["avgLogprobs"]);l!=null&&S(n,["avgLogprobs"],l);const u=w(e,["groundingMetadata"]);u!=null&&S(n,["groundingMetadata"],u);const d=w(e,["index"]);d!=null&&S(n,["index"],d);const h=w(e,["logprobsResult"]);h!=null&&S(n,["logprobsResult"],h);const p=w(e,["safetyRatings"]);return p!=null&&S(n,["safetyRatings"],p),n}function Mj(t,e){const n={},r=w(e,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>tY(t,h))),S(n,["candidates"],d)}const i=w(e,["createTime"]);i!=null&&S(n,["createTime"],i);const s=w(e,["responseId"]);s!=null&&S(n,["responseId"],s);const o=w(e,["modelVersion"]);o!=null&&S(n,["modelVersion"],o);const l=w(e,["promptFeedback"]);l!=null&&S(n,["promptFeedback"],l);const u=w(e,["usageMetadata"]);return u!=null&&S(n,["usageMetadata"],u),n}function nY(t,e){const n={},r=w(e,["truncated"]);r!=null&&S(n,["truncated"],r);const i=w(e,["token_count"]);return i!=null&&S(n,["tokenCount"],i),n}function rY(t,e){const n={},r=w(e,["values"]);r!=null&&S(n,["values"],r);const i=w(e,["statistics"]);return i!=null&&S(n,["statistics"],nY(t,i)),n}function iY(t,e){const n={},r=w(e,["billableCharacterCount"]);return r!=null&&S(n,["billableCharacterCount"],r),n}function sY(t,e){const n={},r=w(e,["predictions[]","embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>rY(t,o))),S(n,["embeddings"],s)}const i=w(e,["metadata"]);return i!=null&&S(n,["metadata"],iY(t,i)),n}function oY(t,e){const n={},r=w(e,["gcsUri"]);r!=null&&S(n,["gcsUri"],r);const i=w(e,["bytesBase64Encoded"]);i!=null&&S(n,["imageBytes"],Ga(t,i));const s=w(e,["mimeType"]);return s!=null&&S(n,["mimeType"],s),n}function $3(t,e){const n={},r=w(e,["safetyAttributes","categories"]);r!=null&&S(n,["categories"],r);const i=w(e,["safetyAttributes","scores"]);i!=null&&S(n,["scores"],i);const s=w(e,["contentType"]);return s!=null&&S(n,["contentType"],s),n}function x_(t,e){const n={},r=w(e,["_self"]);r!=null&&S(n,["image"],oY(t,r));const i=w(e,["raiFilteredReason"]);i!=null&&S(n,["raiFilteredReason"],i);const s=w(e,["_self"]);s!=null&&S(n,["safetyAttributes"],$3(t,s));const o=w(e,["prompt"]);return o!=null&&S(n,["enhancedPrompt"],o),n}function aY(t,e){const n={},r=w(e,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>x_(t,o))),S(n,["generatedImages"],s)}const i=w(e,["positivePromptSafetyAttributes"]);return i!=null&&S(n,["positivePromptSafetyAttributes"],$3(t,i)),n}function lY(t,e){const n={},r=w(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>x_(t,s))),S(n,["generatedImages"],i)}return n}function cY(t,e){const n={},r=w(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>x_(t,s))),S(n,["generatedImages"],i)}return n}function uY(t,e){const n={},r=w(e,["endpoint"]);r!=null&&S(n,["name"],r);const i=w(e,["deployedModelId"]);return i!=null&&S(n,["deployedModelId"],i),n}function dY(t,e){const n={},r=w(e,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&S(n,["baseModel"],r);const i=w(e,["createTime"]);i!=null&&S(n,["createTime"],i);const s=w(e,["updateTime"]);return s!=null&&S(n,["updateTime"],s),n}function fY(t,e){const n={},r=w(e,["checkpointId"]);r!=null&&S(n,["checkpointId"],r);const i=w(e,["epoch"]);i!=null&&S(n,["epoch"],i);const s=w(e,["step"]);return s!=null&&S(n,["step"],s),n}function zb(t,e){const n={},r=w(e,["name"]);r!=null&&S(n,["name"],r);const i=w(e,["displayName"]);i!=null&&S(n,["displayName"],i);const s=w(e,["description"]);s!=null&&S(n,["description"],s);const o=w(e,["versionId"]);o!=null&&S(n,["version"],o);const l=w(e,["deployedModels"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(y=>uY(t,y))),S(n,["endpoints"],g)}const u=w(e,["labels"]);u!=null&&S(n,["labels"],u);const d=w(e,["_self"]);d!=null&&S(n,["tunedModelInfo"],dY(t,d));const h=w(e,["defaultCheckpointId"]);h!=null&&S(n,["defaultCheckpointId"],h);const p=w(e,["checkpoints"]);if(p!=null){let g=p;Array.isArray(g)&&(g=g.map(y=>fY(t,y))),S(n,["checkpoints"],g)}return n}function hY(t,e){const n={},r=w(e,["nextPageToken"]);r!=null&&S(n,["nextPageToken"],r);const i=w(e,["_self"]);if(i!=null){let s=M3(t,i);Array.isArray(s)&&(s=s.map(o=>zb(t,o))),S(n,["models"],s)}return n}function pY(){return{}}function mY(t,e){const n={},r=w(e,["totalTokens"]);return r!=null&&S(n,["totalTokens"],r),n}function gY(t,e){const n={},r=w(e,["tokensInfo"]);return r!=null&&S(n,["tokensInfo"],r),n}function yY(t,e){const n={},r=w(e,["gcsUri"]);r!=null&&S(n,["uri"],r);const i=w(e,["bytesBase64Encoded"]);i!=null&&S(n,["videoBytes"],Ga(t,i));const s=w(e,["mimeType"]);return s!=null&&S(n,["mimeType"],s),n}function xY(t,e){const n={},r=w(e,["_self"]);return r!=null&&S(n,["video"],yY(t,r)),n}function vY(t,e){const n={},r=w(e,["videos"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>xY(t,l))),S(n,["generatedVideos"],o)}const i=w(e,["raiMediaFilteredCount"]);i!=null&&S(n,["raiMediaFilteredCount"],i);const s=w(e,["raiMediaFilteredReasons"]);return s!=null&&S(n,["raiMediaFilteredReasons"],s),n}function wY(t,e){const n={},r=w(e,["name"]);r!=null&&S(n,["name"],r);const i=w(e,["metadata"]);i!=null&&S(n,["metadata"],i);const s=w(e,["done"]);s!=null&&S(n,["done"],s);const o=w(e,["error"]);o!=null&&S(n,["error"],o);const l=w(e,["response"]);return l!=null&&S(n,["response"],vY(t,l)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const SY="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function bY(t,e,n){const r=new Bq;let i;if(n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),t.isVertexAI()){const s=fH(t,i);Object.assign(r,s)}else{const s=dH(t,i);Object.assign(r,s)}e(r)}class CY{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r,i,s;const o=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion();let u;const d=PY(this.apiClient.getDefaultHeaders());if(this.apiClient.isVertexAI())u=`${o}/ws/google.cloud.aiplatform.${l}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(d);else{const R=this.apiClient.getApiKey();u=`${o}/ws/google.ai.generativelanguage.${l}.GenerativeService.BidiGenerateContent?key=${R}`}let h=()=>{};const p=new Promise(R=>{h=R}),g=e.callbacks,y=function(){var R;(R=g==null?void 0:g.onopen)===null||R===void 0||R.call(g),h({})},b=this.apiClient,C={onopen:y,onmessage:R=>{bY(b,g.onmessage,R)},onerror:(n=g==null?void 0:g.onerror)!==null&&n!==void 0?n:function(R){},onclose:(r=g==null?void 0:g.onclose)!==null&&r!==void 0?r:function(R){}},_=this.webSocketFactory.create(u,EY(d),C);_.connect(),await p;let P=Wn(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&P.startsWith("publishers/")){const R=this.apiClient.getProject(),I=this.apiClient.getLocation();P=`projects/${R}/locations/${I}/`+P}let E={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Vr.AUDIO]}:e.config.responseModalities=[Vr.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const j={model:P,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?E=LG(this.apiClient,j):E=DG(this.apiClient,j),delete E.config,_.send(JSON.stringify(E)),new TY(_,this.apiClient)}}const _Y={turnComplete:!0};class TY{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Wa(e,n.turns),e.isVertexAI()?r=r.map(i=>Yu(e,i)):r=r.map(i=>p0(e,i))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const s of r){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(SY)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},_Y),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:VG(this.apiClient,e)}:n={realtimeInput:UG(this.apiClient,e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function EY(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function PY(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let NY=class extends Gg{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>await this.generateContentInternal(n),this.generateContentStream=async n=>await this.generateContentStreamInternal(n),this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let s;const o=[];if(r!=null&&r.generatedImages)for(const u of r.generatedImages)u&&(u!=null&&u.safetyAttributes)&&((i=u==null?void 0:u.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?s=u==null?void 0:u.safetyAttributes:o.push(u);let l;return s?l={generatedImages:o,positivePromptSafetyAttributes:s}:l={generatedImages:o},l}),this.list=async n=>{var r;const o={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!o.config.queryBase){if(!((r=o.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");o.config.filter="labels.tune-type:*"}return new h0($u.PAGED_ITEM_MODELS,l=>this.listInternal(l),await this.listInternal(o),o)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)}}async generateContentInternal(e){var n,r,i,s;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=kj(this.apiClient,e);return l=It("{model}:generateContent",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>{const p=Mj(this.apiClient,h),g=new Cx;return Object.assign(g,p),g})}else{const d=Aj(this.apiClient,e);return l=It("{model}:generateContent",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>{const p=Ij(this.apiClient,h),g=new Cx;return Object.assign(g,p),g})}}async generateContentStreamInternal(e){var n,r,i,s;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=kj(this.apiClient,e);l=It("{model}:streamGenerateContent?alt=sse",d._url),u=d._query,delete d.config,delete d._url,delete d._query;const h=this.apiClient;return o=h.requestStream({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),o.then(function(p){return Nv(this,arguments,function*(){var g,y,b,C;try{for(var _=!0,P=Bb(p),E;E=yield ii(P.next()),g=E.done,!g;_=!0){C=E.value,_=!1;const R=Mj(h,yield ii(C.json())),I=new Cx;Object.assign(I,R),yield yield ii(I)}}catch(j){y={error:j}}finally{try{!_&&!g&&(b=P.return)&&(yield ii(b.call(P)))}finally{if(y)throw y.error}}})})}else{const d=Aj(this.apiClient,e);l=It("{model}:streamGenerateContent?alt=sse",d._url),u=d._query,delete d.config,delete d._url,delete d._query;const h=this.apiClient;return o=h.requestStream({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),o.then(function(p){return Nv(this,arguments,function*(){var g,y,b,C;try{for(var _=!0,P=Bb(p),E;E=yield ii(P.next()),g=E.done,!g;_=!0){C=E.value,_=!1;const R=Ij(h,yield ii(C.json())),I=new Cx;Object.assign(I,R),yield yield ii(I)}}catch(j){y={error:j}}finally{try{!_&&!g&&(b=P.return)&&(yield ii(b.call(P)))}finally{if(y)throw y.error}}})})}}async embedContent(e){var n,r,i,s;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=cK(this.apiClient,e);return l=It("{model}:predict",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>{const p=sY(this.apiClient,h),g=new xj;return Object.assign(g,p),g})}else{const d=NH(this.apiClient,e);return l=It("{model}:batchEmbedContents",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>{const p=FK(this.apiClient,h),g=new xj;return Object.assign(g,p),g})}}async generateImagesInternal(e){var n,r,i,s;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=dK(this.apiClient,e);return l=It("{model}:predict",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>{const p=aY(this.apiClient,h),g=new vj;return Object.assign(g,p),g})}else{const d=RH(this.apiClient,e);return l=It("{model}:predict",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>{const p=VK(this.apiClient,h),g=new vj;return Object.assign(g,p),g})}}async editImageInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const l=xK(this.apiClient,e);return s=It("{model}:predict",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const d=lY(this.apiClient,u),h=new Mq;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const l=wK(this.apiClient,e);return s=It("{model}:predict",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const d=cY(this.apiClient,u),h=new Dq;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,s;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=SK(this.apiClient,e);return l=It("{name}",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>zb(this.apiClient,h))}else{const d=AH(this.apiClient,e);return l=It("{name}",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>Vb(this.apiClient,h))}}async listInternal(e){var n,r,i,s;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=CK(this.apiClient,e);return l=It("{models_url}",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>{const p=hY(this.apiClient,h),g=new wj;return Object.assign(g,p),g})}else{const d=IH(this.apiClient,e);return l=It("{models_url}",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>{const p=WK(this.apiClient,h),g=new wj;return Object.assign(g,p),g})}}async update(e){var n,r,i,s;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=TK(this.apiClient,e);return l=It("{model}",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>zb(this.apiClient,h))}else{const d=DH(this.apiClient,e);return l=It("{name}",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>Vb(this.apiClient,h))}}async delete(e){var n,r,i,s;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=EK(this.apiClient,e);return l=It("{name}",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(()=>{const h=pY(),p=new Sj;return Object.assign(p,h),p})}else{const d=LH(this.apiClient,e);return l=It("{name}",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(()=>{const h=qK(),p=new Sj;return Object.assign(p,h),p})}}async countTokens(e){var n,r,i,s;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=NK(this.apiClient,e);return l=It("{model}:countTokens",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>{const p=mY(this.apiClient,h),g=new bj;return Object.assign(g,p),g})}else{const d=$H(this.apiClient,e);return l=It("{model}:countTokens",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>{const p=GK(this.apiClient,h),g=new bj;return Object.assign(g,p),g})}}async computeTokens(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const l=jK(this.apiClient,e);return s=It("{model}:computeTokens",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const d=gY(this.apiClient,u),h=new Lq;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var n,r,i,s;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=AK(this.apiClient,e);return l=It("{model}:predictLongRunning",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>wY(this.apiClient,h))}else{const d=UH(this.apiClient,e);return l=It("{model}:predictLongRunning",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>JK(this.apiClient,h))}}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jY(t,e){const n={},r=w(e,["operationName"]);r!=null&&S(n,["_url","operationName"],r);const i=w(e,["config"]);return i!=null&&S(n,["config"],i),n}function RY(t,e){const n={},r=w(e,["operationName"]);r!=null&&S(n,["_url","operationName"],r);const i=w(e,["config"]);return i!=null&&S(n,["config"],i),n}function AY(t,e){const n={},r=w(e,["operationName"]);r!=null&&S(n,["operationName"],r);const i=w(e,["resourceName"]);i!=null&&S(n,["_url","resourceName"],i);const s=w(e,["config"]);return s!=null&&S(n,["config"],s),n}function kY(t,e){const n={},r=w(e,["video","uri"]);r!=null&&S(n,["uri"],r);const i=w(e,["video","encodedVideo"]);i!=null&&S(n,["videoBytes"],Ga(t,i));const s=w(e,["encoding"]);return s!=null&&S(n,["mimeType"],s),n}function IY(t,e){const n={},r=w(e,["_self"]);return r!=null&&S(n,["video"],kY(t,r)),n}function MY(t,e){const n={},r=w(e,["generatedSamples"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>IY(t,l))),S(n,["generatedVideos"],o)}const i=w(e,["raiMediaFilteredCount"]);i!=null&&S(n,["raiMediaFilteredCount"],i);const s=w(e,["raiMediaFilteredReasons"]);return s!=null&&S(n,["raiMediaFilteredReasons"],s),n}function DY(t,e){const n={},r=w(e,["name"]);r!=null&&S(n,["name"],r);const i=w(e,["metadata"]);i!=null&&S(n,["metadata"],i);const s=w(e,["done"]);s!=null&&S(n,["done"],s);const o=w(e,["error"]);o!=null&&S(n,["error"],o);const l=w(e,["response","generateVideoResponse"]);return l!=null&&S(n,["response"],MY(t,l)),n}function LY(t,e){const n={},r=w(e,["gcsUri"]);r!=null&&S(n,["uri"],r);const i=w(e,["bytesBase64Encoded"]);i!=null&&S(n,["videoBytes"],Ga(t,i));const s=w(e,["mimeType"]);return s!=null&&S(n,["mimeType"],s),n}function OY(t,e){const n={},r=w(e,["_self"]);return r!=null&&S(n,["video"],LY(t,r)),n}function $Y(t,e){const n={},r=w(e,["videos"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>OY(t,l))),S(n,["generatedVideos"],o)}const i=w(e,["raiMediaFilteredCount"]);i!=null&&S(n,["raiMediaFilteredCount"],i);const s=w(e,["raiMediaFilteredReasons"]);return s!=null&&S(n,["raiMediaFilteredReasons"],s),n}function Dj(t,e){const n={},r=w(e,["name"]);r!=null&&S(n,["name"],r);const i=w(e,["metadata"]);i!=null&&S(n,["metadata"],i);const s=w(e,["done"]);s!=null&&S(n,["done"],s);const o=w(e,["error"]);o!=null&&S(n,["error"],o);const l=w(e,["response"]);return l!=null&&S(n,["response"],$Y(t,l)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FY extends Gg{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let s;return r&&"httpOptions"in r&&(s=r.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:s}})}else return this.getVideosOperationInternal({operationName:n.name,config:r})}async getVideosOperationInternal(e){var n,r,i,s;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=RY(this.apiClient,e);return l=It("{operationName}",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>Dj(this.apiClient,h))}else{const d=jY(this.apiClient,e);return l=It("{operationName}",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>DY(this.apiClient,h))}}async fetchPredictVideosOperationInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const l=AY(this.apiClient,e);return s=It("{resourceName}:fetchPredictOperation",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>Dj(this.apiClient,u))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const BY="Content-Type",UY="X-Server-Timeout",VY="User-Agent",zY="x-goog-api-client",WY="0.14.1",qY=`google-genai-sdk/${WY}`,GY="v1beta1",HY="v1beta",Lj=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class F3 extends Error{constructor(e,n){n?super(e,{cause:n}):super(e,{cause:new Error().stack}),this.message=e,this.name="ClientError"}}class Wb extends Error{constructor(e,n){n?super(e,{cause:n}):super(e,{cause:new Error().stack}),this.message=e,this.name="ServerError"}}class KY{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:GY,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:HY,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[o,l]of Object.entries(e.queryParams))i.searchParams.append(o,String(l));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,n,e.abortSignal),this.unaryApiCall(i,s,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,s]of Object.entries(n))typeof s=="object"?r[i]=Object.assign(Object.assign({},r[i]),s):s!==void 0&&(r[i]=s);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,n,e.abortSignal),this.streamApiCall(i,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r){if(n&&n.timeout||r){const i=new AbortController,s=i.signal;n.timeout&&(n==null?void 0:n.timeout)>0&&setTimeout(()=>i.abort(),n.timeout),r&&r.addEventListener("abort",()=>{i.abort()}),e.signal=s}return e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await Oj(i),new Fb(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await Oj(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return Nv(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),s=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let o="";for(;;){const{done:l,value:u}=yield ii(i.read());if(l){if(o.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=s.decode(u);try{const p=JSON.parse(d);if("error"in p){const g=JSON.parse(JSON.stringify(p.error)),y=g.status,b=g.code,C=`got status: ${y}. ${JSON.stringify(p)}`;if(b>=400&&b<500)throw new F3(C);if(b>=500&&b<600)throw new Wb(C)}}catch(p){const g=p;if(g.name==="ClientError"||g.name==="ServerError")throw p}o+=d;let h=o.match(Lj);for(;h;){const p=h[1];try{const g=new Response(p,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield ii(new Fb(g)),o=o.slice(h[0].length),h=o.match(Lj)}catch(g){throw new Error(`exception parsing stream chunk ${p}. ${g}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=qY+" "+this.clientOptions.userAgentExtra;return e[VY]=n,e[zY]=n,e[BY]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[r,i]of Object.entries(e.headers))n.append(r,i);e.timeout&&e.timeout>0&&n.append(UY,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const s=this.clientOptions.uploader,o=await s.stat(e);i.sizeBytes=String(o.size);const l=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:o.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=l;const u=await this.fetchUploadUrl(i,n);return s.upload(e,u,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var r;let i={};n!=null&&n.httpOptions?i=n.httpOptions:i={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const s={file:e},o=await this.request({path:It("upload/v1beta/files",s._url),body:JSON.stringify(s),httpMethod:"POST",httpOptions:i});if(!o||!(o!=null&&o.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const l=(r=o==null?void 0:o.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(l===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return l}}async function Oj(t){var e;if(t===void 0)throw new Wb("response is undefined");if(!t.ok){const n=t.status,r=t.statusText;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const s=`got status: ${n} ${r}. ${JSON.stringify(i)}`;throw n>=400&&n<500?new F3(s):n>=500&&n<600?new Wb(s):new Error(s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YY(t,e){const n={},r=w(e,["name"]);r!=null&&S(n,["_url","name"],r);const i=w(e,["config"]);return i!=null&&S(n,["config"],i),n}function JY(t,e,n){const r={},i=w(e,["pageSize"]);n!==void 0&&i!=null&&S(n,["_query","pageSize"],i);const s=w(e,["pageToken"]);n!==void 0&&s!=null&&S(n,["_query","pageToken"],s);const o=w(e,["filter"]);return n!==void 0&&o!=null&&S(n,["_query","filter"],o),r}function XY(t,e){const n={},r=w(e,["config"]);return r!=null&&S(n,["config"],JY(t,r,n)),n}function QY(t,e){const n={},r=w(e,["textInput"]);r!=null&&S(n,["textInput"],r);const i=w(e,["output"]);return i!=null&&S(n,["output"],i),n}function ZY(t,e){const n={};if(w(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=w(e,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>QY(t,s))),S(n,["examples","examples"],i)}return n}function eJ(t,e,n){const r={};if(w(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=w(e,["tunedModelDisplayName"]);if(n!==void 0&&i!=null&&S(n,["displayName"],i),w(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=w(e,["epochCount"]);n!==void 0&&s!=null&&S(n,["tuningTask","hyperparameters","epochCount"],s);const o=w(e,["learningRateMultiplier"]);if(o!=null&&S(r,["tuningTask","hyperparameters","learningRateMultiplier"],o),w(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(w(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const l=w(e,["batchSize"]);n!==void 0&&l!=null&&S(n,["tuningTask","hyperparameters","batchSize"],l);const u=w(e,["learningRate"]);return n!==void 0&&u!=null&&S(n,["tuningTask","hyperparameters","learningRate"],u),r}function tJ(t,e){const n={},r=w(e,["baseModel"]);r!=null&&S(n,["baseModel"],r);const i=w(e,["trainingDataset"]);i!=null&&S(n,["tuningTask","trainingData"],ZY(t,i));const s=w(e,["config"]);return s!=null&&S(n,["config"],eJ(t,s,n)),n}function nJ(t,e){const n={},r=w(e,["name"]);r!=null&&S(n,["_url","name"],r);const i=w(e,["config"]);return i!=null&&S(n,["config"],i),n}function rJ(t,e,n){const r={},i=w(e,["pageSize"]);n!==void 0&&i!=null&&S(n,["_query","pageSize"],i);const s=w(e,["pageToken"]);n!==void 0&&s!=null&&S(n,["_query","pageToken"],s);const o=w(e,["filter"]);return n!==void 0&&o!=null&&S(n,["_query","filter"],o),r}function iJ(t,e){const n={},r=w(e,["config"]);return r!=null&&S(n,["config"],rJ(t,r,n)),n}function sJ(t,e,n){const r={},i=w(e,["gcsUri"]);if(n!==void 0&&i!=null&&S(n,["supervisedTuningSpec","trainingDatasetUri"],i),w(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function oJ(t,e){const n={},r=w(e,["gcsUri"]);return r!=null&&S(n,["validationDatasetUri"],r),n}function aJ(t,e,n){const r={},i=w(e,["validationDataset"]);n!==void 0&&i!=null&&S(n,["supervisedTuningSpec"],oJ(t,i));const s=w(e,["tunedModelDisplayName"]);n!==void 0&&s!=null&&S(n,["tunedModelDisplayName"],s);const o=w(e,["description"]);n!==void 0&&o!=null&&S(n,["description"],o);const l=w(e,["epochCount"]);n!==void 0&&l!=null&&S(n,["supervisedTuningSpec","hyperParameters","epochCount"],l);const u=w(e,["learningRateMultiplier"]);n!==void 0&&u!=null&&S(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],u);const d=w(e,["exportLastCheckpointOnly"]);n!==void 0&&d!=null&&S(n,["supervisedTuningSpec","exportLastCheckpointOnly"],d);const h=w(e,["adapterSize"]);if(n!==void 0&&h!=null&&S(n,["supervisedTuningSpec","hyperParameters","adapterSize"],h),w(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(w(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return r}function lJ(t,e){const n={},r=w(e,["baseModel"]);r!=null&&S(n,["baseModel"],r);const i=w(e,["trainingDataset"]);i!=null&&S(n,["supervisedTuningSpec","trainingDatasetUri"],sJ(t,i,n));const s=w(e,["config"]);return s!=null&&S(n,["config"],aJ(t,s,n)),n}function cJ(t,e){const n={},r=w(e,["name"]);r!=null&&S(n,["model"],r);const i=w(e,["name"]);return i!=null&&S(n,["endpoint"],i),n}function B3(t,e){const n={},r=w(e,["name"]);r!=null&&S(n,["name"],r);const i=w(e,["state"]);i!=null&&S(n,["state"],A3(t,i));const s=w(e,["createTime"]);s!=null&&S(n,["createTime"],s);const o=w(e,["tuningTask","startTime"]);o!=null&&S(n,["startTime"],o);const l=w(e,["tuningTask","completeTime"]);l!=null&&S(n,["endTime"],l);const u=w(e,["updateTime"]);u!=null&&S(n,["updateTime"],u);const d=w(e,["description"]);d!=null&&S(n,["description"],d);const h=w(e,["baseModel"]);h!=null&&S(n,["baseModel"],h);const p=w(e,["_self"]);p!=null&&S(n,["tunedModel"],cJ(t,p));const g=w(e,["distillationSpec"]);g!=null&&S(n,["distillationSpec"],g);const y=w(e,["experiment"]);y!=null&&S(n,["experiment"],y);const b=w(e,["labels"]);b!=null&&S(n,["labels"],b);const C=w(e,["pipelineJob"]);C!=null&&S(n,["pipelineJob"],C);const _=w(e,["tunedModelDisplayName"]);return _!=null&&S(n,["tunedModelDisplayName"],_),n}function uJ(t,e){const n={},r=w(e,["nextPageToken"]);r!=null&&S(n,["nextPageToken"],r);const i=w(e,["tunedModels"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>B3(t,o))),S(n,["tuningJobs"],s)}return n}function dJ(t,e){const n={},r=w(e,["name"]);r!=null&&S(n,["name"],r);const i=w(e,["metadata"]);i!=null&&S(n,["metadata"],i);const s=w(e,["done"]);s!=null&&S(n,["done"],s);const o=w(e,["error"]);return o!=null&&S(n,["error"],o),n}function fJ(t,e){const n={},r=w(e,["checkpointId"]);r!=null&&S(n,["checkpointId"],r);const i=w(e,["epoch"]);i!=null&&S(n,["epoch"],i);const s=w(e,["step"]);s!=null&&S(n,["step"],s);const o=w(e,["endpoint"]);return o!=null&&S(n,["endpoint"],o),n}function hJ(t,e){const n={},r=w(e,["model"]);r!=null&&S(n,["model"],r);const i=w(e,["endpoint"]);i!=null&&S(n,["endpoint"],i);const s=w(e,["checkpoints"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>fJ(t,l))),S(n,["checkpoints"],o)}return n}function qb(t,e){const n={},r=w(e,["name"]);r!=null&&S(n,["name"],r);const i=w(e,["state"]);i!=null&&S(n,["state"],A3(t,i));const s=w(e,["createTime"]);s!=null&&S(n,["createTime"],s);const o=w(e,["startTime"]);o!=null&&S(n,["startTime"],o);const l=w(e,["endTime"]);l!=null&&S(n,["endTime"],l);const u=w(e,["updateTime"]);u!=null&&S(n,["updateTime"],u);const d=w(e,["error"]);d!=null&&S(n,["error"],d);const h=w(e,["description"]);h!=null&&S(n,["description"],h);const p=w(e,["baseModel"]);p!=null&&S(n,["baseModel"],p);const g=w(e,["tunedModel"]);g!=null&&S(n,["tunedModel"],hJ(t,g));const y=w(e,["supervisedTuningSpec"]);y!=null&&S(n,["supervisedTuningSpec"],y);const b=w(e,["tuningDataStats"]);b!=null&&S(n,["tuningDataStats"],b);const C=w(e,["encryptionSpec"]);C!=null&&S(n,["encryptionSpec"],C);const _=w(e,["partnerModelTuningSpec"]);_!=null&&S(n,["partnerModelTuningSpec"],_);const P=w(e,["distillationSpec"]);P!=null&&S(n,["distillationSpec"],P);const E=w(e,["experiment"]);E!=null&&S(n,["experiment"],E);const j=w(e,["labels"]);j!=null&&S(n,["labels"],j);const R=w(e,["pipelineJob"]);R!=null&&S(n,["pipelineJob"],R);const I=w(e,["tunedModelDisplayName"]);return I!=null&&S(n,["tunedModelDisplayName"],I),n}function pJ(t,e){const n={},r=w(e,["nextPageToken"]);r!=null&&S(n,["nextPageToken"],r);const i=w(e,["tuningJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>qb(t,o))),S(n,["tuningJobs"],s)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mJ extends Gg{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new h0($u.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const r=await this.tuneMldevInternal(n);let i="";return r.metadata!==void 0&&r.metadata.tunedModel!==void 0?i=r.metadata.tunedModel:r.name!==void 0&&r.name.includes("/operations/")&&(i=r.name.split("/operations/")[0]),{name:i,state:$b.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,s;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=nJ(this.apiClient,e);return l=It("{name}",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>qb(this.apiClient,h))}else{const d=YY(this.apiClient,e);return l=It("{name}",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>B3(this.apiClient,h))}}async listInternal(e){var n,r,i,s;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=iJ(this.apiClient,e);return l=It("tuningJobs",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>{const p=pJ(this.apiClient,h),g=new Cj;return Object.assign(g,p),g})}else{const d=XY(this.apiClient,e);return l=It("tunedModels",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>{const p=uJ(this.apiClient,h),g=new Cj;return Object.assign(g,p),g})}}async tuneInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const l=lJ(this.apiClient,e);return s=It("tuningJobs",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>qb(this.apiClient,u))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=tJ(this.apiClient,e);return s=It("tunedModels",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>dJ(this.apiClient,u))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gJ{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const yJ=1024*1024*8,xJ=3,vJ=1e3,wJ=2,X1="x-goog-upload-status";async function SJ(t,e,n){var r,i,s;let o=0,l=0,u=new Fb(new Response),d="upload";for(o=t.size;l<o;){const p=Math.min(yJ,o-l),g=t.slice(l,l+p);l+p>=o&&(d+=", finalize");let y=0,b=vJ;for(;y<xJ&&(u=await n.request({path:"",body:g,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":d,"X-Goog-Upload-Offset":String(l),"Content-Length":String(p)}}}),!(!((r=u==null?void 0:u.headers)===null||r===void 0)&&r[X1]));)y++,await CJ(b),b=b*wJ;if(l+=p,((i=u==null?void 0:u.headers)===null||i===void 0?void 0:i[X1])!=="active")break;if(o<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const h=await(u==null?void 0:u.json());if(((s=u==null?void 0:u.headers)===null||s===void 0?void 0:s[X1])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return h.file}async function bJ(t){return{size:t.size,type:t.type}}function CJ(t){return new Promise(e=>setTimeout(e,t))}class _J{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await SJ(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await bJ(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class TJ{create(e,n,r){return new EJ(e,n,r)}}class EJ{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $j="x-goog-api-key";class PJ{constructor(e){this.apiKey=e}async addAuthHeaders(e){e.get($j)===null&&e.append($j,this.apiKey)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const NJ="gl-node/";class us{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=$W(e,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const i=new PJ(this.apiKey);this.apiClient=new KY({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:NJ+"web",uploader:new _J,downloader:new gJ}),this.models=new NY(this.apiClient),this.live=new CY(this.apiClient,i,new TJ),this.chats=new qq(this.models,this.apiClient),this.caches=new Uq(this.apiClient),this.files=new iG(this.apiClient),this.operations=new FY(this.apiClient),this.tunings=new mJ(this.apiClient)}}function gt(...t){return jW(v3(t))}function Cr(){return MW()}const jJ="CEVWpXluVU77FgaVriTzqBCoN4FD3f0VL2Y8bXNPynNfqUg2DoUgPt8t";console.log("[utils.jsx] VITE_PEXELS_API_KEY loaded:","Exists");const U3=jJ,RJ="https://api.pexels.com/v1",AJ="AIzaSyDJ2rjQjY4mD6E34RqAv_ezZ3a29eYRA0I";console.log("[utils.jsx] VITE_GEMINI_API_KEY loaded:","Exists");const kJ=AJ,IJ="your-shop-name.myshopify.com",Ra=async(t,e=1,n="landscape")=>{const r=`${RJ}/search?query=${encodeURIComponent(t)}&per_page=${e}&orientation=${n}`;try{const i=await fetch(r,{headers:{Authorization:U3}});if(!i.ok){const o=await i.json();throw console.error("Pexels API error:",o),new Error(`Pexels API request failed: ${i.statusText}`)}const s=await i.json();if(!s.photos||s.photos.length===0){console.warn(`No Pexels images found for query: "${t}". Attempting fallback.`);const o=(l,u,d)=>`https://via.placeholder.com/${l}x${u}.png?text=NoImage:${encodeURIComponent(d)}`;return Array(e).fill(null).map((l,u)=>({id:Cr(),src:{large:o(1200,800,`${t} ${u+1}`),medium:o(800,600,`${t} ${u+1}`),original:o(1920,1280,`${t} ${u+1}`),square:o(400,400,`${t} ${u+1}`),landscape:o(1200,800,`${t} ${u+1}`),portrait:o(800,1200,`${t} ${u+1}`),small:o(400,260,`${t} ${u+1}`),tiny:o(200,130,`${t} ${u+1}`)},photographer:"N/A",alt:`No image found for ${t} ${u+1}`}))}return s.photos.map(o=>({id:o.id,src:o.src,photographer:o.photographer,alt:o.alt||`Photo by ${o.photographer} of ${t}`}))}catch(i){console.error("Error fetching Pexels images:",i);const s=(o,l,u)=>`https://via.placeholder.com/${o}x${l}.png?text=${encodeURIComponent(u)}`;return Array(e).fill(null).map((o,l)=>({id:Cr(),src:{large:s(1200,800,`Error ${t} ${l+1}`),medium:s(800,600,`Error ${t} ${l+1}`),original:s(1920,1280,`Error ${t} ${l+1}`),square:s(400,400,`Error ${t} ${l+1}`),landscape:s(1200,800,`Error ${t} ${l+1}`),portrait:s(800,1200,`Error ${t} ${l+1}`),small:s(400,260,`Error ${t} ${l+1}`),tiny:s(200,130,`Error ${t} ${l+1}`)},photographer:"Placeholder Error",alt:`Placeholder Error for ${t} ${l+1}`}))}},V3=async(t,e=1,n="landscape")=>{const r=`https://api.pexels.com/videos/search?query=${encodeURIComponent(t)}&per_page=${e}&orientation=${n}`;try{const i=await fetch(r,{headers:{Authorization:U3}});if(!i.ok){const o=await i.json();throw console.error("Pexels Videos API error:",o),new Error(`Pexels Videos API request failed: ${i.statusText}`)}const s=await i.json();return!s.videos||s.videos.length===0?(console.warn(`No Pexels videos found for query: "${t}".`),Array(e).fill(null).map((o,l)=>({id:Cr(),url:`https://videos.pexels.com/videos/no-video-${l+1}.mp4`,image:`https://via.placeholder.com/1280x720.png?text=No+Video+Found+${encodeURIComponent(t)}`,alt:`No video found for ${t} ${l+1}`}))):s.videos.map(o=>{var u,d;const l=o.video_files.find(h=>h.quality==="hd"&&h.file_type==="video/mp4")||o.video_files.find(h=>h.file_type==="video/mp4")||o.video_files[0];return{id:o.id,url:l?l.link:null,image:((u=o.video_pictures[0])==null?void 0:u.picture)||`https://via.placeholder.com/1280x720.png?text=${encodeURIComponent(o.url||t)}`,duration:o.duration,user:o.user,alt:`Video of ${t} by ${((d=o.user)==null?void 0:d.name)||"Pexels Contributor"}`}})}catch(i){return console.error("Error fetching Pexels videos:",i),Array(e).fill(null).map((s,o)=>({id:Cr(),url:`https://videos.pexels.com/videos/error-video-${o+1}.mp4`,image:`https://via.placeholder.com/1280x720.png?text=Video+Error+${encodeURIComponent(t)}`,alt:`Error fetching video for ${t} ${o+1}`}))}},z3=async t=>{try{const e=new us({apiKey:kJ}),n=[{category:Ir.HARM_CATEGORY_HARASSMENT,threshold:Mr.BLOCK_MEDIUM_AND_ABOVE},{category:Ir.HARM_CATEGORY_HATE_SPEECH,threshold:Mr.BLOCK_MEDIUM_AND_ABOVE},{category:Ir.HARM_CATEGORY_SEXUALLY_EXPLICIT,threshold:Mr.BLOCK_MEDIUM_AND_ABOVE},{category:Ir.HARM_CATEGORY_DANGEROUS_CONTENT,threshold:Mr.BLOCK_MEDIUM_AND_ABOVE}];console.log(`[utils.jsx/generateImageWithGemini] Calling Gemini with prompt: "${t}"`);const r=await e.models.generateContent({model:"gemini-2.0-flash-preview-image-generation",contents:[{text:t}],safetySettings:n,config:{responseModalities:[Vr.TEXT,Vr.IMAGE]}});let i=null,s="image/png";if(r.candidates&&r.candidates.length>0&&r.candidates[0].content&&r.candidates[0].content.parts){for(const o of r.candidates[0].content.parts)if(o.inlineData&&o.inlineData.data){i=o.inlineData.data,s=o.inlineData.mimeType||"image/png",console.log(`[utils.jsx/generateImageWithGemini] Image generated. MimeType: ${s}`);break}}if(i)return{url:`data:${s};base64,${i}`,alt:`AI Generated Image for: ${t}`};throw new Error("No image data found in Gemini response.")}catch(e){return console.error("[utils.jsx/generateImageWithGemini] Error generating image with Gemini:",e),{url:`https://via.placeholder.com/512x512.png?text=Error:${encodeURIComponent(t.substring(0,20))}`,alt:`Error generating image for: ${t}`}}},W3=(t,e)=>{const n={fashion:[`Elevate your style with our ${e}. Crafted for comfort and a modern look.`,`The ${e} is a must-have for any fashion-forward wardrobe. Versatile and chic.`,`Discover the perfect blend of quality and design in our ${e}. Ideal for any occasion.`],electronics:[`Experience next-level technology with the ${e}. Packed with features for modern life.`,`The ${e} offers superior performance and sleek design. Upgrade your tech today.`,`Unleash innovation with the ${e}. Reliable, powerful, and built to last.`],food:[`Savor the rich flavors of our ${e}. Made with the freshest, high-quality ingredients.`,`Our ${e} is a delicious treat for any time of day. Wholesome and satisfying.`,`Indulge in the authentic taste of ${e}. Perfect for sharing or enjoying solo.`],jewelry:[`Adorn yourself with the exquisite ${e}. A timeless piece that radiates elegance.`,`The ${e} is a symbol of sophistication and luxury. Crafted with precision.`,`Make a statement with our stunning ${e}. Perfect for special moments.`],general:[`Discover the quality and utility of the ${e}. A great addition to your collection.`,`The ${e} is designed for excellence and everyday use. You'll love it.`,`Enhance your life with the versatile ${e}. Built for performance and style.`]},r=n[t]||n.general;return r[Math.floor(Math.random()*r.length)]},m0=(t,e)=>{const n={fashion:`Step Into Style at ${e}`,electronics:`${e}: Your Tech Universe`,food:`Taste the Difference with ${e}`,jewelry:`Shine Bright with ${e}`,general:`Welcome to ${e} - Quality Finds!`},r={fashion:`Explore the latest trends and timeless classics. ${e} offers curated fashion for every individual. Express yourself with our unique collection.`,electronics:`Discover cutting-edge gadgets and essential electronics at ${e}. We bring you innovation, performance, and value, all in one place.`,food:`From farm-fresh produce to gourmet delights, ${e} is your source for delicious and wholesome food. Quality ingredients for a healthier life.`,jewelry:`Find exquisite pieces that tell your story. ${e} presents a stunning collection of fine jewelry, perfect for gifting or treating yourself.`,general:`Your one-stop shop for amazing products. ${e} offers a diverse range of quality items to meet your everyday needs and special desires.`},i=["Fast Worldwide Shipping","Secure Online Payments","24/7 Customer Support","Easy Returns & Exchanges"],s=["Get your orders delivered quickly and reliably, no matter where you are.","Shop with confidence using our encrypted and secure payment gateways.","Our dedicated team is here to help you around the clock with any queries.","Not satisfied? We offer a hassle-free return and exchange policy."],o=`Join the ${e} Family`;return{heroTitle:n[t]||n.general,heroDescription:r[t]||r.general,featureTitles:i,featureDescriptions:s,newsletterHeading:o,newsletterText:"Sign up for our newsletter to receive exclusive offers, new product alerts, and style tips directly to your inbox. Don't miss out!"}};function ct(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function Fj(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function g0(...t){return e=>{let n=!1;const r=t.map(i=>{const s=Fj(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():Fj(t[i],null)}}}}function yn(...t){return x.useCallback(g0(...t),t)}function MJ(t,e){const n=x.createContext(e),r=s=>{const{children:o,...l}=s,u=x.useMemo(()=>l,Object.values(l));return a.jsx(n.Provider,{value:u,children:o})};r.displayName=t+"Provider";function i(s){const o=x.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function ds(t,e=[]){let n=[];function r(s,o){const l=x.createContext(o),u=n.length;n=[...n,o];const d=p=>{var P;const{scope:g,children:y,...b}=p,C=((P=g==null?void 0:g[t])==null?void 0:P[u])||l,_=x.useMemo(()=>b,Object.values(b));return a.jsx(C.Provider,{value:_,children:y})};d.displayName=s+"Provider";function h(p,g){var C;const y=((C=g==null?void 0:g[t])==null?void 0:C[u])||l,b=x.useContext(y);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${s}\``)}return[d,h]}const i=()=>{const s=n.map(o=>x.createContext(o));return function(l){const u=(l==null?void 0:l[t])||s;return x.useMemo(()=>({[`__scope${t}`]:{...l,[t]:u}}),[l,u])}};return i.scopeName=t,[r,DJ(i,...e)]}function DJ(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((l,{useScope:u,scopeName:d})=>{const p=u(s)[`__scope${d}`];return{...l,...p}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Fu(t){const e=OJ(t),n=x.forwardRef((r,i)=>{const{children:s,...o}=r,l=x.Children.toArray(s),u=l.find(FJ);if(u){const d=u.props.children,h=l.map(p=>p===u?x.Children.count(d)>1?x.Children.only(null):x.isValidElement(d)?d.props.children:null:p);return a.jsx(e,{...o,ref:i,children:x.isValidElement(d)?x.cloneElement(d,void 0,h):null})}return a.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var LJ=Fu("Slot");function OJ(t){const e=x.forwardRef((n,r)=>{const{children:i,...s}=n;if(x.isValidElement(i)){const o=UJ(i),l=BJ(s,i.props);return i.type!==x.Fragment&&(l.ref=r?g0(r,o):o),x.cloneElement(i,l)}return x.Children.count(i)>1?x.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var q3=Symbol("radix.slottable");function $J(t){const e=({children:n})=>a.jsx(a.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=q3,e}function FJ(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===q3}function BJ(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const u=s(...l);return i(...l),u}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function UJ(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function v_(t){const e=t+"CollectionProvider",[n,r]=ds(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=C=>{const{scope:_,children:P}=C,E=re.useRef(null),j=re.useRef(new Map).current;return a.jsx(i,{scope:_,itemMap:j,collectionRef:E,children:P})};o.displayName=e;const l=t+"CollectionSlot",u=Fu(l),d=re.forwardRef((C,_)=>{const{scope:P,children:E}=C,j=s(l,P),R=yn(_,j.collectionRef);return a.jsx(u,{ref:R,children:E})});d.displayName=l;const h=t+"CollectionItemSlot",p="data-radix-collection-item",g=Fu(h),y=re.forwardRef((C,_)=>{const{scope:P,children:E,...j}=C,R=re.useRef(null),I=yn(_,R),M=s(h,P);return re.useEffect(()=>(M.itemMap.set(R,{ref:R,...j}),()=>void M.itemMap.delete(R))),a.jsx(g,{[p]:"",ref:I,children:E})});y.displayName=h;function b(C){const _=s(t+"CollectionConsumer",C);return re.useCallback(()=>{const E=_.collectionRef.current;if(!E)return[];const j=Array.from(E.querySelectorAll(`[${p}]`));return Array.from(_.itemMap.values()).sort((M,A)=>j.indexOf(M.ref.current)-j.indexOf(A.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:d,ItemSlot:y},b,r]}var VJ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Wt=VJ.reduce((t,e)=>{const n=Fu(`Primitive.${e}`),r=x.forwardRef((i,s)=>{const{asChild:o,...l}=i,u=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(u,{...l,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function w_(t,e){t&&Ua.flushSync(()=>t.dispatchEvent(e))}function yr(t){const e=x.useRef(t);return x.useEffect(()=>{e.current=t}),x.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function zJ(t,e=globalThis==null?void 0:globalThis.document){const n=yr(t);x.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var WJ="DismissableLayer",Gb="dismissableLayer.update",qJ="dismissableLayer.pointerDownOutside",GJ="dismissableLayer.focusOutside",Bj,G3=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),y0=x.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...u}=t,d=x.useContext(G3),[h,p]=x.useState(null),g=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=x.useState({}),b=yn(e,A=>p(A)),C=Array.from(d.layers),[_]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),P=C.indexOf(_),E=h?C.indexOf(h):-1,j=d.layersWithOutsidePointerEventsDisabled.size>0,R=E>=P,I=KJ(A=>{const $=A.target,B=[...d.branches].some(G=>G.contains($));!R||B||(i==null||i(A),o==null||o(A),A.defaultPrevented||l==null||l())},g),M=YJ(A=>{const $=A.target;[...d.branches].some(G=>G.contains($))||(s==null||s(A),o==null||o(A),A.defaultPrevented||l==null||l())},g);return zJ(A=>{E===d.layers.size-1&&(r==null||r(A),!A.defaultPrevented&&l&&(A.preventDefault(),l()))},g),x.useEffect(()=>{if(h)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Bj=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),Uj(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=Bj)}},[h,g,n,d]),x.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),Uj())},[h,d]),x.useEffect(()=>{const A=()=>y({});return document.addEventListener(Gb,A),()=>document.removeEventListener(Gb,A)},[]),a.jsx(Wt.div,{...u,ref:b,style:{pointerEvents:j?R?"auto":"none":void 0,...t.style},onFocusCapture:ct(t.onFocusCapture,M.onFocusCapture),onBlurCapture:ct(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:ct(t.onPointerDownCapture,I.onPointerDownCapture)})});y0.displayName=WJ;var HJ="DismissableLayerBranch",H3=x.forwardRef((t,e)=>{const n=x.useContext(G3),r=x.useRef(null),i=yn(e,r);return x.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),a.jsx(Wt.div,{...t,ref:i})});H3.displayName=HJ;function KJ(t,e=globalThis==null?void 0:globalThis.document){const n=yr(t),r=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const s=l=>{if(l.target&&!r.current){let u=function(){K3(qJ,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=u,e.addEventListener("click",i.current,{once:!0})):u()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function YJ(t,e=globalThis==null?void 0:globalThis.document){const n=yr(t),r=x.useRef(!1);return x.useEffect(()=>{const i=s=>{s.target&&!r.current&&K3(GJ,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Uj(){const t=new CustomEvent(Gb);document.dispatchEvent(t)}function K3(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?w_(i,s):i.dispatchEvent(s)}var JJ=y0,XJ=H3,to=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},QJ="Portal",x0=x.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[i,s]=x.useState(!1);to(()=>s(!0),[]);const o=n||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?u_.createPortal(a.jsx(Wt.div,{...r,ref:e}),o):null});x0.displayName=QJ;function ZJ(t,e){return x.useReducer((n,r)=>e[n][r]??n,t)}var mi=t=>{const{present:e,children:n}=t,r=eX(e),i=typeof n=="function"?n({present:r.isPresent}):x.Children.only(n),s=yn(r.ref,tX(i));return typeof n=="function"||r.isPresent?x.cloneElement(i,{ref:s}):null};mi.displayName="Presence";function eX(t){const[e,n]=x.useState(),r=x.useRef(null),i=x.useRef(t),s=x.useRef("none"),o=t?"mounted":"unmounted",[l,u]=ZJ(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const d=Ex(r.current);s.current=l==="mounted"?d:"none"},[l]),to(()=>{const d=r.current,h=i.current;if(h!==t){const g=s.current,y=Ex(d);t?u("MOUNT"):y==="none"||(d==null?void 0:d.display)==="none"?u("UNMOUNT"):u(h&&g!==y?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,u]),to(()=>{if(e){let d;const h=e.ownerDocument.defaultView??window,p=y=>{const C=Ex(r.current).includes(y.animationName);if(y.target===e&&C&&(u("ANIMATION_END"),!i.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",d=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},g=y=>{y.target===e&&(s.current=Ex(r.current))};return e.addEventListener("animationstart",g),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{h.clearTimeout(d),e.removeEventListener("animationstart",g),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:x.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function Ex(t){return(t==null?void 0:t.animationName)||"none"}function tX(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var nX=o0[" useInsertionEffect ".trim().toString()]||to;function rc({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,o]=rX({defaultProp:e,onChange:n}),l=t!==void 0,u=l?t:i;{const h=x.useRef(t!==void 0);x.useEffect(()=>{const p=h.current;p!==l&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,r])}const d=x.useCallback(h=>{var p;if(l){const g=iX(h)?h(t):h;g!==t&&((p=o.current)==null||p.call(o,g))}else s(h)},[l,t,s,o]);return[u,d]}function rX({defaultProp:t,onChange:e}){const[n,r]=x.useState(t),i=x.useRef(n),s=x.useRef(e);return nX(()=>{s.current=e},[e]),x.useEffect(()=>{var o;i.current!==n&&((o=s.current)==null||o.call(s,n),i.current=n)},[n,i]),[n,r,s]}function iX(t){return typeof t=="function"}var sX=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),oX="VisuallyHidden",S_=x.forwardRef((t,e)=>a.jsx(Wt.span,{...t,ref:e,style:{...sX,...t.style}}));S_.displayName=oX;var b_="ToastProvider",[C_,aX,lX]=v_("Toast"),[Y3,PSe]=ds("Toast",[lX]),[cX,v0]=Y3(b_),J3=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[l,u]=x.useState(null),[d,h]=x.useState(0),p=x.useRef(!1),g=x.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${b_}\`. Expected non-empty \`string\`.`),a.jsx(C_.Provider,{scope:e,children:a.jsx(cX,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:d,viewport:l,onViewportChange:u,onToastAdd:x.useCallback(()=>h(y=>y+1),[]),onToastRemove:x.useCallback(()=>h(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:g,children:o})})};J3.displayName=b_;var X3="ToastViewport",uX=["F8"],Hb="toast.viewportPause",Kb="toast.viewportResume",Q3=x.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=uX,label:i="Notifications ({hotkey})",...s}=t,o=v0(X3,n),l=aX(n),u=x.useRef(null),d=x.useRef(null),h=x.useRef(null),p=x.useRef(null),g=yn(e,p,o.onViewportChange),y=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=o.toastCount>0;x.useEffect(()=>{const _=P=>{var j;r.length!==0&&r.every(R=>P[R]||P.code===R)&&((j=p.current)==null||j.focus())};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[r]),x.useEffect(()=>{const _=u.current,P=p.current;if(b&&_&&P){const E=()=>{if(!o.isClosePausedRef.current){const M=new CustomEvent(Hb);P.dispatchEvent(M),o.isClosePausedRef.current=!0}},j=()=>{if(o.isClosePausedRef.current){const M=new CustomEvent(Kb);P.dispatchEvent(M),o.isClosePausedRef.current=!1}},R=M=>{!_.contains(M.relatedTarget)&&j()},I=()=>{_.contains(document.activeElement)||j()};return _.addEventListener("focusin",E),_.addEventListener("focusout",R),_.addEventListener("pointermove",E),_.addEventListener("pointerleave",I),window.addEventListener("blur",E),window.addEventListener("focus",j),()=>{_.removeEventListener("focusin",E),_.removeEventListener("focusout",R),_.removeEventListener("pointermove",E),_.removeEventListener("pointerleave",I),window.removeEventListener("blur",E),window.removeEventListener("focus",j)}}},[b,o.isClosePausedRef]);const C=x.useCallback(({tabbingDirection:_})=>{const E=l().map(j=>{const R=j.ref.current,I=[R,...CX(R)];return _==="forwards"?I:I.reverse()});return(_==="forwards"?E.reverse():E).flat()},[l]);return x.useEffect(()=>{const _=p.current;if(_){const P=E=>{var I,M,A;const j=E.altKey||E.ctrlKey||E.metaKey;if(E.key==="Tab"&&!j){const $=document.activeElement,B=E.shiftKey;if(E.target===_&&B){(I=d.current)==null||I.focus();return}const K=C({tabbingDirection:B?"backwards":"forwards"}),W=K.findIndex(V=>V===$);Q1(K.slice(W+1))?E.preventDefault():B?(M=d.current)==null||M.focus():(A=h.current)==null||A.focus()}};return _.addEventListener("keydown",P),()=>_.removeEventListener("keydown",P)}},[l,C]),a.jsxs(XJ,{ref:u,role:"region","aria-label":i.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&a.jsx(Yb,{ref:d,onFocusFromOutsideViewport:()=>{const _=C({tabbingDirection:"forwards"});Q1(_)}}),a.jsx(C_.Slot,{scope:n,children:a.jsx(Wt.ol,{tabIndex:-1,...s,ref:g})}),b&&a.jsx(Yb,{ref:h,onFocusFromOutsideViewport:()=>{const _=C({tabbingDirection:"backwards"});Q1(_)}})]})});Q3.displayName=X3;var Z3="ToastFocusProxy",Yb=x.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=v0(Z3,n);return a.jsx(S_,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=s.viewport)!=null&&d.contains(l))&&r()}})});Yb.displayName=Z3;var Hg="Toast",dX="toast.swipeStart",fX="toast.swipeMove",hX="toast.swipeCancel",pX="toast.swipeEnd",eO=x.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[l,u]=rc({prop:r,defaultProp:i??!0,onChange:s,caller:Hg});return a.jsx(mi,{present:n||l,children:a.jsx(yX,{open:l,...o,ref:e,onClose:()=>u(!1),onPause:yr(t.onPause),onResume:yr(t.onResume),onSwipeStart:ct(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ct(t.onSwipeMove,d=>{const{x:h,y:p}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:ct(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ct(t.onSwipeEnd,d=>{const{x:h,y:p}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),u(!1)})})})});eO.displayName=Hg;var[mX,gX]=Y3(Hg,{onClose(){}}),yX=x.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:l,onPause:u,onResume:d,onSwipeStart:h,onSwipeMove:p,onSwipeCancel:g,onSwipeEnd:y,...b}=t,C=v0(Hg,n),[_,P]=x.useState(null),E=yn(e,V=>P(V)),j=x.useRef(null),R=x.useRef(null),I=i||C.duration,M=x.useRef(0),A=x.useRef(I),$=x.useRef(0),{onToastAdd:B,onToastRemove:G}=C,X=yr(()=>{var Y;(_==null?void 0:_.contains(document.activeElement))&&((Y=C.viewport)==null||Y.focus()),o()}),K=x.useCallback(V=>{!V||V===1/0||(window.clearTimeout($.current),M.current=new Date().getTime(),$.current=window.setTimeout(X,V))},[X]);x.useEffect(()=>{const V=C.viewport;if(V){const Y=()=>{K(A.current),d==null||d()},ne=()=>{const ue=new Date().getTime()-M.current;A.current=A.current-ue,window.clearTimeout($.current),u==null||u()};return V.addEventListener(Hb,ne),V.addEventListener(Kb,Y),()=>{V.removeEventListener(Hb,ne),V.removeEventListener(Kb,Y)}}},[C.viewport,I,u,d,K]),x.useEffect(()=>{s&&!C.isClosePausedRef.current&&K(I)},[s,I,C.isClosePausedRef,K]),x.useEffect(()=>(B(),()=>G()),[B,G]);const W=x.useMemo(()=>_?aO(_):null,[_]);return C.viewport?a.jsxs(a.Fragment,{children:[W&&a.jsx(xX,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:W}),a.jsx(mX,{scope:n,onClose:X,children:Ua.createPortal(a.jsx(C_.ItemSlot,{scope:n,children:a.jsx(JJ,{asChild:!0,onEscapeKeyDown:ct(l,()=>{C.isFocusedToastEscapeKeyDownRef.current||X(),C.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(Wt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":C.swipeDirection,...b,ref:E,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ct(t.onKeyDown,V=>{V.key==="Escape"&&(l==null||l(V.nativeEvent),V.nativeEvent.defaultPrevented||(C.isFocusedToastEscapeKeyDownRef.current=!0,X()))}),onPointerDown:ct(t.onPointerDown,V=>{V.button===0&&(j.current={x:V.clientX,y:V.clientY})}),onPointerMove:ct(t.onPointerMove,V=>{if(!j.current)return;const Y=V.clientX-j.current.x,ne=V.clientY-j.current.y,ue=!!R.current,oe=["left","right"].includes(C.swipeDirection),ie=["left","up"].includes(C.swipeDirection)?Math.min:Math.max,L=oe?ie(0,Y):0,F=oe?0:ie(0,ne),Z=V.pointerType==="touch"?10:2,U={x:L,y:F},Ne={originalEvent:V,delta:U};ue?(R.current=U,Px(fX,p,Ne,{discrete:!1})):Vj(U,C.swipeDirection,Z)?(R.current=U,Px(dX,h,Ne,{discrete:!1}),V.target.setPointerCapture(V.pointerId)):(Math.abs(Y)>Z||Math.abs(ne)>Z)&&(j.current=null)}),onPointerUp:ct(t.onPointerUp,V=>{const Y=R.current,ne=V.target;if(ne.hasPointerCapture(V.pointerId)&&ne.releasePointerCapture(V.pointerId),R.current=null,j.current=null,Y){const ue=V.currentTarget,oe={originalEvent:V,delta:Y};Vj(Y,C.swipeDirection,C.swipeThreshold)?Px(pX,y,oe,{discrete:!0}):Px(hX,g,oe,{discrete:!0}),ue.addEventListener("click",ie=>ie.preventDefault(),{once:!0})}})})})}),C.viewport)})]}):null}),xX=t=>{const{__scopeToast:e,children:n,...r}=t,i=v0(Hg,e),[s,o]=x.useState(!1),[l,u]=x.useState(!1);return SX(()=>o(!0)),x.useEffect(()=>{const d=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:a.jsx(x0,{asChild:!0,children:a.jsx(S_,{...r,children:s&&a.jsxs(a.Fragment,{children:[i.label," ",n]})})})},vX="ToastTitle",tO=x.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return a.jsx(Wt.div,{...r,ref:e})});tO.displayName=vX;var wX="ToastDescription",nO=x.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return a.jsx(Wt.div,{...r,ref:e})});nO.displayName=wX;var rO="ToastAction",iO=x.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?a.jsx(oO,{altText:n,asChild:!0,children:a.jsx(__,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${rO}\`. Expected non-empty \`string\`.`),null)});iO.displayName=rO;var sO="ToastClose",__=x.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=gX(sO,n);return a.jsx(oO,{asChild:!0,children:a.jsx(Wt.button,{type:"button",...r,ref:e,onClick:ct(t.onClick,i.onClose)})})});__.displayName=sO;var oO=x.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return a.jsx(Wt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function aO(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),bX(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...aO(r))}}),e}function Px(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?w_(i,s):i.dispatchEvent(s)}var Vj=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function SX(t=()=>{}){const e=yr(t);to(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function bX(t){return t.nodeType===t.ELEMENT_NODE}function CX(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Q1(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var _X=J3,lO=Q3,cO=eO,uO=tO,dO=nO,fO=iO,hO=__;const zj=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Wj=v3,T_=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Wj(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(d=>{const h=n==null?void 0:n[d],p=s==null?void 0:s[d];if(h===null)return null;const g=zj(h)||zj(p);return i[d][g]}),l=n&&Object.entries(n).reduce((d,h)=>{let[p,g]=h;return g===void 0||(d[p]=g),d},{}),u=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,h)=>{let{class:p,className:g,...y}=h;return Object.entries(y).every(b=>{let[C,_]=b;return Array.isArray(_)?_.includes({...s,...l}[C]):{...s,...l}[C]===_})?[...d,p,g]:d},[]);return Wj(t,o,u,n==null?void 0:n.class,n==null?void 0:n.className)};var TX={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const EX=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qe=(t,e)=>{const n=x.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,children:l,...u},d)=>x.createElement("svg",{ref:d,...TX,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:`lucide lucide-${EX(t)}`,...u},[...e.map(([h,p])=>x.createElement(h,p)),...(Array.isArray(l)?l:[l])||[]]));return n.displayName=`${t}`,n},w0=qe("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Aa=qe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Jb=qe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),PX=qe("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),jv=qe("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]),NX=qe("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),E_=qe("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),P_=qe("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),S0=qe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),b0=qe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),jX=qe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),pO=qe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),RX=qe("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]),AX=qe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),mO=qe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Es=qe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),qj=qe("DownloadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m8 17 4 4 4-4",key:"1ul180"}]]),Xb=qe("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),kX=qe("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),IX=qe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),MX=qe("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),lr=qe("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Gj=qe("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]),_u=qe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),Z1=qe("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),DX=qe("ImageDown",[["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"M10.3 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v10.8",key:"sqts6f"}],["path",{d:"m21 15-3.1-3.1a2 2 0 0 0-2.814.014L6 21",key:"1h47z9"}],["path",{d:"m14 19.5 3 3v-6",key:"1x9jmo"}],["path",{d:"m17 22.5 3-3",key:"xzuz0n"}]]),LX=qe("ImagePlus",[["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7",key:"31hg93"}],["line",{x1:"16",x2:"22",y1:"5",y2:"5",key:"ez7e4s"}],["line",{x1:"19",x2:"19",y1:"2",y2:"8",key:"1gkr8c"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),Hj=qe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),OX=qe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),uv=qe("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),$X=qe("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]),sn=qe("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),N_=qe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),FX=qe("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),BX=qe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),gu=qe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),UX=qe("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),VX=qe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),zX=qe("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),WX=qe("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),Qb=qe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),qX=qe("MoveDown",[["path",{d:"M8 18L12 22L16 18",key:"cskvfv"}],["path",{d:"M12 2V22",key:"r89rzk"}]]),GX=qe("MoveUp",[["path",{d:"M8 6L12 2L16 6",key:"1yvkyx"}],["path",{d:"M12 2V22",key:"r89rzk"}]]),_a=qe("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),HX=qe("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),KX=qe("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),Rv=qe("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),YX=qe("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),JX=qe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),XX=qe("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]),QX=qe("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),Zb=qe("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),Nx=qe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Av=qe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),ZX=qe("Replace",[["path",{d:"M14 4c0-1.1.9-2 2-2",key:"1mvvbw"}],["path",{d:"M20 2c1.1 0 2 .9 2 2",key:"1mj6oe"}],["path",{d:"M22 8c0 1.1-.9 2-2 2",key:"v1wql3"}],["path",{d:"M16 10c-1.1 0-2-.9-2-2",key:"821ux0"}],["path",{d:"m3 7 3 3 3-3",key:"x25e72"}],["path",{d:"M6 10V5c0-1.7 1.3-3 3-3h1",key:"13af7h"}],["rect",{width:"8",height:"8",x:"2",y:"14",rx:"2",key:"17ihk4"}]]),eS=qe("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),Kj=qe("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]),dg=qe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),eQ=qe("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),tQ=qe("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]),kv=qe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),gO=qe("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),Ag=qe("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),Tu=qe("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),nQ=qe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),rQ=qe("StopCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{width:"6",height:"6",x:"9",y:"9",key:"1wrtvo"}]]),jx=qe("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]),eC=qe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),fg=qe("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),iQ=qe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Sa=qe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Jd=qe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),yO=qe("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]),sQ=qe("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),oQ=qe("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]),hg=qe("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]),aQ=qe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),lQ=qe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),j_=qe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),cQ=qe("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]),kg=qe("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]),Wl=qe("Wand",[["path",{d:"M15 4V2",key:"z1p9b7"}],["path",{d:"M15 16v-2",key:"px0unx"}],["path",{d:"M8 9h2",key:"1g203m"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M17.8 11.8 19 13",key:"yihg8r"}],["path",{d:"M15 9h0",key:"kg5t1u"}],["path",{d:"M17.8 6.2 19 5",key:"fd4us0"}],["path",{d:"m3 21 9-9",key:"1jfql5"}],["path",{d:"M12.2 6.2 11 5",key:"i3da3b"}]]),xO=qe("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Xl=qe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),uQ=qe("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),dQ=_X,vO=re.forwardRef(({className:t,...e},n)=>a.jsx(lO,{ref:n,className:gt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));vO.displayName=lO.displayName;const fQ=T_("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),wO=re.forwardRef(({className:t,variant:e,...n},r)=>a.jsx(cO,{ref:r,className:gt(fQ({variant:e}),t),...n}));wO.displayName=cO.displayName;const hQ=re.forwardRef(({className:t,...e},n)=>a.jsx(fO,{ref:n,className:gt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));hQ.displayName=fO.displayName;const SO=re.forwardRef(({className:t,...e},n)=>a.jsx(hO,{ref:n,className:gt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:a.jsx(Xl,{className:"h-4 w-4"})}));SO.displayName=hO.displayName;const bO=re.forwardRef(({className:t,...e},n)=>a.jsx(uO,{ref:n,className:gt("text-sm font-semibold",t),...e}));bO.displayName=uO.displayName;const CO=re.forwardRef(({className:t,...e},n)=>a.jsx(dO,{ref:n,className:gt("text-sm opacity-90",t),...e}));CO.displayName=dO.displayName;const pQ=1;let tS=0;function mQ(){return tS=(tS+1)%Number.MAX_VALUE,tS.toString()}const hi={state:{toasts:[]},listeners:[],getState:()=>hi.state,setState:t=>{typeof t=="function"?hi.state=t(hi.state):hi.state={...hi.state,...t},hi.listeners.forEach(e=>e(hi.state))},subscribe:t=>(hi.listeners.push(t),()=>{hi.listeners=hi.listeners.filter(e=>e!==t)})},gQ=({...t})=>{const e=mQ(),n=i=>hi.setState(s=>({...s,toasts:s.toasts.map(o=>o.id===e?{...o,...i}:o)})),r=()=>hi.setState(i=>({...i,toasts:i.toasts.filter(s=>s.id!==e)}));return hi.setState(i=>({...i,toasts:[{...t,id:e,dismiss:r},...i.toasts].slice(0,pQ)})),{id:e,dismiss:r,update:n}};function Bo(){const[t,e]=x.useState(hi.getState());return x.useEffect(()=>hi.subscribe(r=>{e(r)}),[]),x.useEffect(()=>{const n=[];return t.toasts.forEach(r=>{if(r.duration===1/0)return;const i=setTimeout(()=>{r.dismiss()},r.duration||5e3);n.push(i)}),()=>{n.forEach(r=>clearTimeout(r))}},[t.toasts]),{toast:gQ,toasts:t.toasts}}function yQ(){const{toasts:t}=Bo();return a.jsxs(dQ,{children:[t.map(({id:e,title:n,description:r,action:i,dismiss:s,...o})=>a.jsxs(wO,{...o,children:[a.jsxs("div",{className:"grid gap-1",children:[n&&a.jsx(bO,{children:n}),r&&a.jsx(CO,{children:r})]}),i,a.jsx(SO,{})]},e)),a.jsx(vO,{})]})}var xQ=o0[" useId ".trim().toString()]||(()=>{}),vQ=0;function ql(t){const[e,n]=x.useState(xQ());return to(()=>{n(r=>r??String(vQ++))},[t]),e?`radix-${e}`:""}var nS="focusScope.autoFocusOnMount",rS="focusScope.autoFocusOnUnmount",Yj={bubbles:!1,cancelable:!0},wQ="FocusScope",R_=x.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[l,u]=x.useState(null),d=yr(i),h=yr(s),p=x.useRef(null),g=yn(e,C=>u(C)),y=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(r){let C=function(j){if(y.paused||!l)return;const R=j.target;l.contains(R)?p.current=R:pa(p.current,{select:!0})},_=function(j){if(y.paused||!l)return;const R=j.relatedTarget;R!==null&&(l.contains(R)||pa(p.current,{select:!0}))},P=function(j){if(document.activeElement===document.body)for(const I of j)I.removedNodes.length>0&&pa(l)};document.addEventListener("focusin",C),document.addEventListener("focusout",_);const E=new MutationObserver(P);return l&&E.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",C),document.removeEventListener("focusout",_),E.disconnect()}}},[r,l,y.paused]),x.useEffect(()=>{if(l){Xj.add(y);const C=document.activeElement;if(!l.contains(C)){const P=new CustomEvent(nS,Yj);l.addEventListener(nS,d),l.dispatchEvent(P),P.defaultPrevented||(SQ(EQ(_O(l)),{select:!0}),document.activeElement===C&&pa(l))}return()=>{l.removeEventListener(nS,d),setTimeout(()=>{const P=new CustomEvent(rS,Yj);l.addEventListener(rS,h),l.dispatchEvent(P),P.defaultPrevented||pa(C??document.body,{select:!0}),l.removeEventListener(rS,h),Xj.remove(y)},0)}}},[l,d,h,y]);const b=x.useCallback(C=>{if(!n&&!r||y.paused)return;const _=C.key==="Tab"&&!C.altKey&&!C.ctrlKey&&!C.metaKey,P=document.activeElement;if(_&&P){const E=C.currentTarget,[j,R]=bQ(E);j&&R?!C.shiftKey&&P===R?(C.preventDefault(),n&&pa(j,{select:!0})):C.shiftKey&&P===j&&(C.preventDefault(),n&&pa(R,{select:!0})):P===E&&C.preventDefault()}},[n,r,y.paused]);return a.jsx(Wt.div,{tabIndex:-1,...o,ref:g,onKeyDown:b})});R_.displayName=wQ;function SQ(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(pa(r,{select:e}),document.activeElement!==n)return}function bQ(t){const e=_O(t),n=Jj(e,t),r=Jj(e.reverse(),t);return[n,r]}function _O(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Jj(t,e){for(const n of t)if(!CQ(n,{upTo:e}))return n}function CQ(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function _Q(t){return t instanceof HTMLInputElement&&"select"in t}function pa(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&_Q(t)&&e&&t.select()}}var Xj=TQ();function TQ(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=Qj(t,e),t.unshift(e)},remove(e){var n;t=Qj(t,e),(n=t[0])==null||n.resume()}}}function Qj(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function EQ(t){return t.filter(e=>e.tagName!=="A")}var iS=0;function TO(){x.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Zj()),document.body.insertAdjacentElement("beforeend",t[1]??Zj()),iS++,()=>{iS===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),iS--}},[])}function Zj(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var si=function(){return si=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},si.apply(this,arguments)};function A_(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function EO(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var pg="right-scroll-bar-position",mg="width-before-scroll-bar",PQ="with-scroll-bars-hidden",NQ="--removed-body-scroll-bar-size";function sS(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function jQ(t,e){var n=x.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var RQ=typeof window<"u"?x.useLayoutEffect:x.useEffect,eR=new WeakMap;function PO(t,e){var n=jQ(null,function(r){return t.forEach(function(i){return sS(i,r)})});return RQ(function(){var r=eR.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(l){s.has(l)||sS(l,null)}),s.forEach(function(l){i.has(l)||sS(l,o)})}eR.set(n,t)},[t]),n}function AQ(t){return t}function kQ(t,e){e===void 0&&(e=AQ);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(l){return s(l)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(s),o=n}var u=function(){var h=o;o=[],h.forEach(s)},d=function(){return Promise.resolve().then(u)};d(),n={push:function(h){o.push(h),d()},filter:function(h){return o=o.filter(h),n}}}};return i}function NO(t){t===void 0&&(t={});var e=kQ(null);return e.options=si({async:!0,ssr:!1},t),e}var jO=function(t){var e=t.sideCar,n=A_(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return x.createElement(r,si({},n))};jO.isSideCarExport=!0;function RO(t,e){return t.useMedium(e),jO}var AO=NO(),oS=function(){},C0=x.forwardRef(function(t,e){var n=x.useRef(null),r=x.useState({onScrollCapture:oS,onWheelCapture:oS,onTouchMoveCapture:oS}),i=r[0],s=r[1],o=t.forwardProps,l=t.children,u=t.className,d=t.removeScrollBar,h=t.enabled,p=t.shards,g=t.sideCar,y=t.noRelative,b=t.noIsolation,C=t.inert,_=t.allowPinchZoom,P=t.as,E=P===void 0?"div":P,j=t.gapMode,R=A_(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),I=g,M=PO([n,e]),A=si(si({},R),i);return x.createElement(x.Fragment,null,h&&x.createElement(I,{sideCar:AO,removeScrollBar:d,shards:p,noRelative:y,noIsolation:b,inert:C,setCallbacks:s,allowPinchZoom:!!_,lockRef:n,gapMode:j}),o?x.cloneElement(x.Children.only(l),si(si({},A),{ref:M})):x.createElement(E,si({},A,{className:u,ref:M}),l))});C0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};C0.classNames={fullWidth:mg,zeroRight:pg};var IQ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function MQ(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=IQ();return e&&t.setAttribute("nonce",e),t}function DQ(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function LQ(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var OQ=function(){var t=0,e=null;return{add:function(n){t==0&&(e=MQ())&&(DQ(e,n),LQ(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},$Q=function(){var t=OQ();return function(e,n){x.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},k_=function(){var t=$Q(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},FQ={left:0,top:0,right:0,gap:0},aS=function(t){return parseInt(t||"",10)||0},BQ=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[aS(n),aS(r),aS(i)]},UQ=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return FQ;var e=BQ(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},VQ=k_(),Eu="data-scroll-locked",zQ=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(PQ,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Eu,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(pg,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(mg,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(pg," .").concat(pg,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(mg," .").concat(mg,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Eu,`] {
    `).concat(NQ,": ").concat(l,`px;
  }
`)},tR=function(){var t=parseInt(document.body.getAttribute(Eu)||"0",10);return isFinite(t)?t:0},WQ=function(){x.useEffect(function(){return document.body.setAttribute(Eu,(tR()+1).toString()),function(){var t=tR()-1;t<=0?document.body.removeAttribute(Eu):document.body.setAttribute(Eu,t.toString())}},[])},kO=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;WQ();var s=x.useMemo(function(){return UQ(i)},[i]);return x.createElement(VQ,{styles:zQ(s,!e,i,n?"":"!important")})},tC=!1;if(typeof window<"u")try{var Rx=Object.defineProperty({},"passive",{get:function(){return tC=!0,!0}});window.addEventListener("test",Rx,Rx),window.removeEventListener("test",Rx,Rx)}catch{tC=!1}var Gc=tC?{passive:!1}:!1,qQ=function(t){return t.tagName==="TEXTAREA"},IO=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!qQ(t)&&n[e]==="visible")},GQ=function(t){return IO(t,"overflowY")},HQ=function(t){return IO(t,"overflowX")},nR=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=MO(t,r);if(i){var s=DO(t,r),o=s[1],l=s[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},KQ=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},YQ=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},MO=function(t,e){return t==="v"?GQ(e):HQ(e)},DO=function(t,e){return t==="v"?KQ(e):YQ(e)},JQ=function(t,e){return t==="h"&&e==="rtl"?-1:1},XQ=function(t,e,n,r,i){var s=JQ(t,window.getComputedStyle(e).direction),o=s*r,l=n.target,u=e.contains(l),d=!1,h=o>0,p=0,g=0;do{var y=DO(t,l),b=y[0],C=y[1],_=y[2],P=C-_-s*b;(b||P)&&MO(t,l)&&(p+=P,g+=b),l=l.parentNode.host||l.parentNode}while(!u&&l!==document.body||u&&(e.contains(l)||e===l));return(h&&Math.abs(p)<1||!h&&Math.abs(g)<1)&&(d=!0),d},Ax=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},rR=function(t){return[t.deltaX,t.deltaY]},iR=function(t){return t&&"current"in t?t.current:t},QQ=function(t,e){return t[0]===e[0]&&t[1]===e[1]},ZQ=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},eZ=0,Hc=[];function tZ(t){var e=x.useRef([]),n=x.useRef([0,0]),r=x.useRef(),i=x.useState(eZ++)[0],s=x.useState(k_)[0],o=x.useRef(t);x.useEffect(function(){o.current=t},[t]),x.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var C=EO([t.lockRef.current],(t.shards||[]).map(iR),!0).filter(Boolean);return C.forEach(function(_){return _.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),C.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var l=x.useCallback(function(C,_){if("touches"in C&&C.touches.length===2||C.type==="wheel"&&C.ctrlKey)return!o.current.allowPinchZoom;var P=Ax(C),E=n.current,j="deltaX"in C?C.deltaX:E[0]-P[0],R="deltaY"in C?C.deltaY:E[1]-P[1],I,M=C.target,A=Math.abs(j)>Math.abs(R)?"h":"v";if("touches"in C&&A==="h"&&M.type==="range")return!1;var $=nR(A,M);if(!$)return!0;if($?I=A:(I=A==="v"?"h":"v",$=nR(A,M)),!$)return!1;if(!r.current&&"changedTouches"in C&&(j||R)&&(r.current=I),!I)return!0;var B=r.current||I;return XQ(B,_,C,B==="h"?j:R)},[]),u=x.useCallback(function(C){var _=C;if(!(!Hc.length||Hc[Hc.length-1]!==s)){var P="deltaY"in _?rR(_):Ax(_),E=e.current.filter(function(I){return I.name===_.type&&(I.target===_.target||_.target===I.shadowParent)&&QQ(I.delta,P)})[0];if(E&&E.should){_.cancelable&&_.preventDefault();return}if(!E){var j=(o.current.shards||[]).map(iR).filter(Boolean).filter(function(I){return I.contains(_.target)}),R=j.length>0?l(_,j[0]):!o.current.noIsolation;R&&_.cancelable&&_.preventDefault()}}},[]),d=x.useCallback(function(C,_,P,E){var j={name:C,delta:_,target:P,should:E,shadowParent:nZ(P)};e.current.push(j),setTimeout(function(){e.current=e.current.filter(function(R){return R!==j})},1)},[]),h=x.useCallback(function(C){n.current=Ax(C),r.current=void 0},[]),p=x.useCallback(function(C){d(C.type,rR(C),C.target,l(C,t.lockRef.current))},[]),g=x.useCallback(function(C){d(C.type,Ax(C),C.target,l(C,t.lockRef.current))},[]);x.useEffect(function(){return Hc.push(s),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:g}),document.addEventListener("wheel",u,Gc),document.addEventListener("touchmove",u,Gc),document.addEventListener("touchstart",h,Gc),function(){Hc=Hc.filter(function(C){return C!==s}),document.removeEventListener("wheel",u,Gc),document.removeEventListener("touchmove",u,Gc),document.removeEventListener("touchstart",h,Gc)}},[]);var y=t.removeScrollBar,b=t.inert;return x.createElement(x.Fragment,null,b?x.createElement(s,{styles:ZQ(i)}):null,y?x.createElement(kO,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function nZ(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const rZ=RO(AO,tZ);var I_=x.forwardRef(function(t,e){return x.createElement(C0,si({},t,{ref:e,sideCar:rZ}))});I_.classNames=C0.classNames;var iZ=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Kc=new WeakMap,kx=new WeakMap,Ix={},lS=0,LO=function(t){return t&&(t.host||LO(t.parentNode))},sZ=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=LO(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},oZ=function(t,e,n,r){var i=sZ(e,Array.isArray(t)?t:[t]);Ix[n]||(Ix[n]=new WeakMap);var s=Ix[n],o=[],l=new Set,u=new Set(i),d=function(p){!p||l.has(p)||(l.add(p),d(p.parentNode))};i.forEach(d);var h=function(p){!p||u.has(p)||Array.prototype.forEach.call(p.children,function(g){if(l.has(g))h(g);else try{var y=g.getAttribute(r),b=y!==null&&y!=="false",C=(Kc.get(g)||0)+1,_=(s.get(g)||0)+1;Kc.set(g,C),s.set(g,_),o.push(g),C===1&&b&&kx.set(g,!0),_===1&&g.setAttribute(n,"true"),b||g.setAttribute(r,"true")}catch(P){console.error("aria-hidden: cannot operate on ",g,P)}})};return h(e),l.clear(),lS++,function(){o.forEach(function(p){var g=Kc.get(p)-1,y=s.get(p)-1;Kc.set(p,g),s.set(p,y),g||(kx.has(p)||p.removeAttribute(r),kx.delete(p)),y||p.removeAttribute(n)}),lS--,lS||(Kc=new WeakMap,Kc=new WeakMap,kx=new WeakMap,Ix={})}},M_=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=iZ(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),oZ(r,i,n,"aria-hidden")):function(){return null}},_0="Dialog",[OO,$O]=ds(_0),[aZ,As]=OO(_0),FO=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,l=x.useRef(null),u=x.useRef(null),[d,h]=rc({prop:r,defaultProp:i??!1,onChange:s,caller:_0});return a.jsx(aZ,{scope:e,triggerRef:l,contentRef:u,contentId:ql(),titleId:ql(),descriptionId:ql(),open:d,onOpenChange:h,onOpenToggle:x.useCallback(()=>h(p=>!p),[h]),modal:o,children:n})};FO.displayName=_0;var BO="DialogTrigger",UO=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=As(BO,n),s=yn(e,i.triggerRef);return a.jsx(Wt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":O_(i.open),...r,ref:s,onClick:ct(t.onClick,i.onOpenToggle)})});UO.displayName=BO;var D_="DialogPortal",[lZ,VO]=OO(D_,{forceMount:void 0}),zO=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=As(D_,e);return a.jsx(lZ,{scope:e,forceMount:n,children:x.Children.map(r,o=>a.jsx(mi,{present:n||s.open,children:a.jsx(x0,{asChild:!0,container:i,children:o})}))})};zO.displayName=D_;var Iv="DialogOverlay",WO=x.forwardRef((t,e)=>{const n=VO(Iv,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=As(Iv,t.__scopeDialog);return s.modal?a.jsx(mi,{present:r||s.open,children:a.jsx(uZ,{...i,ref:e})}):null});WO.displayName=Iv;var cZ=Fu("DialogOverlay.RemoveScroll"),uZ=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=As(Iv,n);return a.jsx(I_,{as:cZ,allowPinchZoom:!0,shards:[i.contentRef],children:a.jsx(Wt.div,{"data-state":O_(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ql="DialogContent",qO=x.forwardRef((t,e)=>{const n=VO(Ql,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=As(Ql,t.__scopeDialog);return a.jsx(mi,{present:r||s.open,children:s.modal?a.jsx(dZ,{...i,ref:e}):a.jsx(fZ,{...i,ref:e})})});qO.displayName=Ql;var dZ=x.forwardRef((t,e)=>{const n=As(Ql,t.__scopeDialog),r=x.useRef(null),i=yn(e,n.contentRef,r);return x.useEffect(()=>{const s=r.current;if(s)return M_(s)},[]),a.jsx(GO,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ct(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ct(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&s.preventDefault()}),onFocusOutside:ct(t.onFocusOutside,s=>s.preventDefault())})}),fZ=x.forwardRef((t,e)=>{const n=As(Ql,t.__scopeDialog),r=x.useRef(!1),i=x.useRef(!1);return a.jsx(GO,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var u,d;(u=t.onInteractOutside)==null||u.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),GO=x.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,l=As(Ql,n),u=x.useRef(null),d=yn(e,u);return TO(),a.jsxs(a.Fragment,{children:[a.jsx(R_,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:a.jsx(y0,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":O_(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(pZ,{titleId:l.titleId}),a.jsx(gZ,{contentRef:u,descriptionId:l.descriptionId})]})]})}),L_="DialogTitle",HO=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=As(L_,n);return a.jsx(Wt.h2,{id:i.titleId,...r,ref:e})});HO.displayName=L_;var KO="DialogDescription",YO=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=As(KO,n);return a.jsx(Wt.p,{id:i.descriptionId,...r,ref:e})});YO.displayName=KO;var JO="DialogClose",XO=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=As(JO,n);return a.jsx(Wt.button,{type:"button",...r,ref:e,onClick:ct(t.onClick,()=>i.onOpenChange(!1))})});XO.displayName=JO;function O_(t){return t?"open":"closed"}var QO="DialogTitleWarning",[hZ,ZO]=MJ(QO,{contentName:Ql,titleName:L_,docsSlug:"dialog"}),pZ=({titleId:t})=>{const e=ZO(QO),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return x.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},mZ="DialogDescriptionWarning",gZ=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${ZO(mZ).contentName}}.`;return x.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},e$=FO,yZ=UO,t$=zO,$_=WO,F_=qO,B_=HO,U_=YO,T0=XO;const Zl=e$,xZ=t$,Mv=T0,n$=re.forwardRef(({className:t,...e},n)=>a.jsx($_,{ref:n,className:gt("fixed inset-0 z-50 bg-black/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));n$.displayName=$_.displayName;const ka=re.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(xZ,{children:[a.jsx(n$,{}),a.jsxs(F_,{ref:r,className:gt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,a.jsxs(T0,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(Xl,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ka.displayName=F_.displayName;const Ia=({className:t,...e})=>a.jsx("div",{className:gt("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Ia.displayName="DialogHeader";const Xs=({className:t,...e})=>a.jsx("div",{className:gt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Xs.displayName="DialogFooter";const Ma=re.forwardRef(({className:t,...e},n)=>a.jsx(B_,{ref:n,className:gt("text-lg font-semibold leading-none tracking-tight",t),...e}));Ma.displayName=B_.displayName;const Ju=re.forwardRef(({className:t,...e},n)=>a.jsx(U_,{ref:n,className:gt("text-sm text-muted-foreground",t),...e}));Ju.displayName=U_.displayName;const V_=T_("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),te=re.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?LJ:"button";return a.jsx(o,{className:gt(V_({variant:e,size:n,className:t})),ref:s,...i})});te.displayName="Button";const ft=re.forwardRef(({className:t,type:e,...n},r)=>a.jsx("input",{type:e,className:gt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));ft.displayName="Input";const z_="AIzaSyDJ2rjQjY4mD6E34RqAv_ezZ3a29eYRA0I";async function r$(t){const e=new us({apiKey:z_}),n={type:mn.ARRAY,items:{type:mn.STRING},description:"An array of 5 creative and catchy store name suggestions."};try{const r=`Suggest 5 creative and catchy store name options based on the following description or keywords: "${t}". Return exactly 5 suggestions.`,i=await e.models.generateContent({model:"gemini-2.0-flash",contents:[{role:"user",parts:[{text:r}]}],config:{responseMimeType:"application/json",responseSchema:n}}),s=i.text;if(typeof s!="string"||s.trim()==="")throw console.error("Model did not return a text response for store name suggestions. Response:",JSON.stringify(i)),new Error("Model response for store name suggestions was empty or not a string.");try{const o=JSON.parse(s);return Array.isArray(o)&&o.every(l=>typeof l=="string")?{suggestions:o.slice(0,5).map(l=>l.trim()).filter(l=>l.length>0)}:(console.error("Parsed store name suggestions are not an array of strings:",o),{error:"AI response was not in the expected format (array of strings).",rawResponse:s})}catch(o){return console.error("Failed to parse JSON response for store names:",s,"ParseError:",o),{error:"Failed to parse store name suggestions from AI.",rawResponse:s}}}catch(r){return console.error("Error generating store name suggestions:",r),{error:`Error generating suggestions: ${r.message}`}}}async function NSe(t){const e=new us({apiKey:z_}),n={type:mn.OBJECT,properties:{heroTitle:{type:mn.STRING,description:"The catchy hero title for the store."},heroDescription:{type:mn.STRING,description:"A short (1-2 sentences) engaging hero description."}},required:["heroTitle","heroDescription"]},{name:r,niche:i,description:s,targetAudience:o,style:l}=t;let u=`Generate a compelling hero title and a short, engaging hero description for an online store.
Store Name: ${r||"N/A"}
Niche: ${i||"General E-commerce"}
Description/Keywords: ${s||"A variety of products."}
Target Audience: ${o||"General consumers"}
Style/Vibe: ${l||"Modern and friendly"}

Return the hero title and description as a JSON object matching the schema.`;try{const d=await e.models.generateContent({model:"gemini-2.0-flash",contents:[{role:"user",parts:[{text:u}]}],config:{responseMimeType:"application/json",responseSchema:n}}),h=d.text;if(typeof h!="string"||h.trim()==="")throw console.error("Model did not return a text response for hero content. Response:",JSON.stringify(d)),new Error("Model response for hero content was empty or not a string.");try{const p=JSON.parse(h);return p&&typeof p.heroTitle=="string"&&typeof p.heroDescription=="string"?{heroTitle:p.heroTitle,heroDescription:p.heroDescription}:(console.error("Parsed hero content is not in the expected format:",p),{error:"AI response was not in the expected format for hero content.",rawResponse:h})}catch(p){return console.error("Failed to parse JSON response for hero content:",h,"ParseError:",p),{error:"Failed to parse hero content from AI.",rawResponse:h}}}catch(d){return console.error("Error generating hero content:",d),{error:`Error generating hero content: ${d.message}`}}}async function vZ(t){if(!t||!t.name)return console.error("Product information (at least name) is required for image prompt suggestions."),{error:"Product information required."};const e=new us({apiKey:z_}),{name:n,description:r,niche:i,storeName:s}=t,o={type:mn.ARRAY,items:{type:mn.STRING},description:"An array of 6 diverse and creative text prompts for AI image generation related to a product."};let l=`product named "${n}"`;r&&(l+=` with description "${r}"`),s&&(l+=` from a store called "${s}"`),i&&(l+=` in the "${i}" niche`);const u=`Based on a ${l}, generate 6 diverse and creative text prompts suitable for AI image generation. These prompts should aim to create visually appealing images for marketing this product. Examples: "A dynamic shot of [product name] on a clean, modern background with soft lighting", "Lifestyle image of [product name] being used by a happy customer in a [relevant setting]", "Close-up detail of [product name]'s unique feature with artistic blur". Return exactly 6 prompt suggestions.`;try{const d=await e.models.generateContent({model:"gemini-2.0-flash",contents:[{role:"user",parts:[{text:u}]}],config:{responseMimeType:"application/json",responseSchema:o}}),h=d.text;if(typeof h!="string"||h.trim()==="")throw console.error("Model did not return a text response for image prompt suggestions. Response:",JSON.stringify(d)),new Error("Model response for image prompt suggestions was empty or not a string.");try{const p=JSON.parse(h);return Array.isArray(p)&&p.every(g=>typeof g=="string")?{suggestions:p.slice(0,6).map(g=>g.trim()).filter(g=>g.length>0)}:(console.error("Parsed image prompt suggestions are not an array of strings:",p),{error:"AI response was not in the expected format for image prompts (array of strings).",rawResponse:h})}catch(p){return console.error("Failed to parse JSON response for image prompt suggestions:",h,"ParseError:",p),{error:"Failed to parse image prompt suggestions from AI.",rawResponse:h}}}catch(d){return console.error("Error generating image prompt suggestions:",d),{error:`Error generating image prompt suggestions: ${d.message}`}}}const gr=re.forwardRef(({className:t,...e},n)=>a.jsx("textarea",{className:gt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));gr.displayName="Textarea";var wZ="Label",i$=x.forwardRef((t,e)=>a.jsx(Wt.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));i$.displayName=wZ;var s$=i$;const Je=re.forwardRef(({className:t,...e},n)=>a.jsx(s$,{ref:n,className:gt("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t),...e}));Je.displayName=s$.displayName;var SZ=x.createContext(void 0);function E0(t){const e=x.useContext(SZ);return t||e||"ltr"}var cS="rovingFocusGroup.onEntryFocus",bZ={bubbles:!1,cancelable:!0},Kg="RovingFocusGroup",[nC,o$,CZ]=v_(Kg),[_Z,P0]=ds(Kg,[CZ]),[TZ,EZ]=_Z(Kg),a$=x.forwardRef((t,e)=>a.jsx(nC.Provider,{scope:t.__scopeRovingFocusGroup,children:a.jsx(nC.Slot,{scope:t.__scopeRovingFocusGroup,children:a.jsx(PZ,{...t,ref:e})})}));a$.displayName=Kg;var PZ=x.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:u,onEntryFocus:d,preventScrollOnEntryFocus:h=!1,...p}=t,g=x.useRef(null),y=yn(e,g),b=E0(s),[C,_]=rc({prop:o,defaultProp:l??null,onChange:u,caller:Kg}),[P,E]=x.useState(!1),j=yr(d),R=o$(n),I=x.useRef(!1),[M,A]=x.useState(0);return x.useEffect(()=>{const $=g.current;if($)return $.addEventListener(cS,j),()=>$.removeEventListener(cS,j)},[j]),a.jsx(TZ,{scope:n,orientation:r,dir:b,loop:i,currentTabStopId:C,onItemFocus:x.useCallback($=>_($),[_]),onItemShiftTab:x.useCallback(()=>E(!0),[]),onFocusableItemAdd:x.useCallback(()=>A($=>$+1),[]),onFocusableItemRemove:x.useCallback(()=>A($=>$-1),[]),children:a.jsx(Wt.div,{tabIndex:P||M===0?-1:0,"data-orientation":r,...p,ref:y,style:{outline:"none",...t.style},onMouseDown:ct(t.onMouseDown,()=>{I.current=!0}),onFocus:ct(t.onFocus,$=>{const B=!I.current;if($.target===$.currentTarget&&B&&!P){const G=new CustomEvent(cS,bZ);if($.currentTarget.dispatchEvent(G),!G.defaultPrevented){const X=R().filter(ne=>ne.focusable),K=X.find(ne=>ne.active),W=X.find(ne=>ne.id===C),Y=[K,W,...X].filter(Boolean).map(ne=>ne.ref.current);u$(Y,h)}}I.current=!1}),onBlur:ct(t.onBlur,()=>E(!1))})})}),l$="RovingFocusGroupItem",c$=x.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:o,...l}=t,u=ql(),d=s||u,h=EZ(l$,n),p=h.currentTabStopId===d,g=o$(n),{onFocusableItemAdd:y,onFocusableItemRemove:b,currentTabStopId:C}=h;return x.useEffect(()=>{if(r)return y(),()=>b()},[r,y,b]),a.jsx(nC.ItemSlot,{scope:n,id:d,focusable:r,active:i,children:a.jsx(Wt.span,{tabIndex:p?0:-1,"data-orientation":h.orientation,...l,ref:e,onMouseDown:ct(t.onMouseDown,_=>{r?h.onItemFocus(d):_.preventDefault()}),onFocus:ct(t.onFocus,()=>h.onItemFocus(d)),onKeyDown:ct(t.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){h.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const P=RZ(_,h.orientation,h.dir);if(P!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let j=g().filter(R=>R.focusable).map(R=>R.ref.current);if(P==="last")j.reverse();else if(P==="prev"||P==="next"){P==="prev"&&j.reverse();const R=j.indexOf(_.currentTarget);j=h.loop?AZ(j,R+1):j.slice(R+1)}setTimeout(()=>u$(j))}}),children:typeof o=="function"?o({isCurrentTabStop:p,hasTabStop:C!=null}):o})})});c$.displayName=l$;var NZ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function jZ(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function RZ(t,e,n){const r=jZ(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return NZ[r]}function u$(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function AZ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var d$=a$,f$=c$,N0="Tabs",[kZ,jSe]=ds(N0,[P0]),h$=P0(),[IZ,W_]=kZ(N0),p$=x.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:l,activationMode:u="automatic",...d}=t,h=E0(l),[p,g]=rc({prop:r,onChange:i,defaultProp:s??"",caller:N0});return a.jsx(IZ,{scope:n,baseId:ql(),value:p,onValueChange:g,orientation:o,dir:h,activationMode:u,children:a.jsx(Wt.div,{dir:h,"data-orientation":o,...d,ref:e})})});p$.displayName=N0;var m$="TabsList",g$=x.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,s=W_(m$,n),o=h$(n);return a.jsx(d$,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:a.jsx(Wt.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});g$.displayName=m$;var y$="TabsTrigger",x$=x.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=t,o=W_(y$,n),l=h$(n),u=S$(o.baseId,r),d=b$(o.baseId,r),h=r===o.value;return a.jsx(f$,{asChild:!0,...l,focusable:!i,active:h,children:a.jsx(Wt.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":d,"data-state":h?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:u,...s,ref:e,onMouseDown:ct(t.onMouseDown,p=>{!i&&p.button===0&&p.ctrlKey===!1?o.onValueChange(r):p.preventDefault()}),onKeyDown:ct(t.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&o.onValueChange(r)}),onFocus:ct(t.onFocus,()=>{const p=o.activationMode!=="manual";!h&&!i&&p&&o.onValueChange(r)})})})});x$.displayName=y$;var v$="TabsContent",w$=x.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...o}=t,l=W_(v$,n),u=S$(l.baseId,r),d=b$(l.baseId,r),h=r===l.value,p=x.useRef(h);return x.useEffect(()=>{const g=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(g)},[]),a.jsx(mi,{present:i||h,children:({present:g})=>a.jsx(Wt.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":u,hidden:!g,id:d,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:p.current?"0s":void 0},children:g&&s})})});w$.displayName=v$;function S$(t,e){return`${t}-trigger-${e}`}function b$(t,e){return`${t}-content-${e}`}var MZ=p$,C$=g$,_$=x$,T$=w$;const ks=MZ,fs=re.forwardRef(({className:t,...e},n)=>a.jsx(C$,{ref:n,className:gt("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));fs.displayName=C$.displayName;const Yt=re.forwardRef(({className:t,...e},n)=>a.jsx(_$,{ref:n,className:gt("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Yt.displayName=_$.displayName;const Jt=re.forwardRef(({className:t,...e},n)=>a.jsx(T$,{ref:n,className:gt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Jt.displayName=T$.displayName;var DZ="Separator",sR="horizontal",LZ=["horizontal","vertical"],E$=x.forwardRef((t,e)=>{const{decorative:n,orientation:r=sR,...i}=t,s=OZ(r)?r:sR,l=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return a.jsx(Wt.div,{"data-orientation":s,...l,...i,ref:e})});E$.displayName=DZ;function OZ(t){return LZ.includes(t)}var P$=E$;const Io=re.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},i)=>a.jsx(P$,{ref:i,decorative:n,orientation:e,className:gt("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));Io.displayName=P$.displayName;const rC="AIzaSyDJ2rjQjY4mD6E34RqAv_ezZ3a29eYRA0I";console.log("[geminiImageGeneration Module] VITE_GEMINI_API_KEY loaded from import.meta.env:",`"${rC.substring(0,5)}..." (length: ${rC.length})`);const iC="YsU4YZtXedeyLPn6bQaNT8PD";console.log("[geminiImageGeneration Module] VITE_REMOVE_BG_API_KEY loaded from import.meta.env:",`"${iC.substring(0,5)}..." (length: ${iC.length})`);const q_=rC,$Z=iC,G_=[{category:Ir.HARM_CATEGORY_HARASSMENT,threshold:Mr.BLOCK_MEDIUM_AND_ABOVE},{category:Ir.HARM_CATEGORY_HATE_SPEECH,threshold:Mr.BLOCK_MEDIUM_AND_ABOVE},{category:Ir.HARM_CATEGORY_SEXUALLY_EXPLICIT,threshold:Mr.BLOCK_MEDIUM_AND_ABOVE},{category:Ir.HARM_CATEGORY_DANGEROUS_CONTENT,threshold:Mr.BLOCK_MEDIUM_AND_ABOVE}];async function j0(t){if(!t)throw new Error("Store name is required to generate a logo.");const e=new us({apiKey:q_}),n=`Create a modern, clean, and professional logo for an e-commerce store named "${t}". The logo should be suitable for a website header. Avoid text in the logo itself, or if text is present, ensure it is "${t}" and highly legible. Focus on an iconic and memorable design. Generate a square image. The main subject of the logo should be prominent and take up most of the frame.`;try{console.log("[geminiImageGeneration Function] Attempting to generate logo using @google/genai SDK with ai.models.generateContent method.");const r=await e.models.generateContent({model:"gemini-2.0-flash-preview-image-generation",contents:n,safetySettings:G_,config:{responseModalities:[Vr.TEXT,Vr.IMAGE]}});let i="",s=null,o=null;if(r.candidates&&r.candidates.length>0&&r.candidates[0].content&&r.candidates[0].content.parts){for(const l of r.candidates[0].content.parts)if(l.text)i+=l.text;else if(l.inlineData&&l.inlineData.data){s=l.inlineData.data,o=l.inlineData.mimeType,console.log("[geminiImageGeneration Function] Image data found in response part (mimeType: "+o+").");break}}else console.warn("[geminiImageGeneration Function] Response structure unexpected, no parts found, or no candidates. Full response:",JSON.stringify(r)),r&&r.error&&r.error.message&&(i=`Error from API: ${r.error.message}`);if(!s)throw console.error("[geminiImageGeneration Function] No image data found in Gemini response. Text response (if any):",i),new Error("Failed to generate image. Model did not return image data. "+(i||"No text explanation from model."));if(console.log("[geminiImageGeneration Function] Successfully generated image data. Text response (if any):",i),s&&o)try{console.log("[geminiImageGeneration Function] Attempting to remove background from logo.");const l=await BZ(s,o);return console.log("[geminiImageGeneration Function] Successfully removed background from logo."),{imageData:l,textResponse:i}}catch(l){return console.error("[geminiImageGeneration Function] Error removing background:",l.message),console.warn("[geminiImageGeneration Function] Background removal failed. Returning original image."),{imageData:s,textResponse:i}}return{imageData:s,textResponse:i}}catch(r){throw console.error("[geminiImageGeneration Function] Error during logo generation:",r.message,r.stack,r),r.message&&r.message.toLowerCase().includes("api key not valid")?new Error("Invalid Gemini API Key. Please check your VITE_GEMINI_API_KEY in the .env file."):r.message&&r.message.toLowerCase().includes("billing")?new Error("Gemini API request failed. Please check your Google Cloud project billing status and ensure the API is enabled."):r.message&&r.message.toLowerCase().includes("quota")?new Error("Gemini API quota exceeded. Please check your API usage limits."):r.message&&r.message.toLowerCase().includes("model not found")?new Error("The specified Gemini model ('gemini-2.0-flash-preview-image-generation') was not found or is not accessible. Please check model availability and SDK compatibility."):r.message&&(r.message.toLowerCase().includes("network error")||r.message.toLowerCase().includes("failed to fetch"))?new Error("A network error occurred while trying to reach the Gemini API. Please check your internet connection and firewall settings."):r.message&&r.message.toLowerCase().includes("permission denied")?new Error("Gemini API request failed due to a permission issue. Ensure the API key is correct, the Generative Language API is enabled in your Google Cloud project, and the project is correctly configured."):new Error(`Image generation failed: ${r.message||"An unknown error occurred"}`)}}async function eg(t,e,n){if(!t||!e)throw new Error("Base64 image data and MIME type are required to generate a caption.");const r=new us({apiKey:q_}),i={type:mn.ARRAY,items:{type:mn.STRING},description:"An array of 3 distinct caption options for the image."};try{console.log(`[generateCaptionForImageData] Using provided image data. MimeType: ${e}, Base64 length: ${t.length}`);let o=n||"Generate 3 distinct caption options for this product image, in the style of a social media reel. Captions should be short, punchy, and engaging. Do NOT include emojis or hashtags. Ensure each caption is a clean string without markdown. For example: 'Fresh drop! Cop yours now.' or 'Obsessed with this vibe!'.";if(n){let h=`"${n}"`;n.toLowerCase().includes("social media reel")||(h+=" (style: social media reel)"),!n.toLowerCase().includes("no emojis")&&!n.toLowerCase().includes("no hashtags")&&(h+=" (important: do not include emojis or hashtags)"),!n.toLowerCase().includes("3 options")&&!n.toLowerCase().includes("three options")&&!n.toLowerCase().includes("array of captions")?o=`Generate an array of 3 distinct caption options based on this request: ${h}. Each caption should be a clean string without emojis or hashtags.`:o=`Generate captions based on this request: ${h}. Each caption should be a clean string without emojis or hashtags.`}const l=[{inlineData:{mimeType:e,data:t}},{text:o}];console.log(`[generateCaptionForImageData] Calling Gemini to generate caption options for image using responseSchema. Prompt: "${o}"`);const u=await r.models.generateContent({model:"gemini-2.0-flash",contents:l,safetySettings:G_,config:{responseMimeType:"application/json",responseSchema:i}}),d=u.text;if(typeof d!="string"||d.trim()==="")throw console.error("[generateCaptionForImageData] Model did not return a text response for JSON schema. Response:",JSON.stringify(u)),new Error("Model response for JSON schema was empty or not a string.");try{const h=JSON.parse(d);if(Array.isArray(h)&&h.every(p=>typeof p=="string")){const p=h.map(g=>g.trim().replace(/\*/g,"")).filter(g=>g.length>0);return p.length>0?(console.log("[generateCaptionForImageData] Captions generated via responseSchema:",p),p):(console.warn("[generateCaptionForImageData] Parsed captions array is empty or contains only empty strings after cleaning."),["Generated image description."])}else throw console.error("[generateCaptionForImageData] Parsed response is not an array of strings:",h),new Error("Parsed JSON from model is not in the expected format (array of strings).")}catch(h){return console.error("[generateCaptionForImageData] Failed to parse JSON response from model:",d,"ParseError:",h),[d.trim().replace(/\*/g,"")||"Could not generate caption."]}}catch(s){throw console.error("[generateCaptionForImageData] Error generating caption:",s.message,s.stack,s),new Error(`Image caption generation failed: ${s.message||"An unknown error occurred"}`)}}function FZ(t,e){const n=atob(t),r=new Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);const i=new Uint8Array(r);return new Blob([i],{type:e})}async function BZ(t,e){const n=FZ(t,e),r=new FormData;r.append("size","auto"),r.append("image_file",n,"logo_from_gemini"+(e.startsWith("image/")?"."+e.substring(6):".bin")),r.append("format","png"),console.log("[removeBackgroundFromLogo Function] Calling remove.bg API with image_file (Blob).");const i=await fetch("https://api.remove.bg/v1.0/removebg",{method:"POST",headers:{"X-Api-Key":$Z},body:r});if(i.ok){const s=await i.arrayBuffer(),o=btoa(new Uint8Array(s).reduce((l,u)=>l+String.fromCharCode(u),""));return console.log("[removeBackgroundFromLogo Function] Successfully removed background. Returning base64 image data."),o}else{const s=await i.text();throw console.error("[removeBackgroundFromLogo Function] Error from remove.bg API:",i.status,i.statusText,s),new Error(`Remove.bg API Error ${i.status}: ${i.statusText}. Details: ${s}`)}}async function N$(t,e,n){var s;if(!t||!e||!n)throw new Error("Image data, image MIME type, and edit prompt are required for image editing.");const r=new us({apiKey:q_}),i=[{text:n},{inlineData:{mimeType:e,data:t}}];try{console.log(`[editImageWithGemini] Calling Gemini for image editing with prompt: "${n}"`);const o=await r.models.generateContent({model:"gemini-2.0-flash-preview-image-generation",contents:i,safetySettings:G_,config:{responseModalities:[Vr.TEXT,Vr.IMAGE]}});let l=null,u="";if(o.candidates&&o.candidates.length>0&&o.candidates[0].content&&o.candidates[0].content.parts){for(const h of o.candidates[0].content.parts)if(h.text)u+=h.text;else if(h.inlineData&&h.inlineData.data){l=h.inlineData.data,console.log(`[editImageWithGemini] Edited image data received. MimeType from Gemini: ${h.inlineData.mimeType}`);break}}if(!l)throw console.error("[editImageWithGemini] No edited image data found in Gemini response. Text response (if any):",u),new Error("Failed to edit image. Model did not return new image data. "+(u||"No text explanation from model."));console.log("[editImageWithGemini] Successfully edited image. Text response (if any):",u);const d=((s=o.candidates[0].content.parts.find(h=>h.inlineData))==null?void 0:s.inlineData.mimeType)||"image/png";return{editedImageData:l,newMimeType:d,editTextResponse:u}}catch(o){throw console.error("[editImageWithGemini] Error during image editing:",o.message,o.stack,o),new Error(`Image editing failed: ${o.message||"An unknown error occurred"}`)}}const H_="AIzaSyDJ2rjQjY4mD6E34RqAv_ezZ3a29eYRA0I",Dv=new us({apiKey:H_}),RSe=async(t,e={})=>{var n,r,i;if(!t||typeof t!="string"||t.trim()==="")throw new Error("A valid prompt string is required.");console.log(`Starting video generation with prompt: "${t}"`);try{let s=await Dv.models.generateVideos({model:"veo-2.0-generate-001",prompt:t,config:{personGeneration:"dont_allow",aspectRatio:"16:9",numberOfVideos:1,durationSeconds:6,...e}});for(console.log("Video generation operation started:",s.name);!s.done;)console.log(`Polling operation ${s.name}, current status: ${((n=s.metadata)==null?void 0:n.state)||"UNKNOWN"}`),await new Promise(l=>setTimeout(l,1e4)),s=await Dv.operations.getVideosOperation({operation:s});if(console.log("Video generation operation completed:",s.name,"Done:",s.done),s.error)throw console.error("Error during video generation operation:",s.error),new Error(`Video generation failed: ${s.error.message||"Unknown error"}`);const o=(r=s.response)==null?void 0:r.generatedVideos;if(o&&o.length>0&&((i=o[0].video)!=null&&i.uri)){const u=`${o[0].video.uri}&key=${H_}`;return console.log("Generated video URI (with key appended):",u),u}else throw console.error("No video URI found in the response:",s.response),new Error("Video generation completed, but no video URI was returned.")}catch(s){throw console.error("Failed to generate video with Veo:",s),s.message&&s.message.includes("Quota")?new Error("Video generation failed due to quota limits. Please check your Google Cloud project quotas."):s.message&&s.message.includes("API key not valid")?new Error("Video generation failed due to an invalid API key. Please check your VITE_GEMINI_API_KEY."):s}},j$=async(t,e,n,r={})=>{var i,s,o;if(!t||typeof t!="string"||t.trim()==="")throw new Error("A valid prompt string is required.");if(!e||typeof e!="string")throw new Error("Valid base64 image data string is required.");if(!n||typeof n!="string")throw new Error("Valid image MIME type string is required.");console.log(`Starting image-to-video generation with prompt: "${t}" and image (mimeType: ${n})`);try{const l={model:"veo-2.0-generate-001",prompt:t,image:{imageBytes:e,mimeType:n},config:{personGeneration:"dont_allow",aspectRatio:"16:9",numberOfVideos:1,durationSeconds:6,...r}};console.log("Veo image-to-video payload (excluding imageBytes):",{...l,image:{mimeType:l.image.mimeType,imageBytes:"..."}});let u=await Dv.models.generateVideos(l);for(console.log("Image-to-video generation operation started:",u.name);!u.done;)console.log(`Polling operation ${u.name}, current status: ${((i=u.metadata)==null?void 0:i.state)||"UNKNOWN"}`),await new Promise(h=>setTimeout(h,1e4)),u=await Dv.operations.getVideosOperation({operation:u});if(console.log("Image-to-video generation operation completed:",u.name,"Done:",u.done),u.error)throw console.error("Error during image-to-video generation operation:",u.error),new Error(`Image-to-video generation failed: ${u.error.message||"Unknown error"}`);const d=(s=u.response)==null?void 0:s.generatedVideos;if(d&&d.length>0&&((o=d[0].video)!=null&&o.uri)){const p=`${d[0].video.uri}&key=${H_}`;return console.log("Generated image-to-video URI (with key appended):",p),p}else throw console.error("No video URI found in the image-to-video response:",u.response),new Error("Image-to-video generation completed, but no video URI was returned.")}catch(l){throw console.error("Failed to generate image-to-video with Veo:",l),l.message&&l.message.includes("Quota")?new Error("Image-to-video generation failed due to quota limits."):l.message&&l.message.includes("API key not valid")?new Error("Image-to-video generation failed due to an invalid API key."):l}},R$=x.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),R0=x.createContext({}),A0=x.createContext(null),k0=typeof document<"u",K_=k0?x.useLayoutEffect:x.useEffect,A$=x.createContext({strict:!1}),Y_=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),UZ="framerAppearId",k$="data-"+Y_(UZ);function VZ(t,e,n,r){const{visualElement:i}=x.useContext(R0),s=x.useContext(A$),o=x.useContext(A0),l=x.useContext(R$).reducedMotion,u=x.useRef();r=r||s.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const d=u.current;x.useInsertionEffect(()=>{d&&d.update(n,o)});const h=x.useRef(!!(n[k$]&&!window.HandoffComplete));return K_(()=>{d&&(d.render(),h.current&&d.animationState&&d.animationState.animateChanges())}),x.useEffect(()=>{d&&(d.updateFeatures(),!h.current&&d.animationState&&d.animationState.animateChanges(),h.current&&(h.current=!1,window.HandoffComplete=!0))}),d}function yu(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function zZ(t,e,n){return x.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):yu(n)&&(n.current=r))},[e])}function Ig(t){return typeof t=="string"||Array.isArray(t)}function I0(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const J_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],X_=["initial",...J_];function M0(t){return I0(t.animate)||X_.some(e=>Ig(t[e]))}function I$(t){return!!(M0(t)||t.variants)}function WZ(t,e){if(M0(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Ig(n)?n:void 0,animate:Ig(r)?r:void 0}}return t.inherit!==!1?e:{}}function qZ(t){const{initial:e,animate:n}=WZ(t,x.useContext(R0));return x.useMemo(()=>({initial:e,animate:n}),[oR(e),oR(n)])}function oR(t){return Array.isArray(t)?t.join(" "):t}const aR={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Mg={};for(const t in aR)Mg[t]={isEnabled:e=>aR[t].some(n=>!!e[n])};function GZ(t){for(const e in t)Mg[e]={...Mg[e],...t[e]}}const Q_=x.createContext({}),M$=x.createContext({}),HZ=Symbol.for("motionComponentSymbol");function KZ({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&GZ(t);function s(l,u){let d;const h={...x.useContext(R$),...l,layoutId:YZ(l)},{isStatic:p}=h,g=qZ(l),y=r(l,p);if(!p&&k0){g.visualElement=VZ(i,y,h,e);const b=x.useContext(M$),C=x.useContext(A$).strict;g.visualElement&&(d=g.visualElement.loadFeatures(h,C,t,b))}return x.createElement(R0.Provider,{value:g},d&&g.visualElement?x.createElement(d,{visualElement:g.visualElement,...h}):null,n(i,l,zZ(y,g.visualElement,u),y,p,g.visualElement))}const o=x.forwardRef(s);return o[HZ]=i,o}function YZ({layoutId:t}){const e=x.useContext(Q_).id;return e&&t!==void 0?e+"-"+t:t}function JZ(t){function e(r,i={}){return KZ(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const XZ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Z_(t){return typeof t!="string"||t.includes("-")?!1:!!(XZ.indexOf(t)>-1||/[A-Z]/.test(t))}const Lv={};function QZ(t){Object.assign(Lv,t)}const Yg=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ic=new Set(Yg);function D$(t,{layout:e,layoutId:n}){return ic.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Lv[t]||t==="opacity")}const Ai=t=>!!(t&&t.getVelocity),ZZ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},eee=Yg.length;function tee(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<eee;o++){const l=Yg[o];if(t[l]!==void 0){const u=ZZ[l]||l;s+=`${u}(${t[l]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,r?"":s):n&&r&&(s="none"),s}const L$=t=>e=>typeof e=="string"&&e.startsWith(t),O$=L$("--"),sC=L$("var(--"),nee=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,ree=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Da=(t,e,n)=>Math.min(Math.max(n,t),e),sc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},gg={...sc,transform:t=>Da(0,1,t)},Mx={...sc,default:1},yg=t=>Math.round(t*1e5)/1e5,D0=/(-)?([\d]*\.?[\d])+/g,$$=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,iee=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Jg(t){return typeof t=="string"}const Xg=t=>({test:e=>Jg(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ma=Xg("deg"),Qs=Xg("%"),Pt=Xg("px"),see=Xg("vh"),oee=Xg("vw"),lR={...Qs,parse:t=>Qs.parse(t)/100,transform:t=>Qs.transform(t*100)},cR={...sc,transform:Math.round},F$={borderWidth:Pt,borderTopWidth:Pt,borderRightWidth:Pt,borderBottomWidth:Pt,borderLeftWidth:Pt,borderRadius:Pt,radius:Pt,borderTopLeftRadius:Pt,borderTopRightRadius:Pt,borderBottomRightRadius:Pt,borderBottomLeftRadius:Pt,width:Pt,maxWidth:Pt,height:Pt,maxHeight:Pt,size:Pt,top:Pt,right:Pt,bottom:Pt,left:Pt,padding:Pt,paddingTop:Pt,paddingRight:Pt,paddingBottom:Pt,paddingLeft:Pt,margin:Pt,marginTop:Pt,marginRight:Pt,marginBottom:Pt,marginLeft:Pt,rotate:ma,rotateX:ma,rotateY:ma,rotateZ:ma,scale:Mx,scaleX:Mx,scaleY:Mx,scaleZ:Mx,skew:ma,skewX:ma,skewY:ma,distance:Pt,translateX:Pt,translateY:Pt,translateZ:Pt,x:Pt,y:Pt,z:Pt,perspective:Pt,transformPerspective:Pt,opacity:gg,originX:lR,originY:lR,originZ:Pt,zIndex:cR,fillOpacity:gg,strokeOpacity:gg,numOctaves:cR};function eT(t,e,n,r){const{style:i,vars:s,transform:o,transformOrigin:l}=t;let u=!1,d=!1,h=!0;for(const p in e){const g=e[p];if(O$(p)){s[p]=g;continue}const y=F$[p],b=ree(g,y);if(ic.has(p)){if(u=!0,o[p]=b,!h)continue;g!==(y.default||0)&&(h=!1)}else p.startsWith("origin")?(d=!0,l[p]=b):i[p]=b}if(e.transform||(u||r?i.transform=tee(t.transform,n,h,r):i.transform&&(i.transform="none")),d){const{originX:p="50%",originY:g="50%",originZ:y=0}=l;i.transformOrigin=`${p} ${g} ${y}`}}const tT=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function B$(t,e,n){for(const r in e)!Ai(e[r])&&!D$(r,n)&&(t[r]=e[r])}function aee({transformTemplate:t},e,n){return x.useMemo(()=>{const r=tT();return eT(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function lee(t,e,n){const r=t.style||{},i={};return B$(i,r,t),Object.assign(i,aee(t,e,n)),t.transformValues?t.transformValues(i):i}function cee(t,e,n){const r={},i=lee(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const uee=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ov(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||uee.has(t)}let U$=t=>!Ov(t);function dee(t){t&&(U$=e=>e.startsWith("on")?!Ov(e):t(e))}try{dee(require("@emotion/is-prop-valid").default)}catch{}function fee(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(U$(i)||n===!0&&Ov(i)||!e&&!Ov(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function uR(t,e,n){return typeof t=="string"?t:Pt.transform(e+n*t)}function hee(t,e,n){const r=uR(e,t.x,t.width),i=uR(n,t.y,t.height);return`${r} ${i}`}const pee={offset:"stroke-dashoffset",array:"stroke-dasharray"},mee={offset:"strokeDashoffset",array:"strokeDasharray"};function gee(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?pee:mee;t[s.offset]=Pt.transform(-r);const o=Pt.transform(e),l=Pt.transform(n);t[s.array]=`${o} ${l}`}function nT(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:l=1,pathOffset:u=0,...d},h,p,g){if(eT(t,d,h,g),p){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:b,dimensions:C}=t;y.transform&&(C&&(b.transform=y.transform),delete y.transform),C&&(i!==void 0||s!==void 0||b.transform)&&(b.transformOrigin=hee(C,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(y.x=e),n!==void 0&&(y.y=n),r!==void 0&&(y.scale=r),o!==void 0&&gee(y,o,l,u,!1)}const V$=()=>({...tT(),attrs:{}}),rT=t=>typeof t=="string"&&t.toLowerCase()==="svg";function yee(t,e,n,r){const i=x.useMemo(()=>{const s=V$();return nT(s,e,{enableHardwareAcceleration:!1},rT(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};B$(s,t.style,t),i.style={...s,...i.style}}return i}function xee(t=!1){return(n,r,i,{latestValues:s},o)=>{const u=(Z_(n)?yee:cee)(r,s,o,n),h={...fee(r,typeof n=="string",t),...u,ref:i},{children:p}=r,g=x.useMemo(()=>Ai(p)?p.get():p,[p]);return x.createElement(n,{...h,children:g})}}function z$(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const W$=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function q$(t,e,n,r){z$(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(W$.has(i)?i:Y_(i),e.attrs[i])}function iT(t,e){const{style:n}=t,r={};for(const i in n)(Ai(n[i])||e.style&&Ai(e.style[i])||D$(i,t))&&(r[i]=n[i]);return r}function G$(t,e){const n=iT(t,e);for(const r in t)if(Ai(t[r])||Ai(e[r])){const i=Yg.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function sT(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function H$(t){const e=x.useRef(null);return e.current===null&&(e.current=t()),e.current}const $v=t=>Array.isArray(t),vee=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),wee=t=>$v(t)?t[t.length-1]||0:t;function dv(t){const e=Ai(t)?t.get():t;return vee(e)?e.toValue():e}function See({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:bee(r,i,s,t),renderState:e()};return n&&(o.mount=l=>n(r,l,o)),o}const K$=t=>(e,n)=>{const r=x.useContext(R0),i=x.useContext(A0),s=()=>See(t,e,r,i);return n?s():H$(s)};function bee(t,e,n,r){const i={},s=r(t,{});for(const g in s)i[g]=dv(s[g]);let{initial:o,animate:l}=t;const u=M0(t),d=I$(t);e&&d&&!u&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const p=h?l:o;return p&&typeof p!="boolean"&&!I0(p)&&(Array.isArray(p)?p:[p]).forEach(y=>{const b=sT(t,y);if(!b)return;const{transitionEnd:C,transition:_,...P}=b;for(const E in P){let j=P[E];if(Array.isArray(j)){const R=h?j.length-1:0;j=j[R]}j!==null&&(i[E]=j)}for(const E in C)i[E]=C[E]}),i}const ir=t=>t;class dR{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function Cee(t){let e=new dR,n=new dR,r=0,i=!1,s=!1;const o=new WeakSet,l={schedule:(u,d=!1,h=!1)=>{const p=h&&i,g=p?e:n;return d&&o.add(u),g.add(u)&&p&&i&&(r=e.order.length),u},cancel:u=>{n.remove(u),o.delete(u)},process:u=>{if(i){s=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let d=0;d<r;d++){const h=e.order[d];h(u),o.has(h)&&(l.schedule(h),t())}i=!1,s&&(s=!1,l.process(u))}};return l}const Dx=["prepare","read","update","preRender","render","postRender"],_ee=40;function Tee(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=Dx.reduce((p,g)=>(p[g]=Cee(()=>n=!0),p),{}),o=p=>s[p].process(i),l=()=>{const p=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(p-i.timestamp,_ee),1),i.timestamp=p,i.isProcessing=!0,Dx.forEach(o),i.isProcessing=!1,n&&e&&(r=!1,t(l))},u=()=>{n=!0,r=!0,i.isProcessing||t(l)};return{schedule:Dx.reduce((p,g)=>{const y=s[g];return p[g]=(b,C=!1,_=!1)=>(n||u(),y.schedule(b,C,_)),p},{}),cancel:p=>Dx.forEach(g=>s[g].cancel(p)),state:i,steps:s}}const{schedule:Dn,cancel:Mo,state:ri,steps:uS}=Tee(typeof requestAnimationFrame<"u"?requestAnimationFrame:ir,!0),Eee={useVisualState:K$({scrapeMotionValuesFromProps:G$,createRenderState:V$,onMount:(t,e,{renderState:n,latestValues:r})=>{Dn.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Dn.render(()=>{nT(n,r,{enableHardwareAcceleration:!1},rT(e.tagName),t.transformTemplate),q$(e,n)})}})},Pee={useVisualState:K$({scrapeMotionValuesFromProps:iT,createRenderState:tT})};function Nee(t,{forwardMotionProps:e=!1},n,r){return{...Z_(t)?Eee:Pee,preloadedFeatures:n,useRender:xee(e),createVisualElement:r,Component:t}}function Po(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const Y$=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function L0(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const jee=t=>e=>Y$(e)&&t(e,L0(e));function Ro(t,e,n,r){return Po(t,e,jee(n),r)}const Ree=(t,e)=>n=>e(t(n)),Ta=(...t)=>t.reduce(Ree);function J$(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const fR=J$("dragHorizontal"),hR=J$("dragVertical");function X$(t){let e=!1;if(t==="y")e=hR();else if(t==="x")e=fR();else{const n=fR(),r=hR();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function Q$(){const t=X$(!0);return t?(t(),!1):!0}class Ha{constructor(e){this.isMounted=!1,this.node=e}update(){}}function pR(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.pointerType==="touch"||Q$())return;const l=t.getProps();t.animationState&&l.whileHover&&t.animationState.setActive("whileHover",e),l[r]&&Dn.update(()=>l[r](s,o))};return Ro(t.current,n,i,{passive:!t.getProps()[r]})}class Aee extends Ha{mount(){this.unmount=Ta(pR(this.node,!0),pR(this.node,!1))}unmount(){}}class kee extends Ha{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ta(Po(this.node.current,"focus",()=>this.onFocus()),Po(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Z$=(t,e)=>e?t===e?!0:Z$(t,e.parentElement):!1;function dS(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,L0(n))}class Iee extends Ha{constructor(){super(...arguments),this.removeStartListeners=ir,this.removeEndListeners=ir,this.removeAccessibleListeners=ir,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=Ro(window,"pointerup",(l,u)=>{if(!this.checkPressEnd())return;const{onTap:d,onTapCancel:h,globalTapTarget:p}=this.node.getProps();Dn.update(()=>{!p&&!Z$(this.node.current,l.target)?h&&h(l,u):d&&d(l,u)})},{passive:!(r.onTap||r.onPointerUp)}),o=Ro(window,"pointercancel",(l,u)=>this.cancelPress(l,u),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Ta(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||dS("up",(u,d)=>{const{onTap:h}=this.node.getProps();h&&Dn.update(()=>h(u,d))})};this.removeEndListeners(),this.removeEndListeners=Po(this.node.current,"keyup",o),dS("down",(l,u)=>{this.startPress(l,u)})},n=Po(this.node.current,"keydown",e),r=()=>{this.isPressing&&dS("cancel",(s,o)=>this.cancelPress(s,o))},i=Po(this.node.current,"blur",r);this.removeAccessibleListeners=Ta(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Dn.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Q$()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Dn.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Ro(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Po(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Ta(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const oC=new WeakMap,fS=new WeakMap,Mee=t=>{const e=oC.get(t.target);e&&e(t)},Dee=t=>{t.forEach(Mee)};function Lee({root:t,...e}){const n=t||document;fS.has(n)||fS.set(n,{});const r=fS.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(Dee,{root:t,...e})),r[i]}function Oee(t,e,n){const r=Lee(e);return oC.set(t,n),r.observe(t),()=>{oC.delete(t),r.unobserve(t)}}const $ee={some:0,all:1};class Fee extends Ha{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:$ee[i]},l=u=>{const{isIntersecting:d}=u;if(this.isInView===d||(this.isInView=d,s&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:h,onViewportLeave:p}=this.node.getProps(),g=d?h:p;g&&g(u)};return Oee(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Bee(e,n))&&this.startObserver()}unmount(){}}function Bee({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Uee={inView:{Feature:Fee},tap:{Feature:Iee},focus:{Feature:kee},hover:{Feature:Aee}};function e5(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Vee(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function zee(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function O0(t,e,n){const r=t.getProps();return sT(r,e,n!==void 0?n:r.custom,Vee(t),zee(t))}let ASe=ir,oT=ir;const Gl=t=>t*1e3,Ao=t=>t/1e3,Wee={current:!1},t5=t=>Array.isArray(t)&&typeof t[0]=="number";function n5(t){return!!(!t||typeof t=="string"&&r5[t]||t5(t)||Array.isArray(t)&&t.every(n5))}const tg=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,r5={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:tg([0,.65,.55,1]),circOut:tg([.55,0,1,.45]),backIn:tg([.31,.01,.66,-.59]),backOut:tg([.33,1.53,.69,.99])};function i5(t){if(t)return t5(t)?tg(t):Array.isArray(t)?t.map(i5):r5[t]}function qee(t,e,n,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:l,times:u}={}){const d={[e]:n};u&&(d.offset=u);const h=i5(l);return Array.isArray(h)&&(d.easing=h),t.animate(d,{delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function Gee(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const s5=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Hee=1e-7,Kee=12;function Yee(t,e,n,r,i){let s,o,l=0;do o=e+(n-e)/2,s=s5(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>Hee&&++l<Kee);return o}function Qg(t,e,n,r){if(t===e&&n===r)return ir;const i=s=>Yee(s,0,1,t,n);return s=>s===0||s===1?s:s5(i(s),e,r)}const Jee=Qg(.42,0,1,1),Xee=Qg(0,0,.58,1),o5=Qg(.42,0,.58,1),Qee=t=>Array.isArray(t)&&typeof t[0]!="number",a5=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,l5=t=>e=>1-t(1-e),aT=t=>1-Math.sin(Math.acos(t)),c5=l5(aT),Zee=a5(aT),u5=Qg(.33,1.53,.69,.99),lT=l5(u5),ete=a5(lT),tte=t=>(t*=2)<1?.5*lT(t):.5*(2-Math.pow(2,-10*(t-1))),nte={linear:ir,easeIn:Jee,easeInOut:o5,easeOut:Xee,circIn:aT,circInOut:Zee,circOut:c5,backIn:lT,backInOut:ete,backOut:u5,anticipate:tte},mR=t=>{if(Array.isArray(t)){oT(t.length===4);const[e,n,r,i]=t;return Qg(e,n,r,i)}else if(typeof t=="string")return nte[t];return t},cT=(t,e)=>n=>!!(Jg(n)&&iee.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),d5=(t,e,n)=>r=>{if(!Jg(r))return r;const[i,s,o,l]=r.match(D0);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},rte=t=>Da(0,255,t),hS={...sc,transform:t=>Math.round(rte(t))},Ul={test:cT("rgb","red"),parse:d5("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+hS.transform(t)+", "+hS.transform(e)+", "+hS.transform(n)+", "+yg(gg.transform(r))+")"};function ite(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const aC={test:cT("#"),parse:ite,transform:Ul.transform},xu={test:cT("hsl","hue"),parse:d5("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Qs.transform(yg(e))+", "+Qs.transform(yg(n))+", "+yg(gg.transform(r))+")"},pi={test:t=>Ul.test(t)||aC.test(t)||xu.test(t),parse:t=>Ul.test(t)?Ul.parse(t):xu.test(t)?xu.parse(t):aC.parse(t),transform:t=>Jg(t)?t:t.hasOwnProperty("red")?Ul.transform(t):xu.transform(t)},Qn=(t,e,n)=>-n*t+n*e+t;function pS(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function ste({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const l=n<.5?n*(1+e):n+e-n*e,u=2*n-l;i=pS(u,l,t+1/3),s=pS(u,l,t),o=pS(u,l,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const mS=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},ote=[aC,Ul,xu],ate=t=>ote.find(e=>e.test(t));function gR(t){const e=ate(t);let n=e.parse(t);return e===xu&&(n=ste(n)),n}const f5=(t,e)=>{const n=gR(t),r=gR(e),i={...n};return s=>(i.red=mS(n.red,r.red,s),i.green=mS(n.green,r.green,s),i.blue=mS(n.blue,r.blue,s),i.alpha=Qn(n.alpha,r.alpha,s),Ul.transform(i))};function lte(t){var e,n;return isNaN(t)&&Jg(t)&&(((e=t.match(D0))===null||e===void 0?void 0:e.length)||0)+(((n=t.match($$))===null||n===void 0?void 0:n.length)||0)>0}const h5={regex:nee,countKey:"Vars",token:"${v}",parse:ir},p5={regex:$$,countKey:"Colors",token:"${c}",parse:pi.parse},m5={regex:D0,countKey:"Numbers",token:"${n}",parse:sc.parse};function gS(t,{regex:e,countKey:n,token:r,parse:i}){const s=t.tokenised.match(e);s&&(t["num"+n]=s.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...s.map(i)))}function Fv(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&gS(n,h5),gS(n,p5),gS(n,m5),n}function g5(t){return Fv(t).values}function y5(t){const{values:e,numColors:n,numVars:r,tokenised:i}=Fv(t),s=e.length;return o=>{let l=i;for(let u=0;u<s;u++)u<r?l=l.replace(h5.token,o[u]):u<r+n?l=l.replace(p5.token,pi.transform(o[u])):l=l.replace(m5.token,yg(o[u]));return l}}const cte=t=>typeof t=="number"?0:t;function ute(t){const e=g5(t);return y5(t)(e.map(cte))}const La={test:lte,parse:g5,createTransformer:y5,getAnimatableNone:ute},x5=(t,e)=>n=>`${n>0?e:t}`;function v5(t,e){return typeof t=="number"?n=>Qn(t,e,n):pi.test(t)?f5(t,e):t.startsWith("var(")?x5(t,e):S5(t,e)}const w5=(t,e)=>{const n=[...t],r=n.length,i=t.map((s,o)=>v5(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}},dte=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=v5(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},S5=(t,e)=>{const n=La.createTransformer(e),r=Fv(t),i=Fv(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?Ta(w5(r.values,i.values),n):x5(t,e)},Dg=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},yR=(t,e)=>n=>Qn(t,e,n);function fte(t){return typeof t=="number"?yR:typeof t=="string"?pi.test(t)?f5:S5:Array.isArray(t)?w5:typeof t=="object"?dte:yR}function hte(t,e,n){const r=[],i=n||fte(t[0]),s=t.length-1;for(let o=0;o<s;o++){let l=i(t[o],t[o+1]);if(e){const u=Array.isArray(e)?e[o]||ir:e;l=Ta(u,l)}r.push(l)}return r}function b5(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(oT(s===e.length),s===1)return()=>e[0];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=hte(e,r,i),l=o.length,u=d=>{let h=0;if(l>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const p=Dg(t[h],t[h+1],d);return o[h](p)};return n?d=>u(Da(t[0],t[s-1],d)):u}function pte(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Dg(0,e,r);t.push(Qn(n,1,i))}}function mte(t){const e=[0];return pte(e,t.length-1),e}function gte(t,e){return t.map(n=>n*e)}function yte(t,e){return t.map(()=>e||o5).splice(0,t.length-1)}function Bv({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=Qee(r)?r.map(mR):mR(r),s={done:!1,value:e[0]},o=gte(n&&n.length===e.length?n:mte(e),t),l=b5(o,e,{ease:Array.isArray(i)?i:yte(e,i)});return{calculatedDuration:t,next:u=>(s.value=l(u),s.done=u>=t,s)}}function C5(t,e){return e?t*(1e3/e):0}const xte=5;function _5(t,e,n){const r=Math.max(e-xte,0);return C5(n-t(r),e-r)}const xR=.001,vte=.01,wte=10,Ste=.05,bte=1;function Cte({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s,o=1-e;o=Da(Ste,bte,o),t=Da(vte,wte,Ao(t)),o<1?(i=d=>{const h=d*o,p=h*t,g=h-n,y=lC(d,o),b=Math.exp(-p);return xR-g/y*b},s=d=>{const p=d*o*t,g=p*n+n,y=Math.pow(o,2)*Math.pow(d,2)*t,b=Math.exp(-p),C=lC(Math.pow(d,2),o);return(-i(d)+xR>0?-1:1)*((g-y)*b)/C}):(i=d=>{const h=Math.exp(-d*t),p=(d-n)*t+1;return-.001+h*p},s=d=>{const h=Math.exp(-d*t),p=(n-d)*(t*t);return h*p});const l=5/t,u=Tte(i,s,l);if(t=Gl(t),isNaN(u))return{stiffness:100,damping:10,duration:t};{const d=Math.pow(u,2)*r;return{stiffness:d,damping:o*2*Math.sqrt(r*d),duration:t}}}const _te=12;function Tte(t,e,n){let r=n;for(let i=1;i<_te;i++)r=r-t(r)/e(r);return r}function lC(t,e){return t*Math.sqrt(1-e*e)}const Ete=["duration","bounce"],Pte=["stiffness","damping","mass"];function vR(t,e){return e.some(n=>t[n]!==void 0)}function Nte(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!vR(t,Pte)&&vR(t,Ete)){const n=Cte(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function T5({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:l,damping:u,mass:d,duration:h,velocity:p,isResolvedFromDuration:g}=Nte({...r,velocity:-Ao(r.velocity||0)}),y=p||0,b=u/(2*Math.sqrt(l*d)),C=s-i,_=Ao(Math.sqrt(l/d)),P=Math.abs(C)<5;n||(n=P?.01:2),e||(e=P?.005:.5);let E;if(b<1){const j=lC(_,b);E=R=>{const I=Math.exp(-b*_*R);return s-I*((y+b*_*C)/j*Math.sin(j*R)+C*Math.cos(j*R))}}else if(b===1)E=j=>s-Math.exp(-_*j)*(C+(y+_*C)*j);else{const j=_*Math.sqrt(b*b-1);E=R=>{const I=Math.exp(-b*_*R),M=Math.min(j*R,300);return s-I*((y+b*_*C)*Math.sinh(M)+j*C*Math.cosh(M))/j}}return{calculatedDuration:g&&h||null,next:j=>{const R=E(j);if(g)o.done=j>=h;else{let I=y;j!==0&&(b<1?I=_5(E,j,R):I=0);const M=Math.abs(I)<=n,A=Math.abs(s-R)<=e;o.done=M&&A}return o.value=o.done?s:R,o}}}function wR({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:l,max:u,restDelta:d=.5,restSpeed:h}){const p=t[0],g={done:!1,value:p},y=$=>l!==void 0&&$<l||u!==void 0&&$>u,b=$=>l===void 0?u:u===void 0||Math.abs(l-$)<Math.abs(u-$)?l:u;let C=n*e;const _=p+C,P=o===void 0?_:o(_);P!==_&&(C=P-p);const E=$=>-C*Math.exp(-$/r),j=$=>P+E($),R=$=>{const B=E($),G=j($);g.done=Math.abs(B)<=d,g.value=g.done?P:G};let I,M;const A=$=>{y(g.value)&&(I=$,M=T5({keyframes:[g.value,b(g.value)],velocity:_5(j,$,g.value),damping:i,stiffness:s,restDelta:d,restSpeed:h}))};return A(0),{calculatedDuration:null,next:$=>{let B=!1;return!M&&I===void 0&&(B=!0,R($),A($)),I!==void 0&&$>I?M.next($-I):(!B&&R($),g)}}}const jte=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Dn.update(e,!0),stop:()=>Mo(e),now:()=>ri.isProcessing?ri.timestamp:performance.now()}},SR=2e4;function bR(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<SR;)e+=n,r=t.next(e);return e>=SR?1/0:e}const Rte={decay:wR,inertia:wR,tween:Bv,keyframes:Bv,spring:T5};function Uv({autoplay:t=!0,delay:e=0,driver:n=jte,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:l="loop",onPlay:u,onStop:d,onComplete:h,onUpdate:p,...g}){let y=1,b=!1,C,_;const P=()=>{_=new Promise(F=>{C=F})};P();let E;const j=Rte[i]||Bv;let R;j!==Bv&&typeof r[0]!="number"&&(R=b5([0,100],r,{clamp:!1}),r=[0,100]);const I=j({...g,keyframes:r});let M;l==="mirror"&&(M=j({...g,keyframes:[...r].reverse(),velocity:-(g.velocity||0)}));let A="idle",$=null,B=null,G=null;I.calculatedDuration===null&&s&&(I.calculatedDuration=bR(I));const{calculatedDuration:X}=I;let K=1/0,W=1/0;X!==null&&(K=X+o,W=K*(s+1)-o);let V=0;const Y=F=>{if(B===null)return;y>0&&(B=Math.min(B,F)),y<0&&(B=Math.min(F-W/y,B)),$!==null?V=$:V=Math.round(F-B)*y;const Z=V-e*(y>=0?1:-1),U=y>=0?Z<0:Z>W;V=Math.max(Z,0),A==="finished"&&$===null&&(V=W);let Ne=V,De=I;if(s){const $e=Math.min(V,W)/K;let He=Math.floor($e),tt=$e%1;!tt&&$e>=1&&(tt=1),tt===1&&He--,He=Math.min(He,s+1),!!(He%2)&&(l==="reverse"?(tt=1-tt,o&&(tt-=o/K)):l==="mirror"&&(De=M)),Ne=Da(0,1,tt)*K}const je=U?{done:!1,value:r[0]}:De.next(Ne);R&&(je.value=R(je.value));let{done:Te}=je;!U&&X!==null&&(Te=y>=0?V>=W:V<=0);const Pe=$===null&&(A==="finished"||A==="running"&&Te);return p&&p(je.value),Pe&&oe(),je},ne=()=>{E&&E.stop(),E=void 0},ue=()=>{A="idle",ne(),C(),P(),B=G=null},oe=()=>{A="finished",h&&h(),ne(),C()},ie=()=>{if(b)return;E||(E=n(Y));const F=E.now();u&&u(),$!==null?B=F-$:(!B||A==="finished")&&(B=F),A==="finished"&&P(),G=B,$=null,A="running",E.start()};t&&ie();const L={then(F,Z){return _.then(F,Z)},get time(){return Ao(V)},set time(F){F=Gl(F),V=F,$!==null||!E||y===0?$=F:B=E.now()-F/y},get duration(){const F=I.calculatedDuration===null?bR(I):I.calculatedDuration;return Ao(F)},get speed(){return y},set speed(F){F===y||!E||(y=F,L.time=Ao(V))},get state(){return A},play:ie,pause:()=>{A="paused",$=V},stop:()=>{b=!0,A!=="idle"&&(A="idle",d&&d(),ue())},cancel:()=>{G!==null&&Y(G),ue()},complete:()=>{A="finished"},sample:F=>(B=0,Y(F))};return L}function Ate(t){let e;return()=>(e===void 0&&(e=t()),e)}const kte=Ate(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Ite=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Lx=10,Mte=2e4,Dte=(t,e)=>e.type==="spring"||t==="backgroundColor"||!n5(e.ease);function Lte(t,e,{onUpdate:n,onComplete:r,...i}){if(!(kte()&&Ite.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,l,u,d=!1;const h=()=>{u=new Promise(j=>{l=j})};h();let{keyframes:p,duration:g=300,ease:y,times:b}=i;if(Dte(e,i)){const j=Uv({...i,repeat:0,delay:0});let R={done:!1,value:p[0]};const I=[];let M=0;for(;!R.done&&M<Mte;)R=j.sample(M),I.push(R.value),M+=Lx;b=void 0,p=I,g=M-Lx,y="linear"}const C=qee(t.owner.current,e,p,{...i,duration:g,ease:y,times:b}),_=()=>{d=!1,C.cancel()},P=()=>{d=!0,Dn.update(_),l(),h()};return C.onfinish=()=>{d||(t.set(Gee(p,i)),r&&r(),P())},{then(j,R){return u.then(j,R)},attachTimeline(j){return C.timeline=j,C.onfinish=null,ir},get time(){return Ao(C.currentTime||0)},set time(j){C.currentTime=Gl(j)},get speed(){return C.playbackRate},set speed(j){C.playbackRate=j},get duration(){return Ao(g)},play:()=>{o||(C.play(),Mo(_))},pause:()=>C.pause(),stop:()=>{if(o=!0,C.playState==="idle")return;const{currentTime:j}=C;if(j){const R=Uv({...i,autoplay:!1});t.setWithVelocity(R.sample(j-Lx).value,R.sample(j).value,Lx)}P()},complete:()=>{d||C.finish()},cancel:P}}function Ote({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:ir,pause:ir,stop:ir,then:s=>(s(),Promise.resolve()),cancel:ir,complete:ir});return e?Uv({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const $te={type:"spring",stiffness:500,damping:25,restSpeed:10},Fte=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Bte={type:"keyframes",duration:.8},Ute={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Vte=(t,{keyframes:e})=>e.length>2?Bte:ic.has(t)?t.startsWith("scale")?Fte(e[1]):$te:Ute,cC=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(La.test(e)||e==="0")&&!e.startsWith("url(")),zte=new Set(["brightness","contrast","saturate","opacity"]);function Wte(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(D0)||[];if(!r)return t;const i=n.replace(r,"");let s=zte.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const qte=/([a-z-]*)\(.*?\)/g,uC={...La,getAnimatableNone:t=>{const e=t.match(qte);return e?e.map(Wte).join(" "):t}},Gte={...F$,color:pi,backgroundColor:pi,outlineColor:pi,fill:pi,stroke:pi,borderColor:pi,borderTopColor:pi,borderRightColor:pi,borderBottomColor:pi,borderLeftColor:pi,filter:uC,WebkitFilter:uC},uT=t=>Gte[t];function E5(t,e){let n=uT(t);return n!==uC&&(n=La),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const P5=t=>/^0[^.\s]+$/.test(t);function Hte(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||P5(t)}function Kte(t,e,n,r){const i=cC(e,n);let s;Array.isArray(n)?s=[...n]:s=[null,n];const o=r.from!==void 0?r.from:t.get();let l;const u=[];for(let d=0;d<s.length;d++)s[d]===null&&(s[d]=d===0?o:s[d-1]),Hte(s[d])&&u.push(d),typeof s[d]=="string"&&s[d]!=="none"&&s[d]!=="0"&&(l=s[d]);if(i&&u.length&&l)for(let d=0;d<u.length;d++){const h=u[d];s[h]=E5(e,l)}return s}function Yte({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:l,from:u,elapsed:d,...h}){return!!Object.keys(h).length}function dT(t,e){return t[e]||t.default||t}const Jte={skipAnimations:!1},fT=(t,e,n,r={})=>i=>{const s=dT(r,t)||{},o=s.delay||r.delay||0;let{elapsed:l=0}=r;l=l-Gl(o);const u=Kte(e,t,n,s),d=u[0],h=u[u.length-1],p=cC(t,d),g=cC(t,h);let y={keyframes:u,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-l,onUpdate:b=>{e.set(b),s.onUpdate&&s.onUpdate(b)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(Yte(s)||(y={...y,...Vte(t,y)}),y.duration&&(y.duration=Gl(y.duration)),y.repeatDelay&&(y.repeatDelay=Gl(y.repeatDelay)),!p||!g||Wee.current||s.type===!1||Jte.skipAnimations)return Ote(y);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const b=Lte(e,t,y);if(b)return b}return Uv(y)};function Vv(t){return!!(Ai(t)&&t.add)}const N5=t=>/^\-?\d*\.?\d+$/.test(t);function hT(t,e){t.indexOf(e)===-1&&t.push(e)}function pT(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class mT{constructor(){this.subscriptions=[]}add(e){return hT(this.subscriptions,e),()=>pT(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Xte=t=>!isNaN(parseFloat(t)),CR={current:void 0};class Qte{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=ri;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,Dn.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Dn.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=Xte(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new mT);const r=this.events[e].add(n);return e==="change"?()=>{r(),Dn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return CR.current&&CR.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?C5(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Bu(t,e){return new Qte(t,e)}const j5=t=>e=>e.test(t),Zte={test:t=>t==="auto",parse:t=>t},R5=[sc,Pt,Qs,ma,oee,see,Zte],Xd=t=>R5.find(j5(t)),ene=[...R5,pi,La],tne=t=>ene.find(j5(t));function nne(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Bu(n))}function rne(t,e){const n=O0(t,e);let{transitionEnd:r={},transition:i={},...s}=n?t.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){const l=wee(s[o]);nne(t,o,l)}}function ine(t,e,n){var r,i;const s=Object.keys(e).filter(l=>!t.hasValue(l)),o=s.length;if(o)for(let l=0;l<o;l++){const u=s[l],d=e[u];let h=null;Array.isArray(d)&&(h=d[0]),h===null&&(h=(i=(r=n[u])!==null&&r!==void 0?r:t.readValue(u))!==null&&i!==void 0?i:e[u]),h!=null&&(typeof h=="string"&&(N5(h)||P5(h))?h=parseFloat(h):!tne(h)&&La.test(d)&&(h=E5(u,d)),t.addValue(u,Bu(h,{owner:t})),n[u]===void 0&&(n[u]=h),h!==null&&t.setBaseTarget(u,h))}}function sne(t,e){return e?(e[t]||e.default||e).from:void 0}function one(t,e,n){const r={};for(const i in t){const s=sne(i,e);if(s!==void 0)r[i]=s;else{const o=n.getValue(i);o&&(r[i]=o.get())}}return r}function ane({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function lne(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function A5(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...l}=t.makeTargetAnimatable(e);const u=t.getValue("willChange");r&&(s=r);const d=[],h=i&&t.animationState&&t.animationState.getState()[i];for(const p in l){const g=t.getValue(p),y=l[p];if(!g||y===void 0||h&&ane(h,p))continue;const b={delay:n,elapsed:0,...dT(s||{},p)};if(window.HandoffAppearAnimations){const P=t.getProps()[k$];if(P){const E=window.HandoffAppearAnimations(P,p,g,Dn);E!==null&&(b.elapsed=E,b.isHandoff=!0)}}let C=!b.isHandoff&&!lne(g,y);if(b.type==="spring"&&(g.getVelocity()||b.velocity)&&(C=!1),g.animation&&(C=!1),C)continue;g.start(fT(p,g,y,t.shouldReduceMotion&&ic.has(p)?{type:!1}:b));const _=g.animation;Vv(u)&&(u.add(p),_.then(()=>u.remove(p))),d.push(_)}return o&&Promise.all(d).then(()=>{o&&rne(t,o)}),d}function dC(t,e,n={}){const r=O0(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(A5(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:p}=i;return cne(t,e,d+u,h,p,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[u,d]=l==="beforeChildren"?[s,o]:[o,s];return u().then(()=>d())}else return Promise.all([s(),o(n.delay)])}function cne(t,e,n=0,r=0,i=1,s){const o=[],l=(t.variantChildren.size-1)*r,u=i===1?(d=0)=>d*r:(d=0)=>l-d*r;return Array.from(t.variantChildren).sort(une).forEach((d,h)=>{d.notify("AnimationStart",e),o.push(dC(d,e,{...s,delay:n+u(h)}).then(()=>d.notify("AnimationComplete",e)))}),Promise.all(o)}function une(t,e){return t.sortNodePosition(e)}function dne(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>dC(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=dC(t,e,n);else{const i=typeof e=="function"?O0(t,e,n.custom):e;r=Promise.all(A5(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const fne=[...J_].reverse(),hne=J_.length;function pne(t){return e=>Promise.all(e.map(({animation:n,options:r})=>dne(t,n,r)))}function mne(t){let e=pne(t);const n=yne();let r=!0;const i=(u,d)=>{const h=O0(t,d);if(h){const{transition:p,transitionEnd:g,...y}=h;u={...u,...y,...g}}return u};function s(u){e=u(t)}function o(u,d){const h=t.getProps(),p=t.getVariantContext(!0)||{},g=[],y=new Set;let b={},C=1/0;for(let P=0;P<hne;P++){const E=fne[P],j=n[E],R=h[E]!==void 0?h[E]:p[E],I=Ig(R),M=E===d?j.isActive:null;M===!1&&(C=P);let A=R===p[E]&&R!==h[E]&&I;if(A&&r&&t.manuallyAnimateOnMount&&(A=!1),j.protectedKeys={...b},!j.isActive&&M===null||!R&&!j.prevProp||I0(R)||typeof R=="boolean")continue;let B=gne(j.prevProp,R)||E===d&&j.isActive&&!A&&I||P>C&&I,G=!1;const X=Array.isArray(R)?R:[R];let K=X.reduce(i,{});M===!1&&(K={});const{prevResolvedValues:W={}}=j,V={...W,...K},Y=ne=>{B=!0,y.has(ne)&&(G=!0,y.delete(ne)),j.needsAnimating[ne]=!0};for(const ne in V){const ue=K[ne],oe=W[ne];if(b.hasOwnProperty(ne))continue;let ie=!1;$v(ue)&&$v(oe)?ie=!e5(ue,oe):ie=ue!==oe,ie?ue!==void 0?Y(ne):y.add(ne):ue!==void 0&&y.has(ne)?Y(ne):j.protectedKeys[ne]=!0}j.prevProp=R,j.prevResolvedValues=K,j.isActive&&(b={...b,...K}),r&&t.blockInitialAnimation&&(B=!1),B&&(!A||G)&&g.push(...X.map(ne=>({animation:ne,options:{type:E,...u}})))}if(y.size){const P={};y.forEach(E=>{const j=t.getBaseTarget(E);j!==void 0&&(P[E]=j)}),g.push({animation:P})}let _=!!g.length;return r&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(_=!1),r=!1,_?e(g):Promise.resolve()}function l(u,d,h){var p;if(n[u].isActive===d)return Promise.resolve();(p=t.variantChildren)===null||p===void 0||p.forEach(y=>{var b;return(b=y.animationState)===null||b===void 0?void 0:b.setActive(u,d)}),n[u].isActive=d;const g=o(h,u);for(const y in n)n[y].protectedKeys={};return g}return{animateChanges:o,setActive:l,setAnimateFunction:s,getState:()=>n}}function gne(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!e5(e,t):!1}function bl(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function yne(){return{animate:bl(!0),whileInView:bl(),whileHover:bl(),whileTap:bl(),whileDrag:bl(),whileFocus:bl(),exit:bl()}}class xne extends Ha{constructor(e){super(e),e.animationState||(e.animationState=mne(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),I0(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let vne=0;class wne extends Ha{constructor(){super(...arguments),this.id=vne++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Sne={animation:{Feature:xne},exit:{Feature:wne}},_R=(t,e)=>Math.abs(t-e);function bne(t,e){const n=_R(t.x,e.x),r=_R(t.y,e.y);return Math.sqrt(n**2+r**2)}class k5{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=xS(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,y=bne(p.offset,{x:0,y:0})>=3;if(!g&&!y)return;const{point:b}=p,{timestamp:C}=ri;this.history.push({...b,timestamp:C});const{onStart:_,onMove:P}=this.handlers;g||(_&&_(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),P&&P(this.lastMoveEvent,p)},this.handlePointerMove=(p,g)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=yS(g,this.transformPagePoint),Dn.update(this.updatePoint,!0)},this.handlePointerUp=(p,g)=>{this.end();const{onEnd:y,onSessionEnd:b,resumeAnimation:C}=this.handlers;if(this.dragSnapToOrigin&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=xS(p.type==="pointercancel"?this.lastMoveEventInfo:yS(g,this.transformPagePoint),this.history);this.startEvent&&y&&y(p,_),b&&b(p,_)},!Y$(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=L0(e),l=yS(o,this.transformPagePoint),{point:u}=l,{timestamp:d}=ri;this.history=[{...u,timestamp:d}];const{onSessionStart:h}=n;h&&h(e,xS(l,this.history)),this.removeListeners=Ta(Ro(this.contextWindow,"pointermove",this.handlePointerMove),Ro(this.contextWindow,"pointerup",this.handlePointerUp),Ro(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Mo(this.updatePoint)}}function yS(t,e){return e?{point:e(t.point)}:t}function TR(t,e){return{x:t.x-e.x,y:t.y-e.y}}function xS({point:t},e){return{point:t,delta:TR(t,I5(e)),offset:TR(t,Cne(e)),velocity:_ne(e,.1)}}function Cne(t){return t[0]}function I5(t){return t[t.length-1]}function _ne(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=I5(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Gl(e)));)n--;if(!r)return{x:0,y:0};const s=Ao(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Yi(t){return t.max-t.min}function fC(t,e=0,n=.01){return Math.abs(t-e)<=n}function ER(t,e,n,r=.5){t.origin=r,t.originPoint=Qn(e.min,e.max,t.origin),t.scale=Yi(n)/Yi(e),(fC(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Qn(n.min,n.max,t.origin)-t.originPoint,(fC(t.translate)||isNaN(t.translate))&&(t.translate=0)}function xg(t,e,n,r){ER(t.x,e.x,n.x,r?r.originX:void 0),ER(t.y,e.y,n.y,r?r.originY:void 0)}function PR(t,e,n){t.min=n.min+e.min,t.max=t.min+Yi(e)}function Tne(t,e,n){PR(t.x,e.x,n.x),PR(t.y,e.y,n.y)}function NR(t,e,n){t.min=e.min-n.min,t.max=t.min+Yi(e)}function vg(t,e,n){NR(t.x,e.x,n.x),NR(t.y,e.y,n.y)}function Ene(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Qn(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Qn(n,t,r.max):Math.min(t,n)),t}function jR(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Pne(t,{top:e,left:n,bottom:r,right:i}){return{x:jR(t.x,n,i),y:jR(t.y,e,r)}}function RR(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Nne(t,e){return{x:RR(t.x,e.x),y:RR(t.y,e.y)}}function jne(t,e){let n=.5;const r=Yi(t),i=Yi(e);return i>r?n=Dg(e.min,e.max-r,t.min):r>i&&(n=Dg(t.min,t.max-i,e.min)),Da(0,1,n)}function Rne(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const hC=.35;function Ane(t=hC){return t===!1?t=0:t===!0&&(t=hC),{x:AR(t,"left","right"),y:AR(t,"top","bottom")}}function AR(t,e,n){return{min:kR(t,e),max:kR(t,n)}}function kR(t,e){return typeof t=="number"?t:t[e]||0}const IR=()=>({translate:0,scale:1,origin:0,originPoint:0}),vu=()=>({x:IR(),y:IR()}),MR=()=>({min:0,max:0}),hr=()=>({x:MR(),y:MR()});function ss(t){return[t("x"),t("y")]}function M5({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function kne({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Ine(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function vS(t){return t===void 0||t===1}function pC({scale:t,scaleX:e,scaleY:n}){return!vS(t)||!vS(e)||!vS(n)}function Al(t){return pC(t)||D5(t)||t.z||t.rotate||t.rotateX||t.rotateY}function D5(t){return DR(t.x)||DR(t.y)}function DR(t){return t&&t!=="0%"}function zv(t,e,n){const r=t-n,i=e*r;return n+i}function LR(t,e,n,r,i){return i!==void 0&&(t=zv(t,i,r)),zv(t,n,r)+e}function mC(t,e=0,n=1,r,i){t.min=LR(t.min,e,n,r,i),t.max=LR(t.max,e,n,r,i)}function L5(t,{x:e,y:n}){mC(t.x,e.translate,e.scale,e.originPoint),mC(t.y,n.translate,n.scale,n.originPoint)}function Mne(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let l=0;l<i;l++){s=n[l],o=s.projectionDelta;const u=s.instance;u&&u.style&&u.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&wu(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,L5(t,o)),r&&Al(s.latestValues)&&wu(t,s.latestValues))}e.x=OR(e.x),e.y=OR(e.y)}function OR(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function va(t,e){t.min=t.min+e,t.max=t.max+e}function $R(t,e,[n,r,i]){const s=e[i]!==void 0?e[i]:.5,o=Qn(t.min,t.max,s);mC(t,e[n],e[r],o,e.scale)}const Dne=["x","scaleX","originX"],Lne=["y","scaleY","originY"];function wu(t,e){$R(t.x,e,Dne),$R(t.y,e,Lne)}function O5(t,e){return M5(Ine(t.getBoundingClientRect(),e))}function One(t,e,n){const r=O5(t,n),{scroll:i}=e;return i&&(va(r.x,i.offset.x),va(r.y,i.offset.y)),r}const $5=({current:t})=>t?t.ownerDocument.defaultView:null,$ne=new WeakMap;class Fne{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=hr(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(L0(h,"page").point)},s=(h,p)=>{const{drag:g,dragPropagation:y,onDragStart:b}=this.getProps();if(g&&!y&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=X$(g),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ss(_=>{let P=this.getAxisMotionValue(_).get()||0;if(Qs.test(P)){const{projection:E}=this.visualElement;if(E&&E.layout){const j=E.layout.layoutBox[_];j&&(P=Yi(j)*(parseFloat(P)/100))}}this.originPoint[_]=P}),b&&Dn.update(()=>b(h,p),!1,!0);const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},o=(h,p)=>{const{dragPropagation:g,dragDirectionLock:y,onDirectionLock:b,onDrag:C}=this.getProps();if(!g&&!this.openGlobalLock)return;const{offset:_}=p;if(y&&this.currentDirection===null){this.currentDirection=Bne(_),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",p.point,_),this.updateAxis("y",p.point,_),this.visualElement.render(),C&&C(h,p)},l=(h,p)=>this.stop(h,p),u=()=>ss(h=>{var p;return this.getAnimationState(h)==="paused"&&((p=this.getAxisMotionValue(h).animation)===null||p===void 0?void 0:p.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new k5(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:$5(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Dn.update(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Ox(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=Ene(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&yu(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=Pne(i.layoutBox,n):this.constraints=!1,this.elastic=Ane(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&ss(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=Rne(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!yu(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=One(r,i.root,this.visualElement.getTransformPagePoint());let o=Nne(i.layout.layoutBox,s);if(n){const l=n(kne(o));this.hasMutatedConstraints=!!l,l&&(o=M5(l))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),u=this.constraints||{},d=ss(h=>{if(!Ox(h,n,this.currentDirection))return;let p=u&&u[h]||{};o&&(p={min:0,max:0});const g=i?200:1e6,y=i?40:1e7,b={type:"inertia",velocity:r?e[h]:0,bounceStiffness:g,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...s,...p};return this.startAxisValueAnimation(h,b)});return Promise.all(d).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(fT(e,r,0,n))}stopAnimation(){ss(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ss(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ss(n=>{const{drag:r}=this.getProps();if(!Ox(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[n];s.set(e[n]-Qn(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!yu(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ss(o=>{const l=this.getAxisMotionValue(o);if(l){const u=l.get();i[o]=jne({min:u,max:u},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ss(o=>{if(!Ox(o,e,null))return;const l=this.getAxisMotionValue(o),{min:u,max:d}=this.constraints[o];l.set(Qn(u,d,i[o]))})}addListeners(){if(!this.visualElement.current)return;$ne.set(this.visualElement,this);const e=this.visualElement.current,n=Ro(e,"pointerdown",u=>{const{drag:d,dragListener:h=!0}=this.getProps();d&&h&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();yu(u)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=Po(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:u,hasLayoutChanged:d})=>{this.isDragging&&d&&(ss(h=>{const p=this.getAxisMotionValue(h);p&&(this.originPoint[h]+=u[h].translate,p.set(p.get()+u[h].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=hC,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:l}}}function Ox(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Bne(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Une extends Ha{constructor(e){super(e),this.removeGroupControls=ir,this.removeListeners=ir,this.controls=new Fne(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ir}unmount(){this.removeGroupControls(),this.removeListeners()}}const FR=t=>(e,n)=>{t&&Dn.update(()=>t(e,n))};class Vne extends Ha{constructor(){super(...arguments),this.removePointerDownListener=ir}onPointerDown(e){this.session=new k5(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:$5(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:FR(e),onStart:FR(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Dn.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=Ro(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function zne(){const t=x.useContext(A0);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=x.useId();return x.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const fv={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function BR(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Qd={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Pt.test(t))t=parseFloat(t);else return t;const n=BR(t,e.target.x),r=BR(t,e.target.y);return`${n}% ${r}%`}},Wne={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=La.parse(t);if(i.length>5)return r;const s=La.createTransformer(t),o=typeof i[0]!="number"?1:0,l=n.x.scale*e.x,u=n.y.scale*e.y;i[0+o]/=l,i[1+o]/=u;const d=Qn(l,u,.5);return typeof i[2+o]=="number"&&(i[2+o]/=d),typeof i[3+o]=="number"&&(i[3+o]/=d),s(i)}};class qne extends re.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;QZ(Gne),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),fv.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Dn.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function F5(t){const[e,n]=zne(),r=x.useContext(Q_);return re.createElement(qne,{...t,layoutGroup:r,switchLayoutGroup:x.useContext(M$),isPresent:e,safeToRemove:n})}const Gne={borderRadius:{...Qd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Qd,borderTopRightRadius:Qd,borderBottomLeftRadius:Qd,borderBottomRightRadius:Qd,boxShadow:Wne},B5=["TopLeft","TopRight","BottomLeft","BottomRight"],Hne=B5.length,UR=t=>typeof t=="string"?parseFloat(t):t,VR=t=>typeof t=="number"||Pt.test(t);function Kne(t,e,n,r,i,s){i?(t.opacity=Qn(0,n.opacity!==void 0?n.opacity:1,Yne(r)),t.opacityExit=Qn(e.opacity!==void 0?e.opacity:1,0,Jne(r))):s&&(t.opacity=Qn(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<Hne;o++){const l=`border${B5[o]}Radius`;let u=zR(e,l),d=zR(n,l);if(u===void 0&&d===void 0)continue;u||(u=0),d||(d=0),u===0||d===0||VR(u)===VR(d)?(t[l]=Math.max(Qn(UR(u),UR(d),r),0),(Qs.test(d)||Qs.test(u))&&(t[l]+="%")):t[l]=d}(e.rotate||n.rotate)&&(t.rotate=Qn(e.rotate||0,n.rotate||0,r))}function zR(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Yne=U5(0,.5,c5),Jne=U5(.5,.95,ir);function U5(t,e,n){return r=>r<t?0:r>e?1:n(Dg(t,e,r))}function WR(t,e){t.min=e.min,t.max=e.max}function is(t,e){WR(t.x,e.x),WR(t.y,e.y)}function qR(t,e,n,r,i){return t-=e,t=zv(t,1/n,r),i!==void 0&&(t=zv(t,1/i,r)),t}function Xne(t,e=0,n=1,r=.5,i,s=t,o=t){if(Qs.test(e)&&(e=parseFloat(e),e=Qn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=Qn(s.min,s.max,r);t===s&&(l-=e),t.min=qR(t.min,e,n,l,i),t.max=qR(t.max,e,n,l,i)}function GR(t,e,[n,r,i],s,o){Xne(t,e[n],e[r],e[i],e.scale,s,o)}const Qne=["x","scaleX","originX"],Zne=["y","scaleY","originY"];function HR(t,e,n,r){GR(t.x,e,Qne,n?n.x:void 0,r?r.x:void 0),GR(t.y,e,Zne,n?n.y:void 0,r?r.y:void 0)}function KR(t){return t.translate===0&&t.scale===1}function V5(t){return KR(t.x)&&KR(t.y)}function ere(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function z5(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function YR(t){return Yi(t.x)/Yi(t.y)}class tre{constructor(){this.members=[]}add(e){hT(this.members,e),e.scheduleRender()}remove(e){if(pT(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function JR(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:u,rotateX:d,rotateY:h}=n;u&&(r+=`rotate(${u}deg) `),d&&(r+=`rotateX(${d}deg) `),h&&(r+=`rotateY(${h}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}const nre=(t,e)=>t.depth-e.depth;class rre{constructor(){this.children=[],this.isDirty=!1}add(e){hT(this.children,e),this.isDirty=!0}remove(e){pT(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(nre),this.isDirty=!1,this.children.forEach(e)}}function ire(t,e){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Mo(r),t(s-e))};return Dn.read(r,!0),()=>Mo(r)}function sre(t){window.MotionDebug&&window.MotionDebug.record(t)}function ore(t){return t instanceof SVGElement&&t.tagName!=="svg"}function are(t,e,n){const r=Ai(t)?t:Bu(t);return r.start(fT("",r,e,n)),r.animation}const XR=["","X","Y","Z"],lre={visibility:"hidden"},QR=1e3;let cre=0;const kl={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function W5({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},l=e==null?void 0:e()){this.id=cre++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,kl.totalNodes=kl.resolvedTargetDeltas=kl.recalculatedProjection=0,this.nodes.forEach(fre),this.nodes.forEach(yre),this.nodes.forEach(xre),this.nodes.forEach(hre),sre(kl)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new rre)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new mT),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const u=this.eventHandlers.get(o);u&&u.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=ore(o),this.instance=o;const{layoutId:u,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||u)&&(this.isLayoutDirty=!0),t){let p;const g=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=ire(g,250),fv.hasAnimatedSinceResize&&(fv.hasAnimatedSinceResize=!1,this.nodes.forEach(eA))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&h&&(u||d)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g,hasRelativeTargetChanged:y,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||h.getDefaultTransition()||Cre,{onLayoutAnimationStart:_,onLayoutAnimationComplete:P}=h.getProps(),E=!this.targetLayout||!z5(this.targetLayout,b)||y,j=!g&&y;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||j||g&&(E||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,j);const R={...dT(C,"layout"),onPlay:_,onComplete:P};(h.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R)}else g||eA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Mo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(vre),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const p=this.path[h];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:l,layout:u}=this.options;if(l===void 0&&!u)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ZR);return}this.isUpdating||this.nodes.forEach(mre),this.isUpdating=!1,this.nodes.forEach(gre),this.nodes.forEach(ure),this.nodes.forEach(dre),this.clearAllSnapshots();const l=performance.now();ri.delta=Da(0,1e3/60,l-ri.timestamp),ri.timestamp=l,ri.isProcessing=!0,uS.update.process(ri),uS.preRender.process(ri),uS.render.process(ri),ri.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(pre),this.sharedNodes.forEach(wre)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Dn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Dn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=hr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!V5(this.projectionDelta),u=this.getTransformTemplate(),d=u?u(this.latestValues,""):void 0,h=d!==this.prevTransformTemplateValue;o&&(l||Al(this.latestValues)||h)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let u=this.removeElementScroll(l);return o&&(u=this.removeTransform(u)),_re(u),{animationId:this.root.animationId,measuredBox:l,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return hr();const l=o.measureViewportBox(),{scroll:u}=this.root;return u&&(va(l.x,u.offset.x),va(l.y,u.offset.y)),l}removeElementScroll(o){const l=hr();is(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:p}=d;if(d!==this.root&&h&&p.layoutScroll){if(h.isRoot){is(l,o);const{scroll:g}=this.root;g&&(va(l.x,-g.offset.x),va(l.y,-g.offset.y))}va(l.x,h.offset.x),va(l.y,h.offset.y)}}return l}applyTransform(o,l=!1){const u=hr();is(u,o);for(let d=0;d<this.path.length;d++){const h=this.path[d];!l&&h.options.layoutScroll&&h.scroll&&h!==h.root&&wu(u,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Al(h.latestValues)&&wu(u,h.latestValues)}return Al(this.latestValues)&&wu(u,this.latestValues),u}removeTransform(o){const l=hr();is(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];if(!d.instance||!Al(d.latestValues))continue;pC(d.latestValues)&&d.updateSnapshot();const h=hr(),p=d.measurePageBox();is(h,p),HR(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,h)}return Al(this.latestValues)&&HR(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ri.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==u;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:p,layoutId:g}=this.options;if(!(!this.layout||!(p||g))){if(this.resolvedRelativeTargetAt=ri.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=hr(),this.relativeTargetOrigin=hr(),vg(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),is(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=hr(),this.targetWithTransforms=hr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Tne(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):is(this.target,this.layout.layoutBox),L5(this.target,this.targetDelta)):is(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=hr(),this.relativeTargetOrigin=hr(),vg(this.relativeTargetOrigin,this.target,y.target),is(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}kl.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||pC(this.parent.latestValues)||D5(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),u=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===ri.timestamp&&(d=!1),d)return;const{layout:h,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||p))return;is(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,y=this.treeScale.y;Mne(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:b}=l;if(!b){this.projectionTransform&&(this.projectionDelta=vu(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=vu(),this.projectionDeltaWithTransform=vu());const C=this.projectionTransform;xg(this.projectionDelta,this.layoutCorrected,b,this.latestValues),this.projectionTransform=JR(this.projectionDelta,this.treeScale),(this.projectionTransform!==C||this.treeScale.x!==g||this.treeScale.y!==y)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b)),kl.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,l=!1){const u=this.snapshot,d=u?u.latestValues:{},h={...this.latestValues},p=vu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const g=hr(),y=u?u.source:void 0,b=this.layout?this.layout.source:void 0,C=y!==b,_=this.getStack(),P=!_||_.members.length<=1,E=!!(C&&!P&&this.options.crossfade===!0&&!this.path.some(bre));this.animationProgress=0;let j;this.mixTargetDelta=R=>{const I=R/1e3;tA(p.x,o.x,I),tA(p.y,o.y,I),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(vg(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Sre(this.relativeTarget,this.relativeTargetOrigin,g,I),j&&ere(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=hr()),is(j,this.relativeTarget)),C&&(this.animationValues=h,Kne(h,d,this.latestValues,I,E,P)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=I},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Mo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Dn.update(()=>{fv.hasAnimatedSinceResize=!0,this.currentAnimation=are(0,QR,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(QR),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:u,layout:d,latestValues:h}=o;if(!(!l||!u||!d)){if(this!==o&&this.layout&&d&&q5(this.options.animationType,this.layout.layoutBox,d.layoutBox)){u=this.target||hr();const p=Yi(this.layout.layoutBox.x);u.x.min=o.target.x.min,u.x.max=u.x.min+p;const g=Yi(this.layout.layoutBox.y);u.y.min=o.target.y.min,u.y.max=u.y.min+g}is(l,u),wu(l,h),xg(this.projectionDeltaWithTransform,this.layoutCorrected,l,h)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new tre),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:u}={}){const d=this.getStack();d&&d.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:u}=o;if((u.rotate||u.rotateX||u.rotateY||u.rotateZ)&&(l=!0),!l)return;const d={};for(let h=0;h<XR.length;h++){const p="rotate"+XR[h];u[p]&&(d[p]=u[p],o.setStaticValue(p,0))}o.render();for(const h in d)o.setStaticValue(h,d[h]);o.scheduleRender()}getProjectionStyles(o){var l,u;if(!this.instance||this.isSVG)return;if(!this.isVisible)return lre;const d={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=dv(o==null?void 0:o.pointerEvents)||"",d.transform=h?h(this.latestValues,""):"none",d;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const C={};return this.options.layoutId&&(C.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,C.pointerEvents=dv(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Al(this.latestValues)&&(C.transform=h?h({},""):"none",this.hasProjected=!1),C}const g=p.animationValues||p.latestValues;this.applyTransformsToTarget(),d.transform=JR(this.projectionDeltaWithTransform,this.treeScale,g),h&&(d.transform=h(g,d.transform));const{x:y,y:b}=this.projectionDelta;d.transformOrigin=`${y.origin*100}% ${b.origin*100}% 0`,p.animationValues?d.opacity=p===this?(u=(l=g.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:d.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const C in Lv){if(g[C]===void 0)continue;const{correct:_,applyTo:P}=Lv[C],E=d.transform==="none"?g[C]:_(g[C],p);if(P){const j=P.length;for(let R=0;R<j;R++)d[P[R]]=E}else d[C]=E}return this.options.layoutId&&(d.pointerEvents=p===this?dv(o==null?void 0:o.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(ZR),this.root.sharedNodes.clear()}}}function ure(t){t.updateLayout()}function dre(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?ss(p=>{const g=o?n.measuredBox[p]:n.layoutBox[p],y=Yi(g);g.min=r[p].min,g.max=g.min+y}):q5(s,n.layoutBox,r)&&ss(p=>{const g=o?n.measuredBox[p]:n.layoutBox[p],y=Yi(r[p]);g.max=g.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+y)});const l=vu();xg(l,r,n.layoutBox);const u=vu();o?xg(u,t.applyTransform(i,!0),n.measuredBox):xg(u,r,n.layoutBox);const d=!V5(l);let h=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:g,layout:y}=p;if(g&&y){const b=hr();vg(b,n.layoutBox,g.layoutBox);const C=hr();vg(C,r,y.layoutBox),z5(b,C)||(h=!0),p.options.layoutRoot&&(t.relativeTarget=C,t.relativeTargetOrigin=b,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:u,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function fre(t){kl.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function hre(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function pre(t){t.clearSnapshot()}function ZR(t){t.clearMeasurements()}function mre(t){t.isLayoutDirty=!1}function gre(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function eA(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function yre(t){t.resolveTargetDelta()}function xre(t){t.calcProjection()}function vre(t){t.resetRotation()}function wre(t){t.removeLeadSnapshot()}function tA(t,e,n){t.translate=Qn(e.translate,0,n),t.scale=Qn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function nA(t,e,n,r){t.min=Qn(e.min,n.min,r),t.max=Qn(e.max,n.max,r)}function Sre(t,e,n,r){nA(t.x,e.x,n.x,r),nA(t.y,e.y,n.y,r)}function bre(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Cre={duration:.45,ease:[.4,0,.1,1]},rA=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),iA=rA("applewebkit/")&&!rA("chrome/")?Math.round:ir;function sA(t){t.min=iA(t.min),t.max=iA(t.max)}function _re(t){sA(t.x),sA(t.y)}function q5(t,e,n){return t==="position"||t==="preserve-aspect"&&!fC(YR(e),YR(n),.2)}const Tre=W5({attachResizeListener:(t,e)=>Po(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),wS={current:void 0},G5=W5({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!wS.current){const t=new Tre({});t.mount(window),t.setOptions({layoutScroll:!0}),wS.current=t}return wS.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Ere={pan:{Feature:Vne},drag:{Feature:Une,ProjectionNode:G5,MeasureLayout:F5}},Pre=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Nre(t){const e=Pre.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function gC(t,e,n=1){const[r,i]=Nre(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return N5(o)?parseFloat(o):o}else return sC(i)?gC(i,e,n+1):i}function jre(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const s=i.get();if(!sC(s))return;const o=gC(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!sC(s))continue;const o=gC(s,r);o&&(e[i]=o,n||(n={}),n[i]===void 0&&(n[i]=s))}return{target:e,transitionEnd:n}}const Rre=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),H5=t=>Rre.has(t),Are=t=>Object.keys(t).some(H5),oA=t=>t===sc||t===Pt,aA=(t,e)=>parseFloat(t.split(", ")[e]),lA=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return aA(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?aA(s[1],t):0}},kre=new Set(["x","y","z"]),Ire=Yg.filter(t=>!kre.has(t));function Mre(t){const e=[];return Ire.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Uu={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:lA(4,13),y:lA(5,14)};Uu.translateX=Uu.x;Uu.translateY=Uu.y;const Dre=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,l={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(d=>{l[d]=Uu[d](r,s)}),e.render();const u=e.measureViewportBox();return n.forEach(d=>{const h=e.getValue(d);h&&h.jump(l[d]),t[d]=Uu[d](u,s)}),t},Lre=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(H5);let s=[],o=!1;const l=[];if(i.forEach(u=>{const d=t.getValue(u);if(!t.hasValue(u))return;let h=n[u],p=Xd(h);const g=e[u];let y;if($v(g)){const b=g.length,C=g[0]===null?1:0;h=g[C],p=Xd(h);for(let _=C;_<b&&g[_]!==null;_++)y?oT(Xd(g[_])===y):y=Xd(g[_])}else y=Xd(g);if(p!==y)if(oA(p)&&oA(y)){const b=d.get();typeof b=="string"&&d.set(parseFloat(b)),typeof g=="string"?e[u]=parseFloat(g):Array.isArray(g)&&y===Pt&&(e[u]=g.map(parseFloat))}else p!=null&&p.transform&&(y!=null&&y.transform)&&(h===0||g===0)?h===0?d.set(y.transform(h)):e[u]=p.transform(g):(o||(s=Mre(t),o=!0),l.push(u),r[u]=r[u]!==void 0?r[u]:e[u],d.jump(g))}),l.length){const u=l.indexOf("height")>=0?window.pageYOffset:null,d=Dre(e,t,l);return s.length&&s.forEach(([h,p])=>{t.getValue(h).set(p)}),t.render(),k0&&u!==null&&window.scrollTo({top:u}),{target:d,transitionEnd:r}}else return{target:e,transitionEnd:r}};function Ore(t,e,n,r){return Are(e)?Lre(t,e,n,r):{target:e,transitionEnd:r}}const $re=(t,e,n,r)=>{const i=jre(t,e,r);return e=i.target,r=i.transitionEnd,Ore(t,e,n,r)},yC={current:null},K5={current:!1};function Fre(){if(K5.current=!0,!!k0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>yC.current=t.matches;t.addListener(e),e()}else yC.current=!1}function Bre(t,e,n){const{willChange:r}=e;for(const i in e){const s=e[i],o=n[i];if(Ai(s))t.addValue(i,s),Vv(r)&&r.add(i);else if(Ai(o))t.addValue(i,Bu(s,{owner:t})),Vv(r)&&r.remove(i);else if(o!==s)if(t.hasValue(i)){const l=t.getValue(i);!l.hasAnimated&&l.set(s)}else{const l=t.getStaticValue(i);t.addValue(i,Bu(l!==void 0?l:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const cA=new WeakMap,Y5=Object.keys(Mg),Ure=Y5.length,uA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Vre=X_.length;class zre{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Dn.render(this.render,!1,!0);const{latestValues:l,renderState:u}=s;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=M0(n),this.isVariantNode=I$(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{});for(const p in h){const g=h[p];l[p]!==void 0&&Ai(g)&&(g.set(l[p],!1),Vv(d)&&d.add(p))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,cA.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),K5.current||Fre(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:yC.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){cA.delete(this.current),this.projection&&this.projection.unmount(),Mo(this.notifyUpdate),Mo(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=ic.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Dn.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,s){let o,l;for(let u=0;u<Ure;u++){const d=Y5[u],{isEnabled:h,Feature:p,ProjectionNode:g,MeasureLayout:y}=Mg[d];g&&(o=g),h(n)&&(!this.features[d]&&p&&(this.features[d]=new p(this)),y&&(l=y))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:u,layout:d,drag:h,dragConstraints:p,layoutScroll:g,layoutRoot:y}=n;this.projection.setOptions({layoutId:u,layout:d,alwaysMeasureLayout:!!h||p&&yu(p),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof d=="string"?d:"both",initialPromotionConfig:s,layoutScroll:g,layoutRoot:y})}return l}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):hr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<uA.length;r++){const i=uA[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=Bre(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<Vre;r++){const i=X_[r],s=this.props[i];(Ig(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Bu(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=sT(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Ai(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new mT),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class J5 extends zre{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},s){let o=one(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),o&&(o=i(o))),s){ine(this,r,o);const l=$re(this,r,o,n);n=l.transitionEnd,r=l.target}return{transition:e,transitionEnd:n,...r}}}function Wre(t){return window.getComputedStyle(t)}class qre extends J5{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(ic.has(n)){const r=uT(n);return r&&r.default||0}else{const r=Wre(e),i=(O$(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return O5(e,n)}build(e,n,r,i){eT(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return iT(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ai(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){z$(e,n,r,i)}}class Gre extends J5{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ic.has(n)){const r=uT(n);return r&&r.default||0}return n=W$.has(n)?n:Y_(n),e.getAttribute(n)}measureInstanceViewportBox(){return hr()}scrapeMotionValuesFromProps(e,n){return G$(e,n)}build(e,n,r,i){nT(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){q$(e,n,r,i)}mount(e){this.isSVGTag=rT(e.tagName),super.mount(e)}}const Hre=(t,e)=>Z_(t)?new Gre(e,{enableHardwareAcceleration:!1}):new qre(e,{enableHardwareAcceleration:!0}),Kre={layout:{ProjectionNode:G5,MeasureLayout:F5}},Yre={...Sne,...Uee,...Ere,...Kre},In=JZ((t,e)=>Nee(t,e,Yre,Hre));function X5(){const t=x.useRef(!1);return K_(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function Jre(){const t=X5(),[e,n]=x.useState(0),r=x.useCallback(()=>{t.current&&n(e+1)},[e]);return[x.useCallback(()=>Dn.postRender(r),[r]),e]}class Xre extends x.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Qre({children:t,isPresent:e}){const n=x.useId(),r=x.useRef(null),i=x.useRef({width:0,height:0,top:0,left:0});return x.useInsertionEffect(()=>{const{width:s,height:o,top:l,left:u}=i.current;if(e||!r.current||!s||!o)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),x.createElement(Xre,{isPresent:e,childRef:r,sizeRef:i},x.cloneElement(t,{ref:r}))}const SS=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const l=H$(Zre),u=x.useId(),d=x.useMemo(()=>({id:u,initial:e,isPresent:n,custom:i,onExitComplete:h=>{l.set(h,!0);for(const p of l.values())if(!p)return;r&&r()},register:h=>(l.set(h,!1),()=>l.delete(h))}),s?void 0:[n]);return x.useMemo(()=>{l.forEach((h,p)=>l.set(p,!1))},[n]),x.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(t=x.createElement(Qre,{isPresent:n},t)),x.createElement(A0.Provider,{value:d},t)};function Zre(){return new Map}function eie(t){return x.useEffect(()=>()=>t(),[])}const Il=t=>t.key||"";function tie(t,e){t.forEach(n=>{const r=Il(n);e.set(r,n)})}function nie(t){const e=[];return x.Children.forEach(t,n=>{x.isValidElement(n)&&e.push(n)}),e}const Wv=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const l=x.useContext(Q_).forceRender||Jre()[0],u=X5(),d=nie(t);let h=d;const p=x.useRef(new Map).current,g=x.useRef(h),y=x.useRef(new Map).current,b=x.useRef(!0);if(K_(()=>{b.current=!1,tie(d,y),g.current=h}),eie(()=>{b.current=!0,y.clear(),p.clear()}),b.current)return x.createElement(x.Fragment,null,h.map(E=>x.createElement(SS,{key:Il(E),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:o},E)));h=[...h];const C=g.current.map(Il),_=d.map(Il),P=C.length;for(let E=0;E<P;E++){const j=C[E];_.indexOf(j)===-1&&!p.has(j)&&p.set(j,void 0)}return o==="wait"&&p.size&&(h=[]),p.forEach((E,j)=>{if(_.indexOf(j)!==-1)return;const R=y.get(j);if(!R)return;const I=C.indexOf(j);let M=E;if(!M){const A=()=>{p.delete(j);const $=Array.from(y.keys()).filter(B=>!_.includes(B));if($.forEach(B=>y.delete(B)),g.current=d.filter(B=>{const G=Il(B);return G===j||$.includes(G)}),!p.size){if(u.current===!1)return;l(),r&&r()}};M=x.createElement(SS,{key:Il(R),isPresent:!1,onExitComplete:A,custom:e,presenceAffectsLayout:s,mode:o},R),p.set(j,M)}h.splice(I,0,M)}),h=h.map(E=>{const j=E.key;return p.has(j)?E:x.createElement(SS,{key:Il(E),isPresent:!0,presenceAffectsLayout:s,mode:o},E)}),x.createElement(x.Fragment,null,p.size?h:h.map(E=>x.cloneElement(E)))};function rie(t,[e,n]){return Math.min(n,Math.max(e,t))}function iie(t,e){return x.useReducer((n,r)=>e[n][r]??n,t)}var gT="ScrollArea",[Q5,ISe]=ds(gT),[sie,hs]=Q5(gT),Z5=x.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:s=600,...o}=t,[l,u]=x.useState(null),[d,h]=x.useState(null),[p,g]=x.useState(null),[y,b]=x.useState(null),[C,_]=x.useState(null),[P,E]=x.useState(0),[j,R]=x.useState(0),[I,M]=x.useState(!1),[A,$]=x.useState(!1),B=yn(e,X=>u(X)),G=E0(i);return a.jsx(sie,{scope:n,type:r,dir:G,scrollHideDelay:s,scrollArea:l,viewport:d,onViewportChange:h,content:p,onContentChange:g,scrollbarX:y,onScrollbarXChange:b,scrollbarXEnabled:I,onScrollbarXEnabledChange:M,scrollbarY:C,onScrollbarYChange:_,scrollbarYEnabled:A,onScrollbarYEnabledChange:$,onCornerWidthChange:E,onCornerHeightChange:R,children:a.jsx(Wt.div,{dir:G,...o,ref:B,style:{position:"relative","--radix-scroll-area-corner-width":P+"px","--radix-scroll-area-corner-height":j+"px",...t.style}})})});Z5.displayName=gT;var eF="ScrollAreaViewport",tF=x.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:i,...s}=t,o=hs(eF,n),l=x.useRef(null),u=yn(e,l,o.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),a.jsx(Wt.div,{"data-radix-scroll-area-viewport":"",...s,ref:u,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:a.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});tF.displayName=eF;var oo="ScrollAreaScrollbar",yT=x.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=hs(oo,t.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=i,l=t.orientation==="horizontal";return x.useEffect(()=>(l?s(!0):o(!0),()=>{l?s(!1):o(!1)}),[l,s,o]),i.type==="hover"?a.jsx(oie,{...r,ref:e,forceMount:n}):i.type==="scroll"?a.jsx(aie,{...r,ref:e,forceMount:n}):i.type==="auto"?a.jsx(nF,{...r,ref:e,forceMount:n}):i.type==="always"?a.jsx(xT,{...r,ref:e}):null});yT.displayName=oo;var oie=x.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=hs(oo,t.__scopeScrollArea),[s,o]=x.useState(!1);return x.useEffect(()=>{const l=i.scrollArea;let u=0;if(l){const d=()=>{window.clearTimeout(u),o(!0)},h=()=>{u=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",h),()=>{window.clearTimeout(u),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",h)}}},[i.scrollArea,i.scrollHideDelay]),a.jsx(mi,{present:n||s,children:a.jsx(nF,{"data-state":s?"visible":"hidden",...r,ref:e})})}),aie=x.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=hs(oo,t.__scopeScrollArea),s=t.orientation==="horizontal",o=F0(()=>u("SCROLL_END"),100),[l,u]=iie("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return x.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>u("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,i.scrollHideDelay,u]),x.useEffect(()=>{const d=i.viewport,h=s?"scrollLeft":"scrollTop";if(d){let p=d[h];const g=()=>{const y=d[h];p!==y&&(u("SCROLL"),o()),p=y};return d.addEventListener("scroll",g),()=>d.removeEventListener("scroll",g)}},[i.viewport,s,u,o]),a.jsx(mi,{present:n||l!=="hidden",children:a.jsx(xT,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:ct(t.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:ct(t.onPointerLeave,()=>u("POINTER_LEAVE"))})})}),nF=x.forwardRef((t,e)=>{const n=hs(oo,t.__scopeScrollArea),{forceMount:r,...i}=t,[s,o]=x.useState(!1),l=t.orientation==="horizontal",u=F0(()=>{if(n.viewport){const d=n.viewport.offsetWidth<n.viewport.scrollWidth,h=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?d:h)}},10);return Vu(n.viewport,u),Vu(n.content,u),a.jsx(mi,{present:r||s,children:a.jsx(xT,{"data-state":s?"visible":"hidden",...i,ref:e})})}),xT=x.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=hs(oo,t.__scopeScrollArea),s=x.useRef(null),o=x.useRef(0),[l,u]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=aF(l.viewport,l.content),h={...r,sizes:l,onSizesChange:u,hasThumb:d>0&&d<1,onThumbChange:g=>s.current=g,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:g=>o.current=g};function p(g,y){return hie(g,o.current,l,y)}return n==="horizontal"?a.jsx(lie,{...h,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const g=i.viewport.scrollLeft,y=dA(g,l,i.dir);s.current.style.transform=`translate3d(${y}px, 0, 0)`}},onWheelScroll:g=>{i.viewport&&(i.viewport.scrollLeft=g)},onDragScroll:g=>{i.viewport&&(i.viewport.scrollLeft=p(g,i.dir))}}):n==="vertical"?a.jsx(cie,{...h,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const g=i.viewport.scrollTop,y=dA(g,l);s.current.style.transform=`translate3d(0, ${y}px, 0)`}},onWheelScroll:g=>{i.viewport&&(i.viewport.scrollTop=g)},onDragScroll:g=>{i.viewport&&(i.viewport.scrollTop=p(g))}}):null}),lie=x.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=hs(oo,t.__scopeScrollArea),[o,l]=x.useState(),u=x.useRef(null),d=yn(e,u,s.onScrollbarXChange);return x.useEffect(()=>{u.current&&l(getComputedStyle(u.current))},[u]),a.jsx(iF,{"data-orientation":"horizontal",...i,ref:d,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":$0(n)+"px",...t.style},onThumbPointerDown:h=>t.onThumbPointerDown(h.x),onDragScroll:h=>t.onDragScroll(h.x),onWheelScroll:(h,p)=>{if(s.viewport){const g=s.viewport.scrollLeft+h.deltaX;t.onWheelScroll(g),cF(g,p)&&h.preventDefault()}},onResize:()=>{u.current&&s.viewport&&o&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:Gv(o.paddingLeft),paddingEnd:Gv(o.paddingRight)}})}})}),cie=x.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=hs(oo,t.__scopeScrollArea),[o,l]=x.useState(),u=x.useRef(null),d=yn(e,u,s.onScrollbarYChange);return x.useEffect(()=>{u.current&&l(getComputedStyle(u.current))},[u]),a.jsx(iF,{"data-orientation":"vertical",...i,ref:d,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":$0(n)+"px",...t.style},onThumbPointerDown:h=>t.onThumbPointerDown(h.y),onDragScroll:h=>t.onDragScroll(h.y),onWheelScroll:(h,p)=>{if(s.viewport){const g=s.viewport.scrollTop+h.deltaY;t.onWheelScroll(g),cF(g,p)&&h.preventDefault()}},onResize:()=>{u.current&&s.viewport&&o&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:Gv(o.paddingTop),paddingEnd:Gv(o.paddingBottom)}})}})}),[uie,rF]=Q5(oo),iF=x.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:u,onDragScroll:d,onWheelScroll:h,onResize:p,...g}=t,y=hs(oo,n),[b,C]=x.useState(null),_=yn(e,B=>C(B)),P=x.useRef(null),E=x.useRef(""),j=y.viewport,R=r.content-r.viewport,I=yr(h),M=yr(u),A=F0(p,10);function $(B){if(P.current){const G=B.clientX-P.current.left,X=B.clientY-P.current.top;d({x:G,y:X})}}return x.useEffect(()=>{const B=G=>{const X=G.target;(b==null?void 0:b.contains(X))&&I(G,R)};return document.addEventListener("wheel",B,{passive:!1}),()=>document.removeEventListener("wheel",B,{passive:!1})},[j,b,R,I]),x.useEffect(M,[r,M]),Vu(b,A),Vu(y.content,A),a.jsx(uie,{scope:n,scrollbar:b,hasThumb:i,onThumbChange:yr(s),onThumbPointerUp:yr(o),onThumbPositionChange:M,onThumbPointerDown:yr(l),children:a.jsx(Wt.div,{...g,ref:_,style:{position:"absolute",...g.style},onPointerDown:ct(t.onPointerDown,B=>{B.button===0&&(B.target.setPointerCapture(B.pointerId),P.current=b.getBoundingClientRect(),E.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",y.viewport&&(y.viewport.style.scrollBehavior="auto"),$(B))}),onPointerMove:ct(t.onPointerMove,$),onPointerUp:ct(t.onPointerUp,B=>{const G=B.target;G.hasPointerCapture(B.pointerId)&&G.releasePointerCapture(B.pointerId),document.body.style.webkitUserSelect=E.current,y.viewport&&(y.viewport.style.scrollBehavior=""),P.current=null})})})}),qv="ScrollAreaThumb",sF=x.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=rF(qv,t.__scopeScrollArea);return a.jsx(mi,{present:n||i.hasThumb,children:a.jsx(die,{ref:e,...r})})}),die=x.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,s=hs(qv,n),o=rF(qv,n),{onThumbPositionChange:l}=o,u=yn(e,p=>o.onThumbChange(p)),d=x.useRef(void 0),h=F0(()=>{d.current&&(d.current(),d.current=void 0)},100);return x.useEffect(()=>{const p=s.viewport;if(p){const g=()=>{if(h(),!d.current){const y=pie(p,l);d.current=y,l()}};return l(),p.addEventListener("scroll",g),()=>p.removeEventListener("scroll",g)}},[s.viewport,h,l]),a.jsx(Wt.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:ct(t.onPointerDownCapture,p=>{const y=p.target.getBoundingClientRect(),b=p.clientX-y.left,C=p.clientY-y.top;o.onThumbPointerDown({x:b,y:C})}),onPointerUp:ct(t.onPointerUp,o.onThumbPointerUp)})});sF.displayName=qv;var vT="ScrollAreaCorner",oF=x.forwardRef((t,e)=>{const n=hs(vT,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?a.jsx(fie,{...t,ref:e}):null});oF.displayName=vT;var fie=x.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=hs(vT,n),[s,o]=x.useState(0),[l,u]=x.useState(0),d=!!(s&&l);return Vu(i.scrollbarX,()=>{var p;const h=((p=i.scrollbarX)==null?void 0:p.offsetHeight)||0;i.onCornerHeightChange(h),u(h)}),Vu(i.scrollbarY,()=>{var p;const h=((p=i.scrollbarY)==null?void 0:p.offsetWidth)||0;i.onCornerWidthChange(h),o(h)}),d?a.jsx(Wt.div,{...r,ref:e,style:{width:s,height:l,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Gv(t){return t?parseInt(t,10):0}function aF(t,e){const n=t/e;return isNaN(n)?0:n}function $0(t){const e=aF(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function hie(t,e,n,r="ltr"){const i=$0(n),s=i/2,o=e||s,l=i-o,u=n.scrollbar.paddingStart+o,d=n.scrollbar.size-n.scrollbar.paddingEnd-l,h=n.content-n.viewport,p=r==="ltr"?[0,h]:[h*-1,0];return lF([u,d],p)(t)}function dA(t,e,n="ltr"){const r=$0(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-i,o=e.content-e.viewport,l=s-r,u=n==="ltr"?[0,o]:[o*-1,0],d=rie(t,u);return lF([0,o],[0,l])(d)}function lF(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function cF(t,e){return t>0&&t<e}var pie=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function i(){const s={left:t.scrollLeft,top:t.scrollTop},o=n.left!==s.left,l=n.top!==s.top;(o||l)&&e(),n=s,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function F0(t,e){const n=yr(t),r=x.useRef(0);return x.useEffect(()=>()=>window.clearTimeout(r.current),[]),x.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function Vu(t,e){const n=yr(e);to(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}var uF=Z5,mie=tF,gie=oF;const Oa=re.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(uF,{ref:r,className:gt("relative overflow-hidden",t),...n,children:[a.jsx(mie,{className:"h-full w-full rounded-[inherit]",children:e}),a.jsx(dF,{}),a.jsx(gie,{})]}));Oa.displayName=uF.displayName;const dF=re.forwardRef(({className:t,orientation:e="vertical",...n},r)=>a.jsx(yT,{ref:r,orientation:e,className:gt("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:a.jsx(sF,{className:"relative flex-1 rounded-full bg-border"})}));dF.displayName=yT.displayName;var Cl={},_l={},Zd={},ef={},Tl={},tf={},El={},bS={},fA;function yie(){return fA||(fA=1,Object.defineProperty(bS,"__esModule",{value:!0})),bS}var nf={},hA;function xie(){if(hA)return nf;hA=1,Object.defineProperty(nf,"__esModule",{value:!0}),nf.Blur=void 0;let t=class{constructor(n,r){this.radius=n,this.mode=r}toMap(){return Object.assign({blur_radius:this.radius},this.mode!=null?{blur_mode:this.mode}:{})}};return nf.Blur=t,nf}var CS={},pA;function vie(){return pA||(pA=1,Object.defineProperty(CS,"__esModule",{value:!0})),CS}var rf={},mA;function wie(){if(mA)return rf;mA=1,Object.defineProperty(rf,"__esModule",{value:!0}),rf.ColorFilter=void 0;let t=class{constructor(n,r){this.type=n,this.value=r}toMap(){return{color_filter:this.type,color_filter_value:this.value}}};return rf.ColorFilter=t,rf}var _S={},gA;function Sie(){return gA||(gA=1,Object.defineProperty(_S,"__esModule",{value:!0})),_S}var TS={},yA;function bie(){return yA||(yA=1,Object.defineProperty(TS,"__esModule",{value:!0})),TS}var ES={},xA;function Cie(){return xA||(xA=1,Object.defineProperty(ES,"__esModule",{value:!0})),ES}var sf={},vA;function _ie(){if(vA)return sf;vA=1,Object.defineProperty(sf,"__esModule",{value:!0}),sf.Fill=void 0;let t=class fu{constructor(n,r,i,s,o,l,u){this.mode=n,this.x0=r,this.y0=i,this.x1=s,this.y1=o,this.radius=l,this.colorStops=u}static solid(n){return new fu("solid",void 0,void 0,void 0,void 0,void 0,[n])}static linear(n,r,i,s,o){return new fu("linear",n,r,i,s,void 0,o)}static horizontal(n){return new fu("linear","0%","50%","100%","50%",void 0,n)}static vertical(n){return new fu("linear","50%","0%","50%","100%",void 0,n)}static radial(n,r,i,s){return new fu("radial",n,r,void 0,void 0,i,s)}toMap(){let n=[];if(Array.isArray(this.colorStops)&&this.colorStops.length>=1)if(typeof this.colorStops[0]=="string")if(this.colorStops.length>1)for(let r=0;r<this.colorStops.length;r++)n.push({offset:`${r/(this.colorStops.length-1)*100}%`,color:this.colorStops[r].toString()});else n.push({offset:"0%",color:this.colorStops[0]});else n=this.colorStops;return this.mode==="solid"?{fill_color:n.length>0?n[0].color:void 0}:this.mode==="linear"?{fill_color:n,fill_mode:this.mode,fill_x0:this.x0,fill_y0:this.y0,fill_x1:this.x1,fill_y1:this.y1}:{fill_color:n,fill_mode:this.mode,fill_x0:this.x0,fill_y0:this.y0,radius:this.radius}}};return sf.Fill=t,sf}var PS={},wA;function Tie(){return wA||(wA=1,Object.defineProperty(PS,"__esModule",{value:!0})),PS}var NS={},SA;function Eie(){return SA||(SA=1,Object.defineProperty(NS,"__esModule",{value:!0})),NS}var jS={},bA;function Pie(){return bA||(bA=1,Object.defineProperty(jS,"__esModule",{value:!0})),jS}var RS={},CA;function Nie(){return CA||(CA=1,Object.defineProperty(RS,"__esModule",{value:!0})),RS}var of={},_A;function jie(){if(_A)return of;_A=1,Object.defineProperty(of,"__esModule",{value:!0}),of.Font=void 0;let t=class{constructor(n,r,i,s,o,l){this.family=n,this.weight=r,this.style=i,this.size=s,this.minimum=o,this.maximum=l}toMap(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({font_family:this.family},this.weight!=null?{font_weight:this.weight}:{}),this.style!=null?{font_style:this.style}:{}),this.size!=null?{font_size:this.size}:{}),this.minimum!=null?{font_size_minimum:this.minimum}:{}),this.maximum!=null?{font_size_maximum:this.maximum}:{})}};return of.Font=t,of}var af={},TA;function Rie(){if(TA)return af;TA=1,Object.defineProperty(af,"__esModule",{value:!0}),af.FontDefinition=void 0;let t=class{constructor(n){this.properties=n}toMap(){return this.properties}};return af.FontDefinition=t,af}var AS={},EA;function Aie(){return EA||(EA=1,Object.defineProperty(AS,"__esModule",{value:!0})),AS}var lf={},PA;function kie(){if(PA)return lf;PA=1,Object.defineProperty(lf,"__esModule",{value:!0}),lf.Keyframe=void 0;let t=class{constructor(n,r,i){this.value=n,this.time=r,this.easing=i}};return lf.Keyframe=t,lf}var kS={},NA;function Iie(){return NA||(NA=1,Object.defineProperty(kS,"__esModule",{value:!0})),kS}var IS={},jA;function Mie(){return jA||(jA=1,Object.defineProperty(IS,"__esModule",{value:!0})),IS}var cf={},RA;function Die(){if(RA)return cf;RA=1,Object.defineProperty(cf,"__esModule",{value:!0}),cf.Shadow=void 0;let t=class{constructor(n,r,i,s){this.color=n,this.blur=r,this.x=i,this.y=s}toMap(){return Object.assign(Object.assign(Object.assign({shadow_color:this.color},this.blur!=null?{shadow_blur:this.blur}:{}),this.x!=null?{shadow_x:this.x}:{}),this.y!=null?{shadow_y:this.y}:{})}};return cf.Shadow=t,cf}var uf={},AA;function Lie(){if(AA)return uf;AA=1,Object.defineProperty(uf,"__esModule",{value:!0}),uf.Stroke=void 0;let t=class{constructor(n,r,i,s,o,l,u){this.color=n,this.width=r,this.cap=i,this.join=s,this.start=o,this.end=l,this.offset=u}toMap(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({stroke_color:this.color},this.width!=null?{stroke_width:this.width}:{}),this.cap!=null?{stroke_cap:this.cap}:{}),this.join!=null?{stroke_join:this.join}:{}),this.start!=null?{stroke_start:this.start}:{}),this.end!=null?{stroke_end:this.end}:{}),this.offset!=null?{stroke_offset:this.offset}:{})}};return uf.Stroke=t,uf}var MS={},kA;function Oie(){return kA||(kA=1,Object.defineProperty(MS,"__esModule",{value:!0})),MS}var DS={},IA;function $ie(){return IA||(IA=1,Object.defineProperty(DS,"__esModule",{value:!0})),DS}var df={},MA;function Fie(){if(MA)return df;MA=1,Object.defineProperty(df,"__esModule",{value:!0}),df.TextBackground=void 0;let t=class{constructor(n,r,i,s,o){this.color=n,this.xPadding=r,this.yPadding=i,this.borderRadius=s,this.alignThreshold=o}toMap(){return Object.assign(Object.assign(Object.assign(Object.assign({background_color:this.color},this.xPadding!=null?{background_x_padding:this.xPadding}:{}),this.yPadding!=null?{background_y_padding:this.yPadding}:{}),this.borderRadius!=null?{background_border_radius:this.borderRadius}:{}),this.alignThreshold!=null?{background_align_threshold:this.alignThreshold}:{})}};return df.TextBackground=t,df}var LS={},DA;function Bie(){return DA||(DA=1,Object.defineProperty(LS,"__esModule",{value:!0})),LS}var OS={},LA;function Uie(){return LA||(LA=1,Object.defineProperty(OS,"__esModule",{value:!0})),OS}var $S={},OA;function Vie(){return OA||(OA=1,Object.defineProperty($S,"__esModule",{value:!0})),$S}var FS={},$A;function zie(){return $A||($A=1,Object.defineProperty(FS,"__esModule",{value:!0})),FS}var ff={},FA;function Wie(){if(FA)return ff;FA=1,Object.defineProperty(ff,"__esModule",{value:!0}),ff.Warp=void 0;let t=class fF{constructor(n,r="default"){this.matrix=n,this.mode=r}static perspective(n,r,i,s){return new fF([[n,r],[i,s]],"perspective")}toMap(){return{warp_mode:this.mode,warp_matrix:this.matrix}}};return ff.Warp=t,ff}var BS={},BA;function qie(){return BA||(BA=1,Object.defineProperty(BS,"__esModule",{value:!0})),BS}var US={},UA;function Gie(){return UA||(UA=1,Object.defineProperty(US,"__esModule",{value:!0})),US}var VA;function hF(){return VA||(VA=1,function(t){var e=El&&El.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s);var l=Object.getOwnPropertyDescriptor(i,s);(!l||("get"in l?!i.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(r,o,l)}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),n=El&&El.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(yie(),t),n(xie(),t),n(vie(),t),n(wie(),t),n(Sie(),t),n(bie(),t),n(Cie(),t),n(_ie(),t),n(Tie(),t),n(Eie(),t),n(Pie(),t),n(Nie(),t),n(jie(),t),n(Rie(),t),n(Aie(),t),n(kie(),t),n(Iie(),t),n(Mie(),t),n(Die(),t),n(Lie(),t),n(Oie(),t),n($ie(),t),n(Fie(),t),n(Bie(),t),n(Uie(),t),n(Vie(),t),n(zie(),t),n(Wie(),t),n(qie(),t),n(Gie(),t)}(El)),El}var zA;function Hie(){if(zA)return tf;zA=1,Object.defineProperty(tf,"__esModule",{value:!0}),tf.expandProperties=void 0;const t=hF();function e(n){var r;const i={};for(const s of Object.keys(n)){const o=n[s];if(Array.isArray(o)&&o[0]instanceof t.Keyframe){for(const l of o)if(l instanceof t.Keyframe)if(typeof((r=l.value)===null||r===void 0?void 0:r.toMap)=="function"){const u=l.value.toMap();for(const d of Object.keys(u))Array.isArray(i[d])||(i[d]=[]),i[d].push({time:l.time,easing:l.easing,value:u[d]})}else Array.isArray(i[s])||(i[s]=[]),i[s].push({time:l.time,easing:l.easing,value:l.value})}else if(typeof(o==null?void 0:o.toMap)=="function"){const l=o.toMap();for(const u of Object.keys(l))i[u]=l[u]}else i[s]=n[s]}return i}return tf.expandProperties=e,tf}var hf={},WA;function Kie(){if(WA)return hf;WA=1,Object.defineProperty(hf,"__esModule",{value:!0}),hf.transformCamelToSnakeCase=void 0;function t(e){let n="";for(let r=0;r<e.length;r++){const i=e.charCodeAt(r);i>=65&&i<=90?n+="_"+e[r].toLowerCase():n+=e[r]}return n}return hf.transformCamelToSnakeCase=t,hf}var pf={},qA;function Yie(){if(qA)return pf;qA=1,Object.defineProperty(pf,"__esModule",{value:!0}),pf.transformObjectKeys=void 0;function t(e,n){if(n&&typeof n=="object"){const r={};for(const i of Object.keys(n)){const s=e(i);r[s]=n[i]}return r}else return{}}return pf.transformObjectKeys=t,pf}var mf={},GA;function Jie(){if(GA)return mf;GA=1,Object.defineProperty(mf,"__esModule",{value:!0}),mf.transformSnakeToCamelCase=void 0;function t(e){let n="";for(let r=0;r<e.length;r++)e[r]==="_"?e[r+1]&&(n+=e[r+1].toUpperCase(),r++):n+=e[r];return n}return mf.transformSnakeToCamelCase=t,mf}var HA;function B0(){return HA||(HA=1,function(t){var e=Tl&&Tl.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s);var l=Object.getOwnPropertyDescriptor(i,s);(!l||("get"in l?!i.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(r,o,l)}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),n=Tl&&Tl.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(Hie(),t),n(Kie(),t),n(Yie(),t),n(Jie(),t)}(Tl)),Tl}var KA;function Dr(){if(KA)return ef;KA=1,Object.defineProperty(ef,"__esModule",{value:!0}),ef.AnimationBase=void 0;const t=B0();let e=class{constructor(r){this.properties=r}toMap(){return(0,t.transformObjectKeys)(t.transformCamelToSnakeCase,Object.assign({type:this.type},this.properties))}};return ef.AnimationBase=e,ef}var YA;function oc(){if(YA)return Zd;YA=1,Object.defineProperty(Zd,"__esModule",{value:!0}),Zd.Bounce=void 0;const t=Dr();let e=class extends t.AnimationBase{constructor(r={}){super(r),this.type="bounce"}};return Zd.Bounce=e,Zd}var gf={},JA;function Xie(){if(JA)return gf;JA=1,Object.defineProperty(gf,"__esModule",{value:!0}),gf.BounceBottomLeft=void 0;const t=oc();let e=class extends t.Bounce{constructor(r={}){super(Object.assign({xAnchor:"0%",yAnchor:"100%"},r))}};return gf.BounceBottomLeft=e,gf}var yf={},XA;function Qie(){if(XA)return yf;XA=1,Object.defineProperty(yf,"__esModule",{value:!0}),yf.BounceBottomRight=void 0;const t=oc();let e=class extends t.Bounce{constructor(r={}){super(Object.assign({xAnchor:"100%",yAnchor:"100%"},r))}};return yf.BounceBottomRight=e,yf}var xf={},QA;function Zie(){if(QA)return xf;QA=1,Object.defineProperty(xf,"__esModule",{value:!0}),xf.BounceTopLeft=void 0;const t=oc();let e=class extends t.Bounce{constructor(r={}){super(Object.assign({xAnchor:"0%",yAnchor:"0%"},r))}};return xf.BounceTopLeft=e,xf}var vf={},ZA;function ese(){if(ZA)return vf;ZA=1,Object.defineProperty(vf,"__esModule",{value:!0}),vf.BounceTopRight=void 0;const t=oc();let e=class extends t.Bounce{constructor(r={}){super(Object.assign({xAnchor:"100%",yAnchor:"0%"},r))}};return vf.BounceTopRight=e,vf}var wf={},ek;function tse(){if(ek)return wf;ek=1,Object.defineProperty(wf,"__esModule",{value:!0}),wf.BounceXAxis=void 0;const t=oc();let e=class extends t.Bounce{constructor(r={}){super(Object.assign({axis:"x"},r))}};return wf.BounceXAxis=e,wf}var Sf={},tk;function nse(){if(tk)return Sf;tk=1,Object.defineProperty(Sf,"__esModule",{value:!0}),Sf.BounceYAxis=void 0;const t=oc();let e=class extends t.Bounce{constructor(r={}){super(Object.assign({axis:"y"},r))}};return Sf.BounceYAxis=e,Sf}var bf={},nk;function Xu(){if(nk)return bf;nk=1,Object.defineProperty(bf,"__esModule",{value:!0}),bf.CircularWipe=void 0;const t=Dr();let e=class extends t.AnimationBase{constructor(r={}){super(r),this.type="circular-wipe"}};return bf.CircularWipe=e,bf}var Cf={},rk;function rse(){if(rk)return Cf;rk=1,Object.defineProperty(Cf,"__esModule",{value:!0}),Cf.CircularWipeDown=void 0;const t=Xu();let e=class extends t.CircularWipe{constructor(r={}){super(Object.assign({yAnchor:"0%"},r))}};return Cf.CircularWipeDown=e,Cf}var _f={},ik;function ise(){if(ik)return _f;ik=1,Object.defineProperty(_f,"__esModule",{value:!0}),_f.CircularWipeLeft=void 0;const t=Xu();let e=class extends t.CircularWipe{constructor(r={}){super(Object.assign({xAnchor:"100%"},r))}};return _f.CircularWipeLeft=e,_f}var Tf={},sk;function sse(){if(sk)return Tf;sk=1,Object.defineProperty(Tf,"__esModule",{value:!0}),Tf.CircularWipeRight=void 0;const t=Xu();let e=class extends t.CircularWipe{constructor(r={}){super(Object.assign({xAnchor:"0%"},r))}};return Tf.CircularWipeRight=e,Tf}var Ef={},ok;function ose(){if(ok)return Ef;ok=1,Object.defineProperty(Ef,"__esModule",{value:!0}),Ef.CircularWipeShockwave=void 0;const t=Xu();let e=class extends t.CircularWipe{constructor(r={}){super(Object.assign({ringColor:"rgba(255, 255, 255, 0.5)",ringWidth:"50%"},r))}};return Ef.CircularWipeShockwave=e,Ef}var Pf={},ak;function ase(){if(ak)return Pf;ak=1,Object.defineProperty(Pf,"__esModule",{value:!0}),Pf.CircularWipeUp=void 0;const t=Xu();let e=class extends t.CircularWipe{constructor(r={}){super(Object.assign({yAnchor:"100%"},r))}};return Pf.CircularWipeUp=e,Pf}var Nf={},lk;function Zg(){if(lk)return Nf;lk=1,Object.defineProperty(Nf,"__esModule",{value:!0}),Nf.ColorWipe=void 0;const t=Dr();let e=class extends t.AnimationBase{constructor(r={}){super(r),this.type="color-wipe"}};return Nf.ColorWipe=e,Nf}var jf={},ck;function lse(){if(ck)return jf;ck=1,Object.defineProperty(jf,"__esModule",{value:!0}),jf.ColorWipeDown=void 0;const t=Zg();let e=class extends t.ColorWipe{constructor(r={}){super(Object.assign({direction:"down"},r))}};return jf.ColorWipeDown=e,jf}var Rf={},uk;function cse(){if(uk)return Rf;uk=1,Object.defineProperty(Rf,"__esModule",{value:!0}),Rf.ColorWipeLeft=void 0;const t=Zg();let e=class extends t.ColorWipe{constructor(r={}){super(Object.assign({direction:"left"},r))}};return Rf.ColorWipeLeft=e,Rf}var Af={},dk;function use(){if(dk)return Af;dk=1,Object.defineProperty(Af,"__esModule",{value:!0}),Af.ColorWipeRight=void 0;const t=Zg();let e=class extends t.ColorWipe{constructor(r={}){super(Object.assign({direction:"right"},r))}};return Af.ColorWipeRight=e,Af}var kf={},fk;function dse(){if(fk)return kf;fk=1,Object.defineProperty(kf,"__esModule",{value:!0}),kf.ColorWipeUp=void 0;const t=Zg();let e=class extends t.ColorWipe{constructor(r={}){super(Object.assign({direction:"up"},r))}};return kf.ColorWipeUp=e,kf}var If={},hk;function fse(){if(hk)return If;hk=1,Object.defineProperty(If,"__esModule",{value:!0}),If.Fade=void 0;const t=Dr();let e=class extends t.AnimationBase{constructor(r={}){super(r),this.type="fade"}};return If.Fade=e,If}var Mf={},pk;function ey(){if(pk)return Mf;pk=1,Object.defineProperty(Mf,"__esModule",{value:!0}),Mf.FilmRoll=void 0;const t=Dr();let e=class extends t.AnimationBase{constructor(r={}){super(r),this.type="film-roll"}};return Mf.FilmRoll=e,Mf}var Df={},mk;function hse(){if(mk)return Df;mk=1,Object.defineProperty(Df,"__esModule",{value:!0}),Df.FilmRollDown=void 0;const t=ey();let e=class extends t.FilmRoll{constructor(r={}){super(Object.assign({direction:"down"},r))}};return Df.FilmRollDown=e,Df}var Lf={},gk;function pse(){if(gk)return Lf;gk=1,Object.defineProperty(Lf,"__esModule",{value:!0}),Lf.FilmRollLeft=void 0;const t=ey();let e=class extends t.FilmRoll{constructor(r={}){super(Object.assign({direction:"left"},r))}};return Lf.FilmRollLeft=e,Lf}var Of={},yk;function mse(){if(yk)return Of;yk=1,Object.defineProperty(Of,"__esModule",{value:!0}),Of.FilmRollRight=void 0;const t=ey();let e=class extends t.FilmRoll{constructor(r={}){super(Object.assign({direction:"right"},r))}};return Of.FilmRollRight=e,Of}var $f={},xk;function gse(){if(xk)return $f;xk=1,Object.defineProperty($f,"__esModule",{value:!0}),$f.FilmRollUp=void 0;const t=ey();let e=class extends t.FilmRoll{constructor(r={}){super(Object.assign({direction:"up"},r))}};return $f.FilmRollUp=e,$f}var Ff={},vk;function ao(){if(vk)return Ff;vk=1,Object.defineProperty(Ff,"__esModule",{value:!0}),Ff.Flip=void 0;const t=Dr();let e=class extends t.AnimationBase{constructor(r={}){super(r),this.type="flip"}};return Ff.Flip=e,Ff}var Bf={},wk;function yse(){if(wk)return Bf;wk=1,Object.defineProperty(Bf,"__esModule",{value:!0}),Bf.FlipDown=void 0;const t=ao();let e=class extends t.Flip{constructor(r={}){super(Object.assign({xRotation:"-180",yRotation:"0"},r))}};return Bf.FlipDown=e,Bf}var Uf={},Sk;function xse(){if(Sk)return Uf;Sk=1,Object.defineProperty(Uf,"__esModule",{value:!0}),Uf.FlipDownLeft=void 0;const t=ao();let e=class extends t.Flip{constructor(r={}){super(Object.assign({xRotation:"-90",yRotation:"-90"},r))}};return Uf.FlipDownLeft=e,Uf}var Vf={},bk;function vse(){if(bk)return Vf;bk=1,Object.defineProperty(Vf,"__esModule",{value:!0}),Vf.FlipDownRight=void 0;const t=ao();let e=class extends t.Flip{constructor(r={}){super(Object.assign({xRotation:"-90",yRotation:"90"},r))}};return Vf.FlipDownRight=e,Vf}var zf={},Ck;function wse(){if(Ck)return zf;Ck=1,Object.defineProperty(zf,"__esModule",{value:!0}),zf.FlipLeft=void 0;const t=ao();let e=class extends t.Flip{constructor(r={}){super(Object.assign({xRotation:"0",yRotation:"-180"},r))}};return zf.FlipLeft=e,zf}var Wf={},_k;function Sse(){if(_k)return Wf;_k=1,Object.defineProperty(Wf,"__esModule",{value:!0}),Wf.FlipPage=void 0;const t=ao();let e=class extends t.Flip{constructor(r={}){super(Object.assign({xRotation:"0",yRotation:"90",xAnchor:"0%",fade:!1},r))}};return Wf.FlipPage=e,Wf}var qf={},Tk;function bse(){if(Tk)return qf;Tk=1,Object.defineProperty(qf,"__esModule",{value:!0}),qf.FlipRight=void 0;const t=ao();let e=class extends t.Flip{constructor(r={}){super(Object.assign({xRotation:"0",yRotation:"180"},r))}};return qf.FlipRight=e,qf}var Gf={},Ek;function Cse(){if(Ek)return Gf;Ek=1,Object.defineProperty(Gf,"__esModule",{value:!0}),Gf.FlipUp=void 0;const t=ao();let e=class extends t.Flip{constructor(r={}){super(Object.assign({xRotation:"180",yRotation:"0"},r))}};return Gf.FlipUp=e,Gf}var Hf={},Pk;function _se(){if(Pk)return Hf;Pk=1,Object.defineProperty(Hf,"__esModule",{value:!0}),Hf.FlipUpLeft=void 0;const t=ao();let e=class extends t.Flip{constructor(r={}){super(Object.assign({xRotation:"90",yRotation:"-90"},r))}};return Hf.FlipUpLeft=e,Hf}var Kf={},Nk;function Tse(){if(Nk)return Kf;Nk=1,Object.defineProperty(Kf,"__esModule",{value:!0}),Kf.FlipUpRight=void 0;const t=ao();let e=class extends t.Flip{constructor(r={}){super(Object.assign({xRotation:"90",yRotation:"90"},r))}};return Kf.FlipUpRight=e,Kf}var Yf={},jk;function ki(){if(jk)return Yf;jk=1,Object.defineProperty(Yf,"__esModule",{value:!0}),Yf.Pan=void 0;const t=Dr();let e=class extends t.AnimationBase{constructor(r={}){super(r),this.type="pan"}};return Yf.Pan=e,Yf}var Jf={},Rk;function Ese(){if(Rk)return Jf;Rk=1,Object.defineProperty(Jf,"__esModule",{value:!0}),Jf.PanCenter=void 0;const t=ki();let e=class extends t.Pan{constructor(r={}){super(Object.assign({scope:"element",startX:"50%",startY:"50%",endX:"50%",endY:"50%"},r))}};return Jf.PanCenter=e,Jf}var Xf={},Ak;function Pse(){if(Ak)return Xf;Ak=1,Object.defineProperty(Xf,"__esModule",{value:!0}),Xf.PanDown=void 0;const t=ki();let e=class extends t.Pan{constructor(r={}){super(Object.assign({scope:"element",startX:"50%",startY:"100%",endX:"50%",endY:"0%"},r))}};return Xf.PanDown=e,Xf}var Qf={},kk;function Nse(){if(kk)return Qf;kk=1,Object.defineProperty(Qf,"__esModule",{value:!0}),Qf.PanDownWithZoom=void 0;const t=ki();let e=class extends t.Pan{constructor(r={}){super(Object.assign({scope:"element",startX:"50%",startY:"0%",startScale:"100%",endX:"50%",endY:"100%",endScale:"150%"},r))}};return Qf.PanDownWithZoom=e,Qf}var Zf={},Ik;function jse(){if(Ik)return Zf;Ik=1,Object.defineProperty(Zf,"__esModule",{value:!0}),Zf.PanLeft=void 0;const t=ki();let e=class extends t.Pan{constructor(r={}){super(Object.assign({scope:"element",startX:"100%",startY:"50%",endX:"0%",endY:"50%"},r))}};return Zf.PanLeft=e,Zf}var eh={},Mk;function Rse(){if(Mk)return eh;Mk=1,Object.defineProperty(eh,"__esModule",{value:!0}),eh.PanLeftDown=void 0;const t=ki();let e=class extends t.Pan{constructor(r={}){super(Object.assign({scope:"element",startX:"100%",startY:"0%",endX:"0%",endY:"100%"},r))}};return eh.PanLeftDown=e,eh}var th={},Dk;function Ase(){if(Dk)return th;Dk=1,Object.defineProperty(th,"__esModule",{value:!0}),th.PanLeftUp=void 0;const t=ki();let e=class extends t.Pan{constructor(r={}){super(Object.assign({scope:"element",startX:"100%",startY:"100%",endX:"0%",endY:"0%"},r))}};return th.PanLeftUp=e,th}var nh={},Lk;function kse(){if(Lk)return nh;Lk=1,Object.defineProperty(nh,"__esModule",{value:!0}),nh.PanLeftWithZoom=void 0;const t=ki();let e=class extends t.Pan{constructor(r={}){super(Object.assign({scope:"element",startX:"100%",startY:"50%",startScale:"100%",endX:"0%",endY:"50%",endScale:"150%"},r))}};return nh.PanLeftWithZoom=e,nh}var rh={},Ok;function Ise(){if(Ok)return rh;Ok=1,Object.defineProperty(rh,"__esModule",{value:!0}),rh.PanRight=void 0;const t=ki();let e=class extends t.Pan{constructor(r={}){super(Object.assign({scope:"element",startX:"0%",startY:"50%",endX:"100%",endY:"50%"},r))}};return rh.PanRight=e,rh}var ih={},$k;function Mse(){if($k)return ih;$k=1,Object.defineProperty(ih,"__esModule",{value:!0}),ih.PanRightDown=void 0;const t=ki();let e=class extends t.Pan{constructor(r={}){super(Object.assign({scope:"element",startX:"0%",startY:"0%",endX:"100%",endY:"100%"},r))}};return ih.PanRightDown=e,ih}var sh={},Fk;function Dse(){if(Fk)return sh;Fk=1,Object.defineProperty(sh,"__esModule",{value:!0}),sh.PanRightUp=void 0;const t=ki();let e=class extends t.Pan{constructor(r={}){super(Object.assign({scope:"element",startX:"0%",startY:"100%",endX:"100%",endY:"0%"},r))}};return sh.PanRightUp=e,sh}var oh={},Bk;function Lse(){if(Bk)return oh;Bk=1,Object.defineProperty(oh,"__esModule",{value:!0}),oh.PanRightWithZoom=void 0;const t=ki();let e=class extends t.Pan{constructor(r={}){super(Object.assign({scope:"element",startX:"0%",startY:"50%",startScale:"100%",endX:"100%",endY:"50%",endScale:"150%"},r))}};return oh.PanRightWithZoom=e,oh}var ah={},Uk;function Ose(){if(Uk)return ah;Uk=1,Object.defineProperty(ah,"__esModule",{value:!0}),ah.PanUp=void 0;const t=ki();let e=class extends t.Pan{constructor(r={}){super(Object.assign({scope:"element",startX:"50%",startY:"100%",endX:"50%",endY:"0%"},r))}};return ah.PanUp=e,ah}var lh={},Vk;function $se(){if(Vk)return lh;Vk=1,Object.defineProperty(lh,"__esModule",{value:!0}),lh.PanUpWithZoom=void 0;const t=ki();let e=class extends t.Pan{constructor(r={}){super(Object.assign({scope:"element",startX:"50%",startY:"100%",startScale:"100%",endX:"50%",endY:"0%",endScale:"150%"},r))}};return lh.PanUpWithZoom=e,lh}var ch={},zk;function ty(){if(zk)return ch;zk=1,Object.defineProperty(ch,"__esModule",{value:!0}),ch.RotateSlide=void 0;const t=Dr();let e=class extends t.AnimationBase{constructor(r={}){super(r),this.type="rotate-slide"}};return ch.RotateSlide=e,ch}var uh={},Wk;function Fse(){if(Wk)return uh;Wk=1,Object.defineProperty(uh,"__esModule",{value:!0}),uh.RotateSlideDown=void 0;const t=ty();let e=class extends t.RotateSlide{constructor(r={}){super(Object.assign({direction:"down"},r))}};return uh.RotateSlideDown=e,uh}var dh={},qk;function Bse(){if(qk)return dh;qk=1,Object.defineProperty(dh,"__esModule",{value:!0}),dh.RotateSlideLeft=void 0;const t=ty();let e=class extends t.RotateSlide{constructor(r={}){super(Object.assign({direction:"left"},r))}};return dh.RotateSlideLeft=e,dh}var fh={},Gk;function Use(){if(Gk)return fh;Gk=1,Object.defineProperty(fh,"__esModule",{value:!0}),fh.RotateSlideRight=void 0;const t=ty();let e=class extends t.RotateSlide{constructor(r={}){super(Object.assign({direction:"right"},r))}};return fh.RotateSlideRight=e,fh}var hh={},Hk;function Vse(){if(Hk)return hh;Hk=1,Object.defineProperty(hh,"__esModule",{value:!0}),hh.RotateSlideUp=void 0;const t=ty();let e=class extends t.RotateSlide{constructor(r={}){super(Object.assign({direction:"up"},r))}};return hh.RotateSlideUp=e,hh}var ph={},Kk;function Ii(){if(Kk)return ph;Kk=1,Object.defineProperty(ph,"__esModule",{value:!0}),ph.Scale=void 0;const t=Dr();let e=class extends t.AnimationBase{constructor(r={}){super(r),this.type="scale"}};return ph.Scale=e,ph}var mh={},Yk;function zse(){if(Yk)return mh;Yk=1,Object.defineProperty(mh,"__esModule",{value:!0}),mh.ScaleDown=void 0;const t=Ii();let e=class extends t.Scale{constructor(r={}){super(Object.assign({xAnchor:"50%",yAnchor:"0%"},r))}};return mh.ScaleDown=e,mh}var gh={},Jk;function Wse(){if(Jk)return gh;Jk=1,Object.defineProperty(gh,"__esModule",{value:!0}),gh.ScaleLarger=void 0;const t=Ii();let e=class extends t.Scale{constructor(r={}){super(Object.assign({startScale:"100%",endScale:"150%"},r))}};return gh.ScaleLarger=e,gh}var yh={},Xk;function qse(){if(Xk)return yh;Xk=1,Object.defineProperty(yh,"__esModule",{value:!0}),yh.ScaleLeft=void 0;const t=Ii();let e=class extends t.Scale{constructor(r={}){super(Object.assign({xAnchor:"100%",yAnchor:"50%"},r))}};return yh.ScaleLeft=e,yh}var xh={},Qk;function Gse(){if(Qk)return xh;Qk=1,Object.defineProperty(xh,"__esModule",{value:!0}),xh.ScaleLeftDown=void 0;const t=Ii();let e=class extends t.Scale{constructor(r={}){super(Object.assign({xAnchor:"100%",yAnchor:"0%"},r))}};return xh.ScaleLeftDown=e,xh}var vh={},Zk;function Hse(){if(Zk)return vh;Zk=1,Object.defineProperty(vh,"__esModule",{value:!0}),vh.ScaleLeftUp=void 0;const t=Ii();let e=class extends t.Scale{constructor(r={}){super(Object.assign({xAnchor:"100%",yAnchor:"100%"},r))}};return vh.ScaleLeftUp=e,vh}var wh={},eI;function Kse(){if(eI)return wh;eI=1,Object.defineProperty(wh,"__esModule",{value:!0}),wh.ScaleRight=void 0;const t=Ii();let e=class extends t.Scale{constructor(r={}){super(Object.assign({xAnchor:"0%",yAnchor:"50%"},r))}};return wh.ScaleRight=e,wh}var Sh={},tI;function Yse(){if(tI)return Sh;tI=1,Object.defineProperty(Sh,"__esModule",{value:!0}),Sh.ScaleRightDown=void 0;const t=Ii();let e=class extends t.Scale{constructor(r={}){super(Object.assign({xAnchor:"0%",yAnchor:"0%"},r))}};return Sh.ScaleRightDown=e,Sh}var bh={},nI;function Jse(){if(nI)return bh;nI=1,Object.defineProperty(bh,"__esModule",{value:!0}),bh.ScaleRightUp=void 0;const t=Ii();let e=class extends t.Scale{constructor(r={}){super(Object.assign({xAnchor:"0%",yAnchor:"100%"},r))}};return bh.ScaleRightUp=e,bh}var Ch={},rI;function Xse(){if(rI)return Ch;rI=1,Object.defineProperty(Ch,"__esModule",{value:!0}),Ch.ScaleUp=void 0;const t=Ii();let e=class extends t.Scale{constructor(r={}){super(Object.assign({xAnchor:"50%",yAnchor:"100%"},r))}};return Ch.ScaleUp=e,Ch}var _h={},iI;function Qse(){if(iI)return _h;iI=1,Object.defineProperty(_h,"__esModule",{value:!0}),_h.ScaleXAxisLeft=void 0;const t=Ii();let e=class extends t.Scale{constructor(r={}){super(Object.assign({xAnchor:"100%",yAnchor:"50%",axis:"x"},r))}};return _h.ScaleXAxisLeft=e,_h}var Th={},sI;function Zse(){if(sI)return Th;sI=1,Object.defineProperty(Th,"__esModule",{value:!0}),Th.ScaleXAxisRight=void 0;const t=Ii();let e=class extends t.Scale{constructor(r={}){super(Object.assign({xAnchor:"0%",yAnchor:"50%",axis:"x"},r))}};return Th.ScaleXAxisRight=e,Th}var Eh={},oI;function eoe(){if(oI)return Eh;oI=1,Object.defineProperty(Eh,"__esModule",{value:!0}),Eh.ScaleYAxisDown=void 0;const t=Ii();let e=class extends t.Scale{constructor(r={}){super(Object.assign({xAnchor:"50%",yAnchor:"0%",axis:"y"},r))}};return Eh.ScaleYAxisDown=e,Eh}var Ph={},aI;function toe(){if(aI)return Ph;aI=1,Object.defineProperty(Ph,"__esModule",{value:!0}),Ph.ScaleYAxisUp=void 0;const t=Ii();let e=class extends t.Scale{constructor(r={}){super(Object.assign({xAnchor:"50%",yAnchor:"100%",axis:"y"},r))}};return Ph.ScaleYAxisUp=e,Ph}var Nh={},jh={},lI;function ny(){if(lI)return jh;lI=1,Object.defineProperty(jh,"__esModule",{value:!0}),jh.Shake=void 0;const t=Dr();let e=class extends t.AnimationBase{constructor(r={}){super(r),this.type="shake"}};return jh.Shake=e,jh}var cI;function noe(){if(cI)return Nh;cI=1,Object.defineProperty(Nh,"__esModule",{value:!0}),Nh.Shake45=void 0;const t=ny();let e=class extends t.Shake{constructor(r={}){super(Object.assign({direction:"45"},r))}};return Nh.Shake45=e,Nh}var Rh={},uI;function roe(){if(uI)return Rh;uI=1,Object.defineProperty(Rh,"__esModule",{value:!0}),Rh.Shake135=void 0;const t=ny();let e=class extends t.Shake{constructor(r={}){super(Object.assign({direction:"135"},r))}};return Rh.Shake135=e,Rh}var Ah={},dI;function ioe(){if(dI)return Ah;dI=1,Object.defineProperty(Ah,"__esModule",{value:!0}),Ah.ShakeHorizontally=void 0;const t=ny();let e=class extends t.Shake{constructor(r={}){super(Object.assign({direction:"0"},r))}};return Ah.ShakeHorizontally=e,Ah}var kh={},fI;function soe(){if(fI)return kh;fI=1,Object.defineProperty(kh,"__esModule",{value:!0}),kh.ShakeVertically=void 0;const t=ny();let e=class extends t.Shake{constructor(r={}){super(Object.assign({direction:"90"},r))}};return kh.ShakeVertically=e,kh}var Ih={},hI;function ry(){if(hI)return Ih;hI=1,Object.defineProperty(Ih,"__esModule",{value:!0}),Ih.Shift=void 0;const t=Dr();let e=class extends t.AnimationBase{constructor(r={}){super(r),this.type="shift"}};return Ih.Shift=e,Ih}var Mh={},pI;function ooe(){if(pI)return Mh;pI=1,Object.defineProperty(Mh,"__esModule",{value:!0}),Mh.ShiftDown=void 0;const t=ry();let e=class extends t.Shift{constructor(r={}){super(Object.assign({direction:"down"},r))}};return Mh.ShiftDown=e,Mh}var Dh={},mI;function aoe(){if(mI)return Dh;mI=1,Object.defineProperty(Dh,"__esModule",{value:!0}),Dh.ShiftLeft=void 0;const t=ry();let e=class extends t.Shift{constructor(r={}){super(Object.assign({direction:"left"},r))}};return Dh.ShiftLeft=e,Dh}var Lh={},gI;function loe(){if(gI)return Lh;gI=1,Object.defineProperty(Lh,"__esModule",{value:!0}),Lh.ShiftRight=void 0;const t=ry();let e=class extends t.Shift{constructor(r={}){super(Object.assign({direction:"right"},r))}};return Lh.ShiftRight=e,Lh}var Oh={},yI;function coe(){if(yI)return Oh;yI=1,Object.defineProperty(Oh,"__esModule",{value:!0}),Oh.ShiftUp=void 0;const t=ry();let e=class extends t.Shift{constructor(r={}){super(Object.assign({direction:"up"},r))}};return Oh.ShiftUp=e,Oh}var $h={},xI;function Uo(){if(xI)return $h;xI=1,Object.defineProperty($h,"__esModule",{value:!0}),$h.Slide=void 0;const t=Dr();let e=class extends t.AnimationBase{constructor(r={}){super(r),this.type="slide"}};return $h.Slide=e,$h}var Fh={},vI;function uoe(){if(vI)return Fh;vI=1,Object.defineProperty(Fh,"__esModule",{value:!0}),Fh.SlideDown=void 0;const t=Uo();let e=class extends t.Slide{constructor(r={}){super(Object.assign({direction:"270"},r))}};return Fh.SlideDown=e,Fh}var Bh={},wI;function doe(){if(wI)return Bh;wI=1,Object.defineProperty(Bh,"__esModule",{value:!0}),Bh.SlideLeft=void 0;const t=Uo();let e=class extends t.Slide{constructor(r={}){super(Object.assign({direction:"180"},r))}};return Bh.SlideLeft=e,Bh}var Uh={},SI;function foe(){if(SI)return Uh;SI=1,Object.defineProperty(Uh,"__esModule",{value:!0}),Uh.SlideLeftDown=void 0;const t=Uo();let e=class extends t.Slide{constructor(r={}){super(Object.assign({direction:"225"},r))}};return Uh.SlideLeftDown=e,Uh}var Vh={},bI;function hoe(){if(bI)return Vh;bI=1,Object.defineProperty(Vh,"__esModule",{value:!0}),Vh.SlideLeftUp=void 0;const t=Uo();let e=class extends t.Slide{constructor(r={}){super(Object.assign({direction:"135"},r))}};return Vh.SlideLeftUp=e,Vh}var zh={},CI;function poe(){if(CI)return zh;CI=1,Object.defineProperty(zh,"__esModule",{value:!0}),zh.SlideRight=void 0;const t=Uo();let e=class extends t.Slide{constructor(r={}){super(Object.assign({direction:"0"},r))}};return zh.SlideRight=e,zh}var Wh={},_I;function moe(){if(_I)return Wh;_I=1,Object.defineProperty(Wh,"__esModule",{value:!0}),Wh.SlideRightDown=void 0;const t=Uo();let e=class extends t.Slide{constructor(r={}){super(Object.assign({direction:"315"},r))}};return Wh.SlideRightDown=e,Wh}var qh={},TI;function goe(){if(TI)return qh;TI=1,Object.defineProperty(qh,"__esModule",{value:!0}),qh.SlideRightUp=void 0;const t=Uo();let e=class extends t.Slide{constructor(r={}){super(Object.assign({direction:"45"},r))}};return qh.SlideRightUp=e,qh}var Gh={},EI;function yoe(){if(EI)return Gh;EI=1,Object.defineProperty(Gh,"__esModule",{value:!0}),Gh.SlideUp=void 0;const t=Uo();let e=class extends t.Slide{constructor(r={}){super(Object.assign({direction:"90"},r))}};return Gh.SlideUp=e,Gh}var Hh={},PI;function iy(){if(PI)return Hh;PI=1,Object.defineProperty(Hh,"__esModule",{value:!0}),Hh.Spin=void 0;const t=Dr();let e=class extends t.AnimationBase{constructor(r={}){super(r),this.type="spin"}};return Hh.Spin=e,Hh}var Kh={},NI;function xoe(){if(NI)return Kh;NI=1,Object.defineProperty(Kh,"__esModule",{value:!0}),Kh.SpinClockwise=void 0;const t=iy();let e=class extends t.Spin{constructor(r={}){super(Object.assign({rotation:"360"},r))}};return Kh.SpinClockwise=e,Kh}var Yh={},jI;function voe(){if(jI)return Yh;jI=1,Object.defineProperty(Yh,"__esModule",{value:!0}),Yh.SpinCounterclockwise=void 0;const t=iy();let e=class extends t.Spin{constructor(r={}){super(Object.assign({rotation:"-360"},r))}};return Yh.SpinCounterclockwise=e,Yh}var Jh={},RI;function woe(){if(RI)return Jh;RI=1,Object.defineProperty(Jh,"__esModule",{value:!0}),Jh.SpinHingeLeft=void 0;const t=iy();let e=class extends t.Spin{constructor(r={}){super(Object.assign({scope:"composition",rotation:"-22.5",xAnchor:"0%",yAnchor:"50%"},r))}};return Jh.SpinHingeLeft=e,Jh}var Xh={},AI;function Soe(){if(AI)return Xh;AI=1,Object.defineProperty(Xh,"__esModule",{value:!0}),Xh.SpinHingeRight=void 0;const t=iy();let e=class extends t.Spin{constructor(r={}){super(Object.assign({scope:"composition",rotation:"22.5",xAnchor:"100%",yAnchor:"50%"},r))}};return Xh.SpinHingeRight=e,Xh}var Qh={},kI;function sy(){if(kI)return Qh;kI=1,Object.defineProperty(Qh,"__esModule",{value:!0}),Qh.Squash=void 0;const t=Dr();let e=class extends t.AnimationBase{constructor(r={}){super(r),this.type="squash"}};return Qh.Squash=e,Qh}var Zh={},II;function boe(){if(II)return Zh;II=1,Object.defineProperty(Zh,"__esModule",{value:!0}),Zh.SquashDown=void 0;const t=sy();let e=class extends t.Squash{constructor(r={}){super(Object.assign({direction:"down"},r))}};return Zh.SquashDown=e,Zh}var ep={},MI;function Coe(){if(MI)return ep;MI=1,Object.defineProperty(ep,"__esModule",{value:!0}),ep.SquashLeft=void 0;const t=sy();let e=class extends t.Squash{constructor(r={}){super(Object.assign({direction:"left"},r))}};return ep.SquashLeft=e,ep}var tp={},DI;function _oe(){if(DI)return tp;DI=1,Object.defineProperty(tp,"__esModule",{value:!0}),tp.SquashRight=void 0;const t=sy();let e=class extends t.Squash{constructor(r={}){super(Object.assign({direction:"right"},r))}};return tp.SquashRight=e,tp}var np={},LI;function Toe(){if(LI)return np;LI=1,Object.defineProperty(np,"__esModule",{value:!0}),np.SquashUp=void 0;const t=sy();let e=class extends t.Squash{constructor(r={}){super(Object.assign({direction:"up"},r))}};return np.SquashUp=e,np}var rp={},ip={},OI;function lo(){if(OI)return ip;OI=1,Object.defineProperty(ip,"__esModule",{value:!0}),ip.TextAnimationBase=void 0;const t=Dr();let e=class extends t.AnimationBase{};return ip.TextAnimationBase=e,ip}var $I;function co(){if($I)return rp;$I=1,Object.defineProperty(rp,"__esModule",{value:!0}),rp.TextAppear=void 0;const t=lo();let e=class extends t.TextAnimationBase{constructor(r={}){super(r),this.type="text-appear"}};return rp.TextAppear=e,rp}var sp={},FI;function Eoe(){if(FI)return sp;FI=1,Object.defineProperty(sp,"__esModule",{value:!0}),sp.TextAppearLetterByLetter=void 0;const t=co();let e=class extends t.TextAppear{constructor(r={}){super(Object.assign({split:"letter"},r))}};return sp.TextAppearLetterByLetter=e,sp}var op={},BI;function Poe(){if(BI)return op;BI=1,Object.defineProperty(op,"__esModule",{value:!0}),op.TextAppearLetterByLetterHighlighting=void 0;const t=co();let e=class extends t.TextAppear{constructor(r={}){super(Object.assign({split:"letter",startOpacity:"20%"},r))}};return op.TextAppearLetterByLetterHighlighting=e,op}var ap={},UI;function Noe(){if(UI)return ap;UI=1,Object.defineProperty(ap,"__esModule",{value:!0}),ap.TextAppearLetterByLetterRandomly=void 0;const t=co();let e=class extends t.TextAppear{constructor(r={}){super(Object.assign({split:"letter",order:"random"},r))}};return ap.TextAppearLetterByLetterRandomly=e,ap}var lp={},VI;function joe(){if(VI)return lp;VI=1,Object.defineProperty(lp,"__esModule",{value:!0}),lp.TextAppearLineByLine=void 0;const t=co();let e=class extends t.TextAppear{constructor(r={}){super(Object.assign({split:"line"},r))}};return lp.TextAppearLineByLine=e,lp}var cp={},zI;function Roe(){if(zI)return cp;zI=1,Object.defineProperty(cp,"__esModule",{value:!0}),cp.TextAppearLineByLineHighlighting=void 0;const t=co();let e=class extends t.TextAppear{constructor(r={}){super(Object.assign({split:"line",startOpacity:"20%"},r))}};return cp.TextAppearLineByLineHighlighting=e,cp}var up={},WI;function Aoe(){if(WI)return up;WI=1,Object.defineProperty(up,"__esModule",{value:!0}),up.TextAppearLineByLineRandomly=void 0;const t=co();let e=class extends t.TextAppear{constructor(r={}){super(Object.assign({split:"line",order:"random"},r))}};return up.TextAppearLineByLineRandomly=e,up}var dp={},qI;function koe(){if(qI)return dp;qI=1,Object.defineProperty(dp,"__esModule",{value:!0}),dp.TextAppearWordByWord=void 0;const t=co();let e=class extends t.TextAppear{constructor(r={}){super(Object.assign({split:"word"},r))}};return dp.TextAppearWordByWord=e,dp}var fp={},GI;function Ioe(){if(GI)return fp;GI=1,Object.defineProperty(fp,"__esModule",{value:!0}),fp.TextAppearWordByWordHighlighting=void 0;const t=co();let e=class extends t.TextAppear{constructor(r={}){super(Object.assign({split:"word",startOpacity:"20%"},r))}};return fp.TextAppearWordByWordHighlighting=e,fp}var hp={},HI;function Moe(){if(HI)return hp;HI=1,Object.defineProperty(hp,"__esModule",{value:!0}),hp.TextAppearWordByWordRandomly=void 0;const t=co();let e=class extends t.TextAppear{constructor(r={}){super(Object.assign({split:"word",order:"random"},r))}};return hp.TextAppearWordByWordRandomly=e,hp}var pp={},mp={},KI;function wT(){if(KI)return mp;KI=1,Object.defineProperty(mp,"__esModule",{value:!0}),mp.TextCounter=void 0;const t=lo();let e=class extends t.TextAnimationBase{constructor(r={}){super(r),this.type="text-counter"}};return mp.TextCounter=e,mp}var YI;function Doe(){if(YI)return pp;YI=1,Object.defineProperty(pp,"__esModule",{value:!0}),pp.TextCountDown=void 0;const t=wT();let e=class extends t.TextCounter{constructor(r={}){super(Object.assign({direction:"down"},r))}};return pp.TextCountDown=e,pp}var gp={},JI;function Loe(){if(JI)return gp;JI=1,Object.defineProperty(gp,"__esModule",{value:!0}),gp.TextCountUp=void 0;const t=wT();let e=class extends t.TextCounter{constructor(r={}){super(Object.assign({direction:"up"},r))}};return gp.TextCountUp=e,gp}var yp={},XI;function U0(){if(XI)return yp;XI=1,Object.defineProperty(yp,"__esModule",{value:!0}),yp.TextFly=void 0;const t=lo();let e=class extends t.TextAnimationBase{constructor(r={}){super(r),this.type="text-fly"}};return yp.TextFly=e,yp}var xp={},QI;function Ooe(){if(QI)return xp;QI=1,Object.defineProperty(xp,"__esModule",{value:!0}),xp.TextFlyInLetterByLetter=void 0;const t=U0();let e=class extends t.TextFly{constructor(r={}){super(Object.assign({split:"letter"},r))}};return xp.TextFlyInLetterByLetter=e,xp}var vp={},ZI;function $oe(){if(ZI)return vp;ZI=1,Object.defineProperty(vp,"__esModule",{value:!0}),vp.TextFlyInLineByLine=void 0;const t=U0();let e=class extends t.TextFly{constructor(r={}){super(Object.assign({split:"line"},r))}};return vp.TextFlyInLineByLine=e,vp}var wp={},e4;function Foe(){if(e4)return wp;e4=1,Object.defineProperty(wp,"__esModule",{value:!0}),wp.TextFlyInWordByWord=void 0;const t=U0();let e=class extends t.TextFly{constructor(r={}){super(Object.assign({split:"word"},r))}};return wp.TextFlyInWordByWord=e,wp}var Sp={},t4;function Ka(){if(t4)return Sp;t4=1,Object.defineProperty(Sp,"__esModule",{value:!0}),Sp.TextReveal=void 0;const t=lo();let e=class extends t.TextAnimationBase{constructor(r={}){super(r),this.type="text-reveal"}};return Sp.TextReveal=e,Sp}var bp={},n4;function Boe(){if(n4)return bp;n4=1,Object.defineProperty(bp,"__esModule",{value:!0}),bp.TextRevealCenter=void 0;const t=Ka();let e=class extends t.TextReveal{constructor(r={}){super(Object.assign({split:"line"},r))}};return bp.TextRevealCenter=e,bp}var Cp={},r4;function Uoe(){if(r4)return Cp;r4=1,Object.defineProperty(Cp,"__esModule",{value:!0}),Cp.TextRevealCenterHorizontal=void 0;const t=Ka();let e=class extends t.TextReveal{constructor(r={}){super(Object.assign({split:"line",axis:"x"},r))}};return Cp.TextRevealCenterHorizontal=e,Cp}var _p={},i4;function Voe(){if(i4)return _p;i4=1,Object.defineProperty(_p,"__esModule",{value:!0}),_p.TextRevealCenterVertical=void 0;const t=Ka();let e=class extends t.TextReveal{constructor(r={}){super(Object.assign({split:"line",axis:"y"},r))}};return _p.TextRevealCenterVertical=e,_p}var Tp={},s4;function zoe(){if(s4)return Tp;s4=1,Object.defineProperty(Tp,"__esModule",{value:!0}),Tp.TextRevealDown=void 0;const t=Ka();let e=class extends t.TextReveal{constructor(r={}){super(Object.assign({split:"line",axis:"y",yAnchor:"0%"},r))}};return Tp.TextRevealDown=e,Tp}var Ep={},o4;function Woe(){if(o4)return Ep;o4=1,Object.defineProperty(Ep,"__esModule",{value:!0}),Ep.TextRevealLeft=void 0;const t=Ka();let e=class extends t.TextReveal{constructor(r={}){super(Object.assign({split:"line",axis:"x",xAnchor:"100%"},r))}};return Ep.TextRevealLeft=e,Ep}var Pp={},a4;function qoe(){if(a4)return Pp;a4=1,Object.defineProperty(Pp,"__esModule",{value:!0}),Pp.TextRevealRight=void 0;const t=Ka();let e=class extends t.TextReveal{constructor(r={}){super(Object.assign({split:"line",axis:"x",xAnchor:"0%"},r))}};return Pp.TextRevealRight=e,Pp}var Np={},l4;function Goe(){if(l4)return Np;l4=1,Object.defineProperty(Np,"__esModule",{value:!0}),Np.TextRevealUp=void 0;const t=Ka();let e=class extends t.TextReveal{constructor(r={}){super(Object.assign({split:"line",axis:"y",yAnchor:"100%"},r))}};return Np.TextRevealUp=e,Np}var jp={},c4;function Ya(){if(c4)return jp;c4=1,Object.defineProperty(jp,"__esModule",{value:!0}),jp.TextScale=void 0;const t=lo();let e=class extends t.TextAnimationBase{constructor(r={}){super(r),this.type="text-scale"}};return jp.TextScale=e,jp}var Rp={},u4;function Hoe(){if(u4)return Rp;u4=1,Object.defineProperty(Rp,"__esModule",{value:!0}),Rp.TextScaleCenter=void 0;const t=Ya();let e=class extends t.TextScale{constructor(r={}){super(Object.assign({split:"line"},r))}};return Rp.TextScaleCenter=e,Rp}var Ap={},d4;function Koe(){if(d4)return Ap;d4=1,Object.defineProperty(Ap,"__esModule",{value:!0}),Ap.TextScaleCenterHorizontal=void 0;const t=Ya();let e=class extends t.TextScale{constructor(r={}){super(Object.assign({split:"line",axis:"x"},r))}};return Ap.TextScaleCenterHorizontal=e,Ap}var kp={},f4;function Yoe(){if(f4)return kp;f4=1,Object.defineProperty(kp,"__esModule",{value:!0}),kp.TextScaleCenterVertical=void 0;const t=Ya();let e=class extends t.TextScale{constructor(r={}){super(Object.assign({split:"line",axis:"y"},r))}};return kp.TextScaleCenterVertical=e,kp}var Ip={},h4;function Joe(){if(h4)return Ip;h4=1,Object.defineProperty(Ip,"__esModule",{value:!0}),Ip.TextScaleDown=void 0;const t=Ya();let e=class extends t.TextScale{constructor(r={}){super(Object.assign({split:"line",axis:"y",yAnchor:"0%"},r))}};return Ip.TextScaleDown=e,Ip}var Mp={},p4;function Xoe(){if(p4)return Mp;p4=1,Object.defineProperty(Mp,"__esModule",{value:!0}),Mp.TextScaleLeft=void 0;const t=Ya();let e=class extends t.TextScale{constructor(r={}){super(Object.assign({split:"line",axis:"x",xAnchor:"100%"},r))}};return Mp.TextScaleLeft=e,Mp}var Dp={},m4;function Qoe(){if(m4)return Dp;m4=1,Object.defineProperty(Dp,"__esModule",{value:!0}),Dp.TextScaleRight=void 0;const t=Ya();let e=class extends t.TextScale{constructor(r={}){super(Object.assign({split:"line",axis:"x",xAnchor:"0%"},r))}};return Dp.TextScaleRight=e,Dp}var Lp={},g4;function Zoe(){if(g4)return Lp;g4=1,Object.defineProperty(Lp,"__esModule",{value:!0}),Lp.TextScaleUp=void 0;const t=Ya();let e=class extends t.TextScale{constructor(r={}){super(Object.assign({split:"line",axis:"y",yAnchor:"100%"},r))}};return Lp.TextScaleUp=e,Lp}var Op={},y4;function Gn(){if(y4)return Op;y4=1,Object.defineProperty(Op,"__esModule",{value:!0}),Op.TextSlide=void 0;const t=lo();let e=class extends t.TextAnimationBase{constructor(r={}){super(r),this.type="text-slide"}};return Op.TextSlide=e,Op}var $p={},x4;function eae(){if(x4)return $p;x4=1,Object.defineProperty($p,"__esModule",{value:!0}),$p.TextSlideDownLetterByLetter=void 0;const t=Gn();let e=class extends t.TextSlide{constructor(r={}){super(Object.assign({direction:"down",split:"letter",scope:"element",distance:"200%",backgroundEffect:"disabled"},r))}};return $p.TextSlideDownLetterByLetter=e,$p}var Fp={},v4;function tae(){if(v4)return Fp;v4=1,Object.defineProperty(Fp,"__esModule",{value:!0}),Fp.TextSlideDownLetterByLetterClipped=void 0;const t=Gn();let e=class extends t.TextSlide{constructor(r={}){super(Object.assign({direction:"down",split:"letter",scope:"split-clip"},r))}};return Fp.TextSlideDownLetterByLetterClipped=e,Fp}var Bp={},w4;function nae(){if(w4)return Bp;w4=1,Object.defineProperty(Bp,"__esModule",{value:!0}),Bp.TextSlideDownLineByLine=void 0;const t=Gn();let e=class extends t.TextSlide{constructor(r={}){super(Object.assign({direction:"down",split:"line",scope:"element",distance:"200%",backgroundEffect:"disabled"},r))}};return Bp.TextSlideDownLineByLine=e,Bp}var Up={},S4;function rae(){if(S4)return Up;S4=1,Object.defineProperty(Up,"__esModule",{value:!0}),Up.TextSlideDownLineByLineClipped=void 0;const t=Gn();let e=class extends t.TextSlide{constructor(r={}){super(Object.assign({direction:"down",split:"line",scope:"split-clip"},r))}};return Up.TextSlideDownLineByLineClipped=e,Up}var Vp={},b4;function iae(){if(b4)return Vp;b4=1,Object.defineProperty(Vp,"__esModule",{value:!0}),Vp.TextSlideDownWordByWord=void 0;const t=Gn();let e=class extends t.TextSlide{constructor(r={}){super(Object.assign({direction:"down",split:"word",scope:"element",distance:"200%",backgroundEffect:"disabled"},r))}};return Vp.TextSlideDownWordByWord=e,Vp}var zp={},C4;function sae(){if(C4)return zp;C4=1,Object.defineProperty(zp,"__esModule",{value:!0}),zp.TextSlideDownWordByWordClipped=void 0;const t=Gn();let e=class extends t.TextSlide{constructor(r={}){super(Object.assign({direction:"down",split:"word",scope:"split-clip"},r))}};return zp.TextSlideDownWordByWordClipped=e,zp}var Wp={},_4;function oae(){if(_4)return Wp;_4=1,Object.defineProperty(Wp,"__esModule",{value:!0}),Wp.TextSlideLeftLetterByLetter=void 0;const t=Gn();let e=class extends t.TextSlide{constructor(r={}){super(Object.assign({direction:"left",split:"letter",scope:"element",distance:"200%",backgroundEffect:"disabled"},r))}};return Wp.TextSlideLeftLetterByLetter=e,Wp}var qp={},T4;function aae(){if(T4)return qp;T4=1,Object.defineProperty(qp,"__esModule",{value:!0}),qp.TextSlideLeftLetterByLetterClipped=void 0;const t=Gn();let e=class extends t.TextSlide{constructor(r={}){super(Object.assign({direction:"left",split:"letter",scope:"split-clip"},r))}};return qp.TextSlideLeftLetterByLetterClipped=e,qp}var Gp={},E4;function lae(){if(E4)return Gp;E4=1,Object.defineProperty(Gp,"__esModule",{value:!0}),Gp.TextSlideLeftLineByLine=void 0;const t=Gn();let e=class extends t.TextSlide{constructor(r={}){super(Object.assign({direction:"left",split:"line",scope:"element",distance:"200%",backgroundEffect:"disabled"},r))}};return Gp.TextSlideLeftLineByLine=e,Gp}var Hp={},P4;function cae(){if(P4)return Hp;P4=1,Object.defineProperty(Hp,"__esModule",{value:!0}),Hp.TextSlideLeftLineByLineClipped=void 0;const t=Gn();let e=class extends t.TextSlide{constructor(r={}){super(Object.assign({direction:"left",split:"line",scope:"split-clip"},r))}};return Hp.TextSlideLeftLineByLineClipped=e,Hp}var Kp={},N4;function uae(){if(N4)return Kp;N4=1,Object.defineProperty(Kp,"__esModule",{value:!0}),Kp.TextSlideLeftWordByWord=void 0;const t=Gn();let e=class extends t.TextSlide{constructor(r={}){super(Object.assign({direction:"left",split:"word",scope:"element",distance:"200%",backgroundEffect:"disabled"},r))}};return Kp.TextSlideLeftWordByWord=e,Kp}var Yp={},j4;function dae(){if(j4)return Yp;j4=1,Object.defineProperty(Yp,"__esModule",{value:!0}),Yp.TextSlideLeftWordByWordClipped=void 0;const t=Gn();let e=class extends t.TextSlide{constructor(r={}){super(Object.assign({direction:"left",split:"word",scope:"split-clip"},r))}};return Yp.TextSlideLeftWordByWordClipped=e,Yp}var Jp={},R4;function fae(){if(R4)return Jp;R4=1,Object.defineProperty(Jp,"__esModule",{value:!0}),Jp.TextSlideRightLetterByLetterClipped=void 0;const t=Gn();let e=class extends t.TextSlide{constructor(r={}){super(Object.assign({direction:"right",split:"letter",scope:"split-clip"},r))}};return Jp.TextSlideRightLetterByLetterClipped=e,Jp}var Xp={},A4;function hae(){if(A4)return Xp;A4=1,Object.defineProperty(Xp,"__esModule",{value:!0}),Xp.TextSlideRightLineByLine=void 0;const t=Gn();let e=class extends t.TextSlide{constructor(r={}){super(Object.assign({direction:"right",split:"line",scope:"element",distance:"200%",backgroundEffect:"disabled"},r))}};return Xp.TextSlideRightLineByLine=e,Xp}var Qp={},k4;function pae(){if(k4)return Qp;k4=1,Object.defineProperty(Qp,"__esModule",{value:!0}),Qp.TextSlideRightLineByLineClipped=void 0;const t=Gn();let e=class extends t.TextSlide{constructor(r={}){super(Object.assign({direction:"right",split:"line",scope:"split-clip"},r))}};return Qp.TextSlideRightLineByLineClipped=e,Qp}var Zp={},I4;function mae(){if(I4)return Zp;I4=1,Object.defineProperty(Zp,"__esModule",{value:!0}),Zp.TextSlideRightWordByWord=void 0;const t=Gn();let e=class extends t.TextSlide{constructor(r={}){super(Object.assign({direction:"right",split:"word",scope:"element",distance:"200%",backgroundEffect:"disabled"},r))}};return Zp.TextSlideRightWordByWord=e,Zp}var em={},M4;function gae(){if(M4)return em;M4=1,Object.defineProperty(em,"__esModule",{value:!0}),em.TextSlideRightWordByWordClipped=void 0;const t=Gn();let e=class extends t.TextSlide{constructor(r={}){super(Object.assign({direction:"right",split:"word",scope:"split-clip"},r))}};return em.TextSlideRightWordByWordClipped=e,em}var tm={},D4;function yae(){if(D4)return tm;D4=1,Object.defineProperty(tm,"__esModule",{value:!0}),tm.TextSlideUpLetterByLetter=void 0;const t=Gn();let e=class extends t.TextSlide{constructor(r={}){super(Object.assign({direction:"up",split:"letter",scope:"element",distance:"200%",backgroundEffect:"disabled"},r))}};return tm.TextSlideUpLetterByLetter=e,tm}var nm={},L4;function xae(){if(L4)return nm;L4=1,Object.defineProperty(nm,"__esModule",{value:!0}),nm.TextSlideUpLetterByLetterClipped=void 0;const t=Gn();let e=class extends t.TextSlide{constructor(r={}){super(Object.assign({direction:"up",split:"letter",scope:"split-clip"},r))}};return nm.TextSlideUpLetterByLetterClipped=e,nm}var rm={},O4;function vae(){if(O4)return rm;O4=1,Object.defineProperty(rm,"__esModule",{value:!0}),rm.TextSlideUpLineByLine=void 0;const t=Gn();let e=class extends t.TextSlide{constructor(r={}){super(Object.assign({direction:"up",split:"line",scope:"element",distance:"200%",backgroundEffect:"disabled"},r))}};return rm.TextSlideUpLineByLine=e,rm}var im={},$4;function wae(){if($4)return im;$4=1,Object.defineProperty(im,"__esModule",{value:!0}),im.TextSlideUpLineByLineClipped=void 0;const t=Gn();let e=class extends t.TextSlide{constructor(r={}){super(Object.assign({direction:"up",split:"line",scope:"split-clip"},r))}};return im.TextSlideUpLineByLineClipped=e,im}var sm={},F4;function Sae(){if(F4)return sm;F4=1,Object.defineProperty(sm,"__esModule",{value:!0}),sm.TextSlideUpWordByWord=void 0;const t=Gn();let e=class extends t.TextSlide{constructor(r={}){super(Object.assign({direction:"up",split:"word",scope:"element",distance:"200%",backgroundEffect:"disabled"},r))}};return sm.TextSlideUpWordByWord=e,sm}var om={},B4;function bae(){if(B4)return om;B4=1,Object.defineProperty(om,"__esModule",{value:!0}),om.TextSlideUpWordByWordClipped=void 0;const t=Gn();let e=class extends t.TextSlide{constructor(r={}){super(Object.assign({direction:"up",split:"word",scope:"split-clip"},r))}};return om.TextSlideUpWordByWordClipped=e,om}var am={},U4;function Ja(){if(U4)return am;U4=1,Object.defineProperty(am,"__esModule",{value:!0}),am.TextSpin=void 0;const t=lo();let e=class extends t.TextAnimationBase{constructor(r={}){super(r),this.type="text-spin"}};return am.TextSpin=e,am}var lm={},V4;function Cae(){if(V4)return lm;V4=1,Object.defineProperty(lm,"__esModule",{value:!0}),lm.TextSpinLetters=void 0;const t=Ja();let e=class extends t.TextSpin{constructor(r={}){super(Object.assign({split:"letter",distance:"0%",rotation:"360"},r))}};return lm.TextSpinLetters=e,lm}var cm={},z4;function _ae(){if(z4)return cm;z4=1,Object.defineProperty(cm,"__esModule",{value:!0}),cm.TextSpinLettersChaotic=void 0;const t=Ja();let e=class extends t.TextSpin{constructor(r={}){super(Object.assign({split:"letter",distance:"200%",direction:"down",easing:"elastic-out"},r))}};return cm.TextSpinLettersChaotic=e,cm}var um={},W4;function Tae(){if(W4)return um;W4=1,Object.defineProperty(um,"__esModule",{value:!0}),um.TextSpinLettersChaoticRandomly=void 0;const t=Ja();let e=class extends t.TextSpin{constructor(r={}){super(Object.assign({split:"letter",distance:"200%",direction:"down",easing:"elastic-out",order:"random"},r))}};return um.TextSpinLettersChaoticRandomly=e,um}var dm={},q4;function Eae(){if(q4)return dm;q4=1,Object.defineProperty(dm,"__esModule",{value:!0}),dm.TextSpinLettersDown=void 0;const t=Ja();let e=class extends t.TextSpin{constructor(r={}){super(Object.assign({split:"letter",direction:"down"},r))}};return dm.TextSpinLettersDown=e,dm}var fm={},G4;function Pae(){if(G4)return fm;G4=1,Object.defineProperty(fm,"__esModule",{value:!0}),fm.TextSpinLettersLeft=void 0;const t=Ja();let e=class extends t.TextSpin{constructor(r={}){super(Object.assign({split:"letter",direction:"left"},r))}};return fm.TextSpinLettersLeft=e,fm}var hm={},H4;function Nae(){if(H4)return hm;H4=1,Object.defineProperty(hm,"__esModule",{value:!0}),hm.TextSpinLettersRight=void 0;const t=Ja();let e=class extends t.TextSpin{constructor(r={}){super(Object.assign({split:"letter",direction:"right"},r))}};return hm.TextSpinLettersRight=e,hm}var pm={},K4;function jae(){if(K4)return pm;K4=1,Object.defineProperty(pm,"__esModule",{value:!0}),pm.TextSpinLettersUp=void 0;const t=Ja();let e=class extends t.TextSpin{constructor(r={}){super(Object.assign({split:"letter",direction:"up"},r))}};return pm.TextSpinLettersUp=e,pm}var mm={},Y4;function pF(){if(Y4)return mm;Y4=1,Object.defineProperty(mm,"__esModule",{value:!0}),mm.TextTypewriter=void 0;const t=lo();let e=class extends t.TextAnimationBase{constructor(r={}){super(r),this.type="text-typewriter"}};return mm.TextTypewriter=e,mm}var gm={},J4;function Rae(){if(J4)return gm;J4=1,Object.defineProperty(gm,"__esModule",{value:!0}),gm.TextTypewriterFixedDuration=void 0;const t=pF();let e=class extends t.TextTypewriter{constructor(r={}){super(Object.assign({typingStart:"0 s",typingDuration:"0.5 s"},r))}};return gm.TextTypewriterFixedDuration=e,gm}var ym={},X4;function ac(){if(X4)return ym;X4=1,Object.defineProperty(ym,"__esModule",{value:!0}),ym.TextWave=void 0;const t=lo();let e=class extends t.TextAnimationBase{constructor(r={}){super(r),this.type="text-wave"}};return ym.TextWave=e,ym}var xm={},Q4;function Aae(){if(Q4)return xm;Q4=1,Object.defineProperty(xm,"__esModule",{value:!0}),xm.TextWaveInLetterByLetter=void 0;const t=ac();let e=class extends t.TextWave{constructor(r={}){super(Object.assign({split:"letter",overlap:"50%"},r))}};return xm.TextWaveInLetterByLetter=e,xm}var vm={},Z4;function kae(){if(Z4)return vm;Z4=1,Object.defineProperty(vm,"__esModule",{value:!0}),vm.TextWaveInLetterByLetterAlternative=void 0;const t=ac();let e=class extends t.TextWave{constructor(r={}){super(Object.assign({split:"letter",overlap:"90%",frequency:"1 Hz"},r))}};return vm.TextWaveInLetterByLetterAlternative=e,vm}var wm={},eM;function Iae(){if(eM)return wm;eM=1,Object.defineProperty(wm,"__esModule",{value:!0}),wm.TextWaveInLetterByLetterRandomly=void 0;const t=ac();let e=class extends t.TextWave{constructor(r={}){super(Object.assign({split:"letter",order:"random"},r))}};return wm.TextWaveInLetterByLetterRandomly=e,wm}var Sm={},tM;function Mae(){if(tM)return Sm;tM=1,Object.defineProperty(Sm,"__esModule",{value:!0}),Sm.TextWaveInLineByLine=void 0;const t=ac();let e=class extends t.TextWave{constructor(r={}){super(Object.assign({split:"line",overlap:"50%"},r))}};return Sm.TextWaveInLineByLine=e,Sm}var bm={},nM;function Dae(){if(nM)return bm;nM=1,Object.defineProperty(bm,"__esModule",{value:!0}),bm.TextWaveInLongWavelength=void 0;const t=ac();let e=class extends t.TextWave{constructor(r={}){super(Object.assign({split:"letter",overlap:"90%",frequency:"1 Hz",wavelength:"500%"},r))}};return bm.TextWaveInLongWavelength=e,bm}var Cm={},rM;function Lae(){if(rM)return Cm;rM=1,Object.defineProperty(Cm,"__esModule",{value:!0}),Cm.TextWaveInWordByWord=void 0;const t=ac();let e=class extends t.TextWave{constructor(r={}){super(Object.assign({split:"word",overlap:"50%"},r))}};return Cm.TextWaveInWordByWord=e,Cm}var _m={},iM;function Oae(){if(iM)return _m;iM=1,Object.defineProperty(_m,"__esModule",{value:!0}),_m.Wiggle=void 0;const t=Dr();let e=class extends t.AnimationBase{constructor(r={}){super(r),this.type="wiggle"}};return _m.Wiggle=e,_m}var Tm={},sM;function Vo(){if(sM)return Tm;sM=1,Object.defineProperty(Tm,"__esModule",{value:!0}),Tm.Wipe=void 0;const t=Dr();let e=class extends t.AnimationBase{constructor(r={}){super(r),this.type="wipe"}};return Tm.Wipe=e,Tm}var Em={},oM;function $ae(){if(oM)return Em;oM=1,Object.defineProperty(Em,"__esModule",{value:!0}),Em.WipeDiagonal=void 0;const t=Vo();let e=class extends t.Wipe{constructor(r={}){super(Object.assign({startAngle:"45",endAngle:"45"},r))}};return Em.WipeDiagonal=e,Em}var Pm={},aM;function Fae(){if(aM)return Pm;aM=1,Object.defineProperty(Pm,"__esModule",{value:!0}),Pm.WipeDown=void 0;const t=Vo();let e=class extends t.Wipe{constructor(r={}){super(Object.assign({xAnchor:"0%",startAngle:"270",endAngle:"270"},r))}};return Pm.WipeDown=e,Pm}var Nm={},lM;function Bae(){if(lM)return Nm;lM=1,Object.defineProperty(Nm,"__esModule",{value:!0}),Nm.WipeLeft=void 0;const t=Vo();let e=class extends t.Wipe{constructor(r={}){super(Object.assign({xAnchor:"100%"},r))}};return Nm.WipeLeft=e,Nm}var jm={},cM;function Uae(){if(cM)return jm;cM=1,Object.defineProperty(jm,"__esModule",{value:!0}),jm.WipeRight=void 0;const t=Vo();let e=class extends t.Wipe{constructor(r={}){super(Object.assign({xAnchor:"0%"},r))}};return jm.WipeRight=e,jm}var Rm={},uM;function Vae(){if(uM)return Rm;uM=1,Object.defineProperty(Rm,"__esModule",{value:!0}),Rm.WipeRotating=void 0;const t=Vo();let e=class extends t.Wipe{constructor(r={}){super(Object.assign({xAnchor:"50%",startAngle:"90",endAngle:"0"},r))}};return Rm.WipeRotating=e,Rm}var Am={},dM;function zae(){if(dM)return Am;dM=1,Object.defineProperty(Am,"__esModule",{value:!0}),Am.WipeUp=void 0;const t=Vo();let e=class extends t.Wipe{constructor(r={}){super(Object.assign({xAnchor:"0%",startAngle:"90",endAngle:"90"},r))}};return Am.WipeUp=e,Am}var km={},fM;function Wae(){if(fM)return km;fM=1,Object.defineProperty(km,"__esModule",{value:!0}),km.WipeXAxisCenter=void 0;const t=Vo();let e=class extends t.Wipe{constructor(r={}){super(Object.assign({xAnchor:"50%",startAngle:"0",endAngle:"0"},r))}};return km.WipeXAxisCenter=e,km}var Im={},hM;function qae(){if(hM)return Im;hM=1,Object.defineProperty(Im,"__esModule",{value:!0}),Im.WipeYAxisCenter=void 0;const t=Vo();let e=class extends t.Wipe{constructor(r={}){super(Object.assign({xAnchor:"50%",startAngle:"90",endAngle:"90"},r))}};return Im.WipeYAxisCenter=e,Im}var pM;function Gae(){return pM||(pM=1,function(t){var e=_l&&_l.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s);var l=Object.getOwnPropertyDescriptor(i,s);(!l||("get"in l?!i.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(r,o,l)}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),n=_l&&_l.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(oc(),t),n(Xie(),t),n(Qie(),t),n(Zie(),t),n(ese(),t),n(tse(),t),n(nse(),t),n(Xu(),t),n(rse(),t),n(ise(),t),n(sse(),t),n(ose(),t),n(ase(),t),n(Zg(),t),n(lse(),t),n(cse(),t),n(use(),t),n(dse(),t),n(fse(),t),n(ey(),t),n(hse(),t),n(pse(),t),n(mse(),t),n(gse(),t),n(ao(),t),n(yse(),t),n(xse(),t),n(vse(),t),n(wse(),t),n(Sse(),t),n(bse(),t),n(Cse(),t),n(_se(),t),n(Tse(),t),n(ki(),t),n(Ese(),t),n(Pse(),t),n(Nse(),t),n(jse(),t),n(Rse(),t),n(Ase(),t),n(kse(),t),n(Ise(),t),n(Mse(),t),n(Dse(),t),n(Lse(),t),n(Ose(),t),n($se(),t),n(ty(),t),n(Fse(),t),n(Bse(),t),n(Use(),t),n(Vse(),t),n(Ii(),t),n(zse(),t),n(Wse(),t),n(qse(),t),n(Gse(),t),n(Hse(),t),n(Kse(),t),n(Yse(),t),n(Jse(),t),n(Xse(),t),n(Qse(),t),n(Zse(),t),n(eoe(),t),n(toe(),t),n(noe(),t),n(roe(),t),n(ny(),t),n(ioe(),t),n(soe(),t),n(ry(),t),n(ooe(),t),n(aoe(),t),n(loe(),t),n(coe(),t),n(Uo(),t),n(uoe(),t),n(doe(),t),n(foe(),t),n(hoe(),t),n(poe(),t),n(moe(),t),n(goe(),t),n(yoe(),t),n(iy(),t),n(xoe(),t),n(voe(),t),n(woe(),t),n(Soe(),t),n(sy(),t),n(boe(),t),n(Coe(),t),n(_oe(),t),n(Toe(),t),n(co(),t),n(Eoe(),t),n(Poe(),t),n(Noe(),t),n(joe(),t),n(Roe(),t),n(Aoe(),t),n(koe(),t),n(Ioe(),t),n(Moe(),t),n(Doe(),t),n(wT(),t),n(Loe(),t),n(U0(),t),n(Ooe(),t),n($oe(),t),n(Foe(),t),n(Ka(),t),n(Boe(),t),n(Uoe(),t),n(Voe(),t),n(zoe(),t),n(Woe(),t),n(qoe(),t),n(Goe(),t),n(Ya(),t),n(Hoe(),t),n(Koe(),t),n(Yoe(),t),n(Joe(),t),n(Xoe(),t),n(Qoe(),t),n(Zoe(),t),n(Gn(),t),n(eae(),t),n(tae(),t),n(nae(),t),n(rae(),t),n(iae(),t),n(sae(),t),n(oae(),t),n(aae(),t),n(lae(),t),n(cae(),t),n(uae(),t),n(dae(),t),n(fae(),t),n(hae(),t),n(pae(),t),n(mae(),t),n(gae(),t),n(yae(),t),n(xae(),t),n(vae(),t),n(wae(),t),n(Sae(),t),n(bae(),t),n(Ja(),t),n(Cae(),t),n(_ae(),t),n(Tae(),t),n(Eae(),t),n(Pae(),t),n(Nae(),t),n(jae(),t),n(pF(),t),n(Rae(),t),n(ac(),t),n(Aae(),t),n(kae(),t),n(Iae(),t),n(Mae(),t),n(Dae(),t),n(Lae(),t),n(Oae(),t),n(Vo(),t),n($ae(),t),n(Fae(),t),n(Bae(),t),n(Uae(),t),n(Vae(),t),n(zae(),t),n(Wae(),t),n(qae(),t),n(Dr(),t),n(lo(),t)}(_l)),_l}var Pl={},Mm={},Nl={},mM;function lc(){if(mM)return Nl;mM=1;var t=Nl&&Nl.__rest||function(r,i){var s={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&i.indexOf(o)<0&&(s[o]=r[o]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(r);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(r,o[l])&&(s[o[l]]=r[o[l]]);return s};Object.defineProperty(Nl,"__esModule",{value:!0}),Nl.ElementBase=void 0;const e=B0();let n=class{constructor(i){this.properties=i}toMap(){const i=this.properties,{transition:s,enter:o,exit:l,animations:u}=i,d=t(i,["transition","enter","exit","animations"]),h=Array.isArray(u)?[...u.filter(p=>typeof(p==null?void 0:p.toMap)=="function").map(p=>p.toMap())]:[];return s&&h.unshift(Object.assign(Object.assign({},s.toMap()),{time:"start",transition:!0})),o&&h.unshift(Object.assign(Object.assign({},o.toMap()),{time:"start"})),l&&h.push(Object.assign(Object.assign({},l.toMap()),{time:"end",reversed:!0})),(0,e.transformObjectKeys)(e.transformCamelToSnakeCase,Object.assign(Object.assign({type:this.type},(0,e.expandProperties)(d)),h.length>0?{animations:h}:{}))}};return Nl.ElementBase=n,Nl}var gM;function Hae(){if(gM)return Mm;gM=1,Object.defineProperty(Mm,"__esModule",{value:!0}),Mm.Audio=void 0;const t=lc();class e extends t.ElementBase{constructor(){super(...arguments),this.type="audio"}}return Mm.Audio=e,Mm}var Dm={},yM;function Kae(){if(yM)return Dm;yM=1,Object.defineProperty(Dm,"__esModule",{value:!0}),Dm.Composition=void 0;const t=lc();let e=class extends t.ElementBase{constructor(){super(...arguments),this.type="composition"}toMap(){var r;return Object.assign(Object.assign({},super.toMap()),{elements:(r=this.properties.elements)===null||r===void 0?void 0:r.map(i=>i instanceof t.ElementBase?i.toMap():i)})}};return Dm.Composition=e,Dm}var Lm={},Om={},xM;function ST(){if(xM)return Om;xM=1,Object.defineProperty(Om,"__esModule",{value:!0}),Om.Shape=void 0;const t=lc();let e=class extends t.ElementBase{constructor(){super(...arguments),this.type="shape"}};return Om.Shape=e,Om}var vM;function Yae(){if(vM)return Lm;vM=1,Object.defineProperty(Lm,"__esModule",{value:!0}),Lm.Ellipse=void 0;const t=ST();let e=class extends t.Shape{constructor(r){super(Object.assign({width:"100%",height:"100%",path:"M 50 0 C 77.61 0 100 22.39 100 50 C 100 77.61 77.61 100 50 100 C 22.39 100 0 77.61 0 50 C 0 22.39 22.39 0 50 0 Z"},r))}};return Lm.Ellipse=e,Lm}var $m={},wM;function Jae(){if(wM)return $m;wM=1,Object.defineProperty($m,"__esModule",{value:!0}),$m.Image=void 0;const t=lc();class e extends t.ElementBase{constructor(){super(...arguments),this.type="image"}}return $m.Image=e,$m}var Fm={},SM;function Xae(){if(SM)return Fm;SM=1,Object.defineProperty(Fm,"__esModule",{value:!0}),Fm.Rectangle=void 0;const t=ST();let e=class extends t.Shape{constructor(r){super(Object.assign({width:"100%",height:"100%",path:"M 0 0 L 100 0 L 100 100 L 0 100 L 0 0 Z"},r))}};return Fm.Rectangle=e,Fm}var Bm={},bM;function Qae(){if(bM)return Bm;bM=1,Object.defineProperty(Bm,"__esModule",{value:!0}),Bm.Text=void 0;const t=lc();let e=class extends t.ElementBase{constructor(){super(...arguments),this.type="text"}};return Bm.Text=e,Bm}var Um={},CM;function Zae(){if(CM)return Um;CM=1,Object.defineProperty(Um,"__esModule",{value:!0}),Um.Video=void 0;const t=lc();let e=class extends t.ElementBase{constructor(){super(...arguments),this.type="video"}};return Um.Video=e,Um}var _M;function mF(){return _M||(_M=1,function(t){var e=Pl&&Pl.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s);var l=Object.getOwnPropertyDescriptor(i,s);(!l||("get"in l?!i.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(r,o,l)}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),n=Pl&&Pl.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(Hae(),t),n(Kae(),t),n(lc(),t),n(Yae(),t),n(Jae(),t),n(Xae(),t),n(ST(),t),n(Qae(),t),n(Zae(),t)}(Pl)),Pl}var bo={};/*! Axios v1.9.0 Copyright (c) 2025 Matt Zabriskie and contributors */var VS,TM;function ele(){if(TM)return VS;TM=1;function t(k,D){return function(){return k.apply(D,arguments)}}const{toString:e}=Object.prototype,{getPrototypeOf:n}=Object,{iterator:r,toStringTag:i}=Symbol,s=(k=>D=>{const z=e.call(D);return k[z]||(k[z]=z.slice(8,-1).toLowerCase())})(Object.create(null)),o=k=>(k=k.toLowerCase(),D=>s(D)===k),l=k=>D=>typeof D===k,{isArray:u}=Array,d=l("undefined");function h(k){return k!==null&&!d(k)&&k.constructor!==null&&!d(k.constructor)&&b(k.constructor.isBuffer)&&k.constructor.isBuffer(k)}const p=o("ArrayBuffer");function g(k){let D;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?D=ArrayBuffer.isView(k):D=k&&k.buffer&&p(k.buffer),D}const y=l("string"),b=l("function"),C=l("number"),_=k=>k!==null&&typeof k=="object",P=k=>k===!0||k===!1,E=k=>{if(s(k)!=="object")return!1;const D=n(k);return(D===null||D===Object.prototype||Object.getPrototypeOf(D)===null)&&!(i in k)&&!(r in k)},j=o("Date"),R=o("File"),I=o("Blob"),M=o("FileList"),A=k=>_(k)&&b(k.pipe),$=k=>{let D;return k&&(typeof FormData=="function"&&k instanceof FormData||b(k.append)&&((D=s(k))==="formdata"||D==="object"&&b(k.toString)&&k.toString()==="[object FormData]"))},B=o("URLSearchParams"),[G,X,K,W]=["ReadableStream","Request","Response","Headers"].map(o),V=k=>k.trim?k.trim():k.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Y(k,D,{allOwnKeys:z=!1}={}){if(k===null||typeof k>"u")return;let q,se;if(typeof k!="object"&&(k=[k]),u(k))for(q=0,se=k.length;q<se;q++)D.call(null,k[q],q,k);else{const he=z?Object.getOwnPropertyNames(k):Object.keys(k),me=he.length;let Ae;for(q=0;q<me;q++)Ae=he[q],D.call(null,k[Ae],Ae,k)}}function ne(k,D){D=D.toLowerCase();const z=Object.keys(k);let q=z.length,se;for(;q-- >0;)if(se=z[q],D===se.toLowerCase())return se;return null}const ue=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:cV,oe=k=>!d(k)&&k!==ue;function ie(){const{caseless:k}=oe(this)&&this||{},D={},z=(q,se)=>{const he=k&&ne(D,se)||se;E(D[he])&&E(q)?D[he]=ie(D[he],q):E(q)?D[he]=ie({},q):u(q)?D[he]=q.slice():D[he]=q};for(let q=0,se=arguments.length;q<se;q++)arguments[q]&&Y(arguments[q],z);return D}const L=(k,D,z,{allOwnKeys:q}={})=>(Y(D,(se,he)=>{z&&b(se)?k[he]=t(se,z):k[he]=se},{allOwnKeys:q}),k),F=k=>(k.charCodeAt(0)===65279&&(k=k.slice(1)),k),Z=(k,D,z,q)=>{k.prototype=Object.create(D.prototype,q),k.prototype.constructor=k,Object.defineProperty(k,"super",{value:D.prototype}),z&&Object.assign(k.prototype,z)},U=(k,D,z,q)=>{let se,he,me;const Ae={};if(D=D||{},k==null)return D;do{for(se=Object.getOwnPropertyNames(k),he=se.length;he-- >0;)me=se[he],(!q||q(me,k,D))&&!Ae[me]&&(D[me]=k[me],Ae[me]=!0);k=z!==!1&&n(k)}while(k&&(!z||z(k,D))&&k!==Object.prototype);return D},Ne=(k,D,z)=>{k=String(k),(z===void 0||z>k.length)&&(z=k.length),z-=D.length;const q=k.indexOf(D,z);return q!==-1&&q===z},De=k=>{if(!k)return null;if(u(k))return k;let D=k.length;if(!C(D))return null;const z=new Array(D);for(;D-- >0;)z[D]=k[D];return z},je=(k=>D=>k&&D instanceof k)(typeof Uint8Array<"u"&&n(Uint8Array)),Te=(k,D)=>{const q=(k&&k[r]).call(k);let se;for(;(se=q.next())&&!se.done;){const he=se.value;D.call(k,he[0],he[1])}},Pe=(k,D)=>{let z;const q=[];for(;(z=k.exec(D))!==null;)q.push(z);return q},$e=o("HTMLFormElement"),He=k=>k.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(z,q,se){return q.toUpperCase()+se}),tt=(({hasOwnProperty:k})=>(D,z)=>k.call(D,z))(Object.prototype),nt=o("RegExp"),Tt=(k,D)=>{const z=Object.getOwnPropertyDescriptors(k),q={};Y(z,(se,he)=>{let me;(me=D(se,he,k))!==!1&&(q[he]=me||se)}),Object.defineProperties(k,q)},Bt=k=>{Tt(k,(D,z)=>{if(b(k)&&["arguments","caller","callee"].indexOf(z)!==-1)return!1;const q=k[z];if(b(q)){if(D.enumerable=!1,"writable"in D){D.writable=!1;return}D.set||(D.set=()=>{throw Error("Can not rewrite read-only method '"+z+"'")})}})},vn=(k,D)=>{const z={},q=se=>{se.forEach(he=>{z[he]=!0})};return u(k)?q(k):q(String(k).split(D)),z},Ut=()=>{},fn=(k,D)=>k!=null&&Number.isFinite(k=+k)?k:D;function wn(k){return!!(k&&b(k.append)&&k[i]==="FormData"&&k[r])}const xn=k=>{const D=new Array(10),z=(q,se)=>{if(_(q)){if(D.indexOf(q)>=0)return;if(!("toJSON"in q)){D[se]=q;const he=u(q)?[]:{};return Y(q,(me,Ae)=>{const dt=z(me,se+1);!d(dt)&&(he[Ae]=dt)}),D[se]=void 0,he}}return q};return z(k,0)},Zt=o("AsyncFunction"),un=k=>k&&(_(k)||b(k))&&b(k.then)&&b(k.catch),Hn=((k,D)=>k?setImmediate:D?((z,q)=>(ue.addEventListener("message",({source:se,data:he})=>{se===ue&&he===z&&q.length&&q.shift()()},!1),se=>{q.push(se),ue.postMessage(z,"*")}))(`axios@${Math.random()}`,[]):z=>setTimeout(z))(typeof setImmediate=="function",b(ue.postMessage)),Tn=typeof queueMicrotask<"u"?queueMicrotask.bind(ue):typeof process<"u"&&process.nextTick||Hn;var xe={isArray:u,isArrayBuffer:p,isBuffer:h,isFormData:$,isArrayBufferView:g,isString:y,isNumber:C,isBoolean:P,isObject:_,isPlainObject:E,isReadableStream:G,isRequest:X,isResponse:K,isHeaders:W,isUndefined:d,isDate:j,isFile:R,isBlob:I,isRegExp:nt,isFunction:b,isStream:A,isURLSearchParams:B,isTypedArray:je,isFileList:M,forEach:Y,merge:ie,extend:L,trim:V,stripBOM:F,inherits:Z,toFlatObject:U,kindOf:s,kindOfTest:o,endsWith:Ne,toArray:De,forEachEntry:Te,matchAll:Pe,isHTMLForm:$e,hasOwnProperty:tt,hasOwnProp:tt,reduceDescriptors:Tt,freezeMethods:Bt,toObjectSet:vn,toCamelCase:He,noop:Ut,toFiniteNumber:fn,findKey:ne,global:ue,isContextDefined:oe,isSpecCompliantForm:wn,toJSONObject:xn,isAsyncFn:Zt,isThenable:un,setImmediate:Hn,asap:Tn,isIterable:k=>k!=null&&b(k[r])};function fe(k,D,z,q,se){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=k,this.name="AxiosError",D&&(this.code=D),z&&(this.config=z),q&&(this.request=q),se&&(this.response=se,this.status=se.status?se.status:null)}xe.inherits(fe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:xe.toJSONObject(this.config),code:this.code,status:this.status}}});const ve=fe.prototype,Ie={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(k=>{Ie[k]={value:k}}),Object.defineProperties(fe,Ie),Object.defineProperty(ve,"isAxiosError",{value:!0}),fe.from=(k,D,z,q,se,he)=>{const me=Object.create(ve);return xe.toFlatObject(k,me,function(dt){return dt!==Error.prototype},Ae=>Ae!=="isAxiosError"),fe.call(me,k.message,D,z,q,se),me.cause=k,me.name=k.name,he&&Object.assign(me,he),me};var Ye=null;function it(k){return xe.isPlainObject(k)||xe.isArray(k)}function Vt(k){return xe.endsWith(k,"[]")?k.slice(0,-2):k}function Sn(k,D,z){return k?k.concat(D).map(function(se,he){return se=Vt(se),!z&&he?"["+se+"]":se}).join(z?".":""):D}function ye(k){return xe.isArray(k)&&!k.some(it)}const Ze=xe.toFlatObject(xe,{},null,function(D){return/^is[A-Z]/.test(D)});function ce(k,D,z){if(!xe.isObject(k))throw new TypeError("target must be an object");D=D||new FormData,z=xe.toFlatObject(z,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Gt,St){return!xe.isUndefined(St[Gt])});const q=z.metaTokens,se=z.visitor||ze,he=z.dots,me=z.indexes,dt=(z.Blob||typeof Blob<"u"&&Blob)&&xe.isSpecCompliantForm(D);if(!xe.isFunction(se))throw new TypeError("visitor must be a function");function Ve(wt){if(wt===null)return"";if(xe.isDate(wt))return wt.toISOString();if(!dt&&xe.isBlob(wt))throw new fe("Blob is not supported. Use a Buffer instead.");return xe.isArrayBuffer(wt)||xe.isTypedArray(wt)?dt&&typeof Blob=="function"?new Blob([wt]):Buffer.from(wt):wt}function ze(wt,Gt,St){let On=wt;if(wt&&!St&&typeof wt=="object"){if(xe.endsWith(Gt,"{}"))Gt=q?Gt:Gt.slice(0,-2),wt=JSON.stringify(wt);else if(xe.isArray(wt)&&ye(wt)||(xe.isFileList(wt)||xe.endsWith(Gt,"[]"))&&(On=xe.toArray(wt)))return Gt=Vt(Gt),On.forEach(function(dr,ps){!(xe.isUndefined(dr)||dr===null)&&D.append(me===!0?Sn([Gt],ps,he):me===null?Gt:Gt+"[]",Ve(dr))}),!1}return it(wt)?!0:(D.append(Sn(St,Gt,he),Ve(wt)),!1)}const pt=[],pn=Object.assign(Ze,{defaultVisitor:ze,convertValue:Ve,isVisitable:it});function tr(wt,Gt){if(!xe.isUndefined(wt)){if(pt.indexOf(wt)!==-1)throw Error("Circular reference detected in "+Gt.join("."));pt.push(wt),xe.forEach(wt,function(On,or){(!(xe.isUndefined(On)||On===null)&&se.call(D,On,xe.isString(or)?or.trim():or,Gt,pn))===!0&&tr(On,Gt?Gt.concat(or):[or])}),pt.pop()}}if(!xe.isObject(k))throw new TypeError("data must be an object");return tr(k),D}function Ce(k){const D={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(k).replace(/[!'()~]|%20|%00/g,function(q){return D[q]})}function Ee(k,D){this._pairs=[],k&&ce(k,this,D)}const _e=Ee.prototype;_e.append=function(D,z){this._pairs.push([D,z])},_e.toString=function(D){const z=D?function(q){return D.call(this,q,Ce)}:Ce;return this._pairs.map(function(se){return z(se[0])+"="+z(se[1])},"").join("&")};function Et(k){return encodeURIComponent(k).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function At(k,D,z){if(!D)return k;const q=z&&z.encode||Et;xe.isFunction(z)&&(z={serialize:z});const se=z&&z.serialize;let he;if(se?he=se(D,z):he=xe.isURLSearchParams(D)?D.toString():new Ee(D,z).toString(q),he){const me=k.indexOf("#");me!==-1&&(k=k.slice(0,me)),k+=(k.indexOf("?")===-1?"?":"&")+he}return k}class bt{constructor(){this.handlers=[]}use(D,z,q){return this.handlers.push({fulfilled:D,rejected:z,synchronous:q?q.synchronous:!1,runWhen:q?q.runWhen:null}),this.handlers.length-1}eject(D){this.handlers[D]&&(this.handlers[D]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(D){xe.forEach(this.handlers,function(q){q!==null&&D(q)})}}var ht=bt,qt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},sr=typeof URLSearchParams<"u"?URLSearchParams:Ee,ci=typeof FormData<"u"?FormData:null,qr=typeof Blob<"u"?Blob:null,yi={isBrowser:!0,classes:{URLSearchParams:sr,FormData:ci,Blob:qr},protocols:["http","https","file","blob","url","data"]};const en=typeof window<"u"&&typeof document<"u",Kn=typeof navigator=="object"&&navigator||void 0,Tr=en&&(!Kn||["ReactNative","NativeScript","NS"].indexOf(Kn.product)<0),ae=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",H=en&&window.location.href||"http://localhost";var J=Object.freeze({__proto__:null,hasBrowserEnv:en,hasStandardBrowserWebWorkerEnv:ae,hasStandardBrowserEnv:Tr,navigator:Kn,origin:H}),ee={...J,...yi};function pe(k,D){return ce(k,new ee.classes.URLSearchParams,Object.assign({visitor:function(z,q,se,he){return ee.isNode&&xe.isBuffer(z)?(this.append(q,z.toString("base64")),!1):he.defaultVisitor.apply(this,arguments)}},D))}function be(k){return xe.matchAll(/\w+|\[(\w*)]/g,k).map(D=>D[0]==="[]"?"":D[1]||D[0])}function Re(k){const D={},z=Object.keys(k);let q;const se=z.length;let he;for(q=0;q<se;q++)he=z[q],D[he]=k[he];return D}function Le(k){function D(z,q,se,he){let me=z[he++];if(me==="__proto__")return!0;const Ae=Number.isFinite(+me),dt=he>=z.length;return me=!me&&xe.isArray(se)?se.length:me,dt?(xe.hasOwnProp(se,me)?se[me]=[se[me],q]:se[me]=q,!Ae):((!se[me]||!xe.isObject(se[me]))&&(se[me]=[]),D(z,q,se[me],he)&&xe.isArray(se[me])&&(se[me]=Re(se[me])),!Ae)}if(xe.isFormData(k)&&xe.isFunction(k.entries)){const z={};return xe.forEachEntry(k,(q,se)=>{D(be(q),se,z,0)}),z}return null}function et(k,D,z){if(xe.isString(k))try{return(D||JSON.parse)(k),xe.trim(k)}catch(q){if(q.name!=="SyntaxError")throw q}return(z||JSON.stringify)(k)}const Ge={transitional:qt,adapter:["xhr","http","fetch"],transformRequest:[function(D,z){const q=z.getContentType()||"",se=q.indexOf("application/json")>-1,he=xe.isObject(D);if(he&&xe.isHTMLForm(D)&&(D=new FormData(D)),xe.isFormData(D))return se?JSON.stringify(Le(D)):D;if(xe.isArrayBuffer(D)||xe.isBuffer(D)||xe.isStream(D)||xe.isFile(D)||xe.isBlob(D)||xe.isReadableStream(D))return D;if(xe.isArrayBufferView(D))return D.buffer;if(xe.isURLSearchParams(D))return z.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),D.toString();let Ae;if(he){if(q.indexOf("application/x-www-form-urlencoded")>-1)return pe(D,this.formSerializer).toString();if((Ae=xe.isFileList(D))||q.indexOf("multipart/form-data")>-1){const dt=this.env&&this.env.FormData;return ce(Ae?{"files[]":D}:D,dt&&new dt,this.formSerializer)}}return he||se?(z.setContentType("application/json",!1),et(D)):D}],transformResponse:[function(D){const z=this.transitional||Ge.transitional,q=z&&z.forcedJSONParsing,se=this.responseType==="json";if(xe.isResponse(D)||xe.isReadableStream(D))return D;if(D&&xe.isString(D)&&(q&&!this.responseType||se)){const me=!(z&&z.silentJSONParsing)&&se;try{return JSON.parse(D)}catch(Ae){if(me)throw Ae.name==="SyntaxError"?fe.from(Ae,fe.ERR_BAD_RESPONSE,this,null,this.response):Ae}}return D}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ee.classes.FormData,Blob:ee.classes.Blob},validateStatus:function(D){return D>=200&&D<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};xe.forEach(["delete","get","head","post","put","patch"],k=>{Ge.headers[k]={}});var Ue=Ge;const lt=xe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var xt=k=>{const D={};let z,q,se;return k&&k.split(`
`).forEach(function(me){se=me.indexOf(":"),z=me.substring(0,se).trim().toLowerCase(),q=me.substring(se+1).trim(),!(!z||D[z]&&lt[z])&&(z==="set-cookie"?D[z]?D[z].push(q):D[z]=[q]:D[z]=D[z]?D[z]+", "+q:q)}),D};const Xt=Symbol("internals");function jt(k){return k&&String(k).trim().toLowerCase()}function Lt(k){return k===!1||k==null?k:xe.isArray(k)?k.map(Lt):String(k)}function Ot(k){const D=Object.create(null),z=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let q;for(;q=z.exec(k);)D[q[1]]=q[2];return D}const er=k=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(k.trim());function Nn(k,D,z,q,se){if(xe.isFunction(q))return q.call(this,D,z);if(se&&(D=z),!!xe.isString(D)){if(xe.isString(q))return D.indexOf(q)!==-1;if(xe.isRegExp(q))return q.test(D)}}function bn(k){return k.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(D,z,q)=>z.toUpperCase()+q)}function zt(k,D){const z=xe.toCamelCase(" "+D);["get","set","has"].forEach(q=>{Object.defineProperty(k,q+z,{value:function(se,he,me){return this[q].call(this,D,se,he,me)},configurable:!0})})}class xr{constructor(D){D&&this.set(D)}set(D,z,q){const se=this;function he(Ae,dt,Ve){const ze=jt(dt);if(!ze)throw new Error("header name must be a non-empty string");const pt=xe.findKey(se,ze);(!pt||se[pt]===void 0||Ve===!0||Ve===void 0&&se[pt]!==!1)&&(se[pt||dt]=Lt(Ae))}const me=(Ae,dt)=>xe.forEach(Ae,(Ve,ze)=>he(Ve,ze,dt));if(xe.isPlainObject(D)||D instanceof this.constructor)me(D,z);else if(xe.isString(D)&&(D=D.trim())&&!er(D))me(xt(D),z);else if(xe.isObject(D)&&xe.isIterable(D)){let Ae={},dt,Ve;for(const ze of D){if(!xe.isArray(ze))throw TypeError("Object iterator must return a key-value pair");Ae[Ve=ze[0]]=(dt=Ae[Ve])?xe.isArray(dt)?[...dt,ze[1]]:[dt,ze[1]]:ze[1]}me(Ae,z)}else D!=null&&he(z,D,q);return this}get(D,z){if(D=jt(D),D){const q=xe.findKey(this,D);if(q){const se=this[q];if(!z)return se;if(z===!0)return Ot(se);if(xe.isFunction(z))return z.call(this,se,q);if(xe.isRegExp(z))return z.exec(se);throw new TypeError("parser must be boolean|regexp|function")}}}has(D,z){if(D=jt(D),D){const q=xe.findKey(this,D);return!!(q&&this[q]!==void 0&&(!z||Nn(this,this[q],q,z)))}return!1}delete(D,z){const q=this;let se=!1;function he(me){if(me=jt(me),me){const Ae=xe.findKey(q,me);Ae&&(!z||Nn(q,q[Ae],Ae,z))&&(delete q[Ae],se=!0)}}return xe.isArray(D)?D.forEach(he):he(D),se}clear(D){const z=Object.keys(this);let q=z.length,se=!1;for(;q--;){const he=z[q];(!D||Nn(this,this[he],he,D,!0))&&(delete this[he],se=!0)}return se}normalize(D){const z=this,q={};return xe.forEach(this,(se,he)=>{const me=xe.findKey(q,he);if(me){z[me]=Lt(se),delete z[he];return}const Ae=D?bn(he):String(he).trim();Ae!==he&&delete z[he],z[Ae]=Lt(se),q[Ae]=!0}),this}concat(...D){return this.constructor.concat(this,...D)}toJSON(D){const z=Object.create(null);return xe.forEach(this,(q,se)=>{q!=null&&q!==!1&&(z[se]=D&&xe.isArray(q)?q.join(", "):q)}),z}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([D,z])=>D+": "+z).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(D){return D instanceof this?D:new this(D)}static concat(D,...z){const q=new this(D);return z.forEach(se=>q.set(se)),q}static accessor(D){const q=(this[Xt]=this[Xt]={accessors:{}}).accessors,se=this.prototype;function he(me){const Ae=jt(me);q[Ae]||(zt(se,me),q[Ae]=!0)}return xe.isArray(D)?D.forEach(he):he(D),this}}xr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),xe.reduceDescriptors(xr.prototype,({value:k},D)=>{let z=D[0].toUpperCase()+D.slice(1);return{get:()=>k,set(q){this[z]=q}}}),xe.freezeMethods(xr);var Cn=xr;function Gr(k,D){const z=this||Ue,q=D||z,se=Cn.from(q.headers);let he=q.data;return xe.forEach(k,function(Ae){he=Ae.call(z,he,se.normalize(),D?D.status:void 0)}),se.normalize(),he}function Hr(k){return!!(k&&k.__CANCEL__)}function Kr(k,D,z){fe.call(this,k??"canceled",fe.ERR_CANCELED,D,z),this.name="CanceledError"}xe.inherits(Kr,fe,{__CANCEL__:!0});function yt(k,D,z){const q=z.config.validateStatus;!z.status||!q||q(z.status)?k(z):D(new fe("Request failed with status code "+z.status,[fe.ERR_BAD_REQUEST,fe.ERR_BAD_RESPONSE][Math.floor(z.status/100)-4],z.config,z.request,z))}function on(k){const D=/^([-+\w]{1,25})(:?\/\/|:)/.exec(k);return D&&D[1]||""}function an(k,D){k=k||10;const z=new Array(k),q=new Array(k);let se=0,he=0,me;return D=D!==void 0?D:1e3,function(dt){const Ve=Date.now(),ze=q[he];me||(me=Ve),z[se]=dt,q[se]=Ve;let pt=he,pn=0;for(;pt!==se;)pn+=z[pt++],pt=pt%k;if(se=(se+1)%k,se===he&&(he=(he+1)%k),Ve-me<D)return;const tr=ze&&Ve-ze;return tr?Math.round(pn*1e3/tr):void 0}}function ur(k,D){let z=0,q=1e3/D,se,he;const me=(Ve,ze=Date.now())=>{z=ze,se=null,he&&(clearTimeout(he),he=null),k.apply(null,Ve)};return[(...Ve)=>{const ze=Date.now(),pt=ze-z;pt>=q?me(Ve,ze):(se=Ve,he||(he=setTimeout(()=>{he=null,me(se)},q-pt)))},()=>se&&me(se)]}const $t=(k,D,z=3)=>{let q=0;const se=an(50,250);return ur(he=>{const me=he.loaded,Ae=he.lengthComputable?he.total:void 0,dt=me-q,Ve=se(dt),ze=me<=Ae;q=me;const pt={loaded:me,total:Ae,progress:Ae?me/Ae:void 0,bytes:dt,rate:Ve||void 0,estimated:Ve&&Ae&&ze?(Ae-me)/Ve:void 0,event:he,lengthComputable:Ae!=null,[D?"download":"upload"]:!0};k(pt)},z)},Yr=(k,D)=>{const z=k!=null;return[q=>D[0]({lengthComputable:z,total:k,loaded:q}),D[1]]},Ms=k=>(...D)=>xe.asap(()=>k(...D));var qo=ee.hasStandardBrowserEnv?((k,D)=>z=>(z=new URL(z,ee.origin),k.protocol===z.protocol&&k.host===z.host&&(D||k.port===z.port)))(new URL(ee.origin),ee.navigator&&/(msie|trident)/i.test(ee.navigator.userAgent)):()=>!0,gc=ee.hasStandardBrowserEnv?{write(k,D,z,q,se,he){const me=[k+"="+encodeURIComponent(D)];xe.isNumber(z)&&me.push("expires="+new Date(z).toGMTString()),xe.isString(q)&&me.push("path="+q),xe.isString(se)&&me.push("domain="+se),he===!0&&me.push("secure"),document.cookie=me.join("; ")},read(k){const D=document.cookie.match(new RegExp("(^|;\\s*)("+k+")=([^;]*)"));return D?decodeURIComponent(D[3]):null},remove(k){this.write(k,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function yc(k){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(k)}function nl(k,D){return D?k.replace(/\/?\/$/,"")+"/"+D.replace(/^\/+/,""):k}function rl(k,D,z){let q=!yc(D);return k&&(q||z==!1)?nl(k,D):D}const wy=k=>k instanceof Cn?{...k}:k;function fo(k,D){D=D||{};const z={};function q(Ve,ze,pt,pn){return xe.isPlainObject(Ve)&&xe.isPlainObject(ze)?xe.merge.call({caseless:pn},Ve,ze):xe.isPlainObject(ze)?xe.merge({},ze):xe.isArray(ze)?ze.slice():ze}function se(Ve,ze,pt,pn){if(xe.isUndefined(ze)){if(!xe.isUndefined(Ve))return q(void 0,Ve,pt,pn)}else return q(Ve,ze,pt,pn)}function he(Ve,ze){if(!xe.isUndefined(ze))return q(void 0,ze)}function me(Ve,ze){if(xe.isUndefined(ze)){if(!xe.isUndefined(Ve))return q(void 0,Ve)}else return q(void 0,ze)}function Ae(Ve,ze,pt){if(pt in D)return q(Ve,ze);if(pt in k)return q(void 0,Ve)}const dt={url:he,method:he,data:he,baseURL:me,transformRequest:me,transformResponse:me,paramsSerializer:me,timeout:me,timeoutMessage:me,withCredentials:me,withXSRFToken:me,adapter:me,responseType:me,xsrfCookieName:me,xsrfHeaderName:me,onUploadProgress:me,onDownloadProgress:me,decompress:me,maxContentLength:me,maxBodyLength:me,beforeRedirect:me,transport:me,httpAgent:me,httpsAgent:me,cancelToken:me,socketPath:me,responseEncoding:me,validateStatus:Ae,headers:(Ve,ze,pt)=>se(wy(Ve),wy(ze),pt,!0)};return xe.forEach(Object.keys(Object.assign({},k,D)),function(ze){const pt=dt[ze]||se,pn=pt(k[ze],D[ze],ze);xe.isUndefined(pn)&&pt!==Ae||(z[ze]=pn)}),z}var xc=k=>{const D=fo({},k);let{data:z,withXSRFToken:q,xsrfHeaderName:se,xsrfCookieName:he,headers:me,auth:Ae}=D;D.headers=me=Cn.from(me),D.url=At(rl(D.baseURL,D.url,D.allowAbsoluteUrls),k.params,k.paramsSerializer),Ae&&me.set("Authorization","Basic "+btoa((Ae.username||"")+":"+(Ae.password?unescape(encodeURIComponent(Ae.password)):"")));let dt;if(xe.isFormData(z)){if(ee.hasStandardBrowserEnv||ee.hasStandardBrowserWebWorkerEnv)me.setContentType(void 0);else if((dt=me.getContentType())!==!1){const[Ve,...ze]=dt?dt.split(";").map(pt=>pt.trim()).filter(Boolean):[];me.setContentType([Ve||"multipart/form-data",...ze].join("; "))}}if(ee.hasStandardBrowserEnv&&(q&&xe.isFunction(q)&&(q=q(D)),q||q!==!1&&qo(D.url))){const Ve=se&&he&&gc.read(he);Ve&&me.set(se,Ve)}return D},cd=typeof XMLHttpRequest<"u"&&function(k){return new Promise(function(z,q){const se=xc(k);let he=se.data;const me=Cn.from(se.headers).normalize();let{responseType:Ae,onUploadProgress:dt,onDownloadProgress:Ve}=se,ze,pt,pn,tr,wt;function Gt(){tr&&tr(),wt&&wt(),se.cancelToken&&se.cancelToken.unsubscribe(ze),se.signal&&se.signal.removeEventListener("abort",ze)}let St=new XMLHttpRequest;St.open(se.method.toUpperCase(),se.url,!0),St.timeout=se.timeout;function On(){if(!St)return;const dr=Cn.from("getAllResponseHeaders"in St&&St.getAllResponseHeaders()),Jr={data:!Ae||Ae==="text"||Ae==="json"?St.responseText:St.response,status:St.status,statusText:St.statusText,headers:dr,config:k,request:St};yt(function(Fs){z(Fs),Gt()},function(Fs){q(Fs),Gt()},Jr),St=null}"onloadend"in St?St.onloadend=On:St.onreadystatechange=function(){!St||St.readyState!==4||St.status===0&&!(St.responseURL&&St.responseURL.indexOf("file:")===0)||setTimeout(On)},St.onabort=function(){St&&(q(new fe("Request aborted",fe.ECONNABORTED,k,St)),St=null)},St.onerror=function(){q(new fe("Network Error",fe.ERR_NETWORK,k,St)),St=null},St.ontimeout=function(){let ps=se.timeout?"timeout of "+se.timeout+"ms exceeded":"timeout exceeded";const Jr=se.transitional||qt;se.timeoutErrorMessage&&(ps=se.timeoutErrorMessage),q(new fe(ps,Jr.clarifyTimeoutError?fe.ETIMEDOUT:fe.ECONNABORTED,k,St)),St=null},he===void 0&&me.setContentType(null),"setRequestHeader"in St&&xe.forEach(me.toJSON(),function(ps,Jr){St.setRequestHeader(Jr,ps)}),xe.isUndefined(se.withCredentials)||(St.withCredentials=!!se.withCredentials),Ae&&Ae!=="json"&&(St.responseType=se.responseType),Ve&&([pn,wt]=$t(Ve,!0),St.addEventListener("progress",pn)),dt&&St.upload&&([pt,tr]=$t(dt),St.upload.addEventListener("progress",pt),St.upload.addEventListener("loadend",tr)),(se.cancelToken||se.signal)&&(ze=dr=>{St&&(q(!dr||dr.type?new Kr(null,k,St):dr),St.abort(),St=null)},se.cancelToken&&se.cancelToken.subscribe(ze),se.signal&&(se.signal.aborted?ze():se.signal.addEventListener("abort",ze)));const or=on(se.url);if(or&&ee.protocols.indexOf(or)===-1){q(new fe("Unsupported protocol "+or+":",fe.ERR_BAD_REQUEST,k));return}St.send(he||null)})},Sw=(k,D)=>{const{length:z}=k=k?k.filter(Boolean):[];if(D||z){let q=new AbortController,se;const he=function(Ve){if(!se){se=!0,Ae();const ze=Ve instanceof Error?Ve:this.reason;q.abort(ze instanceof fe?ze:new Kr(ze instanceof Error?ze.message:ze))}};let me=D&&setTimeout(()=>{me=null,he(new fe(`timeout ${D} of ms exceeded`,fe.ETIMEDOUT))},D);const Ae=()=>{k&&(me&&clearTimeout(me),me=null,k.forEach(Ve=>{Ve.unsubscribe?Ve.unsubscribe(he):Ve.removeEventListener("abort",he)}),k=null)};k.forEach(Ve=>Ve.addEventListener("abort",he));const{signal:dt}=q;return dt.unsubscribe=()=>xe.asap(Ae),dt}};const ud=function*(k,D){let z=k.byteLength;if(z<D){yield k;return}let q=0,se;for(;q<z;)se=q+D,yield k.slice(q,se),q=se},hn=async function*(k,D){for await(const z of Sy(k))yield*ud(z,D)},Sy=async function*(k){if(k[Symbol.asyncIterator]){yield*k;return}const D=k.getReader();try{for(;;){const{done:z,value:q}=await D.read();if(z)break;yield q}}finally{await D.cancel()}},dd=(k,D,z,q)=>{const se=hn(k,D);let he=0,me,Ae=dt=>{me||(me=!0,q&&q(dt))};return new ReadableStream({async pull(dt){try{const{done:Ve,value:ze}=await se.next();if(Ve){Ae(),dt.close();return}let pt=ze.byteLength;if(z){let pn=he+=pt;z(pn)}dt.enqueue(new Uint8Array(ze))}catch(Ve){throw Ae(Ve),Ve}},cancel(dt){return Ae(dt),se.return()}},{highWaterMark:2})},Go=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",fd=Go&&typeof ReadableStream=="function",by=Go&&(typeof TextEncoder=="function"?(k=>D=>k.encode(D))(new TextEncoder):async k=>new Uint8Array(await new Response(k).arrayBuffer())),hd=(k,...D)=>{try{return!!k(...D)}catch{return!1}},pd=fd&&hd(()=>{let k=!1;const D=new Request(ee.origin,{body:new ReadableStream,method:"POST",get duplex(){return k=!0,"half"}}).headers.has("Content-Type");return k&&!D}),il=64*1024,Ji=fd&&hd(()=>xe.isReadableStream(new Response("").body)),Di={stream:Ji&&(k=>k.body)};Go&&(k=>{["text","arrayBuffer","blob","formData","stream"].forEach(D=>{!Di[D]&&(Di[D]=xe.isFunction(k[D])?z=>z[D]():(z,q)=>{throw new fe(`Response type '${D}' is not supported`,fe.ERR_NOT_SUPPORT,q)})})})(new Response);const Ds=async k=>{if(k==null)return 0;if(xe.isBlob(k))return k.size;if(xe.isSpecCompliantForm(k))return(await new Request(ee.origin,{method:"POST",body:k}).arrayBuffer()).byteLength;if(xe.isArrayBufferView(k)||xe.isArrayBuffer(k))return k.byteLength;if(xe.isURLSearchParams(k)&&(k=k+""),xe.isString(k))return(await by(k)).byteLength},sl=async(k,D)=>{const z=xe.toFiniteNumber(k.getContentLength());return z??Ds(D)};var ol=Go&&(async k=>{let{url:D,method:z,data:q,signal:se,cancelToken:he,timeout:me,onDownloadProgress:Ae,onUploadProgress:dt,responseType:Ve,headers:ze,withCredentials:pt="same-origin",fetchOptions:pn}=xc(k);Ve=Ve?(Ve+"").toLowerCase():"text";let tr=Sw([se,he&&he.toAbortSignal()],me),wt;const Gt=tr&&tr.unsubscribe&&(()=>{tr.unsubscribe()});let St;try{if(dt&&pd&&z!=="get"&&z!=="head"&&(St=await sl(ze,q))!==0){let Jr=new Request(D,{method:"POST",body:q,duplex:"half"}),$s;if(xe.isFormData(q)&&($s=Jr.headers.get("content-type"))&&ze.setContentType($s),Jr.body){const[Fs,_c]=Yr(St,$t(Ms(dt)));q=dd(Jr.body,il,Fs,_c)}}xe.isString(pt)||(pt=pt?"include":"omit");const On="credentials"in Request.prototype;wt=new Request(D,{...pn,signal:tr,method:z.toUpperCase(),headers:ze.normalize().toJSON(),body:q,duplex:"half",credentials:On?pt:void 0});let or=await fetch(wt);const dr=Ji&&(Ve==="stream"||Ve==="response");if(Ji&&(Ae||dr&&Gt)){const Jr={};["status","statusText","headers"].forEach(Ey=>{Jr[Ey]=or[Ey]});const $s=xe.toFiniteNumber(or.headers.get("content-length")),[Fs,_c]=Ae&&Yr($s,$t(Ms(Ae),!0))||[];or=new Response(dd(or.body,il,Fs,()=>{_c&&_c(),Gt&&Gt()}),Jr)}Ve=Ve||"text";let ps=await Di[xe.findKey(Di,Ve)||"text"](or,k);return!dr&&Gt&&Gt(),await new Promise((Jr,$s)=>{yt(Jr,$s,{data:ps,headers:Cn.from(or.headers),status:or.status,statusText:or.statusText,config:k,request:wt})})}catch(On){throw Gt&&Gt(),On&&On.name==="TypeError"&&/Load failed|fetch/i.test(On.message)?Object.assign(new fe("Network Error",fe.ERR_NETWORK,k,wt),{cause:On.cause||On}):fe.from(On,On&&On.code,k,wt)}});const Xi={http:Ye,xhr:cd,fetch:ol};xe.forEach(Xi,(k,D)=>{if(k){try{Object.defineProperty(k,"name",{value:D})}catch{}Object.defineProperty(k,"adapterName",{value:D})}});const Cy=k=>`- ${k}`,_y=k=>xe.isFunction(k)||k===null||k===!1;var Ho={getAdapter:k=>{k=xe.isArray(k)?k:[k];const{length:D}=k;let z,q;const se={};for(let he=0;he<D;he++){z=k[he];let me;if(q=z,!_y(z)&&(q=Xi[(me=String(z)).toLowerCase()],q===void 0))throw new fe(`Unknown adapter '${me}'`);if(q)break;se[me||"#"+he]=q}if(!q){const he=Object.entries(se).map(([Ae,dt])=>`adapter ${Ae} `+(dt===!1?"is not supported by the environment":"is not available in the build"));let me=D?he.length>1?`since :
`+he.map(Cy).join(`
`):" "+Cy(he[0]):"as no adapter specified";throw new fe("There is no suitable adapter to dispatch the request "+me,"ERR_NOT_SUPPORT")}return q},adapters:Xi};function md(k){if(k.cancelToken&&k.cancelToken.throwIfRequested(),k.signal&&k.signal.aborted)throw new Kr(null,k)}function gd(k){return md(k),k.headers=Cn.from(k.headers),k.data=Gr.call(k,k.transformRequest),["post","put","patch"].indexOf(k.method)!==-1&&k.headers.setContentType("application/x-www-form-urlencoded",!1),Ho.getAdapter(k.adapter||Ue.adapter)(k).then(function(q){return md(k),q.data=Gr.call(k,k.transformResponse,q),q.headers=Cn.from(q.headers),q},function(q){return Hr(q)||(md(k),q&&q.response&&(q.response.data=Gr.call(k,k.transformResponse,q.response),q.response.headers=Cn.from(q.response.headers))),Promise.reject(q)})}const al="1.9.0",ll={};["object","boolean","number","function","string","symbol"].forEach((k,D)=>{ll[k]=function(q){return typeof q===k||"a"+(D<1?"n ":" ")+k}});const Ty={};ll.transitional=function(D,z,q){function se(he,me){return"[Axios v"+al+"] Transitional option '"+he+"'"+me+(q?". "+q:"")}return(he,me,Ae)=>{if(D===!1)throw new fe(se(me," has been removed"+(z?" in "+z:"")),fe.ERR_DEPRECATED);return z&&!Ty[me]&&(Ty[me]=!0,console.warn(se(me," has been deprecated since v"+z+" and will be removed in the near future"))),D?D(he,me,Ae):!0}},ll.spelling=function(D){return(z,q)=>(console.warn(`${q} is likely a misspelling of ${D}`),!0)};function cl(k,D,z){if(typeof k!="object")throw new fe("options must be an object",fe.ERR_BAD_OPTION_VALUE);const q=Object.keys(k);let se=q.length;for(;se-- >0;){const he=q[se],me=D[he];if(me){const Ae=k[he],dt=Ae===void 0||me(Ae,he,k);if(dt!==!0)throw new fe("option "+he+" must be "+dt,fe.ERR_BAD_OPTION_VALUE);continue}if(z!==!0)throw new fe("Unknown option "+he,fe.ERR_BAD_OPTION)}}var Ls={assertOptions:cl,validators:ll};const Lr=Ls.validators;class ho{constructor(D){this.defaults=D||{},this.interceptors={request:new ht,response:new ht}}async request(D,z){try{return await this._request(D,z)}catch(q){if(q instanceof Error){let se={};Error.captureStackTrace?Error.captureStackTrace(se):se=new Error;const he=se.stack?se.stack.replace(/^.+\n/,""):"";try{q.stack?he&&!String(q.stack).endsWith(he.replace(/^.+\n.+\n/,""))&&(q.stack+=`
`+he):q.stack=he}catch{}}throw q}}_request(D,z){typeof D=="string"?(z=z||{},z.url=D):z=D||{},z=fo(this.defaults,z);const{transitional:q,paramsSerializer:se,headers:he}=z;q!==void 0&&Ls.assertOptions(q,{silentJSONParsing:Lr.transitional(Lr.boolean),forcedJSONParsing:Lr.transitional(Lr.boolean),clarifyTimeoutError:Lr.transitional(Lr.boolean)},!1),se!=null&&(xe.isFunction(se)?z.paramsSerializer={serialize:se}:Ls.assertOptions(se,{encode:Lr.function,serialize:Lr.function},!0)),z.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?z.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:z.allowAbsoluteUrls=!0),Ls.assertOptions(z,{baseUrl:Lr.spelling("baseURL"),withXsrfToken:Lr.spelling("withXSRFToken")},!0),z.method=(z.method||this.defaults.method||"get").toLowerCase();let me=he&&xe.merge(he.common,he[z.method]);he&&xe.forEach(["delete","get","head","post","put","patch","common"],wt=>{delete he[wt]}),z.headers=Cn.concat(me,he);const Ae=[];let dt=!0;this.interceptors.request.forEach(function(Gt){typeof Gt.runWhen=="function"&&Gt.runWhen(z)===!1||(dt=dt&&Gt.synchronous,Ae.unshift(Gt.fulfilled,Gt.rejected))});const Ve=[];this.interceptors.response.forEach(function(Gt){Ve.push(Gt.fulfilled,Gt.rejected)});let ze,pt=0,pn;if(!dt){const wt=[gd.bind(this),void 0];for(wt.unshift.apply(wt,Ae),wt.push.apply(wt,Ve),pn=wt.length,ze=Promise.resolve(z);pt<pn;)ze=ze.then(wt[pt++],wt[pt++]);return ze}pn=Ae.length;let tr=z;for(pt=0;pt<pn;){const wt=Ae[pt++],Gt=Ae[pt++];try{tr=wt(tr)}catch(St){Gt.call(this,St);break}}try{ze=gd.call(this,tr)}catch(wt){return Promise.reject(wt)}for(pt=0,pn=Ve.length;pt<pn;)ze=ze.then(Ve[pt++],Ve[pt++]);return ze}getUri(D){D=fo(this.defaults,D);const z=rl(D.baseURL,D.url,D.allowAbsoluteUrls);return At(z,D.params,D.paramsSerializer)}}xe.forEach(["delete","get","head","options"],function(D){ho.prototype[D]=function(z,q){return this.request(fo(q||{},{method:D,url:z,data:(q||{}).data}))}}),xe.forEach(["post","put","patch"],function(D){function z(q){return function(he,me,Ae){return this.request(fo(Ae||{},{method:D,headers:q?{"Content-Type":"multipart/form-data"}:{},url:he,data:me}))}}ho.prototype[D]=z(),ho.prototype[D+"Form"]=z(!0)});var wc=ho;class yd{constructor(D){if(typeof D!="function")throw new TypeError("executor must be a function.");let z;this.promise=new Promise(function(he){z=he});const q=this;this.promise.then(se=>{if(!q._listeners)return;let he=q._listeners.length;for(;he-- >0;)q._listeners[he](se);q._listeners=null}),this.promise.then=se=>{let he;const me=new Promise(Ae=>{q.subscribe(Ae),he=Ae}).then(se);return me.cancel=function(){q.unsubscribe(he)},me},D(function(he,me,Ae){q.reason||(q.reason=new Kr(he,me,Ae),z(q.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(D){if(this.reason){D(this.reason);return}this._listeners?this._listeners.push(D):this._listeners=[D]}unsubscribe(D){if(!this._listeners)return;const z=this._listeners.indexOf(D);z!==-1&&this._listeners.splice(z,1)}toAbortSignal(){const D=new AbortController,z=q=>{D.abort(q)};return this.subscribe(z),D.signal.unsubscribe=()=>this.unsubscribe(z),D.signal}static source(){let D;return{token:new yd(function(se){D=se}),cancel:D}}}var xd=yd;function Sc(k){return function(z){return k.apply(null,z)}}function vd(k){return xe.isObject(k)&&k.isAxiosError===!0}const bc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(bc).forEach(([k,D])=>{bc[D]=k});var Os=bc;function Cc(k){const D=new wc(k),z=t(wc.prototype.request,D);return xe.extend(z,wc.prototype,D,{allOwnKeys:!0}),xe.extend(z,D,null,{allOwnKeys:!0}),z.create=function(se){return Cc(fo(k,se))},z}const Ln=Cc(Ue);return Ln.Axios=wc,Ln.CanceledError=Kr,Ln.CancelToken=xd,Ln.isCancel=Hr,Ln.VERSION=al,Ln.toFormData=ce,Ln.AxiosError=fe,Ln.Cancel=Ln.CanceledError,Ln.all=function(D){return Promise.all(D)},Ln.spread=Sc,Ln.isAxiosError=vd,Ln.mergeConfig=fo,Ln.AxiosHeaders=Cn,Ln.formToJSON=k=>Le(xe.isHTMLForm(k)?new FormData(k):k),Ln.getAdapter=Ho.getAdapter,Ln.HttpStatusCode=Os,Ln.default=Ln,VS=Ln,VS}const tle={},xC=Object.freeze(Object.defineProperty({__proto__:null,default:tle},Symbol.toStringTag,{value:"Module"})),nle=e3(xC);var Vm={},EM;function gF(){if(EM)return Vm;EM=1,Object.defineProperty(Vm,"__esModule",{value:!0}),Vm.Source=void 0;const t=mF(),e=B0();let n=class{constructor(i){this.properties=i}toMap(){var i;return(0,e.transformObjectKeys)(e.transformCamelToSnakeCase,Object.assign(Object.assign({},this.properties),{elements:(i=this.properties.elements)===null||i===void 0?void 0:i.map(s=>s instanceof t.ElementBase?s.toMap():s)}))}};return Vm.Source=n,Vm}var Fr={},PM;function yF(){if(PM)return Fr;PM=1,Object.defineProperty(Fr,"__esModule",{value:!0}),Fr.TimeoutError=Fr.ConnectionError=Fr.RateLimitExceededError=Fr.InsufficientCreditsError=Fr.InvalidApiKeyError=Fr.BadRequestError=Fr.CreatomateError=void 0;let t=class extends Error{};Fr.CreatomateError=t;class e extends t{}Fr.BadRequestError=e;class n extends t{}Fr.InvalidApiKeyError=n;class r extends t{}Fr.InsufficientCreditsError=r;class i extends t{}Fr.RateLimitExceededError=i;class s extends t{}Fr.ConnectionError=s;class o extends t{}return Fr.TimeoutError=o,Fr}var NM;function rle(){if(NM)return bo;NM=1;var t=bo&&bo.__awaiter||function(d,h,p,g){function y(b){return b instanceof p?b:new p(function(C){C(b)})}return new(p||(p=Promise))(function(b,C){function _(j){try{E(g.next(j))}catch(R){C(R)}}function P(j){try{E(g.throw(j))}catch(R){C(R)}}function E(j){j.done?b(j.value):y(j.value).then(_,P)}E((g=g.apply(d,h||[])).next())})},e=bo&&bo.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(bo,"__esModule",{value:!0}),bo.Client=void 0;const n=e(ele()),r=nle,i=gF(),s=yF(),o=B0(),l="1.2.1";let u=class{constructor(h){this.apiKey=h,this.httpClient=n.default.create({baseURL:"https://api.creatomate.com/v1",responseType:"json"})}render(h,p=900){return t(this,void 0,void 0,function*(){const g=yield this.startRender(h),y=r.performance.now();let b=[...g];const C=[],_=[];return yield new Promise((P,E)=>{const j=()=>t(this,void 0,void 0,function*(){_.length===0&&_.push(...b);const R=_.pop();if(!R){P();return}try{const I=yield this.fetchRender(R.id);I.status!=="planned"&&I.status!=="waiting"&&I.status!=="transcribing"&&I.status!=="rendering"&&(b=b.filter(({id:M})=>M!==R.id),C.push(I))}catch(I){E(I);return}if(b.length===0){P();return}if(r.performance.now()-y>=Math.min(p,3600)*1e3){E(new s.TimeoutError);return}setTimeout(j,2e3)});setTimeout(j,2e3)}),C})}startRender(h){return t(this,void 0,void 0,function*(){return(yield this.httpRequest("POST","/renders",Object.assign(Object.assign({},(0,o.transformObjectKeys)(o.transformCamelToSnakeCase,h)),h.source?{source:h.source instanceof i.Source?h.source.toMap():h.source}:{}))).data})}fetchRender(h){return t(this,void 0,void 0,function*(){const{data:p}=yield this.httpRequest("GET",`/renders/${h}`);return(0,o.transformObjectKeys)(o.transformSnakeToCamelCase,p)})}httpRequest(h,p,g){const y={Authorization:`Bearer ${this.apiKey}`,"User-Agent":`Creatomate-Node/${l}`};return this.httpClient.request({method:h,url:p,data:g,headers:y}).catch(b=>Promise.reject(this.transformError(b)))}transformError(h){var p,g,y,b;return h.response?h.response.status===400?new s.BadRequestError((g=(p=h.response)===null||p===void 0?void 0:p.data)===null||g===void 0?void 0:g.hint):h.response.status===401?new s.InvalidApiKeyError:h.response.status===402?new s.InsufficientCreditsError:h.response.status===429?new s.RateLimitExceededError:new s.CreatomateError((b=(y=h.response)===null||y===void 0?void 0:y.data)===null||b===void 0?void 0:b.hint):new s.ConnectionError}};return bo.Client=u,bo}var zS={},jM;function ile(){return jM||(jM=1,Object.defineProperty(zS,"__esModule",{value:!0})),zS}var WS={},RM;function sle(){return RM||(RM=1,Object.defineProperty(WS,"__esModule",{value:!0})),WS}var qS={},AM;function ole(){return AM||(AM=1,Object.defineProperty(qS,"__esModule",{value:!0})),qS}var GS={},kM;function ale(){return kM||(kM=1,Object.defineProperty(GS,"__esModule",{value:!0})),GS}var IM;function lle(){return IM||(IM=1,function(t){var e=Cl&&Cl.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s);var l=Object.getOwnPropertyDescriptor(i,s);(!l||("get"in l?!i.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(r,o,l)}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),n=Cl&&Cl.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(Gae(),t),n(mF(),t),n(hF(),t),n(rle(),t),n(yF(),t),n(ile(),t),n(sle(),t),n(ole(),t),n(ale(),t),n(gF(),t)}(Cl)),Cl}var cle=lle();const ule="d1641d1ed8804888b8d2fe324d55ec7a91e586191b2e1f188aaee334a773b804722c50c3f740e460049e0743f4bd2d25",dle="cdaca80d-b8aa-4b20-a693-223f5ef24f77",fle="d22afb81-612a-47da-9923-090afeac32a1";let Lg;Lg=new cle.Client(ule);async function hle(t){if(!Lg)throw new Error("Creatomate client is not initialized. Check API Key.");if(!t||t.length===0)throw new Error("Timeline items are required for the voiceover video.");t.length>4&&(console.warn("Voiceover template currently supports up to 4 items. Using the first 4."),t=t.slice(0,4));const e={};t.forEach((r,i)=>{const s=i+1;r.type==="image"?e[`Image-${s}.source`]=r.url:r.isVideo?(e[`Image-${s}.source`]="https://creatomate-static.s3.amazonaws.com/demo/transparent.png",console.warn(`Item ${s} is a video. Using placeholder image for Voiceover Slideshow. Caption will be used for voiceover.`)):e[`Image-${s}.source`]="https://creatomate-static.s3.amazonaws.com/demo/image1.jpg",e[`Voiceover-${s}.source`]=r.caption||""});for(let r=t.length+1;r<=4;r++)e[`Image-${r}.source`]="https://creatomate-static.s3.amazonaws.com/demo/transparent.png",e[`Voiceover-${r}.source`]="";const n={templateId:dle,modifications:e};console.log("Rendering with Creatomate SDK (Voiceover):",JSON.stringify(n,null,2));try{const r=await Lg.render(n);if(console.log("Creatomate SDK Response (Voiceover):",r),r&&r.length>0)return r[0];throw new Error("Creatomate SDK did not return render data for voiceover template.")}catch(r){throw console.error("Error rendering voiceover video with Creatomate SDK:",r),r}}async function ple(t,e={}){if(!Lg)throw new Error("Creatomate client is not initialized. Check API Key.");if(!t||!t.url)throw new Error("A product item with an image URL is required for the product showcase video.");t.type!=="image"&&t.isVideo&&console.warn("Product item for showcase is a video. This template expects an image for 'Product-Image.source'. Attempting to use video URL, but may fail or show first frame.");let n="Awesome Product",r="Check out this amazing product, now available!";if(t.caption){const o=t.caption.split("-");o.length>0&&(n=o[0].trim()),o.length>1&&(r=o.slice(1).join("-").trim())}n=t.name||n,r=t.description||r;const i={"Product-Image.source":t.url,"Product-Name.text":n,"Product-Description.text":r,"Normal-Price.text":t.normalPrice||"$ 109.99","Discounted-Price.text":t.discountedPrice||"$ 89.99","CTA.text":e.ctaText||"Follow us for more!","Website.text":e.websiteUrl||"www.example.com"},s={templateId:fle,modifications:i};console.log("Rendering with Creatomate SDK (Product Showcase):",JSON.stringify(s,null,2));try{const o=await Lg.render(s);if(console.log("Creatomate SDK Response (Product Showcase):",o),o&&o.length>0)return o[0];throw new Error("Creatomate SDK did not return render data for product showcase template.")}catch(o){throw console.error("Error rendering product showcase video with Creatomate SDK:",o),o}}const vC="RFC3986",wC={RFC1738:t=>String(t).replace(/%20/g,"+"),RFC3986:t=>String(t)},mle="RFC1738",gle=Array.isArray,Ws=(()=>{const t=[];for(let e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t})(),HS=1024,yle=(t,e,n,r,i)=>{if(t.length===0)return t;let s=t;if(typeof t=="symbol"?s=Symbol.prototype.toString.call(t):typeof t!="string"&&(s=String(t)),n==="iso-8859-1")return escape(s).replace(/%u[0-9a-f]{4}/gi,function(l){return"%26%23"+parseInt(l.slice(2),16)+"%3B"});let o="";for(let l=0;l<s.length;l+=HS){const u=s.length>=HS?s.slice(l,l+HS):s,d=[];for(let h=0;h<u.length;++h){let p=u.charCodeAt(h);if(p===45||p===46||p===95||p===126||p>=48&&p<=57||p>=65&&p<=90||p>=97&&p<=122||i===mle&&(p===40||p===41)){d[d.length]=u.charAt(h);continue}if(p<128){d[d.length]=Ws[p];continue}if(p<2048){d[d.length]=Ws[192|p>>6]+Ws[128|p&63];continue}if(p<55296||p>=57344){d[d.length]=Ws[224|p>>12]+Ws[128|p>>6&63]+Ws[128|p&63];continue}h+=1,p=65536+((p&1023)<<10|u.charCodeAt(h)&1023),d[d.length]=Ws[240|p>>18]+Ws[128|p>>12&63]+Ws[128|p>>6&63]+Ws[128|p&63]}o+=d.join("")}return o};function xle(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}function MM(t,e){if(gle(t)){const n=[];for(let r=0;r<t.length;r+=1)n.push(e(t[r]));return n}return e(t)}const vle=Object.prototype.hasOwnProperty,xF={brackets(t){return String(t)+"[]"},comma:"comma",indices(t,e){return String(t)+"["+e+"]"},repeat(t){return String(t)}},Hs=Array.isArray,wle=Array.prototype.push,vF=function(t,e){wle.apply(t,Hs(e)?e:[e])},Sle=Date.prototype.toISOString,br={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:yle,encodeValuesOnly:!1,format:vC,formatter:wC[vC],indices:!1,serializeDate(t){return Sle.call(t)},skipNulls:!1,strictNullHandling:!1};function ble(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"}const KS={};function wF(t,e,n,r,i,s,o,l,u,d,h,p,g,y,b,C,_,P){let E=t,j=P,R=0,I=!1;for(;(j=j.get(KS))!==void 0&&!I;){const G=j.get(t);if(R+=1,typeof G<"u"){if(G===R)throw new RangeError("Cyclic object value");I=!0}typeof j.get(KS)>"u"&&(R=0)}if(typeof d=="function"?E=d(e,E):E instanceof Date?E=g==null?void 0:g(E):n==="comma"&&Hs(E)&&(E=MM(E,function(G){return G instanceof Date?g==null?void 0:g(G):G})),E===null){if(s)return u&&!C?u(e,br.encoder,_,"key",y):e;E=""}if(ble(E)||xle(E)){if(u){const G=C?e:u(e,br.encoder,_,"key",y);return[(b==null?void 0:b(G))+"="+(b==null?void 0:b(u(E,br.encoder,_,"value",y)))]}return[(b==null?void 0:b(e))+"="+(b==null?void 0:b(String(E)))]}const M=[];if(typeof E>"u")return M;let A;if(n==="comma"&&Hs(E))C&&u&&(E=MM(E,u)),A=[{value:E.length>0?E.join(",")||null:void 0}];else if(Hs(d))A=d;else{const G=Object.keys(E);A=h?G.sort(h):G}const $=l?String(e).replace(/\./g,"%2E"):String(e),B=r&&Hs(E)&&E.length===1?$+"[]":$;if(i&&Hs(E)&&E.length===0)return B+"[]";for(let G=0;G<A.length;++G){const X=A[G],K=typeof X=="object"&&typeof X.value<"u"?X.value:E[X];if(o&&K===null)continue;const W=p&&l?X.replace(/\./g,"%2E"):X,V=Hs(E)?typeof n=="function"?n(B,W):B:B+(p?"."+W:"["+W+"]");P.set(t,R);const Y=new WeakMap;Y.set(KS,P),vF(M,wF(K,V,n,r,i,s,o,l,n==="comma"&&C&&Hs(E)?null:u,d,h,p,g,y,b,C,_,Y))}return M}function Cle(t=br){if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");const e=t.charset||br.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=vC;if(typeof t.format<"u"){if(!vle.call(wC,t.format))throw new TypeError("Unknown format option provided.");n=t.format}const r=wC[n];let i=br.filter;(typeof t.filter=="function"||Hs(t.filter))&&(i=t.filter);let s;if(t.arrayFormat&&t.arrayFormat in xF?s=t.arrayFormat:"indices"in t?s=t.indices?"indices":"repeat":s=br.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const o=typeof t.allowDots>"u"?t.encodeDotInKeys?!0:br.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:br.addQueryPrefix,allowDots:o,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:br.allowEmptyArrays,arrayFormat:s,charset:e,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:br.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?br.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:br.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:br.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:br.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:br.encodeValuesOnly,filter:i,format:n,formatter:r,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:br.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:br.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:br.strictNullHandling}}function _le(t,e={}){let n=t;const r=Cle(e);let i,s;typeof r.filter=="function"?(s=r.filter,n=s("",n)):Hs(r.filter)&&(s=r.filter,i=s);const o=[];if(typeof n!="object"||n===null)return"";const l=xF[r.arrayFormat],u=l==="comma"&&r.commaRoundTrip;i||(i=Object.keys(n)),r.sort&&i.sort(r.sort);const d=new WeakMap;for(let g=0;g<i.length;++g){const y=i[g];r.skipNulls&&n[y]===null||vF(o,wF(n[y],y,l,u,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,d))}const h=o.join(r.delimiter);let p=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?p+="utf8=%26%2310003%3B&":p+="utf8=%E2%9C%93&"),h.length>0?p+h:""}const hu="4.103.0";let DM=!1,wg,SF,bF,SC,CF,_F,TF,EF,PF;function Tle(t,e={auto:!1}){if(DM)throw new Error(`you must \`import 'openai/shims/${t.kind}'\` before importing anything else from openai`);if(wg)throw new Error(`can't \`import 'openai/shims/${t.kind}'\` after \`import 'openai/shims/${wg}'\``);DM=e.auto,wg=t.kind,SF=t.fetch,bF=t.FormData,SC=t.File,CF=t.ReadableStream,_F=t.getMultipartRequestOptions,TF=t.getDefaultAgent,EF=t.fileFromPath,PF=t.isFsReadStream}class Ele{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}function Ple({manuallyImported:t}={}){const e=t?"You may need to use polyfills":"Add one of these imports before your first `import  from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let n,r,i,s;try{n=fetch,r=Request,i=Response,s=Headers}catch(o){throw new Error(`this environment is missing the following Web Fetch API type: ${o.message}. ${e}`)}return{kind:"web",fetch:n,Request:r,Response:i,Headers:s,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${e}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${e}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${e}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${e}`)}},getMultipartRequestOptions:async(o,l)=>({...l,body:new Ele(o)}),getDefaultAgent:o=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:o=>!1}}const NF=()=>{wg||Tle(Ple(),{auto:!0})};NF();class Nt extends Error{}class zr extends Nt{constructor(e,n,r,i){super(`${zr.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.request_id=i==null?void 0:i["x-request-id"],this.error=n;const s=n;this.code=s==null?void 0:s.code,this.param=s==null?void 0:s.param,this.type=s==null?void 0:s.type}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new V0({message:r,cause:CC(n)});const s=n==null?void 0:n.error;return e===400?new jF(e,s,r,i):e===401?new RF(e,s,r,i):e===403?new AF(e,s,r,i):e===404?new kF(e,s,r,i):e===409?new IF(e,s,r,i):e===422?new MF(e,s,r,i):e===429?new DF(e,s,r,i):e>=500?new LF(e,s,r,i):new zr(e,s,r,i)}}class as extends zr{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class V0 extends zr{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class bT extends V0{constructor({message:e}={}){super({message:e??"Request timed out."})}}class jF extends zr{}class RF extends zr{}class AF extends zr{}class kF extends zr{}class IF extends zr{}class MF extends zr{}class DF extends zr{}class LF extends zr{}class OF extends Nt{constructor(){super("Could not parse response content as the length limit was reached")}}class $F extends Nt{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}var $x=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},jl=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Bi;class z0{constructor(){Bi.set(this,void 0),this.buffer=new Uint8Array,$x(this,Bi,null,"f")}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?new TextEncoder().encode(e):e;let r=new Uint8Array(this.buffer.length+n.length);r.set(this.buffer),r.set(n,this.buffer.length),this.buffer=r;const i=[];let s;for(;(s=Nle(this.buffer,jl(this,Bi,"f")))!=null;){if(s.carriage&&jl(this,Bi,"f")==null){$x(this,Bi,s.index,"f");continue}if(jl(this,Bi,"f")!=null&&(s.index!==jl(this,Bi,"f")+1||s.carriage)){i.push(this.decodeText(this.buffer.slice(0,jl(this,Bi,"f")-1))),this.buffer=this.buffer.slice(jl(this,Bi,"f")),$x(this,Bi,null,"f");continue}const o=jl(this,Bi,"f")!==null?s.preceding-1:s.preceding,l=this.decodeText(this.buffer.slice(0,o));i.push(l),this.buffer=this.buffer.slice(s.index),$x(this,Bi,null,"f")}return i}decodeText(e){if(e==null)return"";if(typeof e=="string")return e;if(typeof Buffer<"u"){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new Nt(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new Nt(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new Nt("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){return this.buffer.length?this.decode(`
`):[]}}Bi=new WeakMap;z0.NEWLINE_CHARS=new Set([`
`,"\r"]);z0.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Nle(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function jle(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}function FF(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}class Js{constructor(e,n){this.iterator=e,this.controller=n}static fromSSEResponse(e,n){let r=!1;async function*i(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let s=!1;try{for await(const o of Rle(e,n))if(!s){if(o.data.startsWith("[DONE]")){s=!0;continue}if(o.event===null||o.event.startsWith("response.")||o.event.startsWith("transcript.")){let l;try{l=JSON.parse(o.data)}catch(u){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),u}if(l&&l.error)throw new zr(void 0,l.error,void 0,GF(e.headers));yield l}else{let l;try{l=JSON.parse(o.data)}catch(u){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),u}if(o.event=="error")throw new zr(void 0,l.error,l.message,void 0);yield{event:o.event,data:l}}}s=!0}catch(o){if(o instanceof Error&&o.name==="AbortError")return;throw o}finally{s||n.abort()}}return new Js(i,n)}static fromReadableStream(e,n){let r=!1;async function*i(){const o=new z0,l=FF(e);for await(const u of l)for(const d of o.decode(u))yield d;for(const u of o.flush())yield u}async function*s(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let o=!1;try{for await(const l of i())o||l&&(yield JSON.parse(l));o=!0}catch(l){if(l instanceof Error&&l.name==="AbortError")return;throw l}finally{o||n.abort()}}return new Js(s,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=s=>({next:()=>{if(s.length===0){const o=r.next();e.push(o),n.push(o)}return s.shift()}});return[new Js(()=>i(e),this.controller),new Js(()=>i(n),this.controller)]}toReadableStream(){const e=this;let n;const r=new TextEncoder;return new CF({async start(){n=e[Symbol.asyncIterator]()},async pull(i){try{const{value:s,done:o}=await n.next();if(o)return i.close();const l=r.encode(JSON.stringify(s)+`
`);i.enqueue(l)}catch(s){i.error(s)}},async cancel(){var i;await((i=n.return)==null?void 0:i.call(n))}})}}async function*Rle(t,e){if(!t.body)throw e.abort(),new Nt("Attempted to iterate over a response with no body");const n=new kle,r=new z0,i=FF(t.body);for await(const s of Ale(i))for(const o of r.decode(s)){const l=n.decode(o);l&&(yield l)}for(const s of r.flush()){const o=n.decode(s);o&&(yield o)}}async function*Ale(t){let e=new Uint8Array;for await(const n of t){if(n==null)continue;const r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?new TextEncoder().encode(n):n;let i=new Uint8Array(e.length+r.length);i.set(e),i.set(r,e.length),e=i;let s;for(;(s=jle(e))!==-1;)yield e.slice(0,s),e=e.slice(s)}e.length>0&&(yield e)}class kle{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=Ile(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function Ile(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}const BF=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function",UF=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&W0(t),W0=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",Mle=t=>UF(t)||BF(t)||PF(t);async function VF(t,e,n){var i;if(t=await t,UF(t))return t;if(BF(t)){const s=await t.blob();e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()??"unknown_file");const o=W0(s)?[await s.arrayBuffer()]:[s];return new SC(o,e,n)}const r=await Dle(t);if(e||(e=Ole(t)??"unknown_file"),!(n!=null&&n.type)){const s=(i=r[0])==null?void 0:i.type;typeof s=="string"&&(n={...n,type:s})}return new SC(r,e,n)}async function Dle(t){var n;let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(W0(t))e.push(await t.arrayBuffer());else if($le(t))for await(const r of t)e.push(r);else throw new Error(`Unexpected data type: ${typeof t}; constructor: ${(n=t==null?void 0:t.constructor)==null?void 0:n.name}; props: ${Lle(t)}`);return e}function Lle(t){return`[${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}function Ole(t){var e;return YS(t.name)||YS(t.filename)||((e=YS(t.path))==null?void 0:e.split(/[\\/]/).pop())}const YS=t=>{if(typeof t=="string")return t;if(typeof Buffer<"u"&&t instanceof Buffer)return String(t)},$le=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",LM=t=>t&&typeof t=="object"&&t.body&&t[Symbol.toStringTag]==="MultipartBody",ec=async t=>{const e=await Fle(t.body);return _F(e,t)},Fle=async t=>{const e=new bF;return await Promise.all(Object.entries(t||{}).map(([n,r])=>bC(e,n,r))),e},bC=async(t,e,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")t.append(e,String(n));else if(Mle(n)){const r=await VF(n);t.append(e,r)}else if(Array.isArray(n))await Promise.all(n.map(r=>bC(t,e+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,i])=>bC(t,`${e}[${r}]`,i)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}};var Pu={},Ble=function(t,e,n,r,i){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n},Ule=function(t,e,n,r){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Fx;NF();async function zF(t){var o;const{response:e}=t;if(t.options.stream)return Ea("response",e.status,e.url,e.headers,e.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(e,t.controller):Js.fromSSEResponse(e,t.controller);if(e.status===204)return null;if(t.options.__binaryResponse)return e;const n=e.headers.get("content-type"),r=(o=n==null?void 0:n.split(";")[0])==null?void 0:o.trim();if((r==null?void 0:r.includes("application/json"))||(r==null?void 0:r.endsWith("+json"))){const l=await e.json();return Ea("response",e.status,e.url,e.headers,l),WF(l,e)}const s=await e.text();return Ea("response",e.status,e.url,e.headers,s),s}function WF(t,e){return!t||typeof t!="object"||Array.isArray(t)?t:Object.defineProperty(t,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}class q0 extends Promise{constructor(e,n=zF){super(r=>{r(null)}),this.responsePromise=e,this.parseResponse=n}_thenUnwrap(e){return new q0(this.responsePromise,async n=>WF(e(await this.parseResponse(n),n),n.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class Vle{constructor({baseURL:e,maxRetries:n=2,timeout:r=6e5,httpAgent:i,fetch:s}){this.baseURL=e,this.maxRetries=JS("maxRetries",n),this.timeout=JS("timeout",r),this.httpAgent=i,this.fetch=s??SF}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...Hle(),...this.authHeaders(e)}}validateHeaders(e,n){}defaultIdempotencyKey(){return`stainless-node-retry-${Xle()}`}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(async i=>{const s=i&&W0(i==null?void 0:i.body)?new DataView(await i.body.arrayBuffer()):(i==null?void 0:i.body)instanceof DataView?i.body:(i==null?void 0:i.body)instanceof ArrayBuffer?new DataView(i.body):i&&ArrayBuffer.isView(i==null?void 0:i.body)?new DataView(i.body.buffer):i==null?void 0:i.body;return{method:e,path:n,...i,body:s}}))}getAPIList(e,n,r){return this.requestAPIList(n,{method:"get",path:e,...r})}calculateContentLength(e){if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.byteLength(e,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(e).length.toString()}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e,{retryCount:n=0}={}){var C;const r={...e},{method:i,path:s,query:o,headers:l={}}=r,u=ArrayBuffer.isView(r.body)||r.__binaryRequest&&typeof r.body=="string"?r.body:LM(r.body)?r.body.body:r.body?JSON.stringify(r.body,null,2):null,d=this.calculateContentLength(u),h=this.buildURL(s,o);"timeout"in r&&JS("timeout",r.timeout),r.timeout=r.timeout??this.timeout;const p=r.httpAgent??this.httpAgent??TF(h),g=r.timeout+1e3;typeof((C=p==null?void 0:p.options)==null?void 0:C.timeout)=="number"&&g>(p.options.timeout??0)&&(p.options.timeout=g),this.idempotencyHeader&&i!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),l[this.idempotencyHeader]=e.idempotencyKey);const y=this.buildHeaders({options:r,headers:l,contentLength:d,retryCount:n});return{req:{method:i,...u&&{body:u},headers:y,...p&&{agent:p},signal:r.signal??null},url:h,timeout:r.timeout}}buildHeaders({options:e,headers:n,contentLength:r,retryCount:i}){const s={};r&&(s["content-length"]=r);const o=this.defaultHeaders(e);return BM(s,o),BM(s,n),LM(e.body)&&wg!=="node"&&delete s["content-type"],Ux(o,"x-stainless-retry-count")===void 0&&Ux(n,"x-stainless-retry-count")===void 0&&(s["x-stainless-retry-count"]=String(i)),Ux(o,"x-stainless-timeout")===void 0&&Ux(n,"x-stainless-timeout")===void 0&&e.timeout&&(s["x-stainless-timeout"]=String(Math.trunc(e.timeout/1e3))),this.validateHeaders(s,n),s}async prepareOptions(e){}async prepareRequest(e,{url:n,options:r}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map(n=>[...n])):{...e}:{}}makeStatusError(e,n,r,i){return zr.generate(e,n,r,i)}request(e,n=null){return new q0(this.makeRequest(e,n))}async makeRequest(e,n){var p,g;const r=await e,i=r.maxRetries??this.maxRetries;n==null&&(n=i),await this.prepareOptions(r);const{req:s,url:o,timeout:l}=this.buildRequest(r,{retryCount:i-n});if(await this.prepareRequest(s,{url:o,options:r}),Ea("request",o,r,s.headers),(p=r.signal)!=null&&p.aborted)throw new as;const u=new AbortController,d=await this.fetchWithTimeout(o,s,l,u).catch(CC);if(d instanceof Error){if((g=r.signal)!=null&&g.aborted)throw new as;if(n)return this.retryRequest(r,n);throw d.name==="AbortError"?new bT:new V0({cause:d})}const h=GF(d.headers);if(!d.ok){if(n&&this.shouldRetry(d)){const E=`retrying, ${n} attempts remaining`;return Ea(`response (error; ${E})`,d.status,o,h),this.retryRequest(r,n,h)}const y=await d.text().catch(E=>CC(E).message),b=Kle(y),C=b?void 0:y;throw Ea(`response (error; ${n?"(error; no more retries left)":"(error; not retryable)"})`,d.status,o,h,C),this.makeStatusError(d.status,b,C,h)}return{response:d,options:r,controller:u}}requestAPIList(e,n){const r=this.makeRequest(n,null);return new zle(this,r,e)}buildURL(e,n){const r=Jle(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),i=this.defaultQuery();return HF(i)||(n={...i,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(r.search=this.stringifyQuery(n)),r.toString()}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new Nt(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(e,n,r,i){const{signal:s,...o}=n||{};s&&s.addEventListener("abort",()=>i.abort());const l=setTimeout(()=>i.abort(),r),u={signal:i.signal,...o};return u.method&&(u.method=u.method.toUpperCase()),this.fetch.call(void 0,e,u).finally(()=>{clearTimeout(l)})}shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r){let i;const s=r==null?void 0:r["retry-after-ms"];if(s){const l=parseFloat(s);Number.isNaN(l)||(i=l)}const o=r==null?void 0:r["retry-after"];if(o&&!i){const l=parseFloat(o);Number.isNaN(l)?i=Date.parse(o)-Date.now():i=l*1e3}if(!(i&&0<=i&&i<60*1e3)){const l=e.maxRetries??this.maxRetries;i=this.calculateDefaultRetryTimeoutMillis(n,l)}return await oy(i),this.makeRequest(e,n-1)}calculateDefaultRetryTimeoutMillis(e,n){const s=n-e,o=Math.min(.5*Math.pow(2,s),8),l=1-Math.random()*.25;return o*l*1e3}getUserAgent(){return`${this.constructor.name}/JS ${hu}`}}class qF{constructor(e,n,r,i){Fx.set(this,void 0),Ble(this,Fx,e),this.options=i,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const e=this.nextPageInfo();if(!e)throw new Nt("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const n={...this.options};if("params"in e&&typeof n.query=="object")n.query={...n.query,...e.params};else if("url"in e){const r=[...Object.entries(n.query||{}),...e.url.searchParams.entries()];for(const[i,s]of r)e.url.searchParams.set(i,s);n.query=void 0,n.path=e.url.toString()}return await Ule(this,Fx,"f").requestAPIList(this.constructor,n)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(Fx=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const n of e.getPaginatedItems())yield n}}class zle extends q0{constructor(e,n,r){super(n,async i=>new r(e,i.response,await zF(i),i.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const n of e)yield n}}const GF=t=>new Proxy(Object.fromEntries(t.entries()),{get(e,n){const r=n.toString();return e[r.toLowerCase()]||e[r]}}),Wle={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__metadata:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},qn=t=>typeof t=="object"&&t!==null&&!HF(t)&&Object.keys(t).every(e=>KF(Wle,e)),qle=()=>{var e;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":hu,"X-Stainless-OS":$M(Deno.build.os),"X-Stainless-Arch":OM(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((e=Deno.version)==null?void 0:e.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":hu,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":hu,"X-Stainless-OS":$M(process.platform),"X-Stainless-Arch":OM(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const t=Gle();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":hu,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":hu,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Gle(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,s=r[2]||0,o=r[3]||0;return{browser:e,version:`${i}.${s}.${o}`}}}return null}const OM=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",$M=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let FM;const Hle=()=>FM??(FM=qle()),Kle=t=>{try{return JSON.parse(t)}catch{return}},Yle=/^[a-z][a-z0-9+.-]*:/i,Jle=t=>Yle.test(t),oy=t=>new Promise(e=>setTimeout(e,t)),JS=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Nt(`${t} must be an integer`);if(e<0)throw new Nt(`${t} must be a positive integer`);return e},CC=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null)try{return new Error(JSON.stringify(t))}catch{}return new Error(t)},Bx=t=>{var e,n,r,i;if(typeof process<"u")return((e=Pu==null?void 0:Pu[t])==null?void 0:e.trim())??void 0;if(typeof Deno<"u")return(i=(r=(n=Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,t))==null?void 0:i.trim()};function HF(t){if(!t)return!0;for(const e in t)return!1;return!0}function KF(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function BM(t,e){for(const n in e){if(!KF(e,n))continue;const r=n.toLowerCase();if(!r)continue;const i=e[n];i===null?delete t[r]:i!==void 0&&(t[r]=i)}}const UM=new Set(["authorization","api-key"]);function Ea(t,...e){if(typeof process<"u"&&(Pu==null?void 0:Pu.DEBUG)==="true"){const n=e.map(r=>{if(!r)return r;if(r.headers){const s={...r,headers:{...r.headers}};for(const o in r.headers)UM.has(o.toLowerCase())&&(s.headers[o]="REDACTED");return s}let i=null;for(const s in r)UM.has(s.toLowerCase())&&(i??(i={...r}),i[s]="REDACTED");return i??r});console.log(`OpenAI:DEBUG:${t}`,...n)}}const Xle=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)}),Qle=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",Zle=t=>typeof(t==null?void 0:t.get)=="function",Ux=(t,e)=>{var r;const n=e.toLowerCase();if(Zle(t)){const i=((r=e[0])==null?void 0:r.toUpperCase())+e.substring(1).replace(/([^\w])(\w)/g,(s,o,l)=>o+l.toUpperCase());for(const s of[e,n,e.toUpperCase(),i]){const o=t.get(s);if(o)return o}}for(const[i,s]of Object.entries(t))if(i.toLowerCase()===n)return Array.isArray(s)?(s.length<=1||console.warn(`Received ${s.length} entries for the ${e} header, using the first entry.`),s[0]):s},ece=t=>{if(typeof Buffer<"u"){const e=Buffer.from(t,"base64");return Array.from(new Float32Array(e.buffer,e.byteOffset,e.length/Float32Array.BYTES_PER_ELEMENT))}else{const e=atob(t),n=e.length,r=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=e.charCodeAt(i);return Array.from(new Float32Array(r.buffer))}};function XS(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)}class G0 extends qF{constructor(e,n,r,i){super(e,n,r,i),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class _r extends qF{constructor(e,n,r,i){super(e,n,r,i),this.data=r.data||[],this.has_more=r.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageParams(){const e=this.nextPageInfo();if(!e)return null;if("params"in e)return e.params;const n=Object.fromEntries(e.url.searchParams);return Object.keys(n).length?n:null}nextPageInfo(){var r;const e=this.getPaginatedItems();if(!e.length)return null;const n=(r=e[e.length-1])==null?void 0:r.id;return n?{params:{after:n}}:null}}class Rt{constructor(e){this._client=e}}let YF=class extends Rt{list(e,n={},r){return qn(n)?this.list(e,{},n):this._client.getAPIList(`/chat/completions/${e}/messages`,tce,{query:n,...r})}},H0=class extends Rt{constructor(){super(...arguments),this.messages=new YF(this._client)}create(e,n){return this._client.post("/chat/completions",{body:e,...n,stream:e.stream??!1})}retrieve(e,n){return this._client.get(`/chat/completions/${e}`,n)}update(e,n,r){return this._client.post(`/chat/completions/${e}`,{body:n,...r})}list(e={},n){return qn(e)?this.list({},e):this._client.getAPIList("/chat/completions",K0,{query:e,...n})}del(e,n){return this._client.delete(`/chat/completions/${e}`,n)}};class K0 extends _r{}class tce extends _r{}H0.ChatCompletionsPage=K0;H0.Messages=YF;let Y0=class extends Rt{constructor(){super(...arguments),this.completions=new H0(this._client)}};Y0.Completions=H0;Y0.ChatCompletionsPage=K0;class JF extends Rt{create(e,n){return this._client.post("/audio/speech",{body:e,...n,headers:{Accept:"application/octet-stream",...n==null?void 0:n.headers},__binaryResponse:!0})}}class XF extends Rt{create(e,n){return this._client.post("/audio/transcriptions",ec({body:e,...n,stream:e.stream??!1,__metadata:{model:e.model}}))}}class QF extends Rt{create(e,n){return this._client.post("/audio/translations",ec({body:e,...n,__metadata:{model:e.model}}))}}class ay extends Rt{constructor(){super(...arguments),this.transcriptions=new XF(this._client),this.translations=new QF(this._client),this.speech=new JF(this._client)}}ay.Transcriptions=XF;ay.Translations=QF;ay.Speech=JF;class CT extends Rt{create(e,n){return this._client.post("/batches",{body:e,...n})}retrieve(e,n){return this._client.get(`/batches/${e}`,n)}list(e={},n){return qn(e)?this.list({},e):this._client.getAPIList("/batches",_T,{query:e,...n})}cancel(e,n){return this._client.post(`/batches/${e}/cancel`,n)}}class _T extends _r{}CT.BatchesPage=_T;var bs=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},Xn=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},_C,hv,pv,ng,rg,mv,ig,_o,sg,Hv,Kv,pu,ZF;class TT{constructor(){_C.add(this),this.controller=new AbortController,hv.set(this,void 0),pv.set(this,()=>{}),ng.set(this,()=>{}),rg.set(this,void 0),mv.set(this,()=>{}),ig.set(this,()=>{}),_o.set(this,{}),sg.set(this,!1),Hv.set(this,!1),Kv.set(this,!1),pu.set(this,!1),bs(this,hv,new Promise((e,n)=>{bs(this,pv,e,"f"),bs(this,ng,n,"f")}),"f"),bs(this,rg,new Promise((e,n)=>{bs(this,mv,e,"f"),bs(this,ig,n,"f")}),"f"),Xn(this,hv,"f").catch(()=>{}),Xn(this,rg,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},Xn(this,_C,"m",ZF).bind(this))},0)}_connected(){this.ended||(Xn(this,pv,"f").call(this),this._emit("connect"))}get ended(){return Xn(this,sg,"f")}get errored(){return Xn(this,Hv,"f")}get aborted(){return Xn(this,Kv,"f")}abort(){this.controller.abort()}on(e,n){return(Xn(this,_o,"f")[e]||(Xn(this,_o,"f")[e]=[])).push({listener:n}),this}off(e,n){const r=Xn(this,_o,"f")[e];if(!r)return this;const i=r.findIndex(s=>s.listener===n);return i>=0&&r.splice(i,1),this}once(e,n){return(Xn(this,_o,"f")[e]||(Xn(this,_o,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,r)=>{bs(this,pu,!0,"f"),e!=="error"&&this.once("error",r),this.once(e,n)})}async done(){bs(this,pu,!0,"f"),await Xn(this,rg,"f")}_emit(e,...n){if(Xn(this,sg,"f"))return;e==="end"&&(bs(this,sg,!0,"f"),Xn(this,mv,"f").call(this));const r=Xn(this,_o,"f")[e];if(r&&(Xn(this,_o,"f")[e]=r.filter(i=>!i.once),r.forEach(({listener:i})=>i(...n))),e==="abort"){const i=n[0];!Xn(this,pu,"f")&&!(r!=null&&r.length)&&Promise.reject(i),Xn(this,ng,"f").call(this,i),Xn(this,ig,"f").call(this,i),this._emit("end");return}if(e==="error"){const i=n[0];!Xn(this,pu,"f")&&!(r!=null&&r.length)&&Promise.reject(i),Xn(this,ng,"f").call(this,i),Xn(this,ig,"f").call(this,i),this._emit("end")}}_emitFinal(){}}hv=new WeakMap,pv=new WeakMap,ng=new WeakMap,rg=new WeakMap,mv=new WeakMap,ig=new WeakMap,_o=new WeakMap,sg=new WeakMap,Hv=new WeakMap,Kv=new WeakMap,pu=new WeakMap,_C=new WeakSet,ZF=function(e){if(bs(this,Hv,!0,"f"),e instanceof Error&&e.name==="AbortError"&&(e=new as),e instanceof as)return bs(this,Kv,!0,"f"),this._emit("abort",e);if(e instanceof Nt)return this._emit("error",e);if(e instanceof Error){const n=new Nt(e.message);return n.cause=e,this._emit("error",n)}return this._emit("error",new Nt(String(e)))};var vt=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Fi=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},Ur,TC,Ks,gv,Cs,Vl,Su,Ol,Yv,Vi,yv,xv,Sg,og,ag,VM,zM,WM,qM,GM,HM,KM;class Ps extends TT{constructor(){super(...arguments),Ur.add(this),TC.set(this,[]),Ks.set(this,{}),gv.set(this,{}),Cs.set(this,void 0),Vl.set(this,void 0),Su.set(this,void 0),Ol.set(this,void 0),Yv.set(this,void 0),Vi.set(this,void 0),yv.set(this,void 0),xv.set(this,void 0),Sg.set(this,void 0)}[(TC=new WeakMap,Ks=new WeakMap,gv=new WeakMap,Cs=new WeakMap,Vl=new WeakMap,Su=new WeakMap,Ol=new WeakMap,Yv=new WeakMap,Vi=new WeakMap,yv=new WeakMap,xv=new WeakMap,Sg=new WeakMap,Ur=new WeakSet,Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("event",i=>{const s=n.shift();s?s.resolve(i):e.push(i)}),this.on("end",()=>{r=!0;for(const i of n)i.resolve(void 0);n.length=0}),this.on("abort",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),this.on("error",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((s,o)=>n.push({resolve:s,reject:o})).then(s=>s?{value:s,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const n=new Ps;return n._run(()=>n._fromReadableStream(e)),n}async _fromReadableStream(e,n){var s;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();const i=Js.fromReadableStream(e,this.controller);for await(const o of i)vt(this,Ur,"m",og).call(this,o);if((s=i.controller.signal)!=null&&s.aborted)throw new as;return this._addRun(vt(this,Ur,"m",ag).call(this))}toReadableStream(){return new Js(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,n,r,i,s){const o=new Ps;return o._run(()=>o._runToolAssistantStream(e,n,r,i,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),o}async _createToolAssistantStream(e,n,r,i,s){var d;const o=s==null?void 0:s.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));const l={...i,stream:!0},u=await e.submitToolOutputs(n,r,l,{...s,signal:this.controller.signal});this._connected();for await(const h of u)vt(this,Ur,"m",og).call(this,h);if((d=u.controller.signal)!=null&&d.aborted)throw new as;return this._addRun(vt(this,Ur,"m",ag).call(this))}static createThreadAssistantStream(e,n,r){const i=new Ps;return i._run(()=>i._threadAssistantStream(e,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}static createAssistantStream(e,n,r,i){const s=new Ps;return s._run(()=>s._runAssistantStream(e,n,r,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),s}currentEvent(){return vt(this,yv,"f")}currentRun(){return vt(this,xv,"f")}currentMessageSnapshot(){return vt(this,Cs,"f")}currentRunStepSnapshot(){return vt(this,Sg,"f")}async finalRunSteps(){return await this.done(),Object.values(vt(this,Ks,"f"))}async finalMessages(){return await this.done(),Object.values(vt(this,gv,"f"))}async finalRun(){if(await this.done(),!vt(this,Vl,"f"))throw Error("Final run was not received.");return vt(this,Vl,"f")}async _createThreadAssistantStream(e,n,r){var l;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const s={...n,stream:!0},o=await e.createAndRun(s,{...r,signal:this.controller.signal});this._connected();for await(const u of o)vt(this,Ur,"m",og).call(this,u);if((l=o.controller.signal)!=null&&l.aborted)throw new as;return this._addRun(vt(this,Ur,"m",ag).call(this))}async _createAssistantStream(e,n,r,i){var u;const s=i==null?void 0:i.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const o={...r,stream:!0},l=await e.create(n,o,{...i,signal:this.controller.signal});this._connected();for await(const d of l)vt(this,Ur,"m",og).call(this,d);if((u=l.controller.signal)!=null&&u.aborted)throw new as;return this._addRun(vt(this,Ur,"m",ag).call(this))}static accumulateDelta(e,n){for(const[r,i]of Object.entries(n)){if(!e.hasOwnProperty(r)){e[r]=i;continue}let s=e[r];if(s==null){e[r]=i;continue}if(r==="index"||r==="type"){e[r]=i;continue}if(typeof s=="string"&&typeof i=="string")s+=i;else if(typeof s=="number"&&typeof i=="number")s+=i;else if(XS(s)&&XS(i))s=this.accumulateDelta(s,i);else if(Array.isArray(s)&&Array.isArray(i)){if(s.every(o=>typeof o=="string"||typeof o=="number")){s.push(...i);continue}for(const o of i){if(!XS(o))throw new Error(`Expected array delta entry to be an object but got: ${o}`);const l=o.index;if(l==null)throw console.error(o),new Error("Expected array delta entry to have an `index` property");if(typeof l!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${l}`);const u=s[l];u==null?s.push(o):s[l]=this.accumulateDelta(u,o)}continue}else throw Error(`Unhandled record type: ${r}, deltaValue: ${i}, accValue: ${s}`);e[r]=s}return e}_addRun(e){return e}async _threadAssistantStream(e,n,r){return await this._createThreadAssistantStream(n,e,r)}async _runAssistantStream(e,n,r,i){return await this._createAssistantStream(n,e,r,i)}async _runToolAssistantStream(e,n,r,i,s){return await this._createToolAssistantStream(r,e,n,i,s)}}og=function(e){if(!this.ended)switch(Fi(this,yv,e,"f"),vt(this,Ur,"m",WM).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":vt(this,Ur,"m",KM).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":vt(this,Ur,"m",zM).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":vt(this,Ur,"m",VM).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},ag=function(){if(this.ended)throw new Nt("stream has ended, this shouldn't happen");if(!vt(this,Vl,"f"))throw Error("Final run has not been received");return vt(this,Vl,"f")},VM=function(e){const[n,r]=vt(this,Ur,"m",GM).call(this,e,vt(this,Cs,"f"));Fi(this,Cs,n,"f"),vt(this,gv,"f")[n.id]=n;for(const i of r){const s=n.content[i.index];(s==null?void 0:s.type)=="text"&&this._emit("textCreated",s.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,n),e.data.delta.content)for(const i of e.data.delta.content){if(i.type=="text"&&i.text){let s=i.text,o=n.content[i.index];if(o&&o.type=="text")this._emit("textDelta",s,o.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(i.index!=vt(this,Su,"f")){if(vt(this,Ol,"f"))switch(vt(this,Ol,"f").type){case"text":this._emit("textDone",vt(this,Ol,"f").text,vt(this,Cs,"f"));break;case"image_file":this._emit("imageFileDone",vt(this,Ol,"f").image_file,vt(this,Cs,"f"));break}Fi(this,Su,i.index,"f")}Fi(this,Ol,n.content[i.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(vt(this,Su,"f")!==void 0){const i=e.data.content[vt(this,Su,"f")];if(i)switch(i.type){case"image_file":this._emit("imageFileDone",i.image_file,vt(this,Cs,"f"));break;case"text":this._emit("textDone",i.text,vt(this,Cs,"f"));break}}vt(this,Cs,"f")&&this._emit("messageDone",e.data),Fi(this,Cs,void 0,"f")}},zM=function(e){const n=vt(this,Ur,"m",qM).call(this,e);switch(Fi(this,Sg,n,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const r=e.data.delta;if(r.step_details&&r.step_details.type=="tool_calls"&&r.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const s of r.step_details.tool_calls)s.index==vt(this,Yv,"f")?this._emit("toolCallDelta",s,n.step_details.tool_calls[s.index]):(vt(this,Vi,"f")&&this._emit("toolCallDone",vt(this,Vi,"f")),Fi(this,Yv,s.index,"f"),Fi(this,Vi,n.step_details.tool_calls[s.index],"f"),vt(this,Vi,"f")&&this._emit("toolCallCreated",vt(this,Vi,"f")));this._emit("runStepDelta",e.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Fi(this,Sg,void 0,"f"),e.data.step_details.type=="tool_calls"&&vt(this,Vi,"f")&&(this._emit("toolCallDone",vt(this,Vi,"f")),Fi(this,Vi,void 0,"f")),this._emit("runStepDone",e.data,n);break}},WM=function(e){vt(this,TC,"f").push(e),this._emit("event",e)},qM=function(e){switch(e.event){case"thread.run.step.created":return vt(this,Ks,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let n=vt(this,Ks,"f")[e.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let r=e.data;if(r.delta){const i=Ps.accumulateDelta(n,r.delta);vt(this,Ks,"f")[e.data.id]=i}return vt(this,Ks,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":vt(this,Ks,"f")[e.data.id]=e.data;break}if(vt(this,Ks,"f")[e.data.id])return vt(this,Ks,"f")[e.data.id];throw new Error("No snapshot available")},GM=function(e,n){let r=[];switch(e.event){case"thread.message.created":return[e.data,r];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let i=e.data;if(i.delta.content)for(const s of i.delta.content)if(s.index in n.content){let o=n.content[s.index];n.content[s.index]=vt(this,Ur,"m",HM).call(this,s,o)}else n.content[s.index]=s,r.push(s);return[n,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},HM=function(e,n){return Ps.accumulateDelta(n,e)},KM=function(e){switch(Fi(this,xv,e.data,"f"),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":Fi(this,Vl,e.data,"f"),vt(this,Vi,"f")&&(this._emit("toolCallDone",vt(this,Vi,"f")),Fi(this,Vi,void 0,"f"));break}};class ET extends Rt{create(e,n){return this._client.post("/assistants",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/assistants/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,r){return this._client.post(`/assistants/${e}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e={},n){return qn(e)?this.list({},e):this._client.getAPIList("/assistants",PT,{query:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,n){return this._client.delete(`/assistants/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class PT extends _r{}ET.AssistantsPage=PT;function YM(t){return typeof t.parse=="function"}const Nu=t=>(t==null?void 0:t.role)==="assistant",e6=t=>(t==null?void 0:t.role)==="function",t6=t=>(t==null?void 0:t.role)==="tool";function NT(t){return(t==null?void 0:t.$brand)==="auto-parseable-response-format"}function ly(t){return(t==null?void 0:t.$brand)==="auto-parseable-tool"}function nce(t,e){return!e||!n6(e)?{...t,choices:t.choices.map(n=>({...n,message:{...n.message,parsed:null,...n.message.tool_calls?{tool_calls:n.message.tool_calls}:void 0}}))}:jT(t,e)}function jT(t,e){const n=t.choices.map(r=>{var i;if(r.finish_reason==="length")throw new OF;if(r.finish_reason==="content_filter")throw new $F;return{...r,message:{...r.message,...r.message.tool_calls?{tool_calls:((i=r.message.tool_calls)==null?void 0:i.map(s=>ice(e,s)))??void 0}:void 0,parsed:r.message.content&&!r.message.refusal?rce(e,r.message.content):null}}});return{...t,choices:n}}function rce(t,e){var n,r;return((n=t.response_format)==null?void 0:n.type)!=="json_schema"?null:((r=t.response_format)==null?void 0:r.type)==="json_schema"?"$parseRaw"in t.response_format?t.response_format.$parseRaw(e):JSON.parse(e):null}function ice(t,e){var r;const n=(r=t.tools)==null?void 0:r.find(i=>{var s;return((s=i.function)==null?void 0:s.name)===e.function.name});return{...e,function:{...e.function,parsed_arguments:ly(n)?n.$parseRaw(e.function.arguments):n!=null&&n.function.strict?JSON.parse(e.function.arguments):null}}}function sce(t,e){var r;if(!t)return!1;const n=(r=t.tools)==null?void 0:r.find(i=>{var s;return((s=i.function)==null?void 0:s.name)===e.function.name});return ly(n)||(n==null?void 0:n.function.strict)||!1}function n6(t){var e;return NT(t.response_format)?!0:((e=t.tools)==null?void 0:e.some(n=>ly(n)||n.type==="function"&&n.function.strict===!0))??!1}function oce(t){for(const e of t??[]){if(e.type!=="function")throw new Nt(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new Nt(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var Ti=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},ti,EC,Jv,PC,NC,jC,r6,RC;const JM=10;class i6 extends TT{constructor(){super(...arguments),ti.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){var r;this._chatCompletions.push(e),this._emit("chatCompletion",e);const n=(r=e.choices[0])==null?void 0:r.message;return n&&this._addMessage(n),e}_addMessage(e,n=!0){if("content"in e||(e.content=null),this.messages.push(e),n){if(this._emit("message",e),(e6(e)||t6(e))&&e.content)this._emit("functionCallResult",e.content);else if(Nu(e)&&e.function_call)this._emit("functionCall",e.function_call);else if(Nu(e)&&e.tool_calls)for(const r of e.tool_calls)r.type==="function"&&this._emit("functionCall",r.function)}}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new Nt("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),Ti(this,ti,"m",EC).call(this)}async finalMessage(){return await this.done(),Ti(this,ti,"m",Jv).call(this)}async finalFunctionCall(){return await this.done(),Ti(this,ti,"m",PC).call(this)}async finalFunctionCallResult(){return await this.done(),Ti(this,ti,"m",NC).call(this)}async totalUsage(){return await this.done(),Ti(this,ti,"m",jC).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const n=Ti(this,ti,"m",Jv).call(this);n&&this._emit("finalMessage",n);const r=Ti(this,ti,"m",EC).call(this);r&&this._emit("finalContent",r);const i=Ti(this,ti,"m",PC).call(this);i&&this._emit("finalFunctionCall",i);const s=Ti(this,ti,"m",NC).call(this);s!=null&&this._emit("finalFunctionCallResult",s),this._chatCompletions.some(o=>o.usage)&&this._emit("totalUsage",Ti(this,ti,"m",jC).call(this))}async _createChatCompletion(e,n,r){const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),Ti(this,ti,"m",r6).call(this,n);const s=await e.chat.completions.create({...n,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(jT(s,n))}async _runChatCompletion(e,n,r){for(const i of n.messages)this._addMessage(i,!1);return await this._createChatCompletion(e,n,r)}async _runFunctions(e,n,r){var g;const i="function",{function_call:s="auto",stream:o,...l}=n,u=typeof s!="string"&&(s==null?void 0:s.name),{maxChatCompletions:d=JM}=r||{},h={};for(const y of n.functions)h[y.name||y.function.name]=y;const p=n.functions.map(y=>({name:y.name||y.function.name,parameters:y.parameters,description:y.description}));for(const y of n.messages)this._addMessage(y,!1);for(let y=0;y<d;++y){const C=(g=(await this._createChatCompletion(e,{...l,function_call:s,functions:p,messages:[...this.messages]},r)).choices[0])==null?void 0:g.message;if(!C)throw new Nt("missing message in ChatCompletion response");if(!C.function_call)return;const{name:_,arguments:P}=C.function_call,E=h[_];if(E){if(u&&u!==_){const M=`Invalid function_call: ${JSON.stringify(_)}. ${JSON.stringify(u)} requested. Please try again`;this._addMessage({role:i,name:_,content:M});continue}}else{const M=`Invalid function_call: ${JSON.stringify(_)}. Available options are: ${p.map(A=>JSON.stringify(A.name)).join(", ")}. Please try again`;this._addMessage({role:i,name:_,content:M});continue}let j;try{j=YM(E)?await E.parse(P):P}catch(M){this._addMessage({role:i,name:_,content:M instanceof Error?M.message:String(M)});continue}const R=await E.function(j,this),I=Ti(this,ti,"m",RC).call(this,R);if(this._addMessage({role:i,name:_,content:I}),u)return}}async _runTools(e,n,r){var y,b,C;const i="tool",{tool_choice:s="auto",stream:o,...l}=n,u=typeof s!="string"&&((y=s==null?void 0:s.function)==null?void 0:y.name),{maxChatCompletions:d=JM}=r||{},h=n.tools.map(_=>{if(ly(_)){if(!_.$callback)throw new Nt("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:_.$callback,name:_.function.name,description:_.function.description||"",parameters:_.function.parameters,parse:_.$parseRaw,strict:!0}}}return _}),p={};for(const _ of h)_.type==="function"&&(p[_.function.name||_.function.function.name]=_.function);const g="tools"in n?h.map(_=>_.type==="function"?{type:"function",function:{name:_.function.name||_.function.function.name,parameters:_.function.parameters,description:_.function.description,strict:_.function.strict}}:_):void 0;for(const _ of n.messages)this._addMessage(_,!1);for(let _=0;_<d;++_){const E=(b=(await this._createChatCompletion(e,{...l,tool_choice:s,tools:g,messages:[...this.messages]},r)).choices[0])==null?void 0:b.message;if(!E)throw new Nt("missing message in ChatCompletion response");if(!((C=E.tool_calls)!=null&&C.length))return;for(const j of E.tool_calls){if(j.type!=="function")continue;const R=j.id,{name:I,arguments:M}=j.function,A=p[I];if(A){if(u&&u!==I){const X=`Invalid tool_call: ${JSON.stringify(I)}. ${JSON.stringify(u)} requested. Please try again`;this._addMessage({role:i,tool_call_id:R,content:X});continue}}else{const X=`Invalid tool_call: ${JSON.stringify(I)}. Available options are: ${Object.keys(p).map(K=>JSON.stringify(K)).join(", ")}. Please try again`;this._addMessage({role:i,tool_call_id:R,content:X});continue}let $;try{$=YM(A)?await A.parse(M):M}catch(X){const K=X instanceof Error?X.message:String(X);this._addMessage({role:i,tool_call_id:R,content:K});continue}const B=await A.function($,this),G=Ti(this,ti,"m",RC).call(this,B);if(this._addMessage({role:i,tool_call_id:R,content:G}),u)return}}}}ti=new WeakSet,EC=function(){return Ti(this,ti,"m",Jv).call(this).content??null},Jv=function(){let e=this.messages.length;for(;e-- >0;){const n=this.messages[e];if(Nu(n)){const{function_call:r,...i}=n,s={...i,content:n.content??null,refusal:n.refusal??null};return r&&(s.function_call=r),s}}throw new Nt("stream ended without producing a ChatCompletionMessage with role=assistant")},PC=function(){var e,n;for(let r=this.messages.length-1;r>=0;r--){const i=this.messages[r];if(Nu(i)&&(i!=null&&i.function_call))return i.function_call;if(Nu(i)&&((e=i==null?void 0:i.tool_calls)!=null&&e.length))return(n=i.tool_calls.at(-1))==null?void 0:n.function}},NC=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(e6(n)&&n.content!=null||t6(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(r=>{var i;return r.role==="assistant"&&((i=r.tool_calls)==null?void 0:i.some(s=>s.type==="function"&&s.id===n.tool_call_id))}))return n.content}},jC=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(e.completion_tokens+=n.completion_tokens,e.prompt_tokens+=n.prompt_tokens,e.total_tokens+=n.total_tokens);return e},r6=function(e){if(e.n!=null&&e.n>1)throw new Nt("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},RC=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class Og extends i6{static runFunctions(e,n,r){const i=new Og,s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return i._run(()=>i._runFunctions(e,n,s)),i}static runTools(e,n,r){const i=new Og,s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(e,n,s)),i}_addMessage(e,n=!0){super._addMessage(e,n),Nu(e)&&e.content&&this._emit("content",e.content)}}const s6=1,o6=2,a6=4,l6=8,c6=16,u6=32,d6=64,f6=128,h6=256,p6=f6|h6,m6=c6|u6|p6|d6,g6=s6|o6|m6,y6=a6|l6,ace=g6|y6,Rr={STR:s6,NUM:o6,ARR:a6,OBJ:l6,NULL:c6,BOOL:u6,NAN:d6,INFINITY:f6,MINUS_INFINITY:h6,INF:p6,SPECIAL:m6,ATOM:g6,COLLECTION:y6,ALL:ace};class lce extends Error{}class cce extends Error{}function uce(t,e=Rr.ALL){if(typeof t!="string")throw new TypeError(`expecting str, got ${typeof t}`);if(!t.trim())throw new Error(`${t} is empty`);return dce(t.trim(),e)}const dce=(t,e)=>{const n=t.length;let r=0;const i=g=>{throw new lce(`${g} at position ${r}`)},s=g=>{throw new cce(`${g} at position ${r}`)},o=()=>(p(),r>=n&&i("Unexpected end of input"),t[r]==='"'?l():t[r]==="{"?u():t[r]==="["?d():t.substring(r,r+4)==="null"||Rr.NULL&e&&n-r<4&&"null".startsWith(t.substring(r))?(r+=4,null):t.substring(r,r+4)==="true"||Rr.BOOL&e&&n-r<4&&"true".startsWith(t.substring(r))?(r+=4,!0):t.substring(r,r+5)==="false"||Rr.BOOL&e&&n-r<5&&"false".startsWith(t.substring(r))?(r+=5,!1):t.substring(r,r+8)==="Infinity"||Rr.INFINITY&e&&n-r<8&&"Infinity".startsWith(t.substring(r))?(r+=8,1/0):t.substring(r,r+9)==="-Infinity"||Rr.MINUS_INFINITY&e&&1<n-r&&n-r<9&&"-Infinity".startsWith(t.substring(r))?(r+=9,-1/0):t.substring(r,r+3)==="NaN"||Rr.NAN&e&&n-r<3&&"NaN".startsWith(t.substring(r))?(r+=3,NaN):h()),l=()=>{const g=r;let y=!1;for(r++;r<n&&(t[r]!=='"'||y&&t[r-1]==="\\");)y=t[r]==="\\"?!y:!1,r++;if(t.charAt(r)=='"')try{return JSON.parse(t.substring(g,++r-Number(y)))}catch(b){s(String(b))}else if(Rr.STR&e)try{return JSON.parse(t.substring(g,r-Number(y))+'"')}catch{return JSON.parse(t.substring(g,t.lastIndexOf("\\"))+'"')}i("Unterminated string literal")},u=()=>{r++,p();const g={};try{for(;t[r]!=="}";){if(p(),r>=n&&Rr.OBJ&e)return g;const y=l();p(),r++;try{const b=o();Object.defineProperty(g,y,{value:b,writable:!0,enumerable:!0,configurable:!0})}catch(b){if(Rr.OBJ&e)return g;throw b}p(),t[r]===","&&r++}}catch{if(Rr.OBJ&e)return g;i("Expected '}' at end of object")}return r++,g},d=()=>{r++;const g=[];try{for(;t[r]!=="]";)g.push(o()),p(),t[r]===","&&r++}catch{if(Rr.ARR&e)return g;i("Expected ']' at end of array")}return r++,g},h=()=>{if(r===0){t==="-"&&Rr.NUM&e&&i("Not sure what '-' is");try{return JSON.parse(t)}catch(y){if(Rr.NUM&e)try{return t[t.length-1]==="."?JSON.parse(t.substring(0,t.lastIndexOf("."))):JSON.parse(t.substring(0,t.lastIndexOf("e")))}catch{}s(String(y))}}const g=r;for(t[r]==="-"&&r++;t[r]&&!",]}".includes(t[r]);)r++;r==n&&!(Rr.NUM&e)&&i("Unterminated number literal");try{return JSON.parse(t.substring(g,r))}catch{t.substring(g,r)==="-"&&Rr.NUM&e&&i("Not sure what '-' is");try{return JSON.parse(t.substring(g,t.lastIndexOf("e")))}catch(b){s(String(b))}}},p=()=>{for(;r<n&&` 
\r	`.includes(t[r]);)r++};return o()},XM=t=>uce(t,Rr.ALL^Rr.NUM);var Yc=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},En=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Sr,Co,Jc,ca,QS,Vx,ZS,eb,tb,zx,nb,QM;class $g extends i6{constructor(e){super(),Sr.add(this),Co.set(this,void 0),Jc.set(this,void 0),ca.set(this,void 0),Yc(this,Co,e,"f"),Yc(this,Jc,[],"f")}get currentChatCompletionSnapshot(){return En(this,ca,"f")}static fromReadableStream(e){const n=new $g(null);return n._run(()=>n._fromReadableStream(e)),n}static createChatCompletion(e,n,r){const i=new $g(n);return i._run(()=>i._runChatCompletion(e,{...n,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createChatCompletion(e,n,r){var o;super._createChatCompletion;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),En(this,Sr,"m",QS).call(this);const s=await e.chat.completions.create({...n,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const l of s)En(this,Sr,"m",ZS).call(this,l);if((o=s.controller.signal)!=null&&o.aborted)throw new as;return this._addChatCompletion(En(this,Sr,"m",zx).call(this))}async _fromReadableStream(e,n){var o;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),En(this,Sr,"m",QS).call(this),this._connected();const i=Js.fromReadableStream(e,this.controller);let s;for await(const l of i)s&&s!==l.id&&this._addChatCompletion(En(this,Sr,"m",zx).call(this)),En(this,Sr,"m",ZS).call(this,l),s=l.id;if((o=i.controller.signal)!=null&&o.aborted)throw new as;return this._addChatCompletion(En(this,Sr,"m",zx).call(this))}[(Co=new WeakMap,Jc=new WeakMap,ca=new WeakMap,Sr=new WeakSet,QS=function(){this.ended||Yc(this,ca,void 0,"f")},Vx=function(n){let r=En(this,Jc,"f")[n.index];return r||(r={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},En(this,Jc,"f")[n.index]=r,r)},ZS=function(n){var i,s,o,l,u,d,h,p,g,y,b,C,_,P,E;if(this.ended)return;const r=En(this,Sr,"m",QM).call(this,n);this._emit("chunk",n,r);for(const j of n.choices){const R=r.choices[j.index];j.delta.content!=null&&((i=R.message)==null?void 0:i.role)==="assistant"&&((s=R.message)!=null&&s.content)&&(this._emit("content",j.delta.content,R.message.content),this._emit("content.delta",{delta:j.delta.content,snapshot:R.message.content,parsed:R.message.parsed})),j.delta.refusal!=null&&((o=R.message)==null?void 0:o.role)==="assistant"&&((l=R.message)!=null&&l.refusal)&&this._emit("refusal.delta",{delta:j.delta.refusal,snapshot:R.message.refusal}),((u=j.logprobs)==null?void 0:u.content)!=null&&((d=R.message)==null?void 0:d.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(h=j.logprobs)==null?void 0:h.content,snapshot:((p=R.logprobs)==null?void 0:p.content)??[]}),((g=j.logprobs)==null?void 0:g.refusal)!=null&&((y=R.message)==null?void 0:y.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(b=j.logprobs)==null?void 0:b.refusal,snapshot:((C=R.logprobs)==null?void 0:C.refusal)??[]});const I=En(this,Sr,"m",Vx).call(this,R);R.finish_reason&&(En(this,Sr,"m",tb).call(this,R),I.current_tool_call_index!=null&&En(this,Sr,"m",eb).call(this,R,I.current_tool_call_index));for(const M of j.delta.tool_calls??[])I.current_tool_call_index!==M.index&&(En(this,Sr,"m",tb).call(this,R),I.current_tool_call_index!=null&&En(this,Sr,"m",eb).call(this,R,I.current_tool_call_index)),I.current_tool_call_index=M.index;for(const M of j.delta.tool_calls??[]){const A=(_=R.message.tool_calls)==null?void 0:_[M.index];A!=null&&A.type&&((A==null?void 0:A.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(P=A.function)==null?void 0:P.name,index:M.index,arguments:A.function.arguments,parsed_arguments:A.function.parsed_arguments,arguments_delta:((E=M.function)==null?void 0:E.arguments)??""}):(A==null||A.type,void 0))}}},eb=function(n,r){var o,l,u;if(En(this,Sr,"m",Vx).call(this,n).done_tool_calls.has(r))return;const s=(o=n.message.tool_calls)==null?void 0:o[r];if(!s)throw new Error("no tool call snapshot");if(!s.type)throw new Error("tool call snapshot missing `type`");if(s.type==="function"){const d=(u=(l=En(this,Co,"f"))==null?void 0:l.tools)==null?void 0:u.find(h=>h.type==="function"&&h.function.name===s.function.name);this._emit("tool_calls.function.arguments.done",{name:s.function.name,index:r,arguments:s.function.arguments,parsed_arguments:ly(d)?d.$parseRaw(s.function.arguments):d!=null&&d.function.strict?JSON.parse(s.function.arguments):null})}else s.type},tb=function(n){var i,s;const r=En(this,Sr,"m",Vx).call(this,n);if(n.message.content&&!r.content_done){r.content_done=!0;const o=En(this,Sr,"m",nb).call(this);this._emit("content.done",{content:n.message.content,parsed:o?o.$parseRaw(n.message.content):null})}n.message.refusal&&!r.refusal_done&&(r.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),(i=n.logprobs)!=null&&i.content&&!r.logprobs_content_done&&(r.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),(s=n.logprobs)!=null&&s.refusal&&!r.logprobs_refusal_done&&(r.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},zx=function(){if(this.ended)throw new Nt("stream has ended, this shouldn't happen");const n=En(this,ca,"f");if(!n)throw new Nt("request ended without sending any chunks");return Yc(this,ca,void 0,"f"),Yc(this,Jc,[],"f"),fce(n,En(this,Co,"f"))},nb=function(){var r;const n=(r=En(this,Co,"f"))==null?void 0:r.response_format;return NT(n)?n:null},QM=function(n){var r,i,s,o;let l=En(this,ca,"f");const{choices:u,...d}=n;l?Object.assign(l,d):l=Yc(this,ca,{...d,choices:[]},"f");for(const{delta:h,finish_reason:p,index:g,logprobs:y=null,...b}of n.choices){let C=l.choices[g];if(C||(C=l.choices[g]={finish_reason:p,index:g,message:{},logprobs:y,...b}),y)if(!C.logprobs)C.logprobs=Object.assign({},y);else{const{content:M,refusal:A,...$}=y;Object.assign(C.logprobs,$),M&&((r=C.logprobs).content??(r.content=[]),C.logprobs.content.push(...M)),A&&((i=C.logprobs).refusal??(i.refusal=[]),C.logprobs.refusal.push(...A))}if(p&&(C.finish_reason=p,En(this,Co,"f")&&n6(En(this,Co,"f")))){if(p==="length")throw new OF;if(p==="content_filter")throw new $F}if(Object.assign(C,b),!h)continue;const{content:_,refusal:P,function_call:E,role:j,tool_calls:R,...I}=h;if(Object.assign(C.message,I),P&&(C.message.refusal=(C.message.refusal||"")+P),j&&(C.message.role=j),E&&(C.message.function_call?(E.name&&(C.message.function_call.name=E.name),E.arguments&&((s=C.message.function_call).arguments??(s.arguments=""),C.message.function_call.arguments+=E.arguments)):C.message.function_call=E),_&&(C.message.content=(C.message.content||"")+_,!C.message.refusal&&En(this,Sr,"m",nb).call(this)&&(C.message.parsed=XM(C.message.content))),R){C.message.tool_calls||(C.message.tool_calls=[]);for(const{index:M,id:A,type:$,function:B,...G}of R){const X=(o=C.message.tool_calls)[M]??(o[M]={});Object.assign(X,G),A&&(X.id=A),$&&(X.type=$),B&&(X.function??(X.function={name:B.name??"",arguments:""})),B!=null&&B.name&&(X.function.name=B.name),B!=null&&B.arguments&&(X.function.arguments+=B.arguments,sce(En(this,Co,"f"),X)&&(X.function.parsed_arguments=XM(X.function.arguments)))}}}return l},Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("chunk",i=>{const s=n.shift();s?s.resolve(i):e.push(i)}),this.on("end",()=>{r=!0;for(const i of n)i.resolve(void 0);n.length=0}),this.on("abort",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),this.on("error",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((s,o)=>n.push({resolve:s,reject:o})).then(s=>s?{value:s,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Js(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function fce(t,e){const{id:n,choices:r,created:i,model:s,system_fingerprint:o,...l}=t,u={...l,id:n,choices:r.map(({message:d,finish_reason:h,index:p,logprobs:g,...y})=>{if(!h)throw new Nt(`missing finish_reason for choice ${p}`);const{content:b=null,function_call:C,tool_calls:_,...P}=d,E=d.role;if(!E)throw new Nt(`missing role for choice ${p}`);if(C){const{arguments:j,name:R}=C;if(j==null)throw new Nt(`missing function_call.arguments for choice ${p}`);if(!R)throw new Nt(`missing function_call.name for choice ${p}`);return{...y,message:{content:b,function_call:{arguments:j,name:R},role:E,refusal:d.refusal??null},finish_reason:h,index:p,logprobs:g}}return _?{...y,index:p,finish_reason:h,logprobs:g,message:{...P,role:E,content:b,refusal:d.refusal??null,tool_calls:_.map((j,R)=>{const{function:I,type:M,id:A,...$}=j,{arguments:B,name:G,...X}=I||{};if(A==null)throw new Nt(`missing choices[${p}].tool_calls[${R}].id
${Wx(t)}`);if(M==null)throw new Nt(`missing choices[${p}].tool_calls[${R}].type
${Wx(t)}`);if(G==null)throw new Nt(`missing choices[${p}].tool_calls[${R}].function.name
${Wx(t)}`);if(B==null)throw new Nt(`missing choices[${p}].tool_calls[${R}].function.arguments
${Wx(t)}`);return{...$,id:A,type:M,function:{...X,name:G,arguments:B}}})}}:{...y,message:{...P,content:b,role:E,refusal:d.refusal??null},finish_reason:h,index:p,logprobs:g}}),created:i,model:s,object:"chat.completion",...o?{system_fingerprint:o}:{}};return nce(u,e)}function Wx(t){return JSON.stringify(t)}class ju extends $g{static fromReadableStream(e){const n=new ju(null);return n._run(()=>n._fromReadableStream(e)),n}static runFunctions(e,n,r){const i=new ju(null),s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return i._run(()=>i._runFunctions(e,n,s)),i}static runTools(e,n,r){const i=new ju(n),s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(e,n,s)),i}}let x6=class extends Rt{parse(e,n){return oce(e.tools),this._client.chat.completions.create(e,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(r=>jT(r,e))}runFunctions(e,n){return e.stream?ju.runFunctions(this._client,e,n):Og.runFunctions(this._client,e,n)}runTools(e,n){return e.stream?ju.runTools(this._client,e,n):Og.runTools(this._client,e,n)}stream(e,n){return $g.createChatCompletion(this._client,e,n)}};class AC extends Rt{constructor(){super(...arguments),this.completions=new x6(this._client)}}(function(t){t.Completions=x6})(AC||(AC={}));class v6 extends Rt{create(e,n){return this._client.post("/realtime/sessions",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class w6 extends Rt{create(e,n){return this._client.post("/realtime/transcription_sessions",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class J0 extends Rt{constructor(){super(...arguments),this.sessions=new v6(this._client),this.transcriptionSessions=new w6(this._client)}}J0.Sessions=v6;J0.TranscriptionSessions=w6;class RT extends Rt{create(e,n,r){return this._client.post(`/threads/${e}/messages`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,n,r){return this._client.get(`/threads/${e}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,n,r,i){return this._client.post(`/threads/${e}/messages/${n}`,{body:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(e,n={},r){return qn(n)?this.list(e,{},n):this._client.getAPIList(`/threads/${e}/messages`,AT,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,n,r){return this._client.delete(`/threads/${e}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class AT extends _r{}RT.MessagesPage=AT;class kT extends Rt{retrieve(e,n,r,i={},s){return qn(i)?this.retrieve(e,n,r,{},i):this._client.get(`/threads/${e}/runs/${n}/steps/${r}`,{query:i,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(e,n,r={},i){return qn(r)?this.list(e,n,{},r):this._client.getAPIList(`/threads/${e}/runs/${n}/steps`,IT,{query:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}}class IT extends _r{}kT.RunStepsPage=IT;let cy=class extends Rt{constructor(){super(...arguments),this.steps=new kT(this._client)}create(e,n,r){const{include:i,...s}=n;return this._client.post(`/threads/${e}/runs`,{query:{include:i},body:s,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers},stream:n.stream??!1})}retrieve(e,n,r){return this._client.get(`/threads/${e}/runs/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,n,r,i){return this._client.post(`/threads/${e}/runs/${n}`,{body:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(e,n={},r){return qn(n)?this.list(e,{},n):this._client.getAPIList(`/threads/${e}/runs`,MT,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(e,n,r){return this._client.post(`/threads/${e}/runs/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,n,r){const i=await this.create(e,n,r);return await this.poll(e,i.id,r)}createAndStream(e,n,r){return Ps.createAssistantStream(e,this._client.beta.threads.runs,n,r)}async poll(e,n,r){const i={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(i["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:s,response:o}=await this.retrieve(e,n,{...r,headers:{...r==null?void 0:r.headers,...i}}).withResponse();switch(s.status){case"queued":case"in_progress":case"cancelling":let l=5e3;if(r!=null&&r.pollIntervalMs)l=r.pollIntervalMs;else{const u=o.headers.get("openai-poll-after-ms");if(u){const d=parseInt(u);isNaN(d)||(l=d)}}await oy(l);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return s}}}stream(e,n,r){return Ps.createAssistantStream(e,this._client.beta.threads.runs,n,r)}submitToolOutputs(e,n,r,i){return this._client.post(`/threads/${e}/runs/${n}/submit_tool_outputs`,{body:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers},stream:r.stream??!1})}async submitToolOutputsAndPoll(e,n,r,i){const s=await this.submitToolOutputs(e,n,r,i);return await this.poll(e,s.id,i)}submitToolOutputsStream(e,n,r,i){return Ps.createToolAssistantStream(e,n,this._client.beta.threads.runs,r,i)}};class MT extends _r{}cy.RunsPage=MT;cy.Steps=kT;cy.RunStepsPage=IT;class Qu extends Rt{constructor(){super(...arguments),this.runs=new cy(this._client),this.messages=new RT(this._client)}create(e={},n){return qn(e)?this.create({},e):this._client.post("/threads",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/threads/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,r){return this._client.post(`/threads/${e}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,n){return this._client.delete(`/threads/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}createAndRun(e,n){return this._client.post("/threads/runs",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers},stream:e.stream??!1})}async createAndRunPoll(e,n){const r=await this.createAndRun(e,n);return await this.runs.poll(r.thread_id,r.id,n)}createAndRunStream(e,n){return Ps.createThreadAssistantStream(e,this._client.beta.threads,n)}}Qu.Runs=cy;Qu.RunsPage=MT;Qu.Messages=RT;Qu.MessagesPage=AT;class Zu extends Rt{constructor(){super(...arguments),this.realtime=new J0(this._client),this.chat=new AC(this._client),this.assistants=new ET(this._client),this.threads=new Qu(this._client)}}Zu.Realtime=J0;Zu.Assistants=ET;Zu.AssistantsPage=PT;Zu.Threads=Qu;class S6 extends Rt{create(e,n){return this._client.post("/completions",{body:e,...n,stream:e.stream??!1})}}let b6=class extends Rt{retrieve(e,n,r){return this._client.get(`/containers/${e}/files/${n}/content`,{...r,headers:{Accept:"*/*",...r==null?void 0:r.headers}})}},X0=class extends Rt{constructor(){super(...arguments),this.content=new b6(this._client)}create(e,n,r){return this._client.post(`/containers/${e}/files`,ec({body:n,...r}))}retrieve(e,n,r){return this._client.get(`/containers/${e}/files/${n}`,r)}list(e,n={},r){return qn(n)?this.list(e,{},n):this._client.getAPIList(`/containers/${e}/files`,DT,{query:n,...r})}del(e,n,r){return this._client.delete(`/containers/${e}/files/${n}`,{...r,headers:{Accept:"*/*",...r==null?void 0:r.headers}})}};class DT extends _r{}X0.FileListResponsesPage=DT;X0.Content=b6;class uy extends Rt{constructor(){super(...arguments),this.files=new X0(this._client)}create(e,n){return this._client.post("/containers",{body:e,...n})}retrieve(e,n){return this._client.get(`/containers/${e}`,n)}list(e={},n){return qn(e)?this.list({},e):this._client.getAPIList("/containers",LT,{query:e,...n})}del(e,n){return this._client.delete(`/containers/${e}`,{...n,headers:{Accept:"*/*",...n==null?void 0:n.headers}})}}class LT extends _r{}uy.ContainerListResponsesPage=LT;uy.Files=X0;uy.FileListResponsesPage=DT;class C6 extends Rt{create(e,n){const r=!!e.encoding_format;let i=r?e.encoding_format:"base64";r&&Ea("Request","User defined encoding_format:",e.encoding_format);const s=this._client.post("/embeddings",{body:{...e,encoding_format:i},...n});return r?s:(Ea("response","Decoding base64 embeddings to float32 array"),s._thenUnwrap(o=>(o&&o.data&&o.data.forEach(l=>{const u=l.embedding;l.embedding=ece(u)}),o)))}}class OT extends Rt{retrieve(e,n,r,i){return this._client.get(`/evals/${e}/runs/${n}/output_items/${r}`,i)}list(e,n,r={},i){return qn(r)?this.list(e,n,{},r):this._client.getAPIList(`/evals/${e}/runs/${n}/output_items`,$T,{query:r,...i})}}class $T extends _r{}OT.OutputItemListResponsesPage=$T;class dy extends Rt{constructor(){super(...arguments),this.outputItems=new OT(this._client)}create(e,n,r){return this._client.post(`/evals/${e}/runs`,{body:n,...r})}retrieve(e,n,r){return this._client.get(`/evals/${e}/runs/${n}`,r)}list(e,n={},r){return qn(n)?this.list(e,{},n):this._client.getAPIList(`/evals/${e}/runs`,FT,{query:n,...r})}del(e,n,r){return this._client.delete(`/evals/${e}/runs/${n}`,r)}cancel(e,n,r){return this._client.post(`/evals/${e}/runs/${n}`,r)}}class FT extends _r{}dy.RunListResponsesPage=FT;dy.OutputItems=OT;dy.OutputItemListResponsesPage=$T;class fy extends Rt{constructor(){super(...arguments),this.runs=new dy(this._client)}create(e,n){return this._client.post("/evals",{body:e,...n})}retrieve(e,n){return this._client.get(`/evals/${e}`,n)}update(e,n,r){return this._client.post(`/evals/${e}`,{body:n,...r})}list(e={},n){return qn(e)?this.list({},e):this._client.getAPIList("/evals",BT,{query:e,...n})}del(e,n){return this._client.delete(`/evals/${e}`,n)}}class BT extends _r{}fy.EvalListResponsesPage=BT;fy.Runs=dy;fy.RunListResponsesPage=FT;let UT=class extends Rt{create(e,n){return this._client.post("/files",ec({body:e,...n}))}retrieve(e,n){return this._client.get(`/files/${e}`,n)}list(e={},n){return qn(e)?this.list({},e):this._client.getAPIList("/files",VT,{query:e,...n})}del(e,n){return this._client.delete(`/files/${e}`,n)}content(e,n){return this._client.get(`/files/${e}/content`,{...n,headers:{Accept:"application/binary",...n==null?void 0:n.headers},__binaryResponse:!0})}retrieveContent(e,n){return this._client.get(`/files/${e}/content`,n)}async waitForProcessing(e,{pollInterval:n=5e3,maxWait:r=30*60*1e3}={}){const i=new Set(["processed","error","deleted"]),s=Date.now();let o=await this.retrieve(e);for(;!o.status||!i.has(o.status);)if(await oy(n),o=await this.retrieve(e),Date.now()-s>r)throw new bT({message:`Giving up on waiting for file ${e} to finish processing after ${r} milliseconds.`});return o}};class VT extends _r{}UT.FileObjectsPage=VT;class _6 extends Rt{}let T6=class extends Rt{run(e,n){return this._client.post("/fine_tuning/alpha/graders/run",{body:e,...n})}validate(e,n){return this._client.post("/fine_tuning/alpha/graders/validate",{body:e,...n})}};class zT extends Rt{constructor(){super(...arguments),this.graders=new T6(this._client)}}zT.Graders=T6;class WT extends Rt{create(e,n,r){return this._client.getAPIList(`/fine_tuning/checkpoints/${e}/permissions`,qT,{body:n,method:"post",...r})}retrieve(e,n={},r){return qn(n)?this.retrieve(e,{},n):this._client.get(`/fine_tuning/checkpoints/${e}/permissions`,{query:n,...r})}del(e,n,r){return this._client.delete(`/fine_tuning/checkpoints/${e}/permissions/${n}`,r)}}class qT extends G0{}WT.PermissionCreateResponsesPage=qT;let Q0=class extends Rt{constructor(){super(...arguments),this.permissions=new WT(this._client)}};Q0.Permissions=WT;Q0.PermissionCreateResponsesPage=qT;class GT extends Rt{list(e,n={},r){return qn(n)?this.list(e,{},n):this._client.getAPIList(`/fine_tuning/jobs/${e}/checkpoints`,HT,{query:n,...r})}}class HT extends _r{}GT.FineTuningJobCheckpointsPage=HT;class ed extends Rt{constructor(){super(...arguments),this.checkpoints=new GT(this._client)}create(e,n){return this._client.post("/fine_tuning/jobs",{body:e,...n})}retrieve(e,n){return this._client.get(`/fine_tuning/jobs/${e}`,n)}list(e={},n){return qn(e)?this.list({},e):this._client.getAPIList("/fine_tuning/jobs",KT,{query:e,...n})}cancel(e,n){return this._client.post(`/fine_tuning/jobs/${e}/cancel`,n)}listEvents(e,n={},r){return qn(n)?this.listEvents(e,{},n):this._client.getAPIList(`/fine_tuning/jobs/${e}/events`,YT,{query:n,...r})}pause(e,n){return this._client.post(`/fine_tuning/jobs/${e}/pause`,n)}resume(e,n){return this._client.post(`/fine_tuning/jobs/${e}/resume`,n)}}class KT extends _r{}class YT extends _r{}ed.FineTuningJobsPage=KT;ed.FineTuningJobEventsPage=YT;ed.Checkpoints=GT;ed.FineTuningJobCheckpointsPage=HT;class Xa extends Rt{constructor(){super(...arguments),this.methods=new _6(this._client),this.jobs=new ed(this._client),this.checkpoints=new Q0(this._client),this.alpha=new zT(this._client)}}Xa.Methods=_6;Xa.Jobs=ed;Xa.FineTuningJobsPage=KT;Xa.FineTuningJobEventsPage=YT;Xa.Checkpoints=Q0;Xa.Alpha=zT;class E6 extends Rt{}class JT extends Rt{constructor(){super(...arguments),this.graderModels=new E6(this._client)}}JT.GraderModels=E6;class P6 extends Rt{createVariation(e,n){return this._client.post("/images/variations",ec({body:e,...n}))}edit(e,n){return this._client.post("/images/edits",ec({body:e,...n}))}generate(e,n){return this._client.post("/images/generations",{body:e,...n})}}class XT extends Rt{retrieve(e,n){return this._client.get(`/models/${e}`,n)}list(e){return this._client.getAPIList("/models",QT,e)}del(e,n){return this._client.delete(`/models/${e}`,n)}}class QT extends G0{}XT.ModelsPage=QT;class N6 extends Rt{create(e,n){return this._client.post("/moderations",{body:e,...n})}}function hce(t,e){return!e||!mce(e)?{...t,output_parsed:null,output:t.output.map(n=>n.type==="function_call"?{...n,parsed_arguments:null}:n.type==="message"?{...n,content:n.content.map(r=>({...r,parsed:null}))}:n)}:j6(t,e)}function j6(t,e){const n=t.output.map(i=>{if(i.type==="function_call")return{...i,parsed_arguments:xce(e,i)};if(i.type==="message"){const s=i.content.map(o=>o.type==="output_text"?{...o,parsed:pce(e,o.text)}:o);return{...i,content:s}}return i}),r=Object.assign({},t,{output:n});return Object.getOwnPropertyDescriptor(t,"output_text")||kC(r),Object.defineProperty(r,"output_parsed",{enumerable:!0,get(){for(const i of r.output)if(i.type==="message"){for(const s of i.content)if(s.type==="output_text"&&s.parsed!==null)return s.parsed}return null}}),r}function pce(t,e){var n,r,i,s;return((r=(n=t.text)==null?void 0:n.format)==null?void 0:r.type)!=="json_schema"?null:"$parseRaw"in((i=t.text)==null?void 0:i.format)?((s=t.text)==null?void 0:s.format).$parseRaw(e):JSON.parse(e)}function mce(t){var e;return!!NT((e=t.text)==null?void 0:e.format)}function gce(t){return(t==null?void 0:t.$brand)==="auto-parseable-tool"}function yce(t,e){return t.find(n=>n.type==="function"&&n.name===e)}function xce(t,e){const n=yce(t.tools??[],e.name);return{...e,...e,parsed_arguments:gce(n)?n.$parseRaw(e.arguments):n!=null&&n.strict?JSON.parse(e.arguments):null}}function kC(t){const e=[];for(const n of t.output)if(n.type==="message")for(const r of n.content)r.type==="output_text"&&e.push(r.text);t.output_text=e.join("")}class R6 extends Rt{list(e,n={},r){return qn(n)?this.list(e,{},n):this._client.getAPIList(`/responses/${e}/input_items`,wce,{query:n,...r})}}var Xc=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},ua=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Qc,qx,da,Gx,ZM,eD,tD,nD;class ZT extends TT{constructor(e){super(),Qc.add(this),qx.set(this,void 0),da.set(this,void 0),Gx.set(this,void 0),Xc(this,qx,e,"f")}static createResponse(e,n,r){const i=new ZT(n);return i._run(()=>i._createOrRetrieveResponse(e,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createOrRetrieveResponse(e,n,r){var l;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),ua(this,Qc,"m",ZM).call(this);let s,o=null;"response_id"in n?(s=await e.responses.retrieve(n.response_id,{stream:!0},{...r,signal:this.controller.signal,stream:!0}),o=n.starting_after??null):s=await e.responses.create({...n,stream:!0},{...r,signal:this.controller.signal}),this._connected();for await(const u of s)ua(this,Qc,"m",eD).call(this,u,o);if((l=s.controller.signal)!=null&&l.aborted)throw new as;return ua(this,Qc,"m",tD).call(this)}[(qx=new WeakMap,da=new WeakMap,Gx=new WeakMap,Qc=new WeakSet,ZM=function(){this.ended||Xc(this,da,void 0,"f")},eD=function(n,r){if(this.ended)return;const i=(o,l)=>{(r==null||l.sequence_number>r)&&this._emit(o,l)},s=ua(this,Qc,"m",nD).call(this,n);switch(i("event",n),n.type){case"response.output_text.delta":{const o=s.output[n.output_index];if(!o)throw new Nt(`missing output at index ${n.output_index}`);if(o.type==="message"){const l=o.content[n.content_index];if(!l)throw new Nt(`missing content at index ${n.content_index}`);if(l.type!=="output_text")throw new Nt(`expected content to be 'output_text', got ${l.type}`);i("response.output_text.delta",{...n,snapshot:l.text})}break}case"response.function_call_arguments.delta":{const o=s.output[n.output_index];if(!o)throw new Nt(`missing output at index ${n.output_index}`);o.type==="function_call"&&i("response.function_call_arguments.delta",{...n,snapshot:o.arguments});break}default:i(n.type,n);break}},tD=function(){if(this.ended)throw new Nt("stream has ended, this shouldn't happen");const n=ua(this,da,"f");if(!n)throw new Nt("request ended without sending any events");Xc(this,da,void 0,"f");const r=vce(n,ua(this,qx,"f"));return Xc(this,Gx,r,"f"),r},nD=function(n){let r=ua(this,da,"f");if(!r){if(n.type!=="response.created")throw new Nt(`When snapshot hasn't been set yet, expected 'response.created' event, got ${n.type}`);return r=Xc(this,da,n.response,"f"),r}switch(n.type){case"response.output_item.added":{r.output.push(n.item);break}case"response.content_part.added":{const i=r.output[n.output_index];if(!i)throw new Nt(`missing output at index ${n.output_index}`);i.type==="message"&&i.content.push(n.part);break}case"response.output_text.delta":{const i=r.output[n.output_index];if(!i)throw new Nt(`missing output at index ${n.output_index}`);if(i.type==="message"){const s=i.content[n.content_index];if(!s)throw new Nt(`missing content at index ${n.content_index}`);if(s.type!=="output_text")throw new Nt(`expected content to be 'output_text', got ${s.type}`);s.text+=n.delta}break}case"response.function_call_arguments.delta":{const i=r.output[n.output_index];if(!i)throw new Nt(`missing output at index ${n.output_index}`);i.type==="function_call"&&(i.arguments+=n.delta);break}case"response.completed":{Xc(this,da,n.response,"f");break}}return r},Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("event",i=>{const s=n.shift();s?s.resolve(i):e.push(i)}),this.on("end",()=>{r=!0;for(const i of n)i.resolve(void 0);n.length=0}),this.on("abort",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),this.on("error",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((s,o)=>n.push({resolve:s,reject:o})).then(s=>s?{value:s,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const e=ua(this,Gx,"f");if(!e)throw new Nt("stream ended without producing a ChatCompletion");return e}}function vce(t,e){return hce(t,e)}class eE extends Rt{constructor(){super(...arguments),this.inputItems=new R6(this._client)}create(e,n){return this._client.post("/responses",{body:e,...n,stream:e.stream??!1})._thenUnwrap(r=>("object"in r&&r.object==="response"&&kC(r),r))}retrieve(e,n={},r){return qn(n)&&r===void 0?this.retrieve(e,{},n):this._client.get(`/responses/${e}`,{query:n,...r,stream:n.stream??!1})._thenUnwrap(i=>("object"in i&&i.object==="response"&&kC(i),i))}del(e,n){return this._client.delete(`/responses/${e}`,{...n,headers:{Accept:"*/*",...n==null?void 0:n.headers}})}parse(e,n){return this._client.responses.create(e,n)._thenUnwrap(r=>j6(r,e))}stream(e,n){return ZT.createResponse(this._client,e,n)}cancel(e,n){return this._client.post(`/responses/${e}/cancel`,{...n,headers:{Accept:"*/*",...n==null?void 0:n.headers}})}}class wce extends _r{}eE.InputItems=R6;class A6 extends Rt{create(e,n,r){return this._client.post(`/uploads/${e}/parts`,ec({body:n,...r}))}}class tE extends Rt{constructor(){super(...arguments),this.parts=new A6(this._client)}create(e,n){return this._client.post("/uploads",{body:e,...n})}cancel(e,n){return this._client.post(`/uploads/${e}/cancel`,n)}complete(e,n,r){return this._client.post(`/uploads/${e}/complete`,{body:n,...r})}}tE.Parts=A6;const Sce=async t=>{const e=await Promise.allSettled(t),n=e.filter(i=>i.status==="rejected");if(n.length){for(const i of n)console.error(i.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const r=[];for(const i of e)i.status==="fulfilled"&&r.push(i.value);return r};class Z0 extends Rt{create(e,n,r){return this._client.post(`/vector_stores/${e}/files`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,n,r){return this._client.get(`/vector_stores/${e}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,n,r,i){return this._client.post(`/vector_stores/${e}/files/${n}`,{body:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(e,n={},r){return qn(n)?this.list(e,{},n):this._client.getAPIList(`/vector_stores/${e}/files`,ew,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,n,r){return this._client.delete(`/vector_stores/${e}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,n,r){const i=await this.create(e,n,r);return await this.poll(e,i.id,r)}async poll(e,n,r){const i={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(i["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const s=await this.retrieve(e,n,{...r,headers:i}).withResponse(),o=s.data;switch(o.status){case"in_progress":let l=5e3;if(r!=null&&r.pollIntervalMs)l=r.pollIntervalMs;else{const u=s.response.headers.get("openai-poll-after-ms");if(u){const d=parseInt(u);isNaN(d)||(l=d)}}await oy(l);break;case"failed":case"completed":return o}}}async upload(e,n,r){const i=await this._client.files.create({file:n,purpose:"assistants"},r);return this.create(e,{file_id:i.id},r)}async uploadAndPoll(e,n,r){const i=await this.upload(e,n,r);return await this.poll(e,i.id,r)}content(e,n,r){return this._client.getAPIList(`/vector_stores/${e}/files/${n}/content`,nE,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class ew extends _r{}class nE extends G0{}Z0.VectorStoreFilesPage=ew;Z0.FileContentResponsesPage=nE;class k6 extends Rt{create(e,n,r){return this._client.post(`/vector_stores/${e}/file_batches`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,n,r){return this._client.get(`/vector_stores/${e}/file_batches/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(e,n,r){return this._client.post(`/vector_stores/${e}/file_batches/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,n,r){const i=await this.create(e,n);return await this.poll(e,i.id,r)}listFiles(e,n,r={},i){return qn(r)?this.listFiles(e,n,{},r):this._client.getAPIList(`/vector_stores/${e}/file_batches/${n}/files`,ew,{query:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}async poll(e,n,r){const i={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(i["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:s,response:o}=await this.retrieve(e,n,{...r,headers:i}).withResponse();switch(s.status){case"in_progress":let l=5e3;if(r!=null&&r.pollIntervalMs)l=r.pollIntervalMs;else{const u=o.headers.get("openai-poll-after-ms");if(u){const d=parseInt(u);isNaN(d)||(l=d)}}await oy(l);break;case"failed":case"cancelled":case"completed":return s}}}async uploadAndPoll(e,{files:n,fileIds:r=[]},i){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const s=(i==null?void 0:i.maxConcurrency)??5,o=Math.min(s,n.length),l=this._client,u=n.values(),d=[...r];async function h(g){for(let y of g){const b=await l.files.create({file:y,purpose:"assistants"},i);d.push(b.id)}}const p=Array(o).fill(u).map(h);return await Sce(p),await this.createAndPoll(e,{file_ids:d})}}class Qa extends Rt{constructor(){super(...arguments),this.files=new Z0(this._client),this.fileBatches=new k6(this._client)}create(e,n){return this._client.post("/vector_stores",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/vector_stores/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,r){return this._client.post(`/vector_stores/${e}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e={},n){return qn(e)?this.list({},e):this._client.getAPIList("/vector_stores",rE,{query:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,n){return this._client.delete(`/vector_stores/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}search(e,n,r){return this._client.getAPIList(`/vector_stores/${e}/search`,iE,{body:n,method:"post",...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class rE extends _r{}class iE extends G0{}Qa.VectorStoresPage=rE;Qa.VectorStoreSearchResponsesPage=iE;Qa.Files=Z0;Qa.VectorStoreFilesPage=ew;Qa.FileContentResponsesPage=nE;Qa.FileBatches=k6;var I6;class Ft extends Vle{constructor({baseURL:e=Bx("OPENAI_BASE_URL"),apiKey:n=Bx("OPENAI_API_KEY"),organization:r=Bx("OPENAI_ORG_ID")??null,project:i=Bx("OPENAI_PROJECT_ID")??null,...s}={}){if(n===void 0)throw new Nt("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const o={apiKey:n,organization:r,project:i,...s,baseURL:e||"https://api.openai.com/v1"};if(!o.dangerouslyAllowBrowser&&Qle())throw new Nt(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:o.baseURL,timeout:o.timeout??6e5,httpAgent:o.httpAgent,maxRetries:o.maxRetries,fetch:o.fetch}),this.completions=new S6(this),this.chat=new Y0(this),this.embeddings=new C6(this),this.files=new UT(this),this.images=new P6(this),this.audio=new ay(this),this.moderations=new N6(this),this.models=new XT(this),this.fineTuning=new Xa(this),this.graders=new JT(this),this.vectorStores=new Qa(this),this.beta=new Zu(this),this.batches=new CT(this),this.uploads=new tE(this),this.responses=new eE(this),this.evals=new fy(this),this.containers=new uy(this),this._options=o,this.apiKey=n,this.organization=r,this.project=i}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(e){return _le(e,{arrayFormat:"brackets"})}}I6=Ft;Ft.OpenAI=I6;Ft.DEFAULT_TIMEOUT=6e5;Ft.OpenAIError=Nt;Ft.APIError=zr;Ft.APIConnectionError=V0;Ft.APIConnectionTimeoutError=bT;Ft.APIUserAbortError=as;Ft.NotFoundError=kF;Ft.ConflictError=IF;Ft.RateLimitError=DF;Ft.BadRequestError=jF;Ft.AuthenticationError=RF;Ft.InternalServerError=LF;Ft.PermissionDeniedError=AF;Ft.UnprocessableEntityError=MF;Ft.toFile=VF;Ft.fileFromPath=EF;Ft.Completions=S6;Ft.Chat=Y0;Ft.ChatCompletionsPage=K0;Ft.Embeddings=C6;Ft.Files=UT;Ft.FileObjectsPage=VT;Ft.Images=P6;Ft.Audio=ay;Ft.Moderations=N6;Ft.Models=XT;Ft.ModelsPage=QT;Ft.FineTuning=Xa;Ft.Graders=JT;Ft.VectorStores=Qa;Ft.VectorStoresPage=rE;Ft.VectorStoreSearchResponsesPage=iE;Ft.Beta=Zu;Ft.Batches=CT;Ft.BatchesPage=_T;Ft.Uploads=tE;Ft.Responses=eE;Ft.Evals=fy;Ft.EvalListResponsesPage=BT;Ft.Containers=uy;Ft.ContainerListResponsesPage=LT;const bce="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",Cce=new Ft({apiKey:bce,dangerouslyAllowBrowser:!0});async function _ce(t,e={}){if(!t||typeof t!="string"||t.trim()==="")throw new Error("A valid prompt string is required for OpenAI image generation.");console.log(`[OpenAI] Generating image with prompt: "${t}"`);try{const n=await Cce.images.generate({model:"gpt-image-1",prompt:t,n:e.n||1,size:e.size||"1024x1024",quality:e.quality||"auto",response_format:"b64_json"});if(console.log("[OpenAI] Image generation response:",n),n.data&&n.data.length>0&&n.data[0].b64_json)return{b64_json:n.data[0].b64_json,alt:`OpenAI generated image for: ${t.substring(0,50)}`,revised_prompt:n.data[0].revised_prompt};throw new Error("No image data found in OpenAI response.")}catch(n){throw console.error("[OpenAI] Error generating image:",n),n.response&&n.response.data&&n.response.data.error?new Error(`OpenAI API Error: ${n.response.data.error.message}`):n}}const Tce="modulepreload",Ece=function(t){return"/"+t},rD={},Vn=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let o=function(d){return Promise.all(d.map(h=>Promise.resolve(h).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=o(n.map(d=>{if(d=Ece(d),d in rD)return;rD[d]=!0;const h=d.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${p}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":Tce,h||(g.as="script"),g.crossOrigin="",g.href=d,u&&g.setAttribute("nonce",u),document.head.appendChild(g),h)return new Promise((y,b)=>{g.addEventListener("load",y),g.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})},Pce=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Vn(async()=>{const{default:r}=await Promise.resolve().then(()=>td);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class sE extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class Nce extends sE{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class jce extends sE{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Rce extends sE{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var IC;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(IC||(IC={}));var Ace=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(h){try{d(r.next(h))}catch(p){o(p)}}function u(h){try{d(r.throw(h))}catch(p){o(p)}}function d(h){h.done?s(h.value):i(h.value).then(l,u)}d((r=r.apply(t,e||[])).next())})};class kce{constructor(e,{headers:n={},customFetch:r,region:i=IC.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=Pce(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return Ace(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=n;let l={},{region:u}=n;u||(u=this.region),u&&u!=="any"&&(l["x-region"]=u);let d;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const h=yield this.fetch(`${this.url}/${e}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:d}).catch(b=>{throw new Nce(b)}),p=h.headers.get("x-relay-error");if(p&&p==="true")throw new jce(h);if(!h.ok)throw new Rce(h);let g=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),y;return g==="application/json"?y=yield h.json():g==="application/octet-stream"?y=yield h.blob():g==="text/event-stream"?y=h:g==="multipart/form-data"?y=yield h.formData():y=yield h.text(),{data:y,error:null}}catch(i){return{data:null,error:i}}})}}var jr={},Zc={},eu={},tu={},nu={},ru={},Ice=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},zu=Ice();const Mce=zu.fetch,M6=zu.fetch.bind(zu),D6=zu.Headers,Dce=zu.Request,Lce=zu.Response,td=Object.freeze(Object.defineProperty({__proto__:null,Headers:D6,Request:Dce,Response:Lce,default:M6,fetch:Mce},Symbol.toStringTag,{value:"Module"})),Oce=e3(td);var Hx={},iD;function L6(){if(iD)return Hx;iD=1,Object.defineProperty(Hx,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Hx.default=t,Hx}var sD;function O6(){if(sD)return ru;sD=1;var t=ru&&ru.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(ru,"__esModule",{value:!0});const e=t(Oce),n=t(L6());class r{constructor(s){this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=s.headers,this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=s.shouldThrowOnError,this.signal=s.signal,this.isMaybeSingle=s.isMaybeSingle,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,o){return this.headers=Object.assign({},this.headers),this.headers[s]=o,this}then(s,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const l=this.fetch;let u=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var h,p,g;let y=null,b=null,C=null,_=d.status,P=d.statusText;if(d.ok){if(this.method!=="HEAD"){const I=await d.text();I===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?b=I:b=JSON.parse(I))}const j=(h=this.headers.Prefer)===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),R=(p=d.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");j&&R&&R.length>1&&(C=parseInt(R[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(y={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,C=null,_=406,P="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const j=await d.text();try{y=JSON.parse(j),Array.isArray(y)&&d.status===404&&(b=[],y=null,_=200,P="OK")}catch{d.status===404&&j===""?(_=204,P="No Content"):y={message:j}}if(y&&this.isMaybeSingle&&(!((g=y==null?void 0:y.details)===null||g===void 0)&&g.includes("0 rows"))&&(y=null,_=200,P="OK"),y&&this.shouldThrowOnError)throw new n.default(y)}return{error:y,data:b,count:C,status:_,statusText:P}});return this.shouldThrowOnError||(u=u.catch(d=>{var h,p,g;return{error:{message:`${(h=d==null?void 0:d.name)!==null&&h!==void 0?h:"FetchError"}: ${d==null?void 0:d.message}`,details:`${(p=d==null?void 0:d.stack)!==null&&p!==void 0?p:""}`,hint:"",code:`${(g=d==null?void 0:d.code)!==null&&g!==void 0?g:""}`},data:null,count:null,status:0,statusText:""}})),u.then(s,o)}returns(){return this}overrideTypes(){return this}}return ru.default=r,ru}var oD;function $6(){if(oD)return nu;oD=1;var t=nu&&nu.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(nu,"__esModule",{value:!0});const e=t(O6());class n extends e.default{select(i){let s=!1;const o=(i??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(i,{ascending:s=!0,nullsFirst:o,foreignTable:l,referencedTable:u=l}={}){const d=u?`${u}.order`:"order",h=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${h?`${h},`:""}${i}.${s?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:o=s}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${i}`),this}range(i,s,{foreignTable:o,referencedTable:l=o}={}){const u=typeof l>"u"?"offset":`${l}.offset`,d=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${i}`),this.url.searchParams.set(d,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:i=!1,verbose:s=!1,settings:o=!1,buffers:l=!1,wal:u=!1,format:d="text"}={}){var h;const p=[i?"analyze":null,s?"verbose":null,o?"settings":null,l?"buffers":null,u?"wal":null].filter(Boolean).join("|"),g=(h=this.headers.Accept)!==null&&h!==void 0?h:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${d}; for="${g}"; options=${p};`,d==="json"?this:this}rollback(){var i;return((i=this.headers.Prefer)!==null&&i!==void 0?i:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return nu.default=n,nu}var aD;function oE(){if(aD)return tu;aD=1;var t=tu&&tu.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(tu,"__esModule",{value:!0});const e=t($6());class n extends e.default{eq(i,s){return this.url.searchParams.append(i,`eq.${s}`),this}neq(i,s){return this.url.searchParams.append(i,`neq.${s}`),this}gt(i,s){return this.url.searchParams.append(i,`gt.${s}`),this}gte(i,s){return this.url.searchParams.append(i,`gte.${s}`),this}lt(i,s){return this.url.searchParams.append(i,`lt.${s}`),this}lte(i,s){return this.url.searchParams.append(i,`lte.${s}`),this}like(i,s){return this.url.searchParams.append(i,`like.${s}`),this}likeAllOf(i,s){return this.url.searchParams.append(i,`like(all).{${s.join(",")}}`),this}likeAnyOf(i,s){return this.url.searchParams.append(i,`like(any).{${s.join(",")}}`),this}ilike(i,s){return this.url.searchParams.append(i,`ilike.${s}`),this}ilikeAllOf(i,s){return this.url.searchParams.append(i,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(i,s){return this.url.searchParams.append(i,`ilike(any).{${s.join(",")}}`),this}is(i,s){return this.url.searchParams.append(i,`is.${s}`),this}in(i,s){const o=Array.from(new Set(s)).map(l=>typeof l=="string"&&new RegExp("[,()]").test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${o})`),this}contains(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cs.{${s.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(s)}`),this}containedBy(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cd.{${s.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(s)}`),this}rangeGt(i,s){return this.url.searchParams.append(i,`sr.${s}`),this}rangeGte(i,s){return this.url.searchParams.append(i,`nxl.${s}`),this}rangeLt(i,s){return this.url.searchParams.append(i,`sl.${s}`),this}rangeLte(i,s){return this.url.searchParams.append(i,`nxr.${s}`),this}rangeAdjacent(i,s){return this.url.searchParams.append(i,`adj.${s}`),this}overlaps(i,s){return typeof s=="string"?this.url.searchParams.append(i,`ov.${s}`):this.url.searchParams.append(i,`ov.{${s.join(",")}}`),this}textSearch(i,s,{config:o,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const d=o===void 0?"":`(${o})`;return this.url.searchParams.append(i,`${u}fts${d}.${s}`),this}match(i){return Object.entries(i).forEach(([s,o])=>{this.url.searchParams.append(s,`eq.${o}`)}),this}not(i,s,o){return this.url.searchParams.append(i,`not.${s}.${o}`),this}or(i,{foreignTable:s,referencedTable:o=s}={}){const l=o?`${o}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,s,o){return this.url.searchParams.append(i,`${s}.${o}`),this}}return tu.default=n,tu}var lD;function F6(){if(lD)return eu;lD=1;var t=eu&&eu.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(eu,"__esModule",{value:!0});const e=t(oE());class n{constructor(i,{headers:s={},schema:o,fetch:l}){this.url=i,this.headers=s,this.schema=o,this.fetch=l}select(i,{head:s=!1,count:o}={}){const l=s?"HEAD":"GET";let u=!1;const d=(i??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",d),o&&(this.headers.Prefer=`count=${o}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(i,{count:s,defaultToNull:o=!0}={}){const l="POST",u=[];if(this.headers.Prefer&&u.push(this.headers.Prefer),s&&u.push(`count=${s}`),o||u.push("missing=default"),this.headers.Prefer=u.join(","),Array.isArray(i)){const d=i.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(d.length>0){const h=[...new Set(d)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}upsert(i,{onConflict:s,ignoreDuplicates:o=!1,count:l,defaultToNull:u=!0}={}){const d="POST",h=[`resolution=${o?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&h.push(this.headers.Prefer),l&&h.push(`count=${l}`),u||h.push("missing=default"),this.headers.Prefer=h.join(","),Array.isArray(i)){const p=i.reduce((g,y)=>g.concat(Object.keys(y)),[]);if(p.length>0){const g=[...new Set(p)].map(y=>`"${y}"`);this.url.searchParams.set("columns",g.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}update(i,{count:s}={}){const o="PATCH",l=[];return this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),this.headers.Prefer=l.join(","),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}delete({count:i}={}){const s="DELETE",o=[];return i&&o.push(`count=${i}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new e.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return eu.default=n,eu}var zm={},Wm={},cD;function $ce(){return cD||(cD=1,Object.defineProperty(Wm,"__esModule",{value:!0}),Wm.version=void 0,Wm.version="0.0.0-automated"),Wm}var uD;function Fce(){if(uD)return zm;uD=1,Object.defineProperty(zm,"__esModule",{value:!0}),zm.DEFAULT_HEADERS=void 0;const t=$ce();return zm.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},zm}var dD;function Bce(){if(dD)return Zc;dD=1;var t=Zc&&Zc.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Zc,"__esModule",{value:!0});const e=t(F6()),n=t(oE()),r=Fce();class i{constructor(o,{headers:l={},schema:u,fetch:d}={}){this.url=o,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),l),this.schemaName=u,this.fetch=d}from(o){const l=new URL(`${this.url}/${o}`);return new e.default(l,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new i(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,l={},{head:u=!1,get:d=!1,count:h}={}){let p;const g=new URL(`${this.url}/rpc/${o}`);let y;u||d?(p=u?"HEAD":"GET",Object.entries(l).filter(([C,_])=>_!==void 0).map(([C,_])=>[C,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([C,_])=>{g.searchParams.append(C,_)})):(p="POST",y=l);const b=Object.assign({},this.headers);return h&&(b.Prefer=`count=${h}`),new n.default({method:p,url:g,headers:b,schema:this.schemaName,body:y,fetch:this.fetch,allowEmpty:!1})}}return Zc.default=i,Zc}var fD;function Uce(){if(fD)return jr;fD=1;var t=jr&&jr.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(jr,"__esModule",{value:!0}),jr.PostgrestError=jr.PostgrestBuilder=jr.PostgrestTransformBuilder=jr.PostgrestFilterBuilder=jr.PostgrestQueryBuilder=jr.PostgrestClient=void 0;const e=t(Bce());jr.PostgrestClient=e.default;const n=t(F6());jr.PostgrestQueryBuilder=n.default;const r=t(oE());jr.PostgrestFilterBuilder=r.default;const i=t($6());jr.PostgrestTransformBuilder=i.default;const s=t(O6());jr.PostgrestBuilder=s.default;const o=t(L6());return jr.PostgrestError=o.default,jr.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:s.default,PostgrestError:o.default},jr}var Vce=Uce();const zce=Gu(Vce),{PostgrestClient:Wce,PostgrestQueryBuilder:kTe,PostgrestFilterBuilder:ITe,PostgrestTransformBuilder:MTe,PostgrestBuilder:DTe,PostgrestError:LTe}=zce,qce="2.11.2",Gce={"X-Client-Info":`realtime-js/${qce}`},Hce="1.0.0",B6=1e4,Kce=1e3;var Ru;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ru||(Ru={}));var zi;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(zi||(zi={}));var Ts;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ts||(Ts={}));var MC;(function(t){t.websocket="websocket"})(MC||(MC={}));var $l;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})($l||($l={}));class Yce{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const i=n.getUint8(1),s=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(e.slice(o,o+i));o=o+i;const u=r.decode(e.slice(o,o+s));o=o+s;const d=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:u,payload:d}}}class U6{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var An;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(An||(An={}));const hD=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((s,o)=>(s[o]=Jce(o,t,e,i),s),{})},Jce=(t,e,n,r)=>{const i=e.find(l=>l.name===t),s=i==null?void 0:i.type,o=n[t];return s&&!r.includes(s)?V6(s,o):DC(o)},V6=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return eue(e,n)}switch(t){case An.bool:return Xce(e);case An.float4:case An.float8:case An.int2:case An.int4:case An.int8:case An.numeric:case An.oid:return Qce(e);case An.json:case An.jsonb:return Zce(e);case An.timestamp:return tue(e);case An.abstime:case An.date:case An.daterange:case An.int4range:case An.int8range:case An.money:case An.reltime:case An.text:case An.time:case An.timestamptz:case An.timetz:case An.tsrange:case An.tstzrange:return DC(e);default:return DC(e)}},DC=t=>t,Xce=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Qce=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Zce=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},eue=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let s;const o=t.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(l=>V6(e,l))}return t},tue=t=>typeof t=="string"?t.replace(" ","T"):t,z6=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class rb{constructor(e,n,r={},i=B6){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var pD;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(pD||(pD={}));class bg{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=bg.syncState(this.state,i,s,o),this.pendingDiffs.forEach(u=>{this.state=bg.syncDiff(this.state,u,s,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=bg.syncDiff(this.state,i,s,o),l())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const s=this.cloneDeep(e),o=this.transformState(n),l={},u={};return this.map(s,(d,h)=>{o[d]||(u[d]=h)}),this.map(o,(d,h)=>{const p=s[d];if(p){const g=h.map(_=>_.presence_ref),y=p.map(_=>_.presence_ref),b=h.filter(_=>y.indexOf(_.presence_ref)<0),C=p.filter(_=>g.indexOf(_.presence_ref)<0);b.length>0&&(l[d]=b),C.length>0&&(u[d]=C)}else l[d]=h}),this.syncDiff(s,{joins:l,leaves:u},r,i)}static syncDiff(e,n,r,i){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(l,u)=>{var d;const h=(d=e[l])!==null&&d!==void 0?d:[];if(e[l]=this.cloneDeep(u),h.length>0){const p=e[l].map(y=>y.presence_ref),g=h.filter(y=>p.indexOf(y.presence_ref)<0);e[l].unshift(...g)}r(l,h,u)}),this.map(o,(l,u)=>{let d=e[l];if(!d)return;const h=u.map(p=>p.presence_ref);d=d.filter(p=>h.indexOf(p.presence_ref)<0),e[l]=d,i(l,d,u),d.length===0&&delete e[l]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var mD;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(mD||(mD={}));var gD;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(gD||(gD={}));var To;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(To||(To={}));class aE{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=zi.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new rb(this,Ts.join,this.params,this.timeout),this.rejoinTimer=new U6(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=zi.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=zi.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=zi.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=zi.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ts.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new bg(this),this.broadcastEndpointURL=z6(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:o,private:l}}=this.params;this._onError(h=>e==null?void 0:e(To.CHANNEL_ERROR,h)),this._onClose(()=>e==null?void 0:e(To.CLOSED));const u={},d={broadcast:s,presence:o,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(h=>h.filter))!==null&&i!==void 0?i:[],private:l};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:d},u)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:h})=>{var p;if(this.socket.setAuth(),h===void 0){e==null||e(To.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,y=(p=g==null?void 0:g.length)!==null&&p!==void 0?p:0,b=[];for(let C=0;C<y;C++){const _=g[C],{filter:{event:P,schema:E,table:j,filter:R}}=_,I=h&&h[C];if(I&&I.event===P&&I.schema===E&&I.table===j&&I.filter===R)b.push(Object.assign(Object.assign({},_),{id:I.id}));else{this.unsubscribe(),e==null||e(To.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,e&&e(To.SUBSCRIBED);return}}).receive("error",h=>{e==null||e(To.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(To.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:o}=e,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=d.body)===null||i===void 0?void 0:i.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,l,u;const d=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.ack)&&s("ok"),d.receive("ok",()=>s("ok")),d.receive("error",()=>s("error")),d.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=zi.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ts.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const i=new rb(this,Ts.leave,{},e);i.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(e,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new rb(this,e,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,s;const o=e.toLocaleLowerCase(),{close:l,error:u,leave:d,join:h}=Ts;if(r&&[l,u,d,h].indexOf(o)>=0&&r!==this._joinRef())return;let g=this._onMessage(o,n,r);if(n&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(y=>{var b,C,_;return((b=y.filter)===null||b===void 0?void 0:b.event)==="*"||((_=(C=y.filter)===null||C===void 0?void 0:C.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(y=>y.callback(g,r)):(s=this.bindings[o])===null||s===void 0||s.filter(y=>{var b,C,_,P,E,j;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const R=y.id,I=(b=y.filter)===null||b===void 0?void 0:b.event;return R&&((C=n.ids)===null||C===void 0?void 0:C.includes(R))&&(I==="*"||(I==null?void 0:I.toLocaleLowerCase())===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const R=(E=(P=y==null?void 0:y.filter)===null||P===void 0?void 0:P.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return R==="*"||R===((j=n==null?void 0:n.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof g=="object"&&"ids"in g){const b=g.data,{schema:C,table:_,commit_timestamp:P,type:E,errors:j}=b;g=Object.assign(Object.assign({},{schema:C,table:_,commit_timestamp:P,eventType:E,new:{},old:{},errors:j}),this._getPayloadRecords(b))}y.callback(g,r)})}_isClosed(){return this.state===zi.closed}_isJoined(){return this.state===zi.joined}_isJoining(){return this.state===zi.joining}_isLeaving(){return this.state===zi.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&aE.isEqual(i.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ts.close,{},e)}_onError(e){this._on(Ts.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=zi.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=hD(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=hD(e.columns,e.old_record)),n}}const nue=()=>{},rue=typeof WebSocket<"u",iue=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class sue{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Gce,this.params={},this.timeout=B6,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=nue,this.conn=null,this.sendBuffer=[],this.serializer=new Yce,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...l)=>Vn(async()=>{const{default:u}=await Promise.resolve().then(()=>td);return{default:u}},void 0).then(({default:u})=>u(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${e}/${MC.websocket}`,this.httpEndpoint=z6(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(s,o)=>o(JSON.stringify(s)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new U6(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(rue){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new oue(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Vn(async()=>{const{default:e}=await import("./browser-BoPzKPWS.js").then(n=>n.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Hce}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ru.connecting:return $l.Connecting;case Ru.open:return $l.Open;case Ru.closing:return $l.Closing;default:return $l.Closed}}isConnected(){return this.connectionState()===$l.Open}channel(e,n={config:{}}){const r=new aE(`realtime:${e}`,n,this);return this.channels.push(r),r}push(e){const{topic:n,event:r,payload:i,ref:s}=e,o=()=>{this.encode(e,l=>{var u;(u=this.conn)===null||u===void 0||u.send(l)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(i=>{n&&i.updateJoinPayload({access_token:n}),i.joinedOnce&&i._isJoined()&&i._push(Ts.access_token,{access_token:n})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Kce,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:i,payload:s,ref:o}=n;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${o&&"("+o+")"||""}`,s),this.channels.filter(l=>l._isMember(r)).forEach(l=>l._trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ts.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([iue],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class oue{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Ru.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class lE extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ar(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class aue extends lE{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class LC extends lE{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var lue=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(h){try{d(r.next(h))}catch(p){o(p)}}function u(h){try{d(r.throw(h))}catch(p){o(p)}}function d(h){h.done?s(h.value):i(h.value).then(l,u)}d((r=r.apply(t,e||[])).next())})};const W6=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Vn(async()=>{const{default:r}=await Promise.resolve().then(()=>td);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},cue=()=>lue(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Vn(()=>Promise.resolve().then(()=>td),void 0)).Response:Response}),OC=t=>{if(Array.isArray(t))return t.map(n=>OC(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=OC(r)}),e};var cc=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(h){try{d(r.next(h))}catch(p){o(p)}}function u(h){try{d(r.throw(h))}catch(p){o(p)}}function d(h){h.done?s(h.value):i(h.value).then(l,u)}d((r=r.apply(t,e||[])).next())})};const ib=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),uue=(t,e,n)=>cc(void 0,void 0,void 0,function*(){const r=yield cue();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{e(new aue(ib(i),t.status||500))}).catch(i=>{e(new LC(ib(i),i))}):e(new LC(ib(t),t))}),due=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),n))};function hy(t,e,n,r,i,s){return cc(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(n,due(e,r,i,s)).then(u=>{if(!u.ok)throw u;return r!=null&&r.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>uue(u,l,r))})})}function Xv(t,e,n,r){return cc(this,void 0,void 0,function*(){return hy(t,"GET",e,n,r)})}function wa(t,e,n,r,i){return cc(this,void 0,void 0,function*(){return hy(t,"POST",e,r,i,n)})}function fue(t,e,n,r,i){return cc(this,void 0,void 0,function*(){return hy(t,"PUT",e,r,i,n)})}function hue(t,e,n,r){return cc(this,void 0,void 0,function*(){return hy(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function q6(t,e,n,r,i){return cc(this,void 0,void 0,function*(){return hy(t,"DELETE",e,r,i,n)})}var _i=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(h){try{d(r.next(h))}catch(p){o(p)}}function u(h){try{d(r.throw(h))}catch(p){o(p)}}function d(h){h.done?s(h.value):i(h.value).then(l,u)}d((r=r.apply(t,e||[])).next())})};const pue={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},yD={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class mue{constructor(e,n={},r,i){this.url=e,this.headers=n,this.bucketId=r,this.fetch=W6(i)}uploadOrUpdate(e,n,r,i){return _i(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},yD),i);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),u&&s.append("metadata",this.encodeMetadata(u)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl),u&&s.append("metadata",this.encodeMetadata(u))):(s=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,u&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const d=this._removeEmptyFolders(n),h=this._getFinalPath(d),p=yield this.fetch(`${this.url}/object/${h}`,Object.assign({method:e,body:s,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),g=yield p.json();return p.ok?{data:{path:d,id:g.Id,fullPath:g.Key},error:null}:{data:null,error:g}}catch(s){if(Ar(s))return{data:null,error:s};throw s}})}upload(e,n,r){return _i(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return _i(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),o=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let u;const d=Object.assign({upsert:yD.upsert},i),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",d.cacheControl)):(u=r,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType);const p=yield this.fetch(l.toString(),{method:"PUT",body:u,headers:h}),g=yield p.json();return p.ok?{data:{path:s,fullPath:g.Key},error:null}:{data:null,error:g}}catch(u){if(Ar(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(e,n){return _i(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield wa(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+s.url),l=o.searchParams.get("token");if(!l)throw new lE("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(r){if(Ar(r))return{data:null,error:r};throw r}})}update(e,n,r){return _i(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return _i(this,void 0,void 0,function*(){try{return{data:yield wa(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Ar(i))return{data:null,error:i};throw i}})}copy(e,n,r){return _i(this,void 0,void 0,function*(){try{return{data:{path:(yield wa(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Ar(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return _i(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield wa(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(Ar(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return _i(this,void 0,void 0,function*(){try{const i=yield wa(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(Ar(i))return{data:null,error:i};throw i}})}download(e,n){return _i(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=s?`?${s}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield Xv(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Ar(l))return{data:null,error:l};throw l}})}info(e){return _i(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Xv(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:OC(r),error:null}}catch(r){if(Ar(r))return{data:null,error:r};throw r}})}exists(e){return _i(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield hue(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Ar(r)&&r instanceof LC){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});u!==""&&i.push(u);let d=i.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${d}`)}}}remove(e){return _i(this,void 0,void 0,function*(){try{return{data:yield q6(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(Ar(n))return{data:null,error:n};throw n}})}list(e,n,r){return _i(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},pue),n),{prefix:e||""});return{data:yield wa(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(Ar(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const gue="2.7.1",yue={"X-Client-Info":`storage-js/${gue}`};var iu=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(h){try{d(r.next(h))}catch(p){o(p)}}function u(h){try{d(r.throw(h))}catch(p){o(p)}}function d(h){h.done?s(h.value):i(h.value).then(l,u)}d((r=r.apply(t,e||[])).next())})};class xue{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},yue),n),this.fetch=W6(r)}listBuckets(){return iu(this,void 0,void 0,function*(){try{return{data:yield Xv(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Ar(e))return{data:null,error:e};throw e}})}getBucket(e){return iu(this,void 0,void 0,function*(){try{return{data:yield Xv(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(Ar(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return iu(this,void 0,void 0,function*(){try{return{data:yield wa(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ar(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return iu(this,void 0,void 0,function*(){try{return{data:yield fue(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ar(r))return{data:null,error:r};throw r}})}emptyBucket(e){return iu(this,void 0,void 0,function*(){try{return{data:yield wa(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Ar(n))return{data:null,error:n};throw n}})}deleteBucket(e){return iu(this,void 0,void 0,function*(){try{return{data:yield q6(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(Ar(n))return{data:null,error:n};throw n}})}}class vue extends xue{constructor(e,n={},r){super(e,n,r)}from(e){return new mue(this.url,this.headers,e,this.fetch)}}const wue="2.49.8";let lg="";typeof Deno<"u"?lg="deno":typeof document<"u"?lg="web":typeof navigator<"u"&&navigator.product==="ReactNative"?lg="react-native":lg="node";const Sue={"X-Client-Info":`supabase-js-${lg}/${wue}`},bue={headers:Sue},Cue={schema:"public"},_ue={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Tue={};var Eue=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(h){try{d(r.next(h))}catch(p){o(p)}}function u(h){try{d(r.throw(h))}catch(p){o(p)}}function d(h){h.done?s(h.value):i(h.value).then(l,u)}d((r=r.apply(t,e||[])).next())})};const Pue=t=>{let e;return t?e=t:typeof fetch>"u"?e=M6:e=fetch,(...n)=>e(...n)},Nue=()=>typeof Headers>"u"?D6:Headers,jue=(t,e,n)=>{const r=Pue(n),i=Nue();return(s,o)=>Eue(void 0,void 0,void 0,function*(){var l;const u=(l=yield e())!==null&&l!==void 0?l:t;let d=new i(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${u}`),r(s,Object.assign(Object.assign({},o),{headers:d}))})};var Rue=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(h){try{d(r.next(h))}catch(p){o(p)}}function u(h){try{d(r.throw(h))}catch(p){o(p)}}function d(h){h.done?s(h.value):i(h.value).then(l,u)}d((r=r.apply(t,e||[])).next())})};function Aue(t){return t.endsWith("/")?t:t+"/"}function kue(t,e){var n,r;const{db:i,auth:s,realtime:o,global:l}=t,{db:u,auth:d,realtime:h,global:p}=e,g={db:Object.assign(Object.assign({},u),i),auth:Object.assign(Object.assign({},d),s),realtime:Object.assign(Object.assign({},h),o),global:Object.assign(Object.assign(Object.assign({},p),l),{headers:Object.assign(Object.assign({},(n=p==null?void 0:p.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>Rue(this,void 0,void 0,function*(){return""})};return t.accessToken?g.accessToken=t.accessToken:delete g.accessToken,g}const G6="2.69.1",mu=30*1e3,$C=3,sb=$C*mu,Iue="http://localhost:9999",Mue="supabase.auth.token",Due={"X-Client-Info":`gotrue-js/${G6}`},FC="X-Supabase-Api-Version",H6={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Lue=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Oue=6e5;class cE extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Kt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class $ue extends cE{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Fue(t){return Kt(t)&&t.name==="AuthApiError"}class K6 extends cE{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Za extends cE{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class ga extends Za{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Bue(t){return Kt(t)&&t.name==="AuthSessionMissingError"}class ob extends Za{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Kx extends Za{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Yx extends Za{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Uue(t){return Kt(t)&&t.name==="AuthImplicitGrantRedirectError"}class xD extends Za{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class BC extends Za{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function ab(t){return Kt(t)&&t.name==="AuthRetryableFetchError"}class vD extends Za{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Cg extends Za{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const wD="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),SD=` 	
\r=`.split(""),Vue=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<SD.length;e+=1)t[SD[e].charCodeAt(0)]=-2;for(let e=0;e<wD.length;e+=1)t[wD[e].charCodeAt(0)]=e;return t})();function Y6(t,e,n){const r=Vue[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function bD(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{que(o,r,n)};for(let o=0;o<t.length;o+=1)Y6(t.charCodeAt(o),i,s);return e.join("")}function zue(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Wue(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}zue(r,e)}}function que(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Gue(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)Y6(t.charCodeAt(i),n,r);return new Uint8Array(e)}function Hue(t){const e=[];return Wue(t,n=>e.push(n)),new Uint8Array(e)}function Kue(t){return Math.round(Date.now()/1e3)+t}function Yue(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const qs=()=>typeof window<"u"&&typeof document<"u",Rl={tested:!1,writable:!1},_g=()=>{if(!qs())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Rl.tested)return Rl.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Rl.tested=!0,Rl.writable=!0}catch{Rl.tested=!0,Rl.writable=!1}return Rl.writable};function Jue(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const J6=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Vn(async()=>{const{default:r}=await Promise.resolve().then(()=>td);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Xue=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",X6=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Jx=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Xx=async(t,e)=>{await t.removeItem(e)};class tw{constructor(){this.promise=new tw.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}tw.promiseConstructor=Promise;function lb(t){const e=t.split(".");if(e.length!==3)throw new Cg("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Lue.test(e[r]))throw new Cg("JWT not in base64url format");return{header:JSON.parse(bD(e[0])),payload:JSON.parse(bD(e[1])),signature:Gue(e[2]),raw:{header:e[0],payload:e[1]}}}async function Que(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Zue(t,e){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await t(s);if(!e(s,null,o)){r(o);return}}catch(o){if(!e(s,o)){i(o);return}}})()})}function ede(t){return("0"+t.toString(16)).substr(-2)}function tde(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,ede).join("")}async function nde(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function rde(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await nde(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function su(t,e,n=!1){const r=tde();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await X6(t,`${e}-code-verifier`,i);const s=await rde(r);return[s,r===s?"plain":"s256"]}const ide=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function sde(t){const e=t.headers.get(FC);if(!e||!e.match(ide))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function ode(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function ade(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var lde=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Ml=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),cde=[502,503,504];async function CD(t){var e;if(!Xue(t))throw new BC(Ml(t),0);if(cde.includes(t.status))throw new BC(Ml(t),t.status);let n;try{n=await t.json()}catch(s){throw new K6(Ml(s),s)}let r;const i=sde(t);if(i&&i.getTime()>=H6["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new vD(Ml(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new ga}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new vD(Ml(n),t.status,n.weak_password.reasons);throw new $ue(Ml(n),t.status||500,r)}const ude=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function rn(t,e,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[FC]||(s[FC]=H6["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await dde(t,e,n+l,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(u):{data:Object.assign({},u),error:null}}async function dde(t,e,n,r,i,s){const o=ude(e,r,i,s);let l;try{l=await t(n,Object.assign({},o))}catch(u){throw console.error(u),new BC(Ml(u),0)}if(l.ok||await CD(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(u){await CD(u)}}function ya(t){var e;let n=null;mde(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Kue(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function _D(t){const e=ya(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ba(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function fde(t){return{data:t,error:null}}function hde(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=t,o=lde(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},u=Object.assign({},o);return{data:{properties:l,user:u},error:null}}function pde(t){return t}function mde(t){return t.access_token&&t.refresh_token&&t.expires_in}var gde=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class yde{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=J6(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await rn(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Kt(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await rn(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ba})}catch(r){if(Kt(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=gde(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await rn(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:hde,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Kt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await rn(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ba})}catch(n){if(Kt(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,s,o,l,u;try{const d={nextPage:null,lastPage:0,total:0},h=await rn(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:pde});if(h.error)throw h.error;const p=await h.json(),g=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(u=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return y.length>0&&(y.forEach(b=>{const C=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(b.split(";")[1].split("=")[1]);d[`${_}Page`]=C}),d.total=parseInt(g)),{data:Object.assign(Object.assign({},p),d),error:null}}catch(d){if(Kt(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){try{return await rn(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ba})}catch(n){if(Kt(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await rn(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:ba})}catch(r){if(Kt(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){try{return await rn(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:ba})}catch(r){if(Kt(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:n,error:r}=await rn(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Kt(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await rn(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Kt(n))return{data:null,error:n};throw n}}}const xde={getItem:t=>_g()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{_g()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{_g()&&globalThis.localStorage.removeItem(t)}};function TD(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function vde(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ou={debug:!!(globalThis&&_g()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Q6 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class wde extends Q6{}async function Sde(t,e,n){ou.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),ou.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){ou.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{ou.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw ou.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new wde(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ou.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}vde();const bde={url:Iue,storageKey:Mue,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Due,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ED(t,e,n){return await n()}class Fg{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Fg.nextInstanceID,Fg.nextInstanceID+=1,this.instanceID>0&&qs()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},bde),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new yde({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=J6(i.fetch),this.lock=i.lock||ED,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:qs()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Sde:this.lock=ED,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:_g()?this.storage=xde:(this.memoryStorage={},this.storage=TD(this.memoryStorage)):(this.memoryStorage={},this.storage=TD(this.memoryStorage)),qs()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${G6}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=Jue(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),qs()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Uue(s)){const u=(e=s.details)===null||e===void 0?void 0:e.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Kt(n)?{error:n}:{error:new K6("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const s=await rn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:ya}),{data:o,error:l}=s;if(l||!o)return{data:{user:null,session:null},error:l};const u=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(s){if(Kt(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var n,r,i;try{let s;if("email"in e){const{email:h,password:p,options:g}=e;let y=null,b=null;this.flowType==="pkce"&&([y,b]=await su(this.storage,this.storageKey)),s=await rn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:h,password:p,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:y,code_challenge_method:b},xform:ya})}else if("phone"in e){const{phone:h,password:p,options:g}=e;s=await rn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:p,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},channel:(i=g==null?void 0:g.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:ya})}else throw new Kx("You must provide either an email or phone number and a password");const{data:o,error:l}=s;if(l||!o)return{data:{user:null,session:null},error:l};const u=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(s){if(Kt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let n;if("email"in e){const{email:s,password:o,options:l}=e;n=await rn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:_D})}else if("phone"in e){const{phone:s,password:o,options:l}=e;n=await rn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:_D})}else throw new Kx("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new ob}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Kt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await Jx(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:o}=await rn(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:ya});if(await Xx(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new ob}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(Kt(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:s,nonce:o}=e,l=await rn(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:ya}),{data:u,error:d}=l;return d?{data:{user:null,session:null},error:d}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new ob}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:d})}catch(n){if(Kt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,i,s,o;try{if("email"in e){const{email:l,options:u}=e;let d=null,h=null;this.flowType==="pkce"&&([d,h]=await su(this.storage,this.storageKey));const{error:p}=await rn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=u==null?void 0:u.data)!==null&&n!==void 0?n:{},create_user:(r=u==null?void 0:u.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:d,code_challenge_method:h},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in e){const{phone:l,options:u}=e,{data:d,error:h}=await rn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=u==null?void 0:u.data)!==null&&i!==void 0?i:{},create_user:(s=u==null?void 0:u.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(o=u==null?void 0:u.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:h}}throw new Kx("You must provide either an email or phone number.")}catch(l){if(Kt(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var n,r;try{let i,s;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,s=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await rn(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:ya});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,d=o.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(i){if(Kt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,r,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await su(this.storage,this.storageKey)),await rn(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:fde})}catch(s){if(Kt(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new ga;const{error:i}=await rn(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(Kt(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:s}=e,{error:o}=await rn(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:i,options:s}=e,{data:o,error:l}=await rn(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Kx("You must provide either an email or phone number and a type")}catch(n){if(Kt(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Jx(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<sb:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(u,d,h)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,d,h))})}return{data:{session:e},error:null}}const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await rn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ba}):await this._useSession(async n=>{var r,i,s;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ga}:await rn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:ba})})}catch(n){if(Kt(n))return Bue(n)&&(await this._removeSession(),await Xx(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new ga;const o=i.session;let l=null,u=null;this.flowType==="pkce"&&e.email!=null&&([l,u]=await su(this.storage,this.storageKey));const{data:d,error:h}=await rn(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:u}),jwt:o.access_token,xform:ba});if(h)throw h;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(Kt(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ga;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:o}=lb(e.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{session:l,error:u}=await this._callRefreshToken(e.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:u}=await this._getUser(e.access_token);if(u)throw u;s={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(Kt(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:l}=n;if(l)throw l;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new ga;const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Kt(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!qs())throw new Yx("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Yx(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new xD("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Yx("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new xD("No code detected.");const{data:E,error:j}=await this._exchangeCodeForSession(e.code);if(j)throw j;const R=new URL(window.location.href);return R.searchParams.delete("code"),window.history.replaceState(window.history.state,"",R.toString()),{data:{session:E.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:l,expires_at:u,token_type:d}=e;if(!s||!l||!o||!d)throw new Yx("No session defined in URL");const h=Math.round(Date.now()/1e3),p=parseInt(l);let g=h+p;u&&(g=parseInt(u));const y=g-h;y*1e3<=mu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${p}s`);const b=g-p;h-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,g,h):h-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,g,h);const{data:C,error:_}=await this._getUser(s);if(_)throw _;const P={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:p,expires_at:g,refresh_token:o,token_type:d,user:C.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:P,redirectType:e.type},error:null}}catch(r){if(Kt(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Jx(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(Fue(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await Xx(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=Yue(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await su(this.storage,this.storageKey,!0));try{return await rn(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(Kt(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Kt(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var o,l,u,d,h;const{data:p,error:g}=s;if(g)throw g;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=e.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await rn(this.fetch,"GET",y,{headers:this.headers,jwt:(h=(d=p.session)===null||d===void 0?void 0:d.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return qs()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Kt(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)throw o;return await rn(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Kt(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Zue(async i=>(i>0&&await Que(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await rn(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ya})),(i,s)=>{const o=200*Math.pow(2,i);return s&&ab(s)&&Date.now()+o-r<mu})}catch(r){if(this._debug(n,"error",r),Kt(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),qs()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Jx(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const i=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<sb;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${sb}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:s}=await this._callRefreshToken(r.refresh_token);s&&(console.error(s),ab(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new ga;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new tw;const{data:s,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new ga;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(i,"error",s),Kt(s)){const o={session:null,error:s};return ab(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,n)}catch(u){s.push(u)}});if(await Promise.all(o),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await X6(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Xx(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&qs()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),mu);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/mu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${mu}ms, refresh threshold is ${$C} ticks`),i<=$C&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Q6)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!qs()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await su(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await rn(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Kt(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:u,error:d}=await rn(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&(!((i=u==null?void 0:u.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(n){if(Kt(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const{data:o,error:l}=await rn(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(Kt(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await rn(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Kt(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:i},error:s}=e;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=lb(i.access_token);let l=null;o.aal&&(l=o.aal);let u=l;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(p=>p.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(u="aal2");const h=o.amr||[];return{data:{currentLevel:l,nextLevel:u,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(o=>o.kid===e);if(r||(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+Oue>Date.now()))return r;const{data:i,error:s}=await rn(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;if(!i.keys||i.keys.length===0)throw new Cg("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),r=i.keys.find(o=>o.kid===e),!r)throw new Cg("No matching signing key found in JWKS");return r}async getClaims(e,n={keys:[]}){try{let r=e;if(!r){const{data:y,error:b}=await this.getSession();if(b||!y.session)return{data:null,error:b};r=y.session.access_token}const{header:i,payload:s,signature:o,raw:{header:l,payload:u}}=lb(r);if(ode(s.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:y}=await this.getUser(r);if(y)throw y;return{data:{claims:s,header:i,signature:o},error:null}}const d=ade(i.alg),h=await this.fetchJwk(i.kid,n),p=await crypto.subtle.importKey("jwk",h,d,!0,["verify"]);if(!await crypto.subtle.verify(d,p,o,Hue(`${l}.${u}`)))throw new Cg("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(r){if(Kt(r))return{data:null,error:r};throw r}}}Fg.nextInstanceID=0;const Cde=Fg;class _de extends Cde{constructor(e){super(e)}}var Tde=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(h){try{d(r.next(h))}catch(p){o(p)}}function u(h){try{d(r.throw(h))}catch(p){o(p)}}function d(h){h.done?s(h.value):i(h.value).then(l,u)}d((r=r.apply(t,e||[])).next())})};class Ede{constructor(e,n,r){var i,s,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=Aue(e),u=new URL(l);this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const d=`sb-${u.hostname.split(".")[0]}-auth-token`,h={db:Cue,realtime:Tue,auth:Object.assign(Object.assign({},_ue),{storageKey:d}),global:bue},p=kue(r??{},h);this.storageKey=(i=p.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=p.global.headers)!==null&&s!==void 0?s:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(g,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=p.auth)!==null&&o!==void 0?o:{},this.headers,p.global.fetch),this.fetch=jue(n,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new Wce(new URL("rest/v1",u).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),p.accessToken||this._listenForAuthEvents()}get functions(){return new kce(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new vue(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return Tde(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:s,flowType:o,lock:l,debug:u},d,h){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new _de({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),d),storageKey:s,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,flowType:o,lock:l,debug:u,fetch:h,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new sue(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Pde=(t,e,n)=>new Ede(t,e,n),Nde="https://uwbrgokfgelgxeonoqah.supabase.co",jde="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InV3YnJnb2tmZ2VsZ3hlb25vcWFoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcxODQwODgsImV4cCI6MjA2Mjc2MDA4OH0.xSIMIzEhsIfpOkH4NzUqSOXb-k-tOyCQpOzMAQKvPfc",ni=Pde(Nde,jde),Z6=x.createContext(),Rde=({children:t})=>{const[e,n]=x.useState(null),[r,i]=x.useState(null),[s,o]=x.useState(!0),[l,u]=x.useState(null);x.useEffect(()=>{o(!0);const{data:{subscription:p}}=ni.auth.onAuthStateChange((g,y)=>{i(y),n((y==null?void 0:y.user)??null),u(y!=null&&y.user?"store_owner":null),o(!1)});return()=>{p==null||p.unsubscribe()}},[]);const h={user:e,session:r,isAuthenticated:!!r&&!!e,userRole:l,loadingRole:s,subscriptionStatus:"active"};return a.jsx(Z6.Provider,{value:h,children:t})},Is=()=>{const t=x.useContext(Z6);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},Ade="AIzaSyDJ2rjQjY4mD6E34RqAv_ezZ3a29eYRA0I",kde=[{category:Ir.HARM_CATEGORY_HARASSMENT,threshold:Mr.BLOCK_MEDIUM_AND_ABOVE},{category:Ir.HARM_CATEGORY_HATE_SPEECH,threshold:Mr.BLOCK_MEDIUM_AND_ABOVE},{category:Ir.HARM_CATEGORY_SEXUALLY_EXPLICIT,threshold:Mr.BLOCK_MEDIUM_AND_ABOVE},{category:Ir.HARM_CATEGORY_DANGEROUS_CONTENT,threshold:Mr.BLOCK_MEDIUM_AND_ABOVE}];async function eB(t,e,n=null,r="image/png",i=[]){if(!t||!e)throw new Error("Product type and store name are required to generate a product.");const s=new us({apiKey:Ade});let o=`Generate a product for a store named "${e}" that sells ${t}.
The product should include:
1. A catchy title.
2. A brief description (15-25 words).
3. A realistic price (e.g., 29.99, 45.00).
4. A visually appealing product image.

Return the text details (title, description, price) as a single JSON object in the text part of your response.
Your entire text response MUST be ONLY the JSON object. Do not include any other words, phrases, or conversational text before or after the JSON object.
The JSON object should strictly follow this format:
{
  "title": "Example Product Title",
  "description": "This is a fantastic example product, perfect for your needs and desires.",
  "price": "19.99"
}

Generate an image for this product in the image part of your response.`,l=o;if(i&&i.length>0&&(l+=`

IMPORTANT: The new product MUST be distinct and different from the following products already generated for this store: "${i.join('", "')}". Focus on creating variety.`),n){let b=o;i&&i.length>0&&(b+=`

IMPORTANT: The new product MUST be distinct and different from the following products already generated for this store: "${i.join('", "')}". Focus on creating variety.`),n&&(b+=`

A logo image is also provided. Subtly incorporate this logo onto the product, its packaging, or in the scene if appropriate. For example, it could be a small brand mark on the item or a logo in the background if it's a lifestyle shot. Ensure the product remains the main focus.`),console.log(n?`[geminiProductGeneration Function] Generating product with logo for type: ${t}, store: ${e}. Excluding: ${i.join(", ")}`:`[geminiProductGeneration Function] Generating product without logo for type: ${t}, store: ${e}. Excluding: ${i.join(", ")}`)}else{let b=o;i&&i.length>0&&(b+=`

IMPORTANT: The new product MUST be distinct and different from the following products already generated for this store: "${i.join('", "')}". Focus on creating variety.`),console.log(`[geminiProductGeneration Function] Generating product without logo for type: ${t}, store: ${e}. Excluding: ${i.join(", ")}`)}let u=null,d=null,h="",p=0;const g=3;let y=[];for(;p<g;){p++,console.log(`[geminiProductGeneration Function] Attempt ${p} to generate content...`);let b=o;i&&i.length>0&&(b+=`

IMPORTANT: The new product MUST be distinct and different from the following products already generated for this store: "${i.join('", "')}". Focus on creating variety.`),y.length>0&&(b+=`

ADDITIONALLY IMPORTANT: Avoid re-generating the following titles which were duplicates in previous attempts of THIS request: "${y.join('", "')}". Ensure the new title is truly novel and not similar to these.`),n&&(b+=`

A logo image is also provided. Subtly incorporate this logo onto the product, its packaging, or in the scene if appropriate. For example, it could be a small brand mark on the item or a logo in the background if it's a lifestyle shot. Ensure the product remains the main focus.`);const C=[{text:b}];if(n&&C.push({inlineData:{data:n,mimeType:r}}),p===1){const _=[...i,...y];console.log(`[geminiProductGeneration Function] Generating product for type: ${t}, store: ${e}. Initial exclusions (if any): ${_.join(", ")||"None"}. Logo: ${n?"Yes":"No"}`)}try{const _=await s.models.generateContent({model:"gemini-2.0-flash-preview-image-generation",contents:C,safetySettings:kde,config:{responseModalities:[Vr.TEXT,Vr.IMAGE]}});u=null,d=null;let P="";if(_.candidates&&_.candidates.length>0&&_.candidates[0].content&&_.candidates[0].content.parts)for(const E of _.candidates[0].content.parts)if(E.text){P+=E.text;try{const j=E.text.trim();let R=null;const I=j.match(/```json\s*([\s\S]*?)\s*```/);if(I&&I[1])R=I[1],console.log(`[geminiProductGeneration Function] Attempt ${p}: Found JSON in markdown block.`);else{const M=j.indexOf("{"),A=j.lastIndexOf("}");M!==-1&&A>M&&(R=j.substring(M,A+1),console.log(`[geminiProductGeneration Function] Attempt ${p}: Extracted potential JSON between first '{' and last '}'.`))}R?(u=JSON.parse(R),console.log(`[geminiProductGeneration Function] Attempt ${p}: Successfully parsed JSON.`)):E.text&&(E.text.includes("{")||E.text.includes("}"))?console.warn(`[geminiProductGeneration Function] Attempt ${p}: Text part contained braces but simple extraction failed. Text:`,E.text):E.text&&console.warn(`[geminiProductGeneration Function] Attempt ${p}: No JSON structure (markdown or simple braces) found in text part:`,E.text)}catch(j){console.warn(`[geminiProductGeneration Function] Attempt ${p}: Error parsing extracted JSON string. String was: "${jsonStringToParse}". Original text:`,E.text,"Error:",j.message),u=null}}else E.inlineData&&E.inlineData.data&&(d=E.inlineData.data,console.log(`[geminiProductGeneration Function] Attempt ${p}: Image data found.`));if(h+=(h?`
---
Attempt `+p+`:
`:"Attempt "+p+`:
`)+P,u&&u.title){const E=u.title.toLowerCase(),j=i.some(I=>I.toLowerCase()===E),R=y.some(I=>I.toLowerCase()===E);(j||R)&&(console.warn(`[geminiProductGeneration Function] Attempt ${p}: Generated title "${u.title}" is a duplicate. Adding to exclusion list for next attempt.`),y.push(u.title),u=null)}if(u&&d){console.log(`[geminiProductGeneration Function] Successfully generated unique product on attempt ${p}.`);break}else d||console.warn(`[geminiProductGeneration Function] Attempt ${p} missing image data.`),u||console.warn(`[geminiProductGeneration Function] Attempt ${p} missing text details (or title was duplicate).`)}catch(_){console.error(`[geminiProductGeneration Function] Error during attempt ${p}:`,_.message,_.stack),h+=(h?`
---
`:"")+`Attempt ${p} Error: ${_.message}`}p>=g&&(!u||!d)&&console.error(`[geminiProductGeneration Function] Exhausted ${g} attempts. Product generation failed.`)}if(!u||!d){let b=`Failed to generate complete and unique product data after ${g} attempts. `;throw u||(b+="Text details (or unique title) missing. "),d||(b+="Image data missing. "),console.error(b,"Accumulated raw text responses:",h),new Error(b+`Last raw text (if any): ${h}`)}if(typeof u.title!="string"||typeof u.description!="string"||typeof u.price!="string"&&typeof u.price!="number")throw console.error("[geminiProductGeneration Function] Parsed product details are not in the expected format:",u),new Error("AI response for product details was not in the expected format (title, description, price).");return u.price=String(u.price),console.log("[geminiProductGeneration Function] Successfully generated product details and image data."),{...u,imageData:d}}const Ide="AIzaSyDJ2rjQjY4mD6E34RqAv_ezZ3a29eYRA0I",PD=new us({apiKey:Ide});async function tB(t,e,n,r=[]){const i=n.map(l=>l.name).join(", "),s=r.length>0?`Do NOT use any of the following names: ${r.join(", ")}.`:"",o=`
    You are an AI assistant for an e-commerce store named "${e}" that sells "${t}".
    Based on the following products: ${i}, suggest a compelling and UNIQUE collection name and a short, engaging description (max 2 sentences) for a new collection.
    The collection should group related products or highlight a specific theme.
    ${s}
    Provide the output in a JSON format like this:
    {
      "name": "Collection Name",
      "description": "Collection Description",
      "product_names": ["Product Name 1", "Product Name 2"]
    }
    Ensure the collection name is concise, unique from the provided list (if any), and the description is appealing.
    The "product_names" array should contain a selection of 2 to 4 relevant product names from the provided product list that fit well within this new collection.
  `;try{const l=await PD.models.generateContent({model:"gemini-2.0-flash",contents:[{text:o}],config:{responseModalities:[Vr.TEXT]}});let u="";if(l&&l.candidates&&l.candidates.length>0&&l.candidates[0].content&&l.candidates[0].content.parts&&l.candidates[0].content.parts.length>0)for(const y of l.candidates[0].content.parts)y.text&&(u+=y.text);if(!u)return console.error("Gemini text generation did not return any text content. Full response:",l),{error:"Failed to parse AI response for collection data (no text found)."};let d;try{const y=u.match(/```json\n([\s\S]*?)\n```/);if(y&&y[1])d=JSON.parse(y[1]);else try{d=JSON.parse(u)}catch{console.error("Failed to parse Gemini response as JSON directly, trying to extract from text:",u);const C=u.indexOf("{"),_=u.lastIndexOf("}");if(C!==-1&&_!==-1&&_>C){const P=u.substring(C,_+1);try{d=JSON.parse(P)}catch(E){throw console.error("Final attempt to parse extracted JSON failed:",P,E),E}}else throw new Error("No valid JSON structure found in response.")}}catch(y){return console.error("Failed to parse Gemini response as JSON:",u,y),{error:"Failed to parse AI response for collection data."}}if(!d||!d.name||!d.description||!Array.isArray(d.product_names))return console.error("AI did not return valid collection data including product_names array:",d),{error:"AI did not return valid collection name, description, or product names."};const h=[];d.product_names&&n&&d.product_names.forEach(y=>{const b=n.find(C=>C.name.toLowerCase()===y.toLowerCase());b&&b.id?h.push(b.id):console.warn(`Product name "${y}" from AI response not found in provided product list or missing ID.`)});const p=`A vibrant and appealing e-commerce collection image for "${d.name}", described as "${d.description}", suitable for a store selling ${t}.`;let g=null;try{const y=[{text:p}],b=await PD.models.generateContent({model:"gemini-2.0-flash-preview-image-generation",contents:y,config:{responseModalities:[Vr.TEXT,Vr.IMAGE]}});if(b&&b.candidates&&b.candidates.length>0&&b.candidates[0].content&&b.candidates[0].content.parts&&b.candidates[0].content.parts.length>0){for(const C of b.candidates[0].content.parts)if(C.inlineData&&C.inlineData.data){g=C.inlineData.data;break}}g||console.warn(`Gemini image generation did not return image data for collection: "${d.name}". Full Response:`,b)}catch(y){console.error(`Error generating image for collection "${d.name}" with Gemini:`,y)}return{name:d.name,description:d.description,imageData:g,product_ids:h}}catch(l){return console.error("Error generating collection with Gemini:",l),{error:`Failed to generate collection data: ${l.message}`}}}const Mde="2025-04",nw=async(t,e,n,r={})=>{var l,u;if(!t||t==="your-shop-name.myshopify.com"||!e||e==="YOUR_SHOPIFY_STOREFRONT_ACCESS_TOKEN")throw new Error("Shopify domain or access token is not configured or is using placeholder values.");let i=t.trim().replace(/^(https?:\/\/)/,"").replace(/\/$/,"");i.includes(".")?!i.endsWith(".myshopify.com")&&i.includes("."):i=`${i}.myshopify.com`,i.includes(".")||(i=`${i}.myshopify.com`);let s=t.trim().replace(/^(https?:\/\/)/,"").replace(/\/$/,"");s.includes(".")||(s=`${s}.myshopify.com`);const o=`https://${s}/api/${Mde}/graphql.json`;try{const d=await fetch(o,{method:"POST",headers:{"Content-Type":"application/json","X-Shopify-Storefront-Access-Token":e},body:JSON.stringify({query:n,variables:r})});if(!d.ok){let p;try{p=await d.json()}catch{}const g=((u=(l=p==null?void 0:p.errors)==null?void 0:l[0])==null?void 0:u.message)||`Shopify API request failed: ${d.status} ${d.statusText}`;throw console.error("Shopify API Error:",p||d.statusText),new Error(g)}const h=await d.json();if(h.errors)throw console.error("Shopify GraphQL Errors:",h.errors),new Error(h.errors.map(p=>p.message).join(", "));return h.data}catch(d){throw console.error("Error fetching from Shopify Storefront API:",d),d}},Dde=`
  query GetShopMetadata {
    shop {
      name
      description 
      primaryDomain {
        host
        url
      }
      brand {
        logo {
          image { # Reverted to use image field
            url
            altText
          }
        }
        squareLogo { # Added, assuming similar structure
          image {
            url
            altText # Assuming altText is available, can be removed if not
          }
        }
        coverImage {
          image { # Reverted to use image field
            url
            altText
          }
        }
        slogan
        shortDescription # Added
        colors {
          primary {
            background
            foreground
          }
          secondary {
            background
            foreground
          }
        }
      }
    }
  }
`,Lde=`
  query GetProducts($first: Int = 10, $cursor: String) {
    products(first: $first, after: $cursor) {
      edges {
        node {
          id
          title
          description # Changed from descriptionHtml
          handle
          tags
          images(first: 5) { # Changed from first: 1
            edges {
              node {
                url
                altText
              }
            }
          }
          variants(first: 5) { # Changed from first: 1
            edges {
              node {
                id # Added for variants
                title # Added for variants
                availableForSale # Added
                sku # Added from debug guide example
                price: priceV2 { # Changed from priceRange.minVariantPrice to priceV2, aliased to price
                    amount
                    currencyCode
                }
                image {
                   url
                   altText
                }
              }
            }
          }
        }
      }
      pageInfo {
        hasNextPage
        endCursor
      }
    }
  }
`,Ode=`
  query GetCollections($first: Int = 10, $cursor: String) {
    collections(first: $first, after: $cursor) {
      edges {
        node {
          id
          title
          description
          handle
          products(first: 5) { # Example: fetch first 5 products in each collection
            edges {
              node {
                id
                title
              }
            }
          }
        }
      }
      pageInfo {
        hasNextPage
        endCursor
      }
    }
  }
`,$de=`
  query GetLocalizationInfo @inContext(country: "US") { # Defaulting to US, can be parameterized
    localization {
      availableCountries {
        isoCode
        name
        currency {
          isoCode
          name
          symbol
        }
      }
      availableLanguages {
        isoCode
        name
        endonymName
      }
    }
  }
`,$a=()=>["#3B82F6","#8B5CF6","#EC4899","#10B981","#F59E0B","#EF4444","#6366F1","#14B8A6","#F97316"][Math.floor(Math.random()*9)],rw=()=>["Inter","Roboto","Poppins","Montserrat","Open Sans"][Math.floor(Math.random()*5)],iw=()=>["grid","list"][Math.floor(Math.random()*2)],Fde=async(t,e,n,r,{fetchPexelsImages:i=Ra,generateId:s=Cr}={})=>{const o=[],l={fashion:{min:20,max:200},electronics:{min:50,max:1300},food:{min:5,max:50},jewelry:{min:100,max:1e3},general:{min:10,max:300}},u=l[t]||l.general,d={fashion:["Classic Tee","Urban Jeans","Silk Scarf","Leather Boots","Summer Dress","Knit Sweater"],electronics:["HD Webcam","Noise-Cancelling Buds","Smart Display","Gaming Pad","Portable Drive","VR Headset"],food:["Artisan Bread","Gourmet Cheese","Organic Berries","Craft Coffee","Spiced Nuts","Dark Chocolate Bar"],jewelry:["Pearl Necklace","Sapphire Ring","Gold Hoops","Charm Bracelet","Silver Cufflinks","Diamond Studs"],general:["Utility Tool","Desk Organizer","Travel Mug","Yoga Mat","Scented Candle","Board Game"]},p=[...d[t]||d.general].sort(()=>.5-Math.random()).slice(0,e),g=p.map(b=>`${t} ${b} product shot`),y=await i(g.join(";"),e,"square");for(let b=0;b<e;b++){const C=p[b],_=y[b];let P;if(_&&_.src&&_.src.medium&&r)try{console.log(`[generateAIProductsData] Overlaying logo on Pexels image: ${_.src.medium}`),P=await overlayLogoOnProductImage(_.src.medium,r)}catch(E){console.error(`[generateAIProductsData] Failed to overlay logo on ${_.src.medium}, using original.`,E),P=_.src.medium}else _&&_.src&&_.src.medium?P=_.src.medium:P=`https://via.placeholder.com/400x400.png?text=${encodeURIComponent(C)}`;o.push({id:`product-ai-${s()}`,name:C,price:parseFloat((Math.random()*(u.max-u.min)+u.min).toFixed(2)),description:W3(t,C),rating:(Math.random()*1.5+3.5).toFixed(1),stock:Math.floor(Math.random()*80)+20,image:{id:_&&_.id||s(),src:{medium:P},alt:_&&_.alt||`Product image for ${C}`},storeName:n})}return o},Bde=async(t,{fetchPexelsImages:e=Ra,generateId:n=Cr}={})=>{var _,P,E,j,R,I;const r=`store-wizard-${n()}`,{productType:i,storeName:s,logoUrl:o,products:l,prompt:u}=t;let d=[];l.source==="ai"?d=l.items.map(M=>({id:`product-ai-${n()}`,name:M.name,price:parseFloat(M.price),description:M.description,image:{id:n(),src:{medium:M.imageUrl},alt:M.name},rating:(Math.random()*1.5+3.5).toFixed(1),stock:Math.floor(Math.random()*80)+20})):l.source==="manual"&&(d=l.items.map(M=>({id:`product-manual-${n()}`,name:M.name,price:parseFloat(M.price),description:M.description||W3(i,M.name),image:{id:n(),src:{medium:M.imageUrl||`https://via.placeholder.com/400x400.png?text=${encodeURIComponent(M.name)}`},alt:M.name},rating:(Math.random()*1.5+3.5).toFixed(1),stock:Math.floor(Math.random()*50)+20})));const h=await e(`${i} store hero ${u}`,1,"landscape"),p=await V3(`${i} store ambiance ${u}`,1,"landscape"),g=m0(i,s),y=await e(`${i} abstract background`,1,"landscape"),b=((P=(_=y[0])==null?void 0:_.src)==null?void 0:P.large)||((j=(E=y[0])==null?void 0:E.src)==null?void 0:j.original)||"";return{id:r,name:s,template_version:"v1",type:i,description:g.heroDescription,prompt:u||`A ${i} store called ${s}`,products:d,collections:t.collections.items.map(M=>({id:`collection-wizard-${n()}`,name:M.name,description:M.description,imageUrl:M.imageUrl,product_ids:M.product_ids||[]})),hero_image:h[0]||{src:{large:"https://via.placeholder.com/1200x800.png?text=Hero+Image"},alt:"Placeholder Hero Image"},hero_video_url:((R=p[0])==null?void 0:R.url)||null,hero_video_poster_url:((I=p[0])==null?void 0:I.image)||null,logo_url:o||`https://via.placeholder.com/100x100.png?text=${s.substring(0,1)}`,theme:{primaryColor:$a(),secondaryColor:$a(),fontFamily:rw(),layout:iw()},content:g,data_source:"wizard",card_background_url:b}},Ude=async(t,{storeNameOverride:e=null,productTypeOverride:n=null,fetchPexelsImages:r=Ra,generateId:i=Cr}={})=>{var B,G,X,K,W,V,Y;const s=`store-ai-${i()}`,o=t.toLowerCase().split(" ");let l=n||"general";n||(o.some(ne=>["clothing","fashion","apparel","wear"].includes(ne))?l="fashion":o.some(ne=>["tech","electronics","gadget","digital"].includes(ne))?l="electronics":o.some(ne=>["food","grocery","meal","organic"].includes(ne))?l="food":o.some(ne=>["jewelry","accessory","watch","luxury"].includes(ne))&&(l="jewelry"));let u=e;if(!u)try{console.log(`[generateStoreFromPromptData] No storeNameOverride. Attempting AI name generation using prompt: "${t}"`);const ne=await r$(t);ne&&ne.suggestions&&ne.suggestions.length>0?(u=ne.suggestions[0],console.log(`[generateStoreFromPromptData] AI generated store name: ${u}`)):(console.warn("[generateStoreFromPromptData] AI name generation yielded no suggestions. Falling back to heuristic."),u=t.split(" ").filter(oe=>oe.charAt(0)===oe.charAt(0).toUpperCase()&&oe.length>2)[0])}catch(ne){console.error("[generateStoreFromPromptData] Error during AI store name generation:",ne),u=t.split(" ").filter(oe=>oe.charAt(0)===oe.charAt(0).toUpperCase()&&oe.length>2)[0]}u||(u=`${l.charAt(0).toUpperCase()+l.slice(1)} Emporium ${i().substring(0,4)}`,console.log(`[generateStoreFromPromptData] Using final fallback store name: ${u}`)),u.length>50&&(u=u.substring(0,50));let d=null,h=`https://via.placeholder.com/100x100.png?text=${u.substring(0,1)}`;try{console.log(`[generateStoreFromPromptData] Generating logo for: ${u}`);const ne=await j0(u);ne&&ne.imageData?(d=ne.imageData,h=`data:image/png;base64,${d}`,console.log(`[generateStoreFromPromptData] Logo generated successfully for ${u}.`)):console.warn(`[generateStoreFromPromptData] Logo generation did not return image data for ${u}. Text response: ${ne==null?void 0:ne.textResponse}`)}catch(ne){console.error(`[generateStoreFromPromptData] Error generating logo for ${u}:`,ne)}const p=[],g=[],y=6,b=y*2;let C=0;for(console.log(`[generateStoreFromPromptData] Attempting to generate ${y} unique products for ${u} (type: ${l}).`);p.length<y&&C<b;){C++;try{console.log(`[generateStoreFromPromptData] Generating product attempt ${C} (aiming for ${p.length+1}/${y} unique products)... Excluding titles: ${g.join(", ")}`);const ne=await eB(l,u,d,"image/png",g);if(ne&&ne.imageData&&ne.title&&ne.price&&ne.description){const ue=ne.title.toLowerCase().trim();g.includes(ue)?console.warn(`[generateStoreFromPromptData] Duplicate product title generated and skipped: "${ne.title}". Attempt ${C}/${b}.`):(p.push({id:`product-gemini-${i()}`,name:ne.title,price:parseFloat(ne.price)||0,description:ne.description,image:{id:i(),src:{medium:`data:image/png;base64,${ne.imageData}`},alt:ne.title},rating:(Math.random()*1.5+3.5).toFixed(1),stock:Math.floor(Math.random()*80)+20}),g.push(ue),console.log(`[generateStoreFromPromptData] Product "${ne.title}" generated successfully and is unique. (${p.length}/${y})`))}else console.warn(`[generateStoreFromPromptData] Failed to generate complete data for product attempt ${C}. Data:`,ne)}catch(ne){console.error(`[generateStoreFromPromptData] Error during product generation attempt ${C}:`,ne)}}p.length<y&&console.warn(`[generateStoreFromPromptData] Could only generate ${p.length} unique products after ${b} total attempts.`),p.length===0&&y>0&&console.warn("[generateStoreFromPromptData] No products were generated successfully. The store will be created with an empty product list.");const _=await r(`${l} ${u} hero ${t}`,1,"landscape"),P=await V3(`${l} ${u} ambiance ${t}`,1,"landscape"),E=m0(l,u),j=await r(`${l} store background`,1,"landscape"),R=((G=(B=j[0])==null?void 0:B.src)==null?void 0:G.large)||((K=(X=j[0])==null?void 0:X.src)==null?void 0:K.original)||"",I="v1",M=[],A=3,$=[];if(p.length>0){console.log(`[generateStoreFromPromptData] Attempting to generate ${A} collections for ${u}.`);for(let ne=0;ne<A;ne++)try{console.log(`[generateStoreFromPromptData] Generating collection ${ne+1}/${A}...`);const ue=await tB(l,u,p,$);if(ue&&!ue.error&&ue.name){let oe=`https://via.placeholder.com/400x200.png?text=${encodeURIComponent(ue.name||"Collection")}`;ue.imageData&&(oe=`data:image/png;base64,${ue.imageData}`),M.push({id:`collection-gemini-${i()}`,name:ue.name,description:ue.description,imageUrl:oe,product_ids:ue.product_ids||[]}),$.push(ue.name),console.log(`[generateStoreFromPromptData] Collection "${ue.name}" generated with ${((W=ue.product_ids)==null?void 0:W.length)||0} products.`)}else console.warn(`[generateStoreFromPromptData] Failed to generate complete data for collection ${ne+1}. Error: ${ue==null?void 0:ue.error}`)}catch(ue){console.error(`[generateStoreFromPromptData] Error during collection generation attempt ${ne+1}:`,ue)}}else console.warn(`[generateStoreFromPromptData] Skipping collection generation as no products were generated for ${u}.`);return{id:s,name:u,template_version:I,type:l,description:E.heroDescription,prompt:t,products:p,collections:M,hero_image:_[0]||{src:{large:"https://via.placeholder.com/1200x800.png?text=Hero+Image"},alt:"Placeholder Hero Image"},hero_video_url:((V=P[0])==null?void 0:V.url)||null,hero_video_poster_url:((Y=P[0])==null?void 0:Y.image)||null,logo_url:h,theme:{primaryColor:$a(),secondaryColor:$a(),fontFamily:rw(),layout:iw()},content:E,data_source:"ai",card_background_url:R}},Vde=async(t,e)=>(await nw(t,e,Dde)).shop,ND=async(t,e,n=10,r=null)=>(await nw(t,e,Ode,{first:n,cursor:r})).collections,jD=async(t,e,n=10,r=null)=>(await nw(t,e,Lde,{first:n,cursor:r})).products,zde=async(t,e,n="US",r="EN")=>(await nw(t,e,$de,{})).localization,RD=async(t,e,n,r,{generateId:i=Cr}={},s=null)=>{var b,C,_,P,E,j,R,I,M,A,$,B,G,X,K,W,V,Y,ne,ue,oe,ie,L,F,Z,U,Ne,De,je,Te;const o=e.map(Pe=>{var $e,He,tt,nt,Tt,Bt,vn,Ut,fn,wn,xn,Zt,un,Hn,Tn,jn,xe,fe,ve,Ie;return{id:Pe.id,name:Pe.title,description:Pe.description?Pe.description.substring(0,250)+(Pe.description.length>250?"...":""):"No description available.",price:parseFloat(((tt=(He=($e=Pe.variants)==null?void 0:$e.edges[0])==null?void 0:He.node.price)==null?void 0:tt.amount)||0),currencyCode:((Bt=(Tt=(nt=Pe.variants)==null?void 0:nt.edges[0])==null?void 0:Tt.node.price)==null?void 0:Bt.currencyCode)||"USD",image:{id:((Ut=(vn=Pe.images)==null?void 0:vn.edges[0])==null?void 0:Ut.node.id)||i(),src:{medium:((wn=(fn=Pe.images)==null?void 0:fn.edges[0])==null?void 0:wn.node.url)||((un=(Zt=(xn=Pe.variants)==null?void 0:xn.edges[0])==null?void 0:Zt.node.image)==null?void 0:un.url)||`https://via.placeholder.com/400x400.png?text=${encodeURIComponent(Pe.title)}`},alt:((Tn=(Hn=Pe.images)==null?void 0:Hn.edges[0])==null?void 0:Tn.node.altText)||((fe=(xe=(jn=Pe.variants)==null?void 0:jn.edges[0])==null?void 0:xe.node.image)==null?void 0:fe.altText)||Pe.title},tags:Pe.tags,availableForSale:(Ie=(ve=Pe.variants)==null?void 0:ve.edges[0])==null?void 0:Ie.node.availableForSale,rating:(Math.random()*1.5+3.5).toFixed(1),stock:Math.floor(Math.random()*100)+10}});n.map(Pe=>{var $e,He;return{id:Pe.id,title:Pe.title,description:Pe.description,handle:Pe.handle,productCount:((He=($e=Pe.products)==null?void 0:$e.edges)==null?void 0:He.length)||0}});const l=((P=(_=(C=(b=t.brand)==null?void 0:b.colors)==null?void 0:C.primary)==null?void 0:_[0])==null?void 0:P.background)||$a(),u={id:i(),src:{large:((R=(j=(E=t.brand)==null?void 0:E.coverImage)==null?void 0:j.image)==null?void 0:R.url)||`https://via.placeholder.com/1200x800.png?text=${encodeURIComponent(t.name)}`},alt:((A=(M=(I=t.brand)==null?void 0:I.coverImage)==null?void 0:M.image)==null?void 0:A.altText)||t.name},d=((G=(B=($=t.brand)==null?void 0:$.logo)==null?void 0:B.image)==null?void 0:G.url)||((W=(K=(X=t.brand)==null?void 0:X.squareLogo)==null?void 0:K.image)==null?void 0:W.url),h=s||d||`https://via.placeholder.com/100x100.png?text=${t.name.substring(0,1)}`,p=m0("general",t.name),g=await Ra(`${t.name} background`,1,"landscape"),y=((Y=(V=g[0])==null?void 0:V.src)==null?void 0:Y.large)||((ue=(ne=g[0])==null?void 0:ne.src)==null?void 0:ue.original)||"";return{id:`store-shopify-${t.primaryDomain.host.replace(/\./g,"-")}-${i()}`,name:t.name,type:"shopify-imported",description:t.description||((oe=t.brand)==null?void 0:oe.shortDescription)||((ie=t.brand)==null?void 0:ie.slogan)||p.heroDescription,products:o,hero_image:u,logo_url:h,theme:{primaryColor:l,secondaryColor:((U=(Z=(F=(L=t.brand)==null?void 0:L.colors)==null?void 0:F.secondary)==null?void 0:Z[0])==null?void 0:U.background)||$a(),fontFamily:rw(),layout:iw()},content:{...p,heroTitle:`Welcome to ${t.name}`,heroDescription:t.description||((Ne=t.brand)==null?void 0:Ne.shortDescription)||((De=t.brand)==null?void 0:De.slogan)||p.heroDescription,brandSlogan:(je=t.brand)==null?void 0:je.slogan,brandShortDescription:(Te=t.brand)==null?void 0:Te.shortDescription},data_source:"shopify",card_background_url:y}},Wde=async(t,e,n,{generateId:r=Cr}={},i=null)=>{var h,p,g,y,b,C,_,P,E,j;console.log("Mapping BigCommerce Data:",{bcStoreSettings:t,bcProducts:e,domain:n,generatedLogoDataUrl:i});const s=e.map(R=>{var I,M,A,$,B,G,X;return{id:((I=R.entityId)==null?void 0:I.toString())||`bc-product-${r()}`,name:R.name||"Unnamed Product",description:R.description||`Product: ${R.name||"Unnamed Product"}`,price:parseFloat(((A=(M=R.prices)==null?void 0:M.price)==null?void 0:A.value)||0),currencyCode:((B=($=R.prices)==null?void 0:$.price)==null?void 0:B.currencyCode)||"USD",image:{id:`bc-img-${r()}`,src:{medium:((G=R.defaultImage)==null?void 0:G.url)||`https://via.placeholder.com/400x400.png?text=${encodeURIComponent(R.name||"Product")}`},alt:((X=R.defaultImage)==null?void 0:X.altText)||R.name||"Product Image"},sku:R.sku||"",rating:(Math.random()*1.5+3.5).toFixed(1),stock:Math.floor(Math.random()*100)+10}}),o=i||((p=(h=t.logo)==null?void 0:h.image)==null?void 0:p.url)||`https://via.placeholder.com/100x100.png?text=${(t.storeName||"S").substring(0,1)}`,l=m0("general",t.storeName||"My BigCommerce Store"),u=await Ra(`${t.storeName||"store"} background`,1,"landscape"),d=((y=(g=u[0])==null?void 0:g.src)==null?void 0:y.large)||((C=(b=u[0])==null?void 0:b.src)==null?void 0:C.original)||"";return{id:`store-bc-${(t.storeHash||n).replace(/[\.\/\:]/g,"-")}-${r()}`,name:t.storeName||"My BigCommerce Store",type:"bigcommerce-imported",description:t.description||`Store imported from ${n}`||l.heroDescription,products:s,hero_image:{id:r(),src:{large:((P=(_=t.logo)==null?void 0:_.image)==null?void 0:P.url)||`https://via.placeholder.com/1200x800.png?text=${encodeURIComponent(t.storeName||"Store")}`},alt:((j=(E=t.logo)==null?void 0:E.image)==null?void 0:j.altText)||t.storeName||"Store Hero"},logo_url:o,theme:{primaryColor:$a(),secondaryColor:$a(),fontFamily:rw(),layout:iw()},content:{...l,heroTitle:`Welcome to ${t.storeName||"Our Store"}`,heroDescription:t.description||l.heroDescription},data_source:"bigcommerce",card_background_url:d}};async function qde(t,e){const n=`
    query StoreSettings {
      site {
        settings {
          storeName
          storeHash
          status
          logo {
            title
            image {
              url(width: 500)
              altText
            }
          }
        }
      }
    }
  `;if(typeof t!="string"||!t.trim()){const s=new TypeError("Invalid or empty storeDomain provided to fetchStoreSettings.");throw console.error(s.message,{storeDomain:t}),s}if(typeof e!="string"||!e.trim()){const s=new TypeError("Invalid or empty token provided to fetchStoreSettings.");throw console.error(s.message,{tokenProvided:typeof e=="string"&&e.length>0?"Yes":"No"}),s}const r=`https://${t}/graphql`,i={method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`,Accept:"application/json"},body:JSON.stringify({query:n})};console.log(`[fetchStoreSettings] Attempting to fetch: ${r}`,{domain:t,tokenProvided:!!e,queryLength:n.length});try{let s;try{s=await fetch(r,i)}catch(l){console.error(`[fetchStoreSettings] Initial fetch to ${r} failed:`,l);let u=`Initial fetch to ${r} failed.`;throw l.name==="TypeError"?u+=` This is often due to a CORS misconfiguration (check 'allowed_cors_origins' for your BigCommerce Storefront API token), a DNS issue, or the server not being reachable. Please check the browser's Network DevTools for more specific error messages. Original error: ${l.message}`:u+=` Error: ${l.message||"Unknown network error"}`,new Error(u)}if(console.log(`[fetchStoreSettings] Response from ${r} - Status: ${s.status}, Complexity: ${s.headers.get("X-Bc-GraphQL-Complexity")}`),!s.ok){let l=`Could not retrieve error body (status: ${s.status}).`;try{l=await s.text()}catch(u){console.warn("Failed to read error response body:",u)}throw new Error(`HTTP error ${s.status} for ${r}: ${l}`)}let o;try{o=await s.json()}catch(l){let u="Could not retrieve raw response text after JSON parse failure.";try{u=await(await fetch(r,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`,Accept:"application/json"},body:JSON.stringify({query:n})})).text()}catch(d){console.warn("Failed to re-fetch for raw text:",d)}throw console.error("Failed to parse JSON response from BigCommerce.",l,{graphqlUrl:r,rawTextPreview:u.substring(0,500)}),new Error(`Failed to parse JSON response from ${r}. Preview: ${u.substring(0,200)}...`)}if(o.errors)throw console.error("BigCommerce GraphQL errors (fetchStoreSettings):",o.errors,{graphqlUrl:r}),new Error(`GraphQL error: ${o.errors.map(l=>l.message).join(", ")}`);if(!o.data||!o.data.site||!o.data.site.settings)throw console.error("Invalid data structure in BigCommerce response (fetchStoreSettings):",o.data,{graphqlUrl:r}),new Error("Invalid data structure received from BigCommerce API for store settings.");return o.data.site.settings}catch(s){throw s.message.startsWith("Invalid or empty storeDomain")||s.message.startsWith("Invalid or empty token")||s.message.startsWith("HTTP error")||s.message.startsWith("GraphQL error")||s.message.startsWith("Failed to parse JSON")||s.message.startsWith("Network error")||console.error(`[fetchStoreSettings] Unexpected error for ${r}:`,s.name,s.message,s.stack,s),s}}async function Gde(t,e){var l,u;let n=[],r=null,i=!0;if(typeof t!="string"||!t.trim()){const d=new TypeError("Invalid or empty storeDomain provided to fetchAllProducts.");throw console.error(d.message,{storeDomain:t}),d}if(typeof e!="string"||!e.trim()){const d=new TypeError("Invalid or empty token provided to fetchAllProducts.");throw console.error(d.message,{tokenProvided:typeof e=="string"&&e.length>0?"Yes":"No"}),d}const s=`https://${t}/graphql`,o=`
    query ProductsPage($first: Int!, $after: String) {
      site {
        products(first: $first, after: $after) {
          pageInfo {
            hasNextPage
            endCursor
          }
          edges {
            node {
              entityId
              name
              sku
              defaultImage {
                url(width: 800)
                altText
              }
              prices {
                price { value currencyCode }
                retailPrice { value currencyCode }
              }
            }
          }
        }
      }
    }
  `;console.log(`[fetchAllProducts] Starting to fetch products from: ${s}`,{domain:t,tokenProvided:!!e});try{let d=1;for(;i;){const h={first:50,after:r},p={method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`,Accept:"application/json"},body:JSON.stringify({query:o,variables:h})};let g;try{g=await fetch(s,p)}catch(C){console.error(`[fetchAllProducts] Initial fetch (Page ${d}) to ${s} failed:`,C);let _=`Initial fetch (Page ${d}) to ${s} failed.`;throw C.name==="TypeError"?_+=` This is often due to a CORS misconfiguration (check 'allowed_cors_origins' for your BigCommerce Storefront API token), a DNS issue, or the server not being reachable. Please check the browser's Network DevTools for more specific error messages. Original error: ${C.message}`:_+=` Error: ${C.message||"Unknown network error"}`,new Error(_)}if(console.log(`[fetchAllProducts] Response (Page ${d}) from ${s} - Status: ${g.status}, Complexity: ${g.headers.get("X-Bc-GraphQL-Complexity")}`),d++,!g.ok){let C=`Could not retrieve error body (status: ${g.status}).`;try{C=await g.text()}catch(_){console.warn("[fetchAllProducts] Failed to read error response body:",_)}throw new Error(`HTTP error ${g.status} for ${s} (products): ${C}`)}let y;try{y=await g.json()}catch(C){let _="Could not retrieve raw response text after JSON parse failure (fetchAllProducts).";try{_=await(await fetch(s,p)).text()}catch{}throw console.error("[fetchAllProducts] Failed to parse JSON response from BigCommerce.",C,{graphqlUrl:s,rawTextPreview:_.substring(0,500)}),new Error(`Failed to parse JSON response from ${s} (products). Preview: ${_.substring(0,200)}...`)}if(y.errors)throw console.error("[fetchAllProducts] BigCommerce GraphQL errors:",y.errors,{graphqlUrl:s}),new Error(`GraphQL error (products): ${y.errors.map(C=>C.message).join(", ")}`);const b=(u=(l=y.data)==null?void 0:l.site)==null?void 0:u.products;if(!b||!b.edges||!b.pageInfo)throw console.error("[fetchAllProducts] Invalid data structure in BigCommerce response:",y.data,{graphqlUrl:s}),new Error("Invalid data structure received from BigCommerce API for products.");b.edges.forEach(C=>n.push(C.node)),i=b.pageInfo.hasNextPage,r=b.pageInfo.endCursor}return n}catch(d){throw d.message.startsWith("Invalid or empty storeDomain")||d.message.startsWith("Invalid or empty token")||d.message.startsWith("HTTP error")||d.message.startsWith("GraphQL error")||d.message.startsWith("Failed to parse JSON")||d.message.startsWith("Network error")||console.error(`[fetchAllProducts] Unexpected error for ${s}:`,d.name,d.message,d.stack,d),d}}const nB=x.createContext(null),Zn=()=>{const t=x.useContext(nB);if(!t)throw new Error("useStore must be used within a StoreProvider");return t},AD="ecommerce-cart",Hde=({children:t})=>{const[e,n]=x.useState([]),[r,i]=x.useState(null),[s,o]=x.useState(!1),[l,u]=x.useState(!0),[d,h]=x.useState([]),[p,g]=x.useState("published"),{toast:y}=Bo(),b=Rs(),{user:C,session:_,profile:P}=Is(),E=H=>{H==="published"||H==="edit"?g(H):(console.warn(`Invalid view mode: ${H}. Defaulting to 'published'.`),g("published"))},[j,R]=x.useState(0),[I,M]=x.useState(""),[A,$]=x.useState(""),[B,G]=x.useState(null),[X,K]=x.useState({edges:[],pageInfo:{hasNextPage:!1,endCursor:null}}),[W,V]=x.useState({edges:[],pageInfo:{hasNextPage:!1,endCursor:null}}),[Y,ne]=x.useState(null),[ue,oe]=x.useState(!1),[ie,L]=x.useState(null),[F,Z]=x.useState(null),[U,Ne]=x.useState(!1),[De,je]=x.useState(null),[Te,Pe]=x.useState(0),[$e,He]=x.useState(""),[tt,nt]=x.useState(""),[Tt,Bt]=x.useState(null),[vn,Ut]=x.useState({items:[],pageInfo:{hasNextPage:!1,endCursor:null}}),[fn,wn]=x.useState(!1),[xn,Zt]=x.useState(null),un=H=>H?H.map(J=>{const ee={...J};if(ee.logo_url&&ee.logo_url.startsWith("data:image/")&&ee.logo_url.length>2048&&(ee.logo_url=`${ee.logo_url.substring(0,30)}...[truncated]`),ee.hero_image&&ee.hero_image.src){const pe={...ee.hero_image.src};pe.large&&pe.large.startsWith("data:image/")&&pe.large.length>2048&&(pe.large=`${pe.large.substring(0,30)}...[truncated]`),pe.medium&&pe.medium.startsWith("data:image/")&&pe.medium.length>2048&&(pe.medium=`${pe.medium.substring(0,30)}...[truncated]`),ee.hero_image={...ee.hero_image,src:pe}}return ee.products&&Array.isArray(ee.products)&&(ee.products=ee.products.map(pe=>{const be={...pe};if(be.image&&be.image.src){const Re={...be.image.src};Re.medium&&Re.medium.startsWith("data:image/")&&Re.medium.length>2048&&(Re.medium=`${Re.medium.substring(0,30)}...[truncated]`),Re.large&&Re.large.startsWith("data:image/")&&Re.large.length>2048&&(Re.large=`${Re.large.substring(0,30)}...[truncated]`),be.image={...be.image,src:Re}}return be})),ee}):[],Hn=x.useCallback(async H=>{if(!H){u(!1),n([]);return}u(!0),console.log(`[StoreContext] loadStores called for userId: ${H}`);let J=[];try{const{data:ee,error:pe}=await ni.from("stores").select("*").eq("merchant_id",H).order("created_at",{ascending:!1});if(pe&&(console.error("[StoreContext] Error loading stores from Supabase:",pe),y({title:"Cloud Sync Error",description:`Failed to load stores: ${pe.message}. Checking local cache.`,variant:"warning"})),ee&&!pe)console.log(`[StoreContext] Fetched ${ee.length} stores from DB. Processing details...`),J=await Promise.all(ee.map(async Re=>{try{const{data:Le,error:et}=await ni.from("platform_products").select("*").eq("store_id",Re.id);et&&console.error(`[StoreContext] Error loading products for store ${Re.id} (${Re.name}):`,et.message);const Ge=Le?Le.map(Xt=>{let jt={src:{large:"",medium:""}};return Xt.images&&Array.isArray(Xt.images)&&Xt.images.length>0&&(jt.src.large=Xt.images[0],jt.src.medium=Xt.images[0]),{...Xt,price:Xt.priceAmount,image:jt}}):[];let Ue=[];const{data:lt,error:xt}=await ni.from("store_collections").select("*").eq("store_id",Re.id);return xt?console.error(`[StoreContext] Error loading collections for store ${Re.id} (${Re.name}):`,xt.message):lt&&lt.length>0&&(Ue=await Promise.all(lt.map(async Xt=>{try{const{data:jt,error:Lt}=await ni.from("collection_products").select("product_id").eq("collection_id",Xt.id);let Ot=[];if(Lt)console.error(`[StoreContext] Error loading product links for collection ${Xt.id}:`,Lt.message);else if(jt&&jt.length>0){const er=jt.map(Nn=>Nn.product_id);Ot=Ge.filter(Nn=>er.includes(Nn.id))}return{...Xt,products:Ot}}catch(jt){return console.error(`[StoreContext] Critical error processing product links for collection ${Xt.id}:`,jt),{...Xt,products:[]}}}))),{...Re,products:Ge,collections:Ue}}catch(Le){return console.error(`[StoreContext] Critical error processing details for store ${Re.id}:`,Le),{...Re,products:[],collections:[]}}})),console.log(`[StoreContext] Finished processing details for ${J.length} stores.`);else if(pe){const be=localStorage.getItem("ecommerce-stores");if(be)try{J=JSON.parse(be),console.log("[StoreContext] Loaded stores from localStorage as fallback due to DB error.")}catch(Re){console.error("[StoreContext] Failed to parse localStorage stores after DB error:",Re),J=[]}}else J=[],console.log("[StoreContext] No stores found in DB for this user.");if(J.length>0||ee&&ee.length===0)try{localStorage.setItem("ecommerce-stores",JSON.stringify(un(J))),console.log("[StoreContext] Updated localStorage with fetched stores.")}catch(be){console.error("[StoreContext] Failed to save stores to localStorage during cloud sync:",be)}}catch(ee){console.error("[StoreContext] Overall critical error in loadStores:",ee),y({title:"Loading Error",description:"A critical error occurred while loading store data.",variant:"destructive"});const pe=localStorage.getItem("ecommerce-stores");if(pe)try{J=JSON.parse(pe),console.log("[StoreContext] Loaded stores from localStorage as final fallback.")}catch(be){console.error("[StoreContext] Failed to parse localStorage stores during final fallback:",be),J=[]}else J=[]}finally{n(J),u(!1),console.log(`[StoreContext] loadStores finished. isLoadingStores: false. Stores count: ${J.length}`)}},[y,ni]);x.useEffect(()=>{if(C)Hn(C.id);else{const H=localStorage.getItem("ecommerce-stores");if(H)try{const J=JSON.parse(H);n(J)}catch(J){console.error("Failed to parse localStorage stores:",J),n([])}else n([]);u(!1)}},[C,Hn]),x.useEffect(()=>{localStorage.setItem(AD,JSON.stringify(d))},[d]),x.useEffect(()=>{const H=localStorage.getItem(AD);if(H)try{h(JSON.parse(H))}catch(J){console.error("Failed to parse stored cart:",J)}},[]);const Tn=async H=>{var xt,Xt,jt,Lt;let J={...H};J.template_version||(J.template_version="v1");let ee,pe=[];const be=new Map;let Re=[];if(C){const{id:Ot,settings:er,products:Nn,collections:bn,user_id:zt,...xr}=J,Cn={...xr,merchant_id:C.id},{data:Gr,error:Hr}=await ni.from("stores").insert(Cn).select().single();if(Hr)return console.error("Error creating store in Supabase:",Hr),y({title:"Store Creation Failed",description:Hr.message,variant:"destructive"}),null;if(ee=Gr,ee&&Nn&&Nn.length>0){console.log(`Store ${ee.id} created. Processing ${Nn.length} products.`),(P==null?void 0:P.stripe_account_id)&&(P==null?void 0:P.stripe_account_details_submitted)&&y({title:"Creating Products on Stripe...",description:"This may take a moment.",duration:5e3});for(const yt of Nn){const on=yt.id||yt.name;try{const an={store_id:ee.id,name:yt.name||`Product ${Cr().substring(0,8)}`,description:yt.description||"No description available.",images:(Xt=(xt=yt.image)==null?void 0:xt.src)!=null&&Xt.large?[yt.image.src.large]:(Lt=(jt=yt.image)==null?void 0:jt.src)!=null&&Lt.medium?[yt.image.src.medium]:[],priceAmount:Number(yt.price)>=0?Number(yt.price):0,currency:"usd"},ur=await ni.functions.invoke("create-stripe-product",{body:an});if(ur.error)throw new Error(ur.error.message);const $t=ur.data;$t&&$t.id?(be.set(on,$t.id),pe.push({...yt,id:$t.id})):(pe.push(yt),console.warn(`Product "${yt.name}" processed, but DB ID not retrieved/mapped from Edge Function response.`))}catch(an){console.error(`Failed to process product "${yt.name}" for store ${ee.id}:`,an),y({title:"Product Processing Error",description:`Failed to process product "${yt.name}": ${an.message}`,variant:"destructive",duration:7e3}),pe.push(yt)}}J.products=pe}if(ee&&bn&&bn.length>0){console.log(`Processing ${bn.length} collections for store ${ee.id}.`);const Kr=bn.map(an=>({store_id:ee.id,name:an.name,description:an.description,image_url:an.imageUrl})),{data:yt,error:on}=await ni.from("store_collections").insert(Kr).select();if(Re=yt||[],on)console.error("Error saving collections to Supabase:",on),y({title:"Collections Save Failed",description:on.message,variant:"warning"});else if(Re&&Re.length>0){console.log(`${Re.length} collections saved successfully for store ${ee.id}.`);const an=[];if(Re.forEach((ur,$t)=>{const Yr=bn[$t];Yr&&Yr.product_ids&&Yr.product_ids.length>0&&Yr.product_ids.forEach(Ms=>{const qo=be.get(Ms);qo?an.push({collection_id:ur.id,product_id:qo}):console.warn(`Could not find DB ID for wizard product ID: ${Ms} in collection ${ur.name}. Skipping link.`)})}),an.length>0){const{error:ur}=await ni.from("collection_products").insert(an);ur?(console.error("Error saving product-collection links to Supabase:",ur),y({title:"Product Linking Failed",description:ur.message,variant:"warning"})):console.log(`${an.length} product-collection links saved.`)}}}}else ee={...J,id:J.id||Cr(),createdAt:new Date().toISOString()},y({title:"Store Created Locally",description:"Store created locally. Log in to save to the cloud."}),pe=J.products||[],pe.forEach(Ot=>{const er=Ot.id||Ot.name;be.set(er,Ot.id)}),Re=J.collections||[];let Le=[];const et=J.collections||[],Ge=pe;et.length>0&&(Le=et.map(Ot=>{let er={};if(C&&Re&&Re.length>0){const bn=Re.find(zt=>zt.name===Ot.name);bn&&(er=bn)}let Nn=[];return Ot.product_ids&&Ot.product_ids.length>0&&Ot.product_ids.forEach(bn=>{const zt=be.get(bn);let xr=null;zt?(xr=Ge.find(Cn=>Cn.id===zt),xr||(console.warn(`[commonStoreCreation] Hydration: Product with DB ID ${zt} (original: ${bn}) not found in sourceProducts. Attempting fallback to original ID.`),bn!==zt&&(xr=Ge.find(Cn=>Cn.id===bn)))):xr=Ge.find(Cn=>Cn.id===bn),xr?Nn.push(xr):console.warn(`[commonStoreCreation] Hydration: Product with original ID ${bn} (attempted DB ID: ${zt||"N/A"}) not found in sourceProducts for collection ${Ot.name}. Skipping link.`)}),{...Ot,...er,products:Nn}}));const Ue={...J,products:Ge,collections:Le},lt={...ee,...Ue};return n(Ot=>{const er=[lt,...Ot.filter(Nn=>Nn.id!==lt.id)];try{localStorage.setItem("ecommerce-stores",JSON.stringify(un(er)))}catch(Nn){console.error("Failed to save stores to localStorage during store creation:",Nn),y({title:"Local Cache Update Failed",description:"Could not update the local cache after creating the store.",variant:"warning",duration:7e3})}return er}),i(lt),y({title:"Store Created!",description:`Store "${lt.name}" has been created.`}),b(`/store/${lt.id}`),lt},jn=async H=>{o(!0);try{const J=await Bde(H,{fetchPexelsImages:Ra,generateId:Cr});return await Tn(J)}catch(J){return console.error("Error generating store from wizard:",J),y({title:"Wizard Generation Failed",description:J.message||"Failed to generate store.",variant:"destructive"}),null}finally{o(!1)}},xe=async(H,J=null,ee=null)=>{o(!0);try{const pe=await Ude(H,{storeNameOverride:J,productTypeOverride:ee,fetchPexelsImages:Ra,generateId:Cr});return await Tn(pe)}catch(pe){return console.error("Error generating store from prompt:",pe),y({title:"Generation Failed",description:pe.message||"Failed to generate store.",variant:"destructive"}),null}finally{o(!1)}},fe=()=>{R(0),M(""),$(""),G(null),K({edges:[],pageInfo:{hasNextPage:!1,endCursor:null}}),V({edges:[],pageInfo:{hasNextPage:!1,endCursor:null}}),ne(null),oe(!1),L(null),Z(null),Ne(!1),je(null)},ve=async(H,J)=>{o(!0),L(null);try{y({title:"Importing Shopify Store...",description:"Fetching data and creating your store. This may take a moment."});const ee=await Vde(H,J);if(!ee)throw new Error("Failed to fetch Shopify store metadata.");const be=(await jD(H,J,50)).edges.map(Ue=>Ue.node),Le=(await ND(H,J,20)).edges.map(Ue=>Ue.node),et=RD(ee,be,Le,H,{generateId:Cr},null);if(await Tn(et))return fe(),o(!1),!0;throw new Error("Store creation failed after fetching Shopify data.")}catch(ee){return console.error("Error during direct Shopify import:",ee),L(ee.message||"Failed to import Shopify store directly."),y({title:"Shopify Import Failed",description:ee.message||"Could not complete the import.",variant:"destructive"}),o(!1),fe(),!1}},Ie=()=>{Pe(0),He(""),nt(""),Bt(null),Ut({items:[],pageInfo:{hasNextPage:!1,endCursor:null}}),wn(!1),Zt(null)},Ye=async(H,J)=>{He(H),nt(J),Pe(2),await it(H,J)},it=async(H,J)=>{const ee=H||$e,pe=J||tt;if(!ee||!pe){Zt("Domain or token missing for fetching BigCommerce settings.");return}wn(!0),Zt(null);try{const be=await qde(ee,pe);Bt(be)}catch(be){console.error("Error fetching BigCommerce settings for wizard:",be),Zt(be.message||"Failed to fetch store settings."),y({title:"BigCommerce Settings Fetch Failed",description:be.message,variant:"destructive"})}finally{wn(!1)}},Vt=async(H=10)=>{if(!$e||!tt){Zt("Domain or token missing for fetching BigCommerce products.");return}wn(!0),Zt(null);try{const J=`
      query ProductsPreview($first: Int!) {
        site {
          products(first: $first) {
            edges {
              node {
                entityId name sku defaultImage { url(width: 200) altText }
                prices { price { value currencyCode } }
              }
            }
          }
        }
      }
    `,ee={first:H},be=await(await fetch(`https://${$e}/graphql`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${tt}`},body:JSON.stringify({query:J,variables:ee})})).json();if(be.errors)throw new Error(be.errors.map(Re=>Re.message).join(", "));Ut({items:be.data.site.products.edges.map(Re=>Re.node),pageInfo:{hasNextPage:!1,endCursor:null}})}catch(J){console.error("Error fetching BigCommerce products for wizard:",J),Zt(J.message||"Failed to fetch products."),y({title:"BigCommerce Product Fetch Failed",description:J.message,variant:"destructive"})}finally{wn(!1)}},Sn=async()=>{if(!Tt||!$e||!tt)return y({title:"Import Error",description:"Missing BigCommerce data to finalize import.",variant:"destructive"}),!1;o(!0),Zt(null);try{const H=await Gde($e,tt),J=Wde(Tt,H,$e,{generateId:Cr},null);return await Tn(J)?(Ie(),!0):!1}catch(H){return console.error("Error finalizing BigCommerce import from wizard:",H),Zt(H.message||"Failed to finalize BigCommerce import."),y({title:"BigCommerce Import Failed",description:H.message,variant:"destructive"}),!1}finally{o(!1)}},ye=async(H=10,J=null)=>{if(!I||!A){L("Domain or token missing for fetching products.");return}oe(!0),L(null);try{const ee=await jD(I,A,H,J);K(pe=>({edges:J?[...pe.edges,...ee.edges]:ee.edges,pageInfo:ee.pageInfo}))}catch(ee){console.error("Error fetching Shopify products for wizard:",ee),L(ee.message||"Failed to fetch products."),y({title:"Product Fetch Failed",description:ee.message,variant:"destructive"})}finally{oe(!1)}},Ze=async(H=10,J=null)=>{if(!I||!A){L("Domain or token missing for fetching collections.");return}oe(!0),L(null);try{const ee=await ND(I,A,H,J);V(pe=>({edges:J?[...pe.edges,...ee.edges]:ee.edges,pageInfo:ee.pageInfo}))}catch(ee){console.error("Error fetching Shopify collections for wizard:",ee),L(ee.message||"Failed to fetch collections."),y({title:"Collection Fetch Failed",description:ee.message,variant:"destructive"})}finally{oe(!1)}},ce=async(H="US",J="EN")=>{if(!I||!A){L("Domain or token missing for fetching localization.");return}oe(!0),L(null);try{const ee=await zde(I,A,H,J);ne(ee)}catch(ee){console.error("Error fetching Shopify localization for wizard:",ee),L(ee.message||"Failed to fetch localization info."),y({title:"Localization Info Fetch Failed",description:ee.message,variant:"default"})}finally{oe(!1)}},Ce=async()=>{if(console.log("[StoreContext] Attempting to generate Shopify store logo..."),!B||!B.name){console.warn("[StoreContext] Cannot generate logo: Shopify preview metadata or store name is missing.",B),je("Store name is not available to generate a logo."),y({title:"Logo Generation Error",description:"Store name missing. Ensure Shopify store details were fetched correctly.",variant:"destructive"});return}const H=B.name;console.log(`[StoreContext] Generating logo for store name: "${H}"`),Ne(!0),je(null),Z(null);try{console.log("[StoreContext] Calling generateLogoWithGemini...");const{imageData:J,textResponse:ee}=await j0(H);if(console.log("[StoreContext] generateLogoWithGemini response:",{imageData:J?"imageData received (see next log)":"no imageData",textResponse:ee}),J)console.log("[StoreContext] imageData (first 50 chars):",J.substring(0,50)),Z(`data:image/png;base64,${J}`),y({title:"Logo Generated!",description:"A new logo has been generated successfully."}),console.log("[StoreContext] Logo generated and state updated.");else throw console.error("[StoreContext] generateLogoWithGemini returned no imageData. Text response:",ee),new Error(ee||"Gemini did not return image data.")}catch(J){console.error("[StoreContext] Error during Shopify store logo generation:",J.message,J.stack),je(J.message||"Failed to generate logo."),y({title:"Logo Generation Failed",description:`Error: ${J.message}`,variant:"destructive"})}finally{Ne(!1),console.log("[StoreContext] Finished logo generation attempt.")}},Ee=async()=>{if(!B||!I||!A)return y({title:"Import Error",description:"Missing essential Shopify data to finalize import.",variant:"destructive"}),!1;o(!0),L(null);try{const H=X.edges.map(be=>be.node),J=W.edges.map(be=>be.node),ee=RD(B,H,J,I,{generateId:Cr},F);return await Tn(ee)?(fe(),!0):!1}catch(H){return console.error("Error finalizing Shopify import from wizard:",H),L(H.message||"Failed to finalize Shopify import."),y({title:"Import Failed",description:H.message||"Could not complete Shopify store import.",variant:"destructive"}),!1}finally{o(!1)}},_e=H=>e.find(J=>J.id===H)||null,Et=(H,J)=>{const ee=_e(H);return(ee==null?void 0:ee.products.find(pe=>pe.id===J))||null},At=async(H,J)=>{const ee=e.find(be=>be.id===H);let pe=null;if(ee&&(pe={...ee,...J}),!C){n(be=>{const Re=be.map(Le=>Le.id===H?pe||{...Le,...J}:Le);try{localStorage.setItem("ecommerce-stores",JSON.stringify(un(Re)))}catch(Le){console.error("Failed to save stores to localStorage during local-only update:",Le),y({title:"Local Cache Update Failed",description:"Could not update the local cache for the store (local-only).",variant:"warning",duration:7e3})}return r&&r.id===H&&i(Le=>Le?{...Le,...J}:null),Re}),y({title:"Store Updated (Locally)",description:"Changes saved locally."});return}u(!0);try{const{settings:be,...Re}=J,{data:Le,error:et}=await ni.from("stores").update(Re).eq("id",H).eq("merchant_id",C.id).select().single();if(et){console.error("Error updating store in Supabase:",et),y({title:"Update Failed (Cloud)",description:`${et.message}. Settings were not saved to the cloud.`,variant:"destructive"}),n(Ue=>{const lt=Ue.map(xt=>xt.id===H?pe||{...xt,...J}:xt);try{localStorage.setItem("ecommerce-stores",JSON.stringify(un(lt)))}catch(xt){console.error("Failed to save stores to localStorage after Supabase update error:",xt),y({title:"Local Cache Update Failed",description:"Could not update the local cache after a cloud update issue.",variant:"warning",duration:7e3})}return lt}),r&&r.id===H&&i(Ue=>pe||(Ue?{...Ue,...J}:null)),u(!1);return}const Ge={...Le,settings:(pe==null?void 0:pe.settings)||(ee==null?void 0:ee.settings)||{}};n(Ue=>{const lt=Ue.map(xt=>xt.id===H?Ge:xt);try{localStorage.setItem("ecommerce-stores",JSON.stringify(un(lt)))}catch(xt){console.error("Failed to save stores to localStorage after successful Supabase update:",xt),y({title:"Local Cache Update Failed",description:"Could not fully update the local cache after saving to cloud.",variant:"warning",duration:7e3})}return lt}),r&&r.id===H&&i(Ge),y({title:"Store Updated",description:"Store details updated successfully."})}catch(be){console.error("Unexpected error in updateStore:",be),y({title:"Update Error",description:"An unexpected error occurred.",variant:"destructive"})}finally{u(!1)}},bt=async(H,J)=>{if(!C){y({title:"Authentication Required",description:"Please log in to set a pass key.",variant:"destructive"});return}u(!0);try{const{data:ee,error:pe}=await ni.from("stores").update({pass_key:J}).eq("id",H).eq("user_id",C.id).select().single();if(pe){console.error("Error updating store pass key in Supabase:",pe),y({title:"Pass Key Update Failed",description:pe.message,variant:"destructive"}),u(!1);return}n(be=>{const Re=be.map(Le=>Le.id===H?{...Le,pass_key:ee.pass_key}:Le);try{localStorage.setItem("ecommerce-stores",JSON.stringify(un(Re)))}catch(Le){console.error("Failed to save stores to localStorage after pass key update:",Le),y({title:"Local Cache Update Failed",description:"Could not update the local cache after pass key update.",variant:"warning",duration:7e3})}return Re}),r&&r.id===H&&i(be=>be?{...be,pass_key:ee.pass_key}:null),y({title:"Store Pass Key Set",description:"The pass key for the store has been updated."})}catch(ee){console.error("Unexpected error in updateStorePassKey:",ee),y({title:"Pass Key Update Error",description:"An unexpected error occurred.",variant:"destructive"})}finally{u(!1)}},ht=async(H,J)=>{if(!C){y({title:"Authentication Required",description:"Please log in to assign a manager.",variant:"destructive"});return}if(!H||!J){y({title:"Missing Information",description:"Store ID and Manager Email are required.",variant:"destructive"});return}u(!0);try{const{data:ee,error:pe}=await ni.functions.invoke("assign-store-manager",{body:{store_id:H,manager_email:J}});if(pe){console.error("Error assigning store manager:",pe),y({title:"Manager Assignment Failed",description:pe.message,variant:"destructive"}),u(!1);return}if(ee.error){console.error("Error from assign-store-manager function:",ee.error),y({title:"Manager Assignment Failed",description:ee.error,variant:"destructive"}),u(!1);return}y({title:"Store Manager Assigned",description:`Manager ${J} assigned to store.`})}catch(ee){console.error("Unexpected error in assignStoreManager:",ee),y({title:"Manager Assignment Error",description:"An unexpected error occurred.",variant:"destructive"})}finally{u(!1)}},qt=async(H,J,ee)=>{const pe=e.find(Re=>Re.id===H);if(!pe){console.warn(`[StoreContext] updateProductImage: Store with ID ${H} not found.`);return}const be=pe.products.map(Re=>Re.id===J?{...Re,image:ee}:Re);await At(H,{products:be})},sr=async H=>{if(!C){y({title:"Authentication Required",description:"Please log in to delete a store.",variant:"destructive"});return}const J=[...e];n(pe=>{const be=pe.filter(Re=>Re.id!==H);try{localStorage.setItem("ecommerce-stores",JSON.stringify(un(be)))}catch(Re){console.error("Failed to save stores to localStorage during optimistic delete:",Re),y({title:"Local Cache Update Issue",description:"Could not update the local cache during store deletion. Cloud operation will proceed.",variant:"warning",duration:7e3})}return be}),r&&r.id===H&&i(null);const{error:ee}=await ni.from("stores").delete().eq("id",H).eq("merchant_id",C.id);if(ee){console.error("Error deleting store from Supabase:",ee),y({title:"Deletion Failed",description:ee.message,variant:"destructive"}),n(J);try{localStorage.setItem("ecommerce-stores",JSON.stringify(un(J)))}catch(pe){console.error("Failed to save stores to localStorage during delete rollback:",pe),y({title:"Local Cache Revert Failed",description:"Could not revert local cache changes after a failed deletion.",variant:"error",duration:8e3})}J.find(pe=>pe.id===H)&&i(J.find(pe=>pe.id===H)||null);return}y({title:"Store Deleted",description:"Your store has been deleted."})},ci=(H,J)=>{h(ee=>ee.find(be=>be.id===H.id&&be.storeId===J)?ee.map(be=>be.id===H.id&&be.storeId===J?{...be,quantity:be.quantity+1}:be):[...ee,{...H,quantity:1,storeId:J}]),y({title:"Added to Cart",description:`${H.name} has been added to your cart.`})},qr=(H,J)=>{h(ee=>ee.filter(pe=>!(pe.id===H&&pe.storeId===J))),y({title:"Removed from Cart",description:"Item removed from your cart.",variant:"destructive"})},yi=(H,J,ee)=>{if(ee<1){qr(H,J);return}h(pe=>pe.map(be=>be.id===H&&be.storeId===J?{...be,quantity:ee}:be))},en=()=>{h([]),y({title:"Cart Cleared",description:"Your shopping cart is now empty."})},Kn=x.useCallback((H,J)=>{const ee=e.find(Le=>Le.id===H);if(!ee)return console.warn(`[getUpdatesForVersion] Store with ID ${H} not found.`),{template_version:J};let pe={template_version:J};const be=ee.theme||{},Re=ee.template_version;return J==="v2"?be.fontFamily==="Inter"||Re!=="v2"?pe.theme={...be,fontFamily:"Montserrat"}:pe.theme={...be}:J==="v1"&&(be.fontFamily==="Montserrat"&&Re==="v2"?pe.theme={...be,fontFamily:"Inter"}:pe.theme={...be}),pe},[e]),ae={stores:e,currentStore:r,isGenerating:s,isLoadingStores:l,cart:d,user:C,generateStore:xe,getStoreById:_e,updateStore:At,deleteStore:sr,setCurrentStore:i,updateStorePassKey:bt,assignStoreManager:ht,updateStoreTemplateVersion:async(H,J)=>{if(!H||!J){y({title:"Error",description:"Store ID and new template version are required.",variant:"destructive"});return}const ee=Kn(H,J);await At(H,ee),y({title:"Template Updated",description:`Store template is now ${J==="v1"?"Classic":J==="v2"?"Modern":J}.`})},getProductById:Et,updateProductImage:qt,generateStoreFromWizard:jn,addToCart:ci,removeFromCart:qr,updateQuantity:yi,clearCart:en,generateAIProducts:Fde,viewMode:p,setViewMode:E,shopifyWizardStep:j,setShopifyWizardStep:R,shopifyDomain:I,setShopifyDomain:M,shopifyToken:A,setShopifyToken:$,shopifyPreviewMetadata:B,shopifyPreviewProducts:X,shopifyPreviewCollections:W,shopifyLocalization:Y,isFetchingShopifyPreviewData:ue,shopifyImportError:ie,generatedLogoImage:F,isGeneratingLogo:U,logoGenerationError:De,startShopifyImportWizard:ve,fetchShopifyWizardProducts:ye,fetchShopifyWizardCollections:Ze,fetchShopifyWizardLocalization:ce,generateShopifyStoreLogo:Ce,finalizeShopifyImportFromWizard:Ee,resetShopifyWizardState:fe,bigCommerceWizardStep:Te,setBigCommerceWizardStep:Pe,bigCommerceStoreDomain:$e,bigCommerceApiToken:tt,bigCommercePreviewSettings:Tt,bigCommercePreviewProducts:vn,isFetchingBigCommercePreviewData:fn,bigCommerceImportError:xn,startBigCommerceImportWizard:Ye,fetchBigCommerceWizardSettings:it,fetchBigCommerceWizardProducts:Vt,finalizeBigCommerceImportFromWizard:Sn,resetBigCommerceWizardState:Ie};return a.jsx(nB.Provider,{value:ae,children:t})},qm=t=>new Promise((e,n)=>{if(!t)return n(new Error("Image source is undefined or null."));if(t.startsWith("data:"))try{const r=t.split(",");if(r.length<2)throw new Error("Invalid data URL structure.");const i=r[0],s=r[1],o=i.match(/:(.*?);/);if(!o||!o[1])throw new Error("Could not parse MIME type from data URL.");const l=o[1];e({base64ImageData:s,mimeType:l})}catch(r){console.error("Error parsing data URL:",t,r),n(new Error(`Invalid data URL format: ${r.message}`))}else{const r=new Image;r.crossOrigin="Anonymous",r.onload=()=>{const i=document.createElement("canvas");i.width=r.naturalWidth,i.height=r.naturalHeight,i.getContext("2d").drawImage(r,0,0);try{let o="image/png";(t.toLowerCase().endsWith(".jpg")||t.toLowerCase().endsWith(".jpeg"))&&(o="image/jpeg");const d=i.toDataURL(o).split(",")[1];e({base64ImageData:d,mimeType:o})}catch(o){console.error("Canvas toDataURL failed:",o),n(new Error("Canvas toDataURL failed. "+o.message))}},r.onerror=i=>{console.error("Failed to load image from URL for conversion:",t,i),n(new Error("Failed to load image from URL for conversion."))},r.src=t}}),Kde=({product:t,storeId:e,onContentCreated:n})=>{var it,Vt,Sn;const{toast:r}=Bo(),{storeId:i}=u0(),s=Fo(),o=i||e,l=t||((it=s.state)==null?void 0:it.product),{getStoreById:u}=Zn(),[d,h]=x.useState("text-to-image"),[p,g]=x.useState(""),[y,b]=x.useState(""),[C,_]=x.useState(!1),[P,E]=x.useState(!1),[j,R]=x.useState(null),[I,M]=x.useState([]),[A,$]=x.useState(!1),[B,G]=x.useState(""),[X,K]=x.useState(null),[W,V]=x.useState(!1),[Y,ne]=x.useState(null),[ue,oe]=x.useState([]),[ie,L]=x.useState(""),[F,Z]=x.useState(!1),[U,Ne]=x.useState(!1),[De,je]=x.useState(""),[Te,Pe]=x.useState("voiceover"),[$e,He]=x.useState(null),[tt,nt]=x.useState(!1),[Tt,Bt]=x.useState([]),[vn,Ut]=x.useState(!1),[fn,wn]=x.useState(!1);x.useEffect(()=>{let ye=null;if(o?ye=u(o):l&&l.store_id&&(ye=u(l.store_id)),ye&&ye.products){Ut(!0);const Ze=ye.products.map(ce=>{var Ce,Ee,_e;return{id:ce.id,name:ce.name,image:{src:{medium:((Ee=(Ce=ce.image)==null?void 0:Ce.src)==null?void 0:Ee.medium)||`https://via.placeholder.com/100x100.png?text=${encodeURIComponent(((_e=ce.name)==null?void 0:_e.substring(0,10))||"P")}`}}}});Bt(Ze),Ut(!1)}else console.warn("[ContentCreationPage] No current store products found or storeId not available. Falling back to sample product catalog."),Bt([{id:"sample_prod_1",name:"Sample Product Alpha",image:{src:{medium:"https://via.placeholder.com/100x100.png?text=Alpha"}}},{id:"sample_prod_2",name:"Sample Product Beta",image:{src:{medium:"https://via.placeholder.com/100x100.png?text=Beta"}}},{id:"sample_prod_3",name:"Sample Product Gamma",image:{src:{medium:"https://via.placeholder.com/100x100.png?text=Gamma"}}}]),Ut(!1);l&&l.name&&(g(`A captivating image of ${l.name}`),(async()=>{$(!0);try{const ce={name:l.name,description:l.description||"",niche:(ye==null?void 0:ye.type)||l.niche||"",storeName:(ye==null?void 0:ye.name)||l.storeName||""},Ce=await vZ(ce);Ce.suggestions&&Ce.suggestions.length>0?M(Ce.suggestions):Ce.error&&console.warn("Could not fetch prompt suggestions:",Ce.error)}catch(ce){console.error("Error fetching prompt suggestions:",ce)}finally{$(!1)}})())},[l,o,u]);const xn=async()=>{if(!p.trim()){r({title:"Error",description:"Please enter a prompt for image generation",variant:"destructive"});return}_(!0),R(null),L("");try{const ye=await z3(p);let Ze=ye.alt?[ye.alt]:[`Image for: ${p.substring(0,30)}`];if(ye.url)try{const{base64ImageData:ce,mimeType:Ce}=await qm(ye.url);Ze=await eg(ce,Ce,`Image of ${p}`)}catch(ce){console.error("Error generating caption for Gemini image:",ce),Ze=[`Failed to generate caption for: ${p.substring(0,30)}`]}R({url:ye.url,captions:Ze,sourceApi:"gemini"}),Ze&&Ze.length>0&&L(Ze[0])}catch(ye){console.error("Error generating image with Gemini:",ye),r({title:"Image Generation Failed",description:ye.message,variant:"destructive"})}finally{_(!1)}},Zt=async()=>{if(!y.trim()){r({title:"Error",description:"Please enter a prompt for OpenAI image generation",variant:"destructive"});return}E(!0),R(null),L("");try{const ye=await _ce(y),Ze=`data:image/png;base64,${ye.b64_json}`;let ce=ye.alt?[ye.alt]:[`OpenAI image for: ${y.substring(0,30)}`];try{const{base64ImageData:Ce,mimeType:Ee}=await qm(Ze);ce=await eg(Ce,Ee,`OpenAI-generated image of ${y}`)}catch(Ce){console.error("Error generating caption for OpenAI image:",Ce),ce=[`Failed to generate caption for: ${y.substring(0,30)}`]}R({url:Ze,captions:ce,sourceApi:"openai"}),ce&&ce.length>0&&L(ce[0]),r({title:"Image Generated (OpenAI)",description:"Image successfully generated using OpenAI."})}catch(ye){console.error("Error generating image with OpenAI:",ye),r({title:"OpenAI Image Generation Failed",description:ye.message,variant:"destructive"})}finally{E(!1)}},un=async(ye,Ze)=>{if(!ye||!ye.url){r({title:"Error",description:"No image selected to edit with Gemini.",variant:"destructive"});return}if(!Ze.trim()){r({title:"Error",description:"Please enter an edit prompt for Gemini.",variant:"destructive"});return}V(!0),ne(null),L("");try{const{base64ImageData:ce,mimeType:Ce}=await qm(ye.url),Ee=await N$(ce,Ce,Ze);if(Ee&&Ee.editedImageData){const _e=`data:${Ee.newMimeType};base64,${Ee.editedImageData}`;let Et=Ee.editTextResponse?[Ee.editTextResponse]:[`Edited with Gemini: ${ye.caption||ye.id}`];try{Et=await eg(Ee.editedImageData,Ee.newMimeType,`Edited image based on: ${Ze}`)}catch(At){console.error("Error generating caption for Gemini edited image:",At)}ne({url:_e,captions:Et,sourceApi:"gemini"}),Et&&Et.length>0&&L(Et[0]),r({title:"Image Edited (Gemini)",description:"Image successfully edited with Gemini."})}else throw new Error("Gemini image edit did not return image data.")}catch(ce){console.error("Error editing image with Gemini:",ce),r({title:"Gemini Edit Failed",description:ce.message,variant:"destructive"})}finally{V(!1)}},Hn=async ye=>{const Ze=ye.target.files[0];if(Ze){nt(!0),He(null),L("");try{const ce=new FileReader;ce.onload=async Ce=>{const Ee=Ce.target.result;let _e=[Ze.name];try{const{base64ImageData:Et,mimeType:At}=await qm(Ee);_e=await eg(Et,At,"Uploaded image caption")}catch(Et){console.error("Error generating caption for uploaded image:",Et)}He({url:Ee,captions:_e}),_e&&_e.length>0&&L(_e[0]),nt(!1)},ce.onerror=()=>{r({title:"Upload Failed",description:"Failed to read the selected file",variant:"destructive"}),nt(!1)},ce.readAsDataURL(Ze)}catch(ce){console.error("Error processing uploaded file:",ce),r({title:"Upload Failed",description:ce.message,variant:"destructive"}),nt(!1)}}},Tn=(ye,Ze,ce="image")=>{if(!ye){r({title:"Cannot Add",description:"Image URL is missing.",variant:"destructive"});return}const Ce={id:Cr(),type:ce,url:ye,caption:Ze||`Item ${ue.length+1}`,isVideo:ce==="video"};oe(Ee=>[...Ee,Ce]),r({title:"Added to Timeline",description:`${ce==="video"?"Video":"Image"} added to your content timeline.`}),R(null),ne(null),He(null),K(null),L("")},jn=(ye,Ze)=>{const ce=[...ue],Ce=ce[ye],Ee=ye+Ze;Ee<0||Ee>=ce.length||(ce.splice(ye,1),ce.splice(Ee,0,Ce),oe(ce))},xe=ye=>{oe(Ze=>Ze.filter(ce=>ce.id!==ye)),r({title:"Removed from Timeline",description:"Item removed."})},fe=async(ye,Ze)=>{if(ye.isVideo){r({title:"Already a Video",description:"This item is already a video."});return}Z(!0);try{const{base64ImageData:ce,mimeType:Ce}=await qm(ye.url),Ee=ye.caption||`Create a short video from this image: ${l?l.name:"product showcase"}`,_e=await j$(Ee,ce,Ce),Et=[...ue];Et[Ze]={...ye,url:_e,isVideo:!0,type:"video",caption:ye.caption+" (Veo Video)"},oe(Et),r({title:"Veo Video Generated",description:"Image converted to video using Veo."})}catch(ce){console.error("Error converting to Veo video:",ce),r({title:"Veo Conversion Failed",description:ce.message,variant:"destructive"})}finally{Z(!1)}},ve=async()=>{if(ue.length===0){r({title:"Empty Timeline",description:"Add content to the timeline first.",variant:"destructive"});return}Ne(!0),je("Starting video generation..."),r({title:"Creatomate Process Started",description:"Your video is being prepared."});try{let ye;if(Te==="voiceover"){if(ue.length===0){r({title:"Error",description:"Please add items to the timeline for the voiceover video.",variant:"destructive"}),Ne(!1);return}ye=await hle(ue)}else if(Te==="product_showcase"){const Ze=ue.find(Ce=>Ce.type==="image");if(!Ze){r({title:"Error",description:"Please add at least one image to the timeline for the product showcase template.",variant:"destructive"}),Ne(!1);return}const ce={websiteUrl:(l==null?void 0:l.storeUrl)||"www.yourstore.com",ctaText:"Shop Now!"};ye=await ple(Ze,ce)}else throw new Error("Invalid Creatomate template selected.");if(ye&&ye.status==="succeeded"&&ye.url)r({title:"Creatomate Video Generated!",description:`Video successfully created: ${ye.url}`,duration:9e3}),je(`Video ready: ${ye.url}`),n&&n({type:"video",url:ye.url,source:"creatomate",renderDetails:ye});else throw ye&&ye.status==="failed"?new Error(ye.error_message||"Creatomate video generation failed."):new Error("Creatomate video generation did not complete successfully or returned unexpected data.")}catch(ye){console.error("Error generating Creatomate video:",ye),r({title:"Creatomate Video Failed",description:ye.message,variant:"destructive",duration:9e3}),je(`Error: ${ye.message}`)}finally{Ne(!1)}},Ie=ye=>{const Ze=ue.find(Ce=>Ce.id===ye);if(!Ze)return;const ce=prompt("Edit caption:",Ze.caption);ce!==null&&ce.trim()!==Ze.caption&&(oe(Ce=>Ce.map(Ee=>Ee.id===ye?{...Ee,caption:ce.trim()}:Ee)),r({title:"Caption Updated"}))},Ye=ye=>{if(ye.image&&ye.image.src&&ye.image.src.medium){const Ze=`Product: ${ye.name}`;Tn(ye.image.src.medium,Ze)}else r({title:"No Image",description:`Product ${ye.name} has no image.`,variant:"destructive"});wn(!1)};return a.jsxs("div",{className:"container mx-auto p-4 md:p-6 lg:p-8 space-y-8",children:[a.jsxs("header",{className:"relative text-center pb-4",children:[" ",a.jsx(Ni,{to:"/",className:"absolute left-0 top-0",children:a.jsxs(te,{variant:"outline",size:"icon",children:[a.jsx(Aa,{className:"h-5 w-5"}),a.jsx("span",{className:"sr-only",children:"Back to Home"})]})}),a.jsx("h1",{className:"text-3xl md:text-4xl font-bold tracking-tight",children:"AI Content Creation Studio"}),a.jsx("p",{className:"text-muted-foreground mt-2 text-lg",children:"Generate images, edit them, create videos, and build your content sequence."})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 xl:gap-8",children:[a.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[a.jsxs(ks,{value:d,onValueChange:h,className:"w-full",children:[a.jsxs(fs,{className:"grid w-full grid-cols-3",children:[a.jsxs(Yt,{value:"text-to-image",children:[a.jsx(Wl,{className:"mr-1 h-4 w-4 inline-block"}),"Gen Image"]}),a.jsxs(Yt,{value:"image-edit",children:[a.jsx(Kj,{className:"mr-1 h-4 w-4 inline-block"}),"Edit Image"]}),a.jsxs(Yt,{value:"upload",children:[a.jsx(aQ,{className:"mr-1 h-4 w-4 inline-block"}),"Upload"]})]}),a.jsxs(Jt,{value:"text-to-image",className:"mt-4 p-4 border rounded-lg bg-card shadow",children:[a.jsx(Je,{htmlFor:"text-prompt-gemini",className:"text-lg font-semibold",children:"Text-to-Image (Gemini)"}),a.jsx(gr,{id:"text-prompt-gemini",placeholder:"e.g., 'A futuristic cityscape at sunset' (Gemini)",value:p,onChange:ye=>g(ye.target.value),rows:3,className:"mt-2",disabled:C||P}),A&&a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Loading prompt suggestions..."}),I.length>0&&!A&&a.jsxs("div",{className:"mt-2 space-y-1",children:[a.jsx(Je,{className:"text-xs text-muted-foreground",children:"Suggestions for Gemini:"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:I.map((ye,Ze)=>a.jsx(te,{variant:"outline",size:"xs",onClick:()=>g(ye),className:"text-xs",children:ye.length>40?ye.substring(0,37)+"...":ye},Ze))})]}),a.jsxs(te,{onClick:xn,disabled:C||P||!p.trim(),className:"w-full mt-3",children:[C?a.jsx(sn,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(Wl,{className:"mr-2 h-4 w-4"}),"Generate with Gemini"]}),a.jsx(Io,{className:"my-4"}),a.jsx(Je,{htmlFor:"text-prompt-openai",className:"text-lg font-semibold",children:"Text-to-Image (OpenAI gpt-image-1)"}),a.jsx(gr,{id:"text-prompt-openai",placeholder:"e.g., 'A photorealistic cat astronaut' (OpenAI)",value:y,onChange:ye=>b(ye.target.value),rows:3,className:"mt-2",disabled:C||P}),a.jsxs(te,{onClick:Zt,disabled:C||P||!y.trim(),className:"w-full mt-3",children:[P?a.jsx(sn,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(LX,{className:"mr-2 h-4 w-4"}),"Generate with OpenAI"]}),j&&j.url&&a.jsxs("div",{className:"mt-4 border rounded-md p-4 space-y-3 bg-muted/50 min-h-[320px]",children:[" ",a.jsx("img",{src:j.url,alt:`Generated by ${j.sourceApi||"AI"}`,className:"w-full rounded-md object-contain max-h-96"})," ",a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Source: ",(Vt=j.sourceApi)==null?void 0:Vt.toUpperCase()]}),a.jsx(Je,{className:"text-sm font-medium",children:"Choose a caption:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:(j.captions||[]).map((ye,Ze)=>a.jsx(te,{variant:ie===ye?"default":"outline",size:"sm",onClick:()=>L(ye),className:"text-xs",children:ye},Ze))}),a.jsxs(te,{onClick:()=>Tn(j.url,ie),size:"sm",className:"w-full mt-2",disabled:!ie,children:[a.jsx(Nx,{className:"mr-2 h-4 w-4"})," Add to Timeline"]})]})]}),a.jsxs(Jt,{value:"image-edit",className:"mt-4 p-4 border rounded-lg bg-card shadow",children:[a.jsx(Je,{className:"text-lg font-semibold",children:"Image Editing"}),!X&&a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Select an image from the timeline to enable editing."}),X&&a.jsxs("div",{className:"mt-2 space-y-3",children:[a.jsxs("p",{className:"text-sm font-medium",children:["Editing: ",a.jsx("span",{className:"text-primary truncate",children:X.caption})]}),a.jsx("img",{src:X.url,alt:"Selected for editing",className:"w-full rounded-md object-contain max-h-48 border"}),a.jsx(Je,{htmlFor:"edit-prompt-gemini",children:"Edit with Gemini"}),a.jsx(gr,{id:"edit-prompt-gemini",placeholder:"Describe Gemini edits (e.g., 'change background to a beach')",value:B,onChange:ye=>G(ye.target.value),rows:2,disabled:W}),a.jsxs(te,{onClick:()=>un(X,B),disabled:W||!B.trim(),className:"w-full",children:[W?a.jsx(sn,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(Wl,{className:"mr-2 h-4 w-4"}),"Edit with Gemini"]})]}),Y&&Y.url&&a.jsxs("div",{className:"mt-4 border rounded-md p-4 space-y-3 bg-muted/50 min-h-[320px]",children:[" ",a.jsx("img",{src:Y.url,alt:`Edited by ${Y.sourceApi||"AI"}`,className:"w-full rounded-md object-contain max-h-96"})," ",a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Source: ",(Sn=Y.sourceApi)==null?void 0:Sn.toUpperCase()]}),a.jsx(Je,{className:"text-sm font-medium",children:"Choose a caption for the edited image:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:(Y.captions||[]).map((ye,Ze)=>a.jsx(te,{variant:ie===ye?"default":"outline",size:"sm",onClick:()=>L(ye),className:"text-xs",children:ye},Ze))}),a.jsxs(te,{onClick:()=>Tn(Y.url,ie),size:"sm",className:"w-full mt-2",disabled:!ie,children:[a.jsx(Nx,{className:"mr-2 h-4 w-4"})," Add Edited to Timeline"]})]})]}),a.jsxs(Jt,{value:"upload",className:"mt-4 p-4 border rounded-lg bg-card shadow",children:[a.jsx(Je,{htmlFor:"image-upload",className:"text-lg font-semibold",children:"Upload Image"}),a.jsx(ft,{id:"image-upload",type:"file",accept:"image/*",onChange:Hn,className:"mt-2",disabled:tt}),tt&&a.jsxs("div",{className:"mt-2 flex items-center text-sm text-muted-foreground",children:[a.jsx(sn,{className:"mr-2 h-4 w-4 animate-spin"})," Processing..."]}),$e&&$e.url&&a.jsxs("div",{className:"mt-4 border rounded-md p-4 space-y-3 bg-muted/50 min-h-[320px]",children:[" ",a.jsx("img",{src:$e.url,alt:"Uploaded content",className:"w-full rounded-md object-contain max-h-96"})," ",a.jsx(Je,{className:"text-sm font-medium",children:"Choose a caption for the uploaded image:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:($e.captions||[]).map((ye,Ze)=>a.jsx(te,{variant:ie===ye?"default":"outline",size:"sm",onClick:()=>L(ye),className:"text-xs",children:ye},Ze))}),a.jsxs(te,{onClick:()=>Tn($e.url,ie),size:"sm",className:"w-full mt-2",disabled:!ie,children:[a.jsx(Nx,{className:"mr-2 h-4 w-4"})," Add to Timeline"]})]})]})]}),a.jsxs("div",{className:"p-4 border rounded-lg bg-card shadow",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Product Catalog"}),a.jsxs(te,{variant:"outline",size:"sm",onClick:()=>wn(!fn),children:[fn?"Hide":"Show"," Products ",a.jsx(RX,{className:"ml-2 h-4 w-4"})]})]}),fn&&a.jsx(Oa,{className:"mt-2 h-48 border rounded-md p-2",children:a.jsx("div",{className:"space-y-2",children:Tt.map(ye=>{var Ze,ce;return a.jsxs("div",{className:"flex items-center justify-between p-2 rounded-md hover:bg-muted cursor-pointer",onClick:()=>Ye(ye),children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("img",{src:(ce=(Ze=ye.image)==null?void 0:Ze.src)==null?void 0:ce.medium,alt:ye.name,className:"w-10 h-10 object-cover rounded"}),a.jsx("span",{className:"text-sm",children:ye.name})]}),a.jsx(te,{size:"xs",variant:"ghost",children:a.jsx(Nx,{className:"h-4 w-4"})})]},ye.id)})})})]})]}),a.jsx("div",{className:"lg:col-span-2 space-y-6",children:a.jsxs("div",{className:"p-4 md:p-6 border rounded-lg bg-card shadow min-h-[400px]",children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Content Timeline"}),a.jsxs(Oa,{className:"h-[calc(100vh-350px)] min-h-[300px] pr-3",children:[" ",ue.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-muted-foreground",children:[a.jsx(Gj,{className:"h-12 w-12 mb-3"}),a.jsx("p",{children:"Your timeline is empty."}),a.jsx("p",{className:"text-sm",children:"Generate or upload content to get started."})]}):a.jsx(Wv,{children:ue.map((ye,Ze)=>a.jsxs(In.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:-50},transition:{type:"spring",stiffness:300,damping:30},className:"mb-3 p-3 border rounded-md flex items-start gap-3 hover:shadow-md transition-shadow bg-background",children:[a.jsxs("div",{className:"w-24 h-24 flex-shrink-0 relative rounded overflow-hidden group bg-muted",children:[ye.isVideo?a.jsx("video",{src:ye.url,className:"w-full h-full object-cover",controls:!1,muted:!0,loop:!0,onMouseOver:ce=>ce.target.play(),onMouseOut:ce=>ce.target.pause()}):a.jsx("img",{src:ye.url,alt:ye.caption,className:"w-full h-full object-cover"}),!ye.isVideo&&a.jsx(te,{size:"icon",variant:"secondary",className:"absolute top-1 right-1 h-7 w-7 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>fe(ye,Ze),disabled:F,title:"Convert to Veo Video",children:F?a.jsx(sn,{className:"h-4 w-4 animate-spin"}):a.jsx(QX,{className:"h-4 w-4"})}),a.jsx(te,{size:"icon",variant:"outline",className:"absolute bottom-1 right-1 h-7 w-7 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>{K(ye),h("image-edit")},disabled:ye.isVideo,title:"Edit this image",children:a.jsx(Kj,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"flex-grow min-w-0",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded-sm ${ye.isVideo?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:[ye.isVideo?"Video":"Image"," ",Ze+1]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(te,{size:"icon",variant:"ghost",onClick:()=>jn(Ze,-1),disabled:Ze===0,className:"h-7 w-7",children:a.jsx(GX,{className:"h-4 w-4"})}),a.jsx(te,{size:"icon",variant:"ghost",onClick:()=>jn(Ze,1),disabled:Ze===ue.length-1,className:"h-7 w-7",children:a.jsx(qX,{className:"h-4 w-4"})}),a.jsx(te,{size:"icon",variant:"ghost",onClick:()=>Ie(ye.id),className:"h-7 w-7",children:a.jsx(YX,{className:"h-4 w-4"})}),a.jsx(te,{size:"icon",variant:"ghost",onClick:()=>xe(ye.id),className:"h-7 w-7 text-destructive",children:a.jsx(Sa,{className:"h-4 w-4"})})]})]}),a.jsx("p",{className:"text-sm mt-1 text-muted-foreground line-clamp-3",title:ye.caption,children:ye.caption})]})]},ye.id))})]}),ue.length>0&&a.jsx(Io,{className:"my-4"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(Je,{htmlFor:"creatomate-template-select",children:"Creatomate Template"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(te,{variant:Te==="voiceover"?"default":"outline",onClick:()=>Pe("voiceover"),className:"flex-1",children:"Voiceover Slideshow"}),a.jsx(te,{variant:Te==="product_showcase"?"default":"outline",onClick:()=>Pe("product_showcase"),className:"flex-1",children:"Product Showcase"})]}),a.jsxs(te,{onClick:ve,disabled:U||ue.length===0,className:"w-full",size:"lg",children:[U?a.jsx(sn,{className:"mr-2 h-5 w-5 animate-spin"}):a.jsx(Gj,{className:"mr-2 h-5 w-5"}),"Generate with Creatomate"]}),De&&a.jsxs("p",{className:"text-xs text-muted-foreground mt-1 text-center p-2 bg-muted rounded-md",children:["Status: ",De]}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1 text-center",children:"Uses selected Creatomate template with ElevenLabs narration."})]})]})})]})]})};function rB(t){const e=x.useRef({value:t,previous:t});return x.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function uE(t){const[e,n]=x.useState(void 0);return to(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,l;if("borderBoxSize"in s){const u=s.borderBoxSize,d=Array.isArray(u)?u[0]:u;o=d.inlineSize,l=d.blockSize}else o=t.offsetWidth,l=t.offsetHeight;n({width:o,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var sw="Switch",[Yde,OTe]=ds(sw),[Jde,Xde]=Yde(sw),iB=x.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:o,disabled:l,value:u="on",onCheckedChange:d,form:h,...p}=t,[g,y]=x.useState(null),b=yn(e,j=>y(j)),C=x.useRef(!1),_=g?h||!!g.closest("form"):!0,[P,E]=rc({prop:i,defaultProp:s??!1,onChange:d,caller:sw});return a.jsxs(Jde,{scope:n,checked:P,disabled:l,children:[a.jsx(Wt.button,{type:"button",role:"switch","aria-checked":P,"aria-required":o,"data-state":lB(P),"data-disabled":l?"":void 0,disabled:l,value:u,...p,ref:b,onClick:ct(t.onClick,j=>{E(R=>!R),_&&(C.current=j.isPropagationStopped(),C.current||j.stopPropagation())})}),_&&a.jsx(aB,{control:g,bubbles:!C.current,name:r,value:u,checked:P,required:o,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});iB.displayName=sw;var sB="SwitchThumb",oB=x.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=Xde(sB,n);return a.jsx(Wt.span,{"data-state":lB(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});oB.displayName=sB;var Qde="SwitchBubbleInput",aB=x.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...i},s)=>{const o=x.useRef(null),l=yn(o,s),u=rB(n),d=uE(e);return x.useEffect(()=>{const h=o.current;if(!h)return;const p=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(p,"checked").set;if(u!==n&&y){const b=new Event("click",{bubbles:r});y.call(h,n),h.dispatchEvent(b)}},[u,n,r]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:l,style:{...i.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});aB.displayName=Qde;function lB(t){return t?"checked":"unchecked"}var cB=iB,Zde=oB;const No=re.forwardRef(({className:t,...e},n)=>a.jsx(cB,{className:gt("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:a.jsx(Zde,{className:gt("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));No.displayName=cB.displayName;const efe=["top","right","bottom","left"],Fa=Math.min,Gi=Math.max,Qv=Math.round,Qx=Math.floor,Zs=t=>({x:t,y:t}),tfe={left:"right",right:"left",bottom:"top",top:"bottom"},nfe={start:"end",end:"start"};function UC(t,e,n){return Gi(t,Fa(e,n))}function Do(t,e){return typeof t=="function"?t(e):t}function Lo(t){return t.split("-")[0]}function nd(t){return t.split("-")[1]}function dE(t){return t==="x"?"y":"x"}function fE(t){return t==="y"?"height":"width"}function ko(t){return["top","bottom"].includes(Lo(t))?"y":"x"}function hE(t){return dE(ko(t))}function rfe(t,e,n){n===void 0&&(n=!1);const r=nd(t),i=hE(t),s=fE(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Zv(o)),[o,Zv(o)]}function ife(t){const e=Zv(t);return[VC(t),e,VC(e)]}function VC(t){return t.replace(/start|end/g,e=>nfe[e])}function sfe(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function ofe(t,e,n,r){const i=nd(t);let s=sfe(Lo(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(VC)))),s}function Zv(t){return t.replace(/left|right|bottom|top/g,e=>tfe[e])}function afe(t){return{top:0,right:0,bottom:0,left:0,...t}}function uB(t){return typeof t!="number"?afe(t):{top:t,right:t,bottom:t,left:t}}function e0(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function kD(t,e,n){let{reference:r,floating:i}=t;const s=ko(e),o=hE(e),l=fE(o),u=Lo(e),d=s==="y",h=r.x+r.width/2-i.width/2,p=r.y+r.height/2-i.height/2,g=r[l]/2-i[l]/2;let y;switch(u){case"top":y={x:h,y:r.y-i.height};break;case"bottom":y={x:h,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:p};break;case"left":y={x:r.x-i.width,y:p};break;default:y={x:r.x,y:r.y}}switch(nd(e)){case"start":y[o]-=g*(n&&d?-1:1);break;case"end":y[o]+=g*(n&&d?-1:1);break}return y}const lfe=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,l=s.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:h,y:p}=kD(d,r,u),g=r,y={},b=0;for(let C=0;C<l.length;C++){const{name:_,fn:P}=l[C],{x:E,y:j,data:R,reset:I}=await P({x:h,y:p,initialPlacement:r,placement:g,strategy:i,middlewareData:y,rects:d,platform:o,elements:{reference:t,floating:e}});h=E??h,p=j??p,y={...y,[_]:{...y[_],...R}},I&&b<=50&&(b++,typeof I=="object"&&(I.placement&&(g=I.placement),I.rects&&(d=I.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):I.rects),{x:h,y:p}=kD(d,g,u)),C=-1)}return{x:h,y:p,placement:g,strategy:i,middlewareData:y}};async function Bg(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:l,strategy:u}=t,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:p="floating",altBoundary:g=!1,padding:y=0}=Do(e,t),b=uB(y),_=l[g?p==="floating"?"reference":"floating":p],P=e0(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(_)))==null||n?_:_.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:d,rootBoundary:h,strategy:u})),E=p==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,j=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),R=await(s.isElement==null?void 0:s.isElement(j))?await(s.getScale==null?void 0:s.getScale(j))||{x:1,y:1}:{x:1,y:1},I=e0(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:E,offsetParent:j,strategy:u}):E);return{top:(P.top-I.top+b.top)/R.y,bottom:(I.bottom-P.bottom+b.bottom)/R.y,left:(P.left-I.left+b.left)/R.x,right:(I.right-P.right+b.right)/R.x}}const cfe=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:l,middlewareData:u}=e,{element:d,padding:h=0}=Do(t,e)||{};if(d==null)return{};const p=uB(h),g={x:n,y:r},y=hE(i),b=fE(y),C=await o.getDimensions(d),_=y==="y",P=_?"top":"left",E=_?"bottom":"right",j=_?"clientHeight":"clientWidth",R=s.reference[b]+s.reference[y]-g[y]-s.floating[b],I=g[y]-s.reference[y],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let A=M?M[j]:0;(!A||!await(o.isElement==null?void 0:o.isElement(M)))&&(A=l.floating[j]||s.floating[b]);const $=R/2-I/2,B=A/2-C[b]/2-1,G=Fa(p[P],B),X=Fa(p[E],B),K=G,W=A-C[b]-X,V=A/2-C[b]/2+$,Y=UC(K,V,W),ne=!u.arrow&&nd(i)!=null&&V!==Y&&s.reference[b]/2-(V<K?G:X)-C[b]/2<0,ue=ne?V<K?V-K:V-W:0;return{[y]:g[y]+ue,data:{[y]:Y,centerOffset:V-Y-ue,...ne&&{alignmentOffset:ue}},reset:ne}}}),ufe=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:l,platform:u,elements:d}=e,{mainAxis:h=!0,crossAxis:p=!0,fallbackPlacements:g,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:C=!0,..._}=Do(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const P=Lo(i),E=ko(l),j=Lo(l)===l,R=await(u.isRTL==null?void 0:u.isRTL(d.floating)),I=g||(j||!C?[Zv(l)]:ife(l)),M=b!=="none";!g&&M&&I.push(...ofe(l,C,b,R));const A=[l,...I],$=await Bg(e,_),B=[];let G=((r=s.flip)==null?void 0:r.overflows)||[];if(h&&B.push($[P]),p){const Y=rfe(i,o,R);B.push($[Y[0]],$[Y[1]])}if(G=[...G,{placement:i,overflows:B}],!B.every(Y=>Y<=0)){var X,K;const Y=(((X=s.flip)==null?void 0:X.index)||0)+1,ne=A[Y];if(ne){var W;const oe=p==="alignment"?E!==ko(ne):!1,ie=((W=G[0])==null?void 0:W.overflows[0])>0;if(!oe||ie)return{data:{index:Y,overflows:G},reset:{placement:ne}}}let ue=(K=G.filter(oe=>oe.overflows[0]<=0).sort((oe,ie)=>oe.overflows[1]-ie.overflows[1])[0])==null?void 0:K.placement;if(!ue)switch(y){case"bestFit":{var V;const oe=(V=G.filter(ie=>{if(M){const L=ko(ie.placement);return L===E||L==="y"}return!0}).map(ie=>[ie.placement,ie.overflows.filter(L=>L>0).reduce((L,F)=>L+F,0)]).sort((ie,L)=>ie[1]-L[1])[0])==null?void 0:V[0];oe&&(ue=oe);break}case"initialPlacement":ue=l;break}if(i!==ue)return{reset:{placement:ue}}}return{}}}};function ID(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function MD(t){return efe.some(e=>t[e]>=0)}const dfe=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Do(t,e);switch(r){case"referenceHidden":{const s=await Bg(e,{...i,elementContext:"reference"}),o=ID(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:MD(o)}}}case"escaped":{const s=await Bg(e,{...i,altBoundary:!0}),o=ID(s,n.floating);return{data:{escapedOffsets:o,escaped:MD(o)}}}default:return{}}}}};async function ffe(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Lo(n),l=nd(n),u=ko(n)==="y",d=["left","top"].includes(o)?-1:1,h=s&&u?-1:1,p=Do(e,t);let{mainAxis:g,crossAxis:y,alignmentAxis:b}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return l&&typeof b=="number"&&(y=l==="end"?b*-1:b),u?{x:y*h,y:g*d}:{x:g*d,y:y*h}}const hfe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:l}=e,u=await ffe(e,t);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+u.x,y:s+u.y,data:{...u,placement:o}}}}},pfe=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:_=>{let{x:P,y:E}=_;return{x:P,y:E}}},...u}=Do(t,e),d={x:n,y:r},h=await Bg(e,u),p=ko(Lo(i)),g=dE(p);let y=d[g],b=d[p];if(s){const _=g==="y"?"top":"left",P=g==="y"?"bottom":"right",E=y+h[_],j=y-h[P];y=UC(E,y,j)}if(o){const _=p==="y"?"top":"left",P=p==="y"?"bottom":"right",E=b+h[_],j=b-h[P];b=UC(E,b,j)}const C=l.fn({...e,[g]:y,[p]:b});return{...C,data:{x:C.x-n,y:C.y-r,enabled:{[g]:s,[p]:o}}}}}},mfe=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:l=0,mainAxis:u=!0,crossAxis:d=!0}=Do(t,e),h={x:n,y:r},p=ko(i),g=dE(p);let y=h[g],b=h[p];const C=Do(l,e),_=typeof C=="number"?{mainAxis:C,crossAxis:0}:{mainAxis:0,crossAxis:0,...C};if(u){const j=g==="y"?"height":"width",R=s.reference[g]-s.floating[j]+_.mainAxis,I=s.reference[g]+s.reference[j]-_.mainAxis;y<R?y=R:y>I&&(y=I)}if(d){var P,E;const j=g==="y"?"width":"height",R=["top","left"].includes(Lo(i)),I=s.reference[p]-s.floating[j]+(R&&((P=o.offset)==null?void 0:P[p])||0)+(R?0:_.crossAxis),M=s.reference[p]+s.reference[j]+(R?0:((E=o.offset)==null?void 0:E[p])||0)-(R?_.crossAxis:0);b<I?b=I:b>M&&(b=M)}return{[g]:y,[p]:b}}}},gfe=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:l}=e,{apply:u=()=>{},...d}=Do(t,e),h=await Bg(e,d),p=Lo(i),g=nd(i),y=ko(i)==="y",{width:b,height:C}=s.floating;let _,P;p==="top"||p==="bottom"?(_=p,P=g===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(P=p,_=g==="end"?"top":"bottom");const E=C-h.top-h.bottom,j=b-h.left-h.right,R=Fa(C-h[_],E),I=Fa(b-h[P],j),M=!e.middlewareData.shift;let A=R,$=I;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&($=j),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(A=E),M&&!g){const G=Gi(h.left,0),X=Gi(h.right,0),K=Gi(h.top,0),W=Gi(h.bottom,0);y?$=b-2*(G!==0||X!==0?G+X:Gi(h.left,h.right)):A=C-2*(K!==0||W!==0?K+W:Gi(h.top,h.bottom))}await u({...e,availableWidth:$,availableHeight:A});const B=await o.getDimensions(l.floating);return b!==B.width||C!==B.height?{reset:{rects:!0}}:{}}}};function ow(){return typeof window<"u"}function rd(t){return dB(t)?(t.nodeName||"").toLowerCase():"#document"}function Ki(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function uo(t){var e;return(e=(dB(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function dB(t){return ow()?t instanceof Node||t instanceof Ki(t).Node:!1}function Ns(t){return ow()?t instanceof Element||t instanceof Ki(t).Element:!1}function no(t){return ow()?t instanceof HTMLElement||t instanceof Ki(t).HTMLElement:!1}function DD(t){return!ow()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ki(t).ShadowRoot}function py(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=js(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function yfe(t){return["table","td","th"].includes(rd(t))}function aw(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function pE(t){const e=mE(),n=Ns(t)?js(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function xfe(t){let e=Ba(t);for(;no(e)&&!Wu(e);){if(pE(e))return e;if(aw(e))return null;e=Ba(e)}return null}function mE(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Wu(t){return["html","body","#document"].includes(rd(t))}function js(t){return Ki(t).getComputedStyle(t)}function lw(t){return Ns(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ba(t){if(rd(t)==="html")return t;const e=t.assignedSlot||t.parentNode||DD(t)&&t.host||uo(t);return DD(e)?e.host:e}function fB(t){const e=Ba(t);return Wu(e)?t.ownerDocument?t.ownerDocument.body:t.body:no(e)&&py(e)?e:fB(e)}function Ug(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=fB(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Ki(i);if(s){const l=zC(o);return e.concat(o,o.visualViewport||[],py(i)?i:[],l&&n?Ug(l):[])}return e.concat(i,Ug(i,[],n))}function zC(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function hB(t){const e=js(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=no(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,l=Qv(n)!==s||Qv(r)!==o;return l&&(n=s,r=o),{width:n,height:r,$:l}}function gE(t){return Ns(t)?t:t.contextElement}function Au(t){const e=gE(t);if(!no(e))return Zs(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=hB(e);let o=(s?Qv(n.width):n.width)/r,l=(s?Qv(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const vfe=Zs(0);function pB(t){const e=Ki(t);return!mE()||!e.visualViewport?vfe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function wfe(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ki(t)?!1:e}function tc(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=gE(t);let o=Zs(1);e&&(r?Ns(r)&&(o=Au(r)):o=Au(t));const l=wfe(s,n,r)?pB(s):Zs(0);let u=(i.left+l.x)/o.x,d=(i.top+l.y)/o.y,h=i.width/o.x,p=i.height/o.y;if(s){const g=Ki(s),y=r&&Ns(r)?Ki(r):r;let b=g,C=zC(b);for(;C&&r&&y!==b;){const _=Au(C),P=C.getBoundingClientRect(),E=js(C),j=P.left+(C.clientLeft+parseFloat(E.paddingLeft))*_.x,R=P.top+(C.clientTop+parseFloat(E.paddingTop))*_.y;u*=_.x,d*=_.y,h*=_.x,p*=_.y,u+=j,d+=R,b=Ki(C),C=zC(b)}}return e0({width:h,height:p,x:u,y:d})}function yE(t,e){const n=lw(t).scrollLeft;return e?e.left+n:tc(uo(t)).left+n}function mB(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:yE(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function Sfe(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=uo(r),l=e?aw(e.floating):!1;if(r===o||l&&s)return n;let u={scrollLeft:0,scrollTop:0},d=Zs(1);const h=Zs(0),p=no(r);if((p||!p&&!s)&&((rd(r)!=="body"||py(o))&&(u=lw(r)),no(r))){const y=tc(r);d=Au(r),h.x=y.x+r.clientLeft,h.y=y.y+r.clientTop}const g=o&&!p&&!s?mB(o,u,!0):Zs(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-u.scrollLeft*d.x+h.x+g.x,y:n.y*d.y-u.scrollTop*d.y+h.y+g.y}}function bfe(t){return Array.from(t.getClientRects())}function Cfe(t){const e=uo(t),n=lw(t),r=t.ownerDocument.body,i=Gi(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Gi(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+yE(t);const l=-n.scrollTop;return js(r).direction==="rtl"&&(o+=Gi(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:l}}function _fe(t,e){const n=Ki(t),r=uo(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,l=0,u=0;if(i){s=i.width,o=i.height;const d=mE();(!d||d&&e==="fixed")&&(l=i.offsetLeft,u=i.offsetTop)}return{width:s,height:o,x:l,y:u}}function Tfe(t,e){const n=tc(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=no(t)?Au(t):Zs(1),o=t.clientWidth*s.x,l=t.clientHeight*s.y,u=i*s.x,d=r*s.y;return{width:o,height:l,x:u,y:d}}function LD(t,e,n){let r;if(e==="viewport")r=_fe(t,n);else if(e==="document")r=Cfe(uo(t));else if(Ns(e))r=Tfe(e,n);else{const i=pB(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return e0(r)}function gB(t,e){const n=Ba(t);return n===e||!Ns(n)||Wu(n)?!1:js(n).position==="fixed"||gB(n,e)}function Efe(t,e){const n=e.get(t);if(n)return n;let r=Ug(t,[],!1).filter(l=>Ns(l)&&rd(l)!=="body"),i=null;const s=js(t).position==="fixed";let o=s?Ba(t):t;for(;Ns(o)&&!Wu(o);){const l=js(o),u=pE(o);!u&&l.position==="fixed"&&(i=null),(s?!u&&!i:!u&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||py(o)&&!u&&gB(t,o))?r=r.filter(h=>h!==o):i=l,o=Ba(o)}return e.set(t,r),r}function Pfe(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?aw(e)?[]:Efe(e,this._c):[].concat(n),r],l=o[0],u=o.reduce((d,h)=>{const p=LD(e,h,i);return d.top=Gi(p.top,d.top),d.right=Fa(p.right,d.right),d.bottom=Fa(p.bottom,d.bottom),d.left=Gi(p.left,d.left),d},LD(e,l,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function Nfe(t){const{width:e,height:n}=hB(t);return{width:e,height:n}}function jfe(t,e,n){const r=no(e),i=uo(e),s=n==="fixed",o=tc(t,!0,s,e);let l={scrollLeft:0,scrollTop:0};const u=Zs(0);function d(){u.x=yE(i)}if(r||!r&&!s)if((rd(e)!=="body"||py(i))&&(l=lw(e)),r){const y=tc(e,!0,s,e);u.x=y.x+e.clientLeft,u.y=y.y+e.clientTop}else i&&d();s&&!r&&i&&d();const h=i&&!r&&!s?mB(i,l):Zs(0),p=o.left+l.scrollLeft-u.x-h.x,g=o.top+l.scrollTop-u.y-h.y;return{x:p,y:g,width:o.width,height:o.height}}function cb(t){return js(t).position==="static"}function OD(t,e){if(!no(t)||js(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return uo(t)===n&&(n=n.ownerDocument.body),n}function yB(t,e){const n=Ki(t);if(aw(t))return n;if(!no(t)){let i=Ba(t);for(;i&&!Wu(i);){if(Ns(i)&&!cb(i))return i;i=Ba(i)}return n}let r=OD(t,e);for(;r&&yfe(r)&&cb(r);)r=OD(r,e);return r&&Wu(r)&&cb(r)&&!pE(r)?n:r||xfe(t)||n}const Rfe=async function(t){const e=this.getOffsetParent||yB,n=this.getDimensions,r=await n(t.floating);return{reference:jfe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Afe(t){return js(t).direction==="rtl"}const kfe={convertOffsetParentRelativeRectToViewportRelativeRect:Sfe,getDocumentElement:uo,getClippingRect:Pfe,getOffsetParent:yB,getElementRects:Rfe,getClientRects:bfe,getDimensions:Nfe,getScale:Au,isElement:Ns,isRTL:Afe};function xB(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Ife(t,e){let n=null,r;const i=uo(t);function s(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),s();const d=t.getBoundingClientRect(),{left:h,top:p,width:g,height:y}=d;if(l||e(),!g||!y)return;const b=Qx(p),C=Qx(i.clientWidth-(h+g)),_=Qx(i.clientHeight-(p+y)),P=Qx(h),j={rootMargin:-b+"px "+-C+"px "+-_+"px "+-P+"px",threshold:Gi(0,Fa(1,u))||1};let R=!0;function I(M){const A=M[0].intersectionRatio;if(A!==u){if(!R)return o();A?o(!1,A):r=setTimeout(()=>{o(!1,1e-7)},1e3)}A===1&&!xB(d,t.getBoundingClientRect())&&o(),R=!1}try{n=new IntersectionObserver(I,{...j,root:i.ownerDocument})}catch{n=new IntersectionObserver(I,j)}n.observe(t)}return o(!0),s}function vB(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,d=gE(t),h=i||s?[...d?Ug(d):[],...Ug(e)]:[];h.forEach(P=>{i&&P.addEventListener("scroll",n,{passive:!0}),s&&P.addEventListener("resize",n)});const p=d&&l?Ife(d,n):null;let g=-1,y=null;o&&(y=new ResizeObserver(P=>{let[E]=P;E&&E.target===d&&y&&(y.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var j;(j=y)==null||j.observe(e)})),n()}),d&&!u&&y.observe(d),y.observe(e));let b,C=u?tc(t):null;u&&_();function _(){const P=tc(t);C&&!xB(C,P)&&n(),C=P,b=requestAnimationFrame(_)}return n(),()=>{var P;h.forEach(E=>{i&&E.removeEventListener("scroll",n),s&&E.removeEventListener("resize",n)}),p==null||p(),(P=y)==null||P.disconnect(),y=null,u&&cancelAnimationFrame(b)}}const Mfe=hfe,Dfe=pfe,Lfe=ufe,Ofe=gfe,$fe=dfe,$D=cfe,Ffe=mfe,Bfe=(t,e,n)=>{const r=new Map,i={platform:kfe,...n},s={...i.platform,_c:r};return lfe(t,e,{...i,platform:s})};var vv=typeof document<"u"?x.useLayoutEffect:x.useEffect;function t0(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!t0(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!t0(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function wB(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function FD(t,e){const n=wB(t);return Math.round(e*n)/n}function ub(t){const e=x.useRef(t);return vv(()=>{e.current=t}),e}function SB(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:u,open:d}=t,[h,p]=x.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[g,y]=x.useState(r);t0(g,r)||y(r);const[b,C]=x.useState(null),[_,P]=x.useState(null),E=x.useCallback(oe=>{oe!==M.current&&(M.current=oe,C(oe))},[]),j=x.useCallback(oe=>{oe!==A.current&&(A.current=oe,P(oe))},[]),R=s||b,I=o||_,M=x.useRef(null),A=x.useRef(null),$=x.useRef(h),B=u!=null,G=ub(u),X=ub(i),K=ub(d),W=x.useCallback(()=>{if(!M.current||!A.current)return;const oe={placement:e,strategy:n,middleware:g};X.current&&(oe.platform=X.current),Bfe(M.current,A.current,oe).then(ie=>{const L={...ie,isPositioned:K.current!==!1};V.current&&!t0($.current,L)&&($.current=L,Ua.flushSync(()=>{p(L)}))})},[g,e,n,X,K]);vv(()=>{d===!1&&$.current.isPositioned&&($.current.isPositioned=!1,p(oe=>({...oe,isPositioned:!1})))},[d]);const V=x.useRef(!1);vv(()=>(V.current=!0,()=>{V.current=!1}),[]),vv(()=>{if(R&&(M.current=R),I&&(A.current=I),R&&I){if(G.current)return G.current(R,I,W);W()}},[R,I,W,G,B]);const Y=x.useMemo(()=>({reference:M,floating:A,setReference:E,setFloating:j}),[E,j]),ne=x.useMemo(()=>({reference:R,floating:I}),[R,I]),ue=x.useMemo(()=>{const oe={position:n,left:0,top:0};if(!ne.floating)return oe;const ie=FD(ne.floating,h.x),L=FD(ne.floating,h.y);return l?{...oe,transform:"translate("+ie+"px, "+L+"px)",...wB(ne.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ie,top:L}},[n,l,ne.floating,h.x,h.y]);return x.useMemo(()=>({...h,update:W,refs:Y,elements:ne,floatingStyles:ue}),[h,W,Y,ne,ue])}const Ufe=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?$D({element:r.current,padding:i}).fn(n):{}:r?$D({element:r,padding:i}).fn(n):{}}}},bB=(t,e)=>({...Mfe(t),options:[t,e]}),CB=(t,e)=>({...Dfe(t),options:[t,e]}),_B=(t,e)=>({...Ffe(t),options:[t,e]}),TB=(t,e)=>({...Lfe(t),options:[t,e]}),EB=(t,e)=>({...Ofe(t),options:[t,e]}),PB=(t,e)=>({...$fe(t),options:[t,e]}),NB=(t,e)=>({...Ufe(t),options:[t,e]});var Vfe="Arrow",jB=x.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return a.jsx(Wt.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});jB.displayName=Vfe;var zfe=jB,xE="Popper",[RB,AB]=ds(xE),[Wfe,kB]=RB(xE),IB=t=>{const{__scopePopper:e,children:n}=t,[r,i]=x.useState(null);return a.jsx(Wfe,{scope:e,anchor:r,onAnchorChange:i,children:n})};IB.displayName=xE;var MB="PopperAnchor",DB=x.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=kB(MB,n),o=x.useRef(null),l=yn(e,o);return x.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:a.jsx(Wt.div,{...i,ref:l})});DB.displayName=MB;var vE="PopperContent",[qfe,Gfe]=RB(vE),LB=x.forwardRef((t,e)=>{var Te,Pe,$e,He,tt,nt;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:u=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:p="partial",hideWhenDetached:g=!1,updatePositionStrategy:y="optimized",onPlaced:b,...C}=t,_=kB(vE,n),[P,E]=x.useState(null),j=yn(e,Tt=>E(Tt)),[R,I]=x.useState(null),M=uE(R),A=(M==null?void 0:M.width)??0,$=(M==null?void 0:M.height)??0,B=r+(s!=="center"?"-"+s:""),G=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},X=Array.isArray(d)?d:[d],K=X.length>0,W={padding:G,boundary:X.filter(Kfe),altBoundary:K},{refs:V,floatingStyles:Y,placement:ne,isPositioned:ue,middlewareData:oe}=SB({strategy:"fixed",placement:B,whileElementsMounted:(...Tt)=>vB(...Tt,{animationFrame:y==="always"}),elements:{reference:_.anchor},middleware:[bB({mainAxis:i+$,alignmentAxis:o}),u&&CB({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?_B():void 0,...W}),u&&TB({...W}),EB({...W,apply:({elements:Tt,rects:Bt,availableWidth:vn,availableHeight:Ut})=>{const{width:fn,height:wn}=Bt.reference,xn=Tt.floating.style;xn.setProperty("--radix-popper-available-width",`${vn}px`),xn.setProperty("--radix-popper-available-height",`${Ut}px`),xn.setProperty("--radix-popper-anchor-width",`${fn}px`),xn.setProperty("--radix-popper-anchor-height",`${wn}px`)}}),R&&NB({element:R,padding:l}),Yfe({arrowWidth:A,arrowHeight:$}),g&&PB({strategy:"referenceHidden",...W})]}),[ie,L]=FB(ne),F=yr(b);to(()=>{ue&&(F==null||F())},[ue,F]);const Z=(Te=oe.arrow)==null?void 0:Te.x,U=(Pe=oe.arrow)==null?void 0:Pe.y,Ne=(($e=oe.arrow)==null?void 0:$e.centerOffset)!==0,[De,je]=x.useState();return to(()=>{P&&je(window.getComputedStyle(P).zIndex)},[P]),a.jsx("div",{ref:V.setFloating,"data-radix-popper-content-wrapper":"",style:{...Y,transform:ue?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:De,"--radix-popper-transform-origin":[(He=oe.transformOrigin)==null?void 0:He.x,(tt=oe.transformOrigin)==null?void 0:tt.y].join(" "),...((nt=oe.hide)==null?void 0:nt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:a.jsx(qfe,{scope:n,placedSide:ie,onArrowChange:I,arrowX:Z,arrowY:U,shouldHideArrow:Ne,children:a.jsx(Wt.div,{"data-side":ie,"data-align":L,...C,ref:j,style:{...C.style,animation:ue?void 0:"none"}})})})});LB.displayName=vE;var OB="PopperArrow",Hfe={top:"bottom",right:"left",bottom:"top",left:"right"},$B=x.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=Gfe(OB,r),o=Hfe[s.placedSide];return a.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:a.jsx(zfe,{...i,ref:n,style:{...i.style,display:"block"}})})});$B.displayName=OB;function Kfe(t){return t!==null}var Yfe=t=>({name:"transformOrigin",options:t,fn(e){var _,P,E;const{placement:n,rects:r,middlewareData:i}=e,o=((_=i.arrow)==null?void 0:_.centerOffset)!==0,l=o?0:t.arrowWidth,u=o?0:t.arrowHeight,[d,h]=FB(n),p={start:"0%",center:"50%",end:"100%"}[h],g=(((P=i.arrow)==null?void 0:P.x)??0)+l/2,y=(((E=i.arrow)==null?void 0:E.y)??0)+u/2;let b="",C="";return d==="bottom"?(b=o?p:`${g}px`,C=`${-u}px`):d==="top"?(b=o?p:`${g}px`,C=`${r.floating.height+u}px`):d==="right"?(b=`${-u}px`,C=o?p:`${y}px`):d==="left"&&(b=`${r.floating.width+u}px`,C=o?p:`${y}px`),{data:{x:b,y:C}}}});function FB(t){const[e,n="center"]=t.split("-");return[e,n]}var Jfe=IB,Xfe=DB,Qfe=LB,Zfe=$B,WC=["Enter"," "],ehe=["ArrowDown","PageUp","Home"],BB=["ArrowUp","PageDown","End"],the=[...ehe,...BB],nhe={ltr:[...WC,"ArrowRight"],rtl:[...WC,"ArrowLeft"]},rhe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},my="Menu",[Vg,ihe,she]=v_(my),[uc,UB]=ds(my,[she,AB,P0]),cw=AB(),VB=P0(),[ohe,dc]=uc(my),[ahe,gy]=uc(my),zB=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:s,modal:o=!0}=t,l=cw(e),[u,d]=x.useState(null),h=x.useRef(!1),p=yr(s),g=E0(i);return x.useEffect(()=>{const y=()=>{h.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>h.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),a.jsx(Jfe,{...l,children:a.jsx(ohe,{scope:e,open:n,onOpenChange:p,content:u,onContentChange:d,children:a.jsx(ahe,{scope:e,onClose:x.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:h,dir:g,modal:o,children:r})})})};zB.displayName=my;var lhe="MenuAnchor",wE=x.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=cw(n);return a.jsx(Xfe,{...i,...r,ref:e})});wE.displayName=lhe;var SE="MenuPortal",[che,WB]=uc(SE,{forceMount:void 0}),qB=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,s=dc(SE,e);return a.jsx(che,{scope:e,forceMount:n,children:a.jsx(mi,{present:n||s.open,children:a.jsx(x0,{asChild:!0,container:i,children:r})})})};qB.displayName=SE;var ls="MenuContent",[uhe,bE]=uc(ls),GB=x.forwardRef((t,e)=>{const n=WB(ls,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=dc(ls,t.__scopeMenu),o=gy(ls,t.__scopeMenu);return a.jsx(Vg.Provider,{scope:t.__scopeMenu,children:a.jsx(mi,{present:r||s.open,children:a.jsx(Vg.Slot,{scope:t.__scopeMenu,children:o.modal?a.jsx(dhe,{...i,ref:e}):a.jsx(fhe,{...i,ref:e})})})})}),dhe=x.forwardRef((t,e)=>{const n=dc(ls,t.__scopeMenu),r=x.useRef(null),i=yn(e,r);return x.useEffect(()=>{const s=r.current;if(s)return M_(s)},[]),a.jsx(CE,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ct(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),fhe=x.forwardRef((t,e)=>{const n=dc(ls,t.__scopeMenu);return a.jsx(CE,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),hhe=Fu("MenuContent.ScrollLock"),CE=x.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:u,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:p,onInteractOutside:g,onDismiss:y,disableOutsideScroll:b,...C}=t,_=dc(ls,n),P=gy(ls,n),E=cw(n),j=VB(n),R=ihe(n),[I,M]=x.useState(null),A=x.useRef(null),$=yn(e,A,_.onContentChange),B=x.useRef(0),G=x.useRef(""),X=x.useRef(0),K=x.useRef(null),W=x.useRef("right"),V=x.useRef(0),Y=b?I_:x.Fragment,ne=b?{as:hhe,allowPinchZoom:!0}:void 0,ue=ie=>{var Te,Pe;const L=G.current+ie,F=R().filter($e=>!$e.disabled),Z=document.activeElement,U=(Te=F.find($e=>$e.ref.current===Z))==null?void 0:Te.textValue,Ne=F.map($e=>$e.textValue),De=The(Ne,L,U),je=(Pe=F.find($e=>$e.textValue===De))==null?void 0:Pe.ref.current;(function $e(He){G.current=He,window.clearTimeout(B.current),He!==""&&(B.current=window.setTimeout(()=>$e(""),1e3))})(L),je&&setTimeout(()=>je.focus())};x.useEffect(()=>()=>window.clearTimeout(B.current),[]),TO();const oe=x.useCallback(ie=>{var F,Z;return W.current===((F=K.current)==null?void 0:F.side)&&Phe(ie,(Z=K.current)==null?void 0:Z.area)},[]);return a.jsx(uhe,{scope:n,searchRef:G,onItemEnter:x.useCallback(ie=>{oe(ie)&&ie.preventDefault()},[oe]),onItemLeave:x.useCallback(ie=>{var L;oe(ie)||((L=A.current)==null||L.focus(),M(null))},[oe]),onTriggerLeave:x.useCallback(ie=>{oe(ie)&&ie.preventDefault()},[oe]),pointerGraceTimerRef:X,onPointerGraceIntentChange:x.useCallback(ie=>{K.current=ie},[]),children:a.jsx(Y,{...ne,children:a.jsx(R_,{asChild:!0,trapped:i,onMountAutoFocus:ct(s,ie=>{var L;ie.preventDefault(),(L=A.current)==null||L.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:a.jsx(y0,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:p,onInteractOutside:g,onDismiss:y,children:a.jsx(d$,{asChild:!0,...j,dir:P.dir,orientation:"vertical",loop:r,currentTabStopId:I,onCurrentTabStopIdChange:M,onEntryFocus:ct(u,ie=>{P.isUsingKeyboardRef.current||ie.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(Qfe,{role:"menu","aria-orientation":"vertical","data-state":lU(_.open),"data-radix-menu-content":"",dir:P.dir,...E,...C,ref:$,style:{outline:"none",...C.style},onKeyDown:ct(C.onKeyDown,ie=>{const F=ie.target.closest("[data-radix-menu-content]")===ie.currentTarget,Z=ie.ctrlKey||ie.altKey||ie.metaKey,U=ie.key.length===1;F&&(ie.key==="Tab"&&ie.preventDefault(),!Z&&U&&ue(ie.key));const Ne=A.current;if(ie.target!==Ne||!the.includes(ie.key))return;ie.preventDefault();const je=R().filter(Te=>!Te.disabled).map(Te=>Te.ref.current);BB.includes(ie.key)&&je.reverse(),Che(je)}),onBlur:ct(t.onBlur,ie=>{ie.currentTarget.contains(ie.target)||(window.clearTimeout(B.current),G.current="")}),onPointerMove:ct(t.onPointerMove,zg(ie=>{const L=ie.target,F=V.current!==ie.clientX;if(ie.currentTarget.contains(L)&&F){const Z=ie.clientX>V.current?"right":"left";W.current=Z,V.current=ie.clientX}}))})})})})})})});GB.displayName=ls;var phe="MenuGroup",_E=x.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return a.jsx(Wt.div,{role:"group",...r,ref:e})});_E.displayName=phe;var mhe="MenuLabel",HB=x.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return a.jsx(Wt.div,{...r,ref:e})});HB.displayName=mhe;var n0="MenuItem",BD="menu.itemSelect",uw=x.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,s=x.useRef(null),o=gy(n0,t.__scopeMenu),l=bE(n0,t.__scopeMenu),u=yn(e,s),d=x.useRef(!1),h=()=>{const p=s.current;if(!n&&p){const g=new CustomEvent(BD,{bubbles:!0,cancelable:!0});p.addEventListener(BD,y=>r==null?void 0:r(y),{once:!0}),w_(p,g),g.defaultPrevented?d.current=!1:o.onClose()}};return a.jsx(KB,{...i,ref:u,disabled:n,onClick:ct(t.onClick,h),onPointerDown:p=>{var g;(g=t.onPointerDown)==null||g.call(t,p),d.current=!0},onPointerUp:ct(t.onPointerUp,p=>{var g;d.current||(g=p.currentTarget)==null||g.click()}),onKeyDown:ct(t.onKeyDown,p=>{const g=l.searchRef.current!=="";n||g&&p.key===" "||WC.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})})});uw.displayName=n0;var KB=x.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=t,o=bE(n0,n),l=VB(n),u=x.useRef(null),d=yn(e,u),[h,p]=x.useState(!1),[g,y]=x.useState("");return x.useEffect(()=>{const b=u.current;b&&y((b.textContent??"").trim())},[s.children]),a.jsx(Vg.ItemSlot,{scope:n,disabled:r,textValue:i??g,children:a.jsx(f$,{asChild:!0,...l,focusable:!r,children:a.jsx(Wt.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:d,onPointerMove:ct(t.onPointerMove,zg(b=>{r?o.onItemLeave(b):(o.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ct(t.onPointerLeave,zg(b=>o.onItemLeave(b))),onFocus:ct(t.onFocus,()=>p(!0)),onBlur:ct(t.onBlur,()=>p(!1))})})})}),ghe="MenuCheckboxItem",YB=x.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return a.jsx(eU,{scope:t.__scopeMenu,checked:n,children:a.jsx(uw,{role:"menuitemcheckbox","aria-checked":r0(n)?"mixed":n,...i,ref:e,"data-state":EE(n),onSelect:ct(i.onSelect,()=>r==null?void 0:r(r0(n)?!0:!n),{checkForDefaultPrevented:!1})})})});YB.displayName=ghe;var JB="MenuRadioGroup",[yhe,xhe]=uc(JB,{value:void 0,onValueChange:()=>{}}),XB=x.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,s=yr(r);return a.jsx(yhe,{scope:t.__scopeMenu,value:n,onValueChange:s,children:a.jsx(_E,{...i,ref:e})})});XB.displayName=JB;var QB="MenuRadioItem",ZB=x.forwardRef((t,e)=>{const{value:n,...r}=t,i=xhe(QB,t.__scopeMenu),s=n===i.value;return a.jsx(eU,{scope:t.__scopeMenu,checked:s,children:a.jsx(uw,{role:"menuitemradio","aria-checked":s,...r,ref:e,"data-state":EE(s),onSelect:ct(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,n)},{checkForDefaultPrevented:!1})})})});ZB.displayName=QB;var TE="MenuItemIndicator",[eU,vhe]=uc(TE,{checked:!1}),tU=x.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,s=vhe(TE,n);return a.jsx(mi,{present:r||r0(s.checked)||s.checked===!0,children:a.jsx(Wt.span,{...i,ref:e,"data-state":EE(s.checked)})})});tU.displayName=TE;var whe="MenuSeparator",nU=x.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return a.jsx(Wt.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});nU.displayName=whe;var She="MenuArrow",rU=x.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=cw(n);return a.jsx(Zfe,{...i,...r,ref:e})});rU.displayName=She;var bhe="MenuSub",[$Te,iU]=uc(bhe),cg="MenuSubTrigger",sU=x.forwardRef((t,e)=>{const n=dc(cg,t.__scopeMenu),r=gy(cg,t.__scopeMenu),i=iU(cg,t.__scopeMenu),s=bE(cg,t.__scopeMenu),o=x.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:u}=s,d={__scopeMenu:t.__scopeMenu},h=x.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return x.useEffect(()=>h,[h]),x.useEffect(()=>{const p=l.current;return()=>{window.clearTimeout(p),u(null)}},[l,u]),a.jsx(wE,{asChild:!0,...d,children:a.jsx(KB,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":lU(n.open),...t,ref:g0(e,i.onTriggerChange),onClick:p=>{var g;(g=t.onClick)==null||g.call(t,p),!(t.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ct(t.onPointerMove,zg(p=>{s.onItemEnter(p),!p.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),h()},100))})),onPointerLeave:ct(t.onPointerLeave,zg(p=>{var y,b;h();const g=(y=n.content)==null?void 0:y.getBoundingClientRect();if(g){const C=(b=n.content)==null?void 0:b.dataset.side,_=C==="right",P=_?-5:5,E=g[_?"left":"right"],j=g[_?"right":"left"];s.onPointerGraceIntentChange({area:[{x:p.clientX+P,y:p.clientY},{x:E,y:g.top},{x:j,y:g.top},{x:j,y:g.bottom},{x:E,y:g.bottom}],side:C}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(p),p.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:ct(t.onKeyDown,p=>{var y;const g=s.searchRef.current!=="";t.disabled||g&&p.key===" "||nhe[r.dir].includes(p.key)&&(n.onOpenChange(!0),(y=n.content)==null||y.focus(),p.preventDefault())})})})});sU.displayName=cg;var oU="MenuSubContent",aU=x.forwardRef((t,e)=>{const n=WB(ls,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=dc(ls,t.__scopeMenu),o=gy(ls,t.__scopeMenu),l=iU(oU,t.__scopeMenu),u=x.useRef(null),d=yn(e,u);return a.jsx(Vg.Provider,{scope:t.__scopeMenu,children:a.jsx(mi,{present:r||s.open,children:a.jsx(Vg.Slot,{scope:t.__scopeMenu,children:a.jsx(CE,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var p;o.isUsingKeyboardRef.current&&((p=u.current)==null||p.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:ct(t.onFocusOutside,h=>{h.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:ct(t.onEscapeKeyDown,h=>{o.onClose(),h.preventDefault()}),onKeyDown:ct(t.onKeyDown,h=>{var y;const p=h.currentTarget.contains(h.target),g=rhe[o.dir].includes(h.key);p&&g&&(s.onOpenChange(!1),(y=l.trigger)==null||y.focus(),h.preventDefault())})})})})})});aU.displayName=oU;function lU(t){return t?"open":"closed"}function r0(t){return t==="indeterminate"}function EE(t){return r0(t)?"indeterminate":t?"checked":"unchecked"}function Che(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function _he(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function The(t,e,n){const i=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=_he(t,Math.max(s,0));i.length===1&&(o=o.filter(d=>d!==n));const u=o.find(d=>d.toLowerCase().startsWith(i.toLowerCase()));return u!==n?u:void 0}function Ehe(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const l=e[s],u=e[o],d=l.x,h=l.y,p=u.x,g=u.y;h>r!=g>r&&n<(p-d)*(r-h)/(g-h)+d&&(i=!i)}return i}function Phe(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return Ehe(n,e)}function zg(t){return e=>e.pointerType==="mouse"?t(e):void 0}var Nhe=zB,jhe=wE,Rhe=qB,Ahe=GB,khe=_E,Ihe=HB,Mhe=uw,Dhe=YB,Lhe=XB,Ohe=ZB,$he=tU,Fhe=nU,Bhe=rU,Uhe=sU,Vhe=aU,dw="DropdownMenu",[zhe,FTe]=ds(dw,[UB]),gi=UB(),[Whe,cU]=zhe(dw),uU=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:o,modal:l=!0}=t,u=gi(e),d=x.useRef(null),[h,p]=rc({prop:i,defaultProp:s??!1,onChange:o,caller:dw});return a.jsx(Whe,{scope:e,triggerId:ql(),triggerRef:d,contentId:ql(),open:h,onOpenChange:p,onOpenToggle:x.useCallback(()=>p(g=>!g),[p]),modal:l,children:a.jsx(Nhe,{...u,open:h,onOpenChange:p,dir:r,modal:l,children:n})})};uU.displayName=dw;var dU="DropdownMenuTrigger",fU=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,s=cU(dU,n),o=gi(n);return a.jsx(jhe,{asChild:!0,...o,children:a.jsx(Wt.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:g0(e,s.triggerRef),onPointerDown:ct(t.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(s.onOpenToggle(),s.open||l.preventDefault())}),onKeyDown:ct(t.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&s.onOpenToggle(),l.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});fU.displayName=dU;var qhe="DropdownMenuPortal",hU=t=>{const{__scopeDropdownMenu:e,...n}=t,r=gi(e);return a.jsx(Rhe,{...r,...n})};hU.displayName=qhe;var pU="DropdownMenuContent",mU=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=cU(pU,n),s=gi(n),o=x.useRef(!1);return a.jsx(Ahe,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:e,onCloseAutoFocus:ct(t.onCloseAutoFocus,l=>{var u;o.current||(u=i.triggerRef.current)==null||u.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:ct(t.onInteractOutside,l=>{const u=l.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0,h=u.button===2||d;(!i.modal||h)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});mU.displayName=pU;var Ghe="DropdownMenuGroup",Hhe=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=gi(n);return a.jsx(khe,{...i,...r,ref:e})});Hhe.displayName=Ghe;var Khe="DropdownMenuLabel",gU=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=gi(n);return a.jsx(Ihe,{...i,...r,ref:e})});gU.displayName=Khe;var Yhe="DropdownMenuItem",yU=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=gi(n);return a.jsx(Mhe,{...i,...r,ref:e})});yU.displayName=Yhe;var Jhe="DropdownMenuCheckboxItem",xU=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=gi(n);return a.jsx(Dhe,{...i,...r,ref:e})});xU.displayName=Jhe;var Xhe="DropdownMenuRadioGroup",Qhe=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=gi(n);return a.jsx(Lhe,{...i,...r,ref:e})});Qhe.displayName=Xhe;var Zhe="DropdownMenuRadioItem",vU=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=gi(n);return a.jsx(Ohe,{...i,...r,ref:e})});vU.displayName=Zhe;var epe="DropdownMenuItemIndicator",wU=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=gi(n);return a.jsx($he,{...i,...r,ref:e})});wU.displayName=epe;var tpe="DropdownMenuSeparator",SU=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=gi(n);return a.jsx(Fhe,{...i,...r,ref:e})});SU.displayName=tpe;var npe="DropdownMenuArrow",rpe=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=gi(n);return a.jsx(Bhe,{...i,...r,ref:e})});rpe.displayName=npe;var ipe="DropdownMenuSubTrigger",bU=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=gi(n);return a.jsx(Uhe,{...i,...r,ref:e})});bU.displayName=ipe;var spe="DropdownMenuSubContent",CU=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=gi(n);return a.jsx(Vhe,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});CU.displayName=spe;var ope=uU,ape=fU,lpe=hU,_U=mU,TU=gU,EU=yU,PU=xU,NU=vU,jU=wU,RU=SU,AU=bU,kU=CU;const cpe=ope,upe=ape,dpe=x.forwardRef(({className:t,inset:e,children:n,...r},i)=>a.jsxs(AU,{ref:i,className:gt("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r,children:[n,a.jsx(jX,{className:"ml-auto"})]}));dpe.displayName=AU.displayName;const fpe=x.forwardRef(({className:t,...e},n)=>a.jsx(kU,{ref:n,className:gt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...e}));fpe.displayName=kU.displayName;const IU=x.forwardRef(({className:t,sideOffset:e=4,...n},r)=>a.jsx(lpe,{children:a.jsx(_U,{ref:r,sideOffset:e,className:gt("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...n})}));IU.displayName=_U.displayName;const wv=x.forwardRef(({className:t,inset:e,...n},r)=>a.jsx(EU,{ref:r,className:gt("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",e&&"pl-8",t),...n}));wv.displayName=EU.displayName;const hpe=x.forwardRef(({className:t,children:e,checked:n,...r},i)=>a.jsxs(PU,{ref:i,className:gt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(jU,{children:a.jsx(S0,{className:"h-4 w-4"})})}),e]}));hpe.displayName=PU.displayName;const ppe=x.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(NU,{ref:r,className:gt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(jU,{children:a.jsx(AX,{className:"h-2 w-2 fill-current"})})}),e]}));ppe.displayName=NU.displayName;const MU=x.forwardRef(({className:t,inset:e,...n},r)=>a.jsx(TU,{ref:r,className:gt("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));MU.displayName=TU.displayName;const DU=x.forwardRef(({className:t,...e},n)=>a.jsx(RU,{ref:n,className:gt("-mx-1 my-1 h-px bg-muted",t),...e}));DU.displayName=RU.displayName;var LU="basil",mpe=function(e){return e===3?"v3":e},OU="https://js.stripe.com",gpe="".concat(OU,"/").concat(LU,"/stripe.js"),ype=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,xpe=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var vpe=function(e){return ype.test(e)||xpe.test(e)},wpe=function(){for(var e=document.querySelectorAll('script[src^="'.concat(OU,'"]')),n=0;n<e.length;n++){var r=e[n];if(vpe(r.src))return r}return null},UD=function(e){var n="",r=document.createElement("script");r.src="".concat(gpe).concat(n);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},Spe=function(e,n){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"7.3.0",startTime:n})},Gm=null,Zx=null,ev=null,bpe=function(e){return function(n){e(new Error("Failed to load Stripe.js",{cause:n}))}},Cpe=function(e,n){return function(){window.Stripe?e(window.Stripe):n(new Error("Stripe.js not available"))}},_pe=function(e){return Gm!==null?Gm:(Gm=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe){n(window.Stripe);return}try{var i=wpe();if(!(i&&e)){if(!i)i=UD(e);else if(i&&ev!==null&&Zx!==null){var s;i.removeEventListener("load",ev),i.removeEventListener("error",Zx),(s=i.parentNode)===null||s===void 0||s.removeChild(i),i=UD(e)}}ev=Cpe(n,r),Zx=bpe(r),i.addEventListener("load",ev),i.addEventListener("error",Zx)}catch(o){r(o);return}}),Gm.catch(function(n){return Gm=null,Promise.reject(n)}))},Tpe=function(e,n,r){if(e===null)return null;var i=n[0],s=i.match(/^pk_test/),o=mpe(e.version),l=LU;s&&o!==l&&console.warn("Stripe.js@".concat(o," was loaded on the page, but @stripe/stripe-js@").concat("7.3.0"," expected Stripe.js@").concat(l,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var u=e.apply(void 0,n);return Spe(u,r),u},Hm,$U=!1,FU=function(){return Hm||(Hm=_pe(null).catch(function(e){return Hm=null,Promise.reject(e)}),Hm)};Promise.resolve().then(function(){return FU()}).catch(function(t){$U||console.warn(t)});var BU=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];$U=!0;var i=Date.now();return FU().then(function(s){return Tpe(s,n,i)})};const Epe="pk_live_51NAoUjDktew9heHOJD5Px4jn9IaolhvVvqoE6NukJV7MxZa8PhIVSwcOVWXdQx6MFNgIGmEYeg64lFUGlYfAyVqu004n16tAdG",Ppe=BU(Epe),UU=({onSubscribed:t,className:e=""})=>{const{session:n,isAuthenticated:r}=Is(),[i,s]=x.useState(!1),[o,l]=x.useState(null),u=async()=>{if(!r||!(n!=null&&n.access_token)){l("You must be logged in to subscribe.");return}s(!0),l(null);try{const d=await fetch("https://uwbrgokfgelgxeonoqah.supabase.co/functions/v1/create-subscription-session",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n.access_token}`}});if(!d.ok){let b;try{b=await d.json()}catch{throw new Error(d.statusText||`Request failed with status ${d.status}. Edge function might be misconfigured or down.`)}throw new Error(b.error||b.details||"Failed to create subscription session.")}const h=await d.json(),{sessionId:p}=h,g=await Ppe,{error:y}=await g.redirectToCheckout({sessionId:p});y?(console.error("Stripe redirect error:",y),l(y.message)):t&&t()}catch(d){console.error("Subscription error:",d),l(d.message)}finally{s(!1)}};return a.jsxs("div",{children:[a.jsx(te,{onClick:u,disabled:i,className:`bg-gradient-to-r from-[#77B8B8] to-[#3B82F6] hover:from-[#6AB0B0] hover:to-[#2F73E0] text-white ${e}`,children:i?"Processing...":"Subscribe to Pro"}),o&&a.jsxs("p",{style:{color:"red",marginTop:"10px",fontSize:"0.8rem"},children:["Error: ",o]})," "]})},PE=()=>{var $;const{isAuthenticated:t,user:e,session:n,subscriptionStatus:r,loadingProfile:i,profile:s}=Is(),o=Rs(),[l,u]=x.useState(!1),[d,h]=x.useState(null),[p,g]=x.useState(!1),[y,b]=x.useState(null),[C,_]=x.useState(!1),P=r==="active",E=(s==null?void 0:s.stripe_account_id)&&(s==null?void 0:s.stripe_account_details_submitted);x.useEffect(()=>{const B=localStorage.getItem("theme"),G=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;B==="dark"||!B&&G?(document.documentElement.classList.add("dark"),_(!0)):(document.documentElement.classList.remove("dark"),_(!1))},[]);const j=()=>{C?(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light")):(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")),_(!C)},R=async()=>{const{error:B}=await ni.auth.signOut();B?console.error("Error logging out:",B):o("/auth")},I=async()=>{if(!(n!=null&&n.access_token)){h("Authentication token not found. Please log in again.");return}u(!0),h(null);try{const B=await fetch("https://uwbrgokfgelgxeonoqah.supabase.co/functions/v1/create-portal-session",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n.access_token}`}}),G=await B.json();if(!B.ok)throw new Error(G.error||"Failed to create portal session.");window.location.href=G.url}catch(B){console.error("Portal session error:",B),h(B.message)}finally{u(!1)}},M=async()=>{if(!(n!=null&&n.access_token)||!e){b("Authentication required.");return}g(!0),b(null);try{const B=await fetch("https://uwbrgokfgelgxeonoqah.supabase.co/functions/v1/create-stripe-connect-account",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n.access_token}`},body:JSON.stringify({record:{id:e.id,email:e.email}})}),G=await B.json();if(!B.ok){const X=G.error||G.data&&G.data.error||"Failed to create Stripe Connect account link.";throw new Error(X)}if(G.account_link_url)window.location.href=G.account_link_url;else if(G.url)window.location.href=G.url;else throw new Error("No URL returned from Stripe Connect account creation.")}catch(B){console.error("Stripe Connect account creation error:",B),b(B.message)}finally{g(!1)}},A=async()=>{if(!(n!=null&&n.access_token)||!e||!(s!=null&&s.stripe_account_id)){b("Stripe account not connected or user not authenticated.");return}g(!0),b(null);try{const B=await fetch("https://uwbrgokfgelgxeonoqah.supabase.co/functions/v1/create-stripe-login-link",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n.access_token}`},body:JSON.stringify({user_id:e.id})}),G=await B.json();if(!B.ok)throw new Error(G.error||"Failed to create Stripe login link.");if(G.url)window.location.href=G.url;else throw new Error("No login link URL returned.")}catch(B){console.error("Stripe login link error:",B),b(B.message)}finally{g(!1)}};return a.jsxs(a.Fragment,{children:[!i&&!E&&a.jsxs("div",{className:"bg-red-600 text-white py-2 px-4 text-center text-sm",children:[a.jsx("button",{onClick:M,disabled:p,className:"hover:underline focus:outline-none",children:p?"Processing...":"Create A Business to Activate Checkout"}),y&&a.jsx("p",{className:"text-xs text-yellow-300 mt-1",children:y})]}),a.jsxs(In.header,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full py-4 px-6 flex justify-between items-center sticky top-0 z-50 bg-background/80 backdrop-blur-md border-b",children:[a.jsxs(Ni,{to:"/",className:"flex items-center gap-2",children:[a.jsx("img",{src:C?"https://uwbrgokfgelgxeonoqah.supabase.co/storage/v1/object/public/images/ffwhite.png":"https://uwbrgokfgelgxeonoqah.supabase.co/storage/v1/object/public/images/FreshFrontLogo.png",alt:"FreshFront Logo",className:"h-[60px] w-auto"}),a.jsx("span",{className:"font-bold text-xl",children:"FreshFront"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[t&&a.jsx(a.Fragment,{}),d&&a.jsx("p",{className:"text-xs text-red-500",children:d}),t&&!i&&a.jsxs(a.Fragment,{children:[a.jsx(UU,{className:"px-3 py-1.5 rounded-full text-sm font-medium",showIcon:!0}),P&&a.jsxs(te,{variant:"outline",size:"sm",onClick:I,disabled:l,className:"rounded-full px-3 py-1.5 text-sm font-medium ml-2",children:[a.jsx(kv,{className:"mr-2 h-4 w-4"})," ",l?"Loading...":"Manage Billing"]}),a.jsxs(cpe,{children:[a.jsx(upe,{asChild:!0,children:a.jsxs(te,{variant:"outline",size:"sm",className:"rounded-full px-3 py-1.5 text-sm font-medium ml-2",children:[a.jsx(NX,{className:"mr-2 h-4 w-4"})," Business ",a.jsx(b0,{className:"ml-1 h-4 w-4"})]})}),a.jsxs(IU,{align:"end",children:[a.jsx(MU,{children:"Stripe Connect"}),a.jsx(DU,{}),E?a.jsxs(wv,{onClick:A,disabled:p,children:[a.jsx(kv,{className:"mr-2 h-4 w-4"}),p?"Processing...":"Manage Business Account"]}):a.jsxs(wv,{onClick:M,disabled:p,children:[a.jsx(Xb,{className:"mr-2 h-4 w-4"}),p?"Processing...":"Create Business Account"]}),y&&a.jsx(wv,{disabled:!0,children:a.jsx("p",{className:"text-xs text-red-500",children:y})})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(No,{id:"theme-switcher",checked:C,onCheckedChange:j,"aria-label":"Toggle dark mode"}),C?a.jsx(Qb,{className:"h-5 w-5 text-muted-foreground"}):a.jsx(eC,{className:"h-5 w-5 text-muted-foreground"})]}),t?a.jsxs(a.Fragment,{children:[(($=e==null?void 0:e.user_metadata)==null?void 0:$.avatar_url)&&a.jsx("img",{src:e.user_metadata.avatar_url,alt:"User avatar",className:"h-6 w-6 rounded-full"}),a.jsx("span",{className:"text-sm text-muted-foreground hidden sm:inline",children:e==null?void 0:e.email}),a.jsxs(te,{variant:"outline",size:"sm",onClick:R,children:[a.jsx(BX,{className:"mr-2 h-4 w-4"})," Logout"]})]}):a.jsx(Ni,{to:"/auth",children:a.jsxs(te,{variant:"outline",size:"sm",children:[a.jsx(FX,{className:"mr-2 h-4 w-4"})," Login"]})})]})]})]})},We=re.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:gt("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));We.displayName="Card";const Xe=re.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:gt("flex flex-col space-y-1.5 p-6",t),...e}));Xe.displayName="CardHeader";const Qe=re.forwardRef(({className:t,...e},n)=>a.jsx("h3",{ref:n,className:gt("text-2xl font-semibold leading-none tracking-tight",t),...e}));Qe.displayName="CardTitle";const Dt=re.forwardRef(({className:t,...e},n)=>a.jsx("p",{ref:n,className:gt("text-sm text-muted-foreground",t),...e}));Dt.displayName="CardDescription";const Ke=re.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:gt("p-6 pt-0",t),...e}));Ke.displayName="CardContent";const el=re.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:gt("flex items-center p-6 pt-0",t),...e}));el.displayName="CardFooter";const VD=["Create a luxury jewelry store called 'Elegance' with diamond rings and gold necklaces, featuring a dark, sophisticated theme.","Build a tech gadget store named 'FutureTech' with the latest smartphones and accessories, using a futuristic blue and silver color scheme.","Design an organic food market 'GreenHarvest' with fresh produce and healthy snacks, emphasizing natural textures and earthy tones.","Make a trendy fashion boutique 'Urban Threads' with summer dresses and casual wear, aiming for a bright, minimalist aesthetic."],Npe=()=>{const[t,e]=x.useState(""),[n,r]=x.useState(null),{generateStore:i,isGenerating:s}=Zn(),o=u=>{r(u),e(VD[u])},l=async u=>{u.preventDefault(),t.trim()&&await i(t)};return a.jsx(In.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"w-full",children:a.jsxs(We,{className:"border-2 shadow-lg",children:[a.jsxs(Xe,{children:[a.jsx(Qe,{className:"text-2xl font-bold",children:"Generate Store with AI Prompt"}),a.jsx(Dt,{children:"Describe your dream store in detail. The AI will use your store name, product types, and style preferences to create it."})]}),a.jsx(Ke,{children:a.jsxs("form",{onSubmit:l,className:"space-y-4",children:[a.jsx(gr,{placeholder:"e.g., 'A vibrant bookstore named BookNook, specializing in fantasy novels and graphic novels. Use a cozy, warm color palette with lots of wood textures. Feature at least 6 book products.'",className:"min-h-[120px] text-base resize-none",value:t,onChange:u=>e(u.target.value),disabled:s}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Or try one of these examples for inspiration:"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:VD.map((u,d)=>a.jsx(te,{type:"button",variant:n===d?"default":"outline",className:"h-auto py-2 px-3 justify-start text-left text-sm font-normal",onClick:()=>o(d),disabled:s,children:u},d))})]})]})}),a.jsx(el,{children:a.jsx(te,{onClick:l,disabled:!t.trim()||s,className:"w-full",size:"lg",children:s?a.jsxs(a.Fragment,{children:[a.jsx(sn,{className:"mr-2 h-4 w-4 animate-spin"}),"Generating Store..."]}):a.jsxs(a.Fragment,{children:[a.jsx(kg,{className:"mr-2 h-4 w-4"}),"Generate AI Store"]})})})]})})};var VU="AlertDialog",[jpe,BTe]=ds(VU,[$O]),zo=$O(),zU=t=>{const{__scopeAlertDialog:e,...n}=t,r=zo(e);return a.jsx(e$,{...r,...n,modal:!0})};zU.displayName=VU;var Rpe="AlertDialogTrigger",WU=x.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=zo(n);return a.jsx(yZ,{...i,...r,ref:e})});WU.displayName=Rpe;var Ape="AlertDialogPortal",qU=t=>{const{__scopeAlertDialog:e,...n}=t,r=zo(e);return a.jsx(t$,{...r,...n})};qU.displayName=Ape;var kpe="AlertDialogOverlay",GU=x.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=zo(n);return a.jsx($_,{...i,...r,ref:e})});GU.displayName=kpe;var ku="AlertDialogContent",[Ipe,Mpe]=jpe(ku),Dpe=$J("AlertDialogContent"),HU=x.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...i}=t,s=zo(n),o=x.useRef(null),l=yn(e,o),u=x.useRef(null);return a.jsx(hZ,{contentName:ku,titleName:KU,docsSlug:"alert-dialog",children:a.jsx(Ipe,{scope:n,cancelRef:u,children:a.jsxs(F_,{role:"alertdialog",...s,...i,ref:l,onOpenAutoFocus:ct(i.onOpenAutoFocus,d=>{var h;d.preventDefault(),(h=u.current)==null||h.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[a.jsx(Dpe,{children:r}),a.jsx(Ope,{contentRef:o})]})})})});HU.displayName=ku;var KU="AlertDialogTitle",YU=x.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=zo(n);return a.jsx(B_,{...i,...r,ref:e})});YU.displayName=KU;var JU="AlertDialogDescription",XU=x.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=zo(n);return a.jsx(U_,{...i,...r,ref:e})});XU.displayName=JU;var Lpe="AlertDialogAction",QU=x.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=zo(n);return a.jsx(T0,{...i,...r,ref:e})});QU.displayName=Lpe;var ZU="AlertDialogCancel",e8=x.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:i}=Mpe(ZU,n),s=zo(n),o=yn(e,i);return a.jsx(T0,{...s,...r,ref:o})});e8.displayName=ZU;var Ope=({contentRef:t})=>{const e=`\`${ku}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ku}\` by passing a \`${JU}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ku}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},$pe=zU,Fpe=WU,Bpe=qU,t8=GU,n8=HU,r8=QU,i8=e8,s8=YU,o8=XU;const Upe=$pe,Vpe=Fpe,zpe=Bpe,a8=re.forwardRef(({className:t,...e},n)=>a.jsx(t8,{className:gt("fixed inset-0 z-50 bg-black/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));a8.displayName=t8.displayName;const l8=re.forwardRef(({className:t,...e},n)=>a.jsxs(zpe,{children:[a.jsx(a8,{}),a.jsx(n8,{ref:n,className:gt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));l8.displayName=n8.displayName;const c8=({className:t,...e})=>a.jsx("div",{className:gt("flex flex-col space-y-2 text-center sm:text-left",t),...e});c8.displayName="AlertDialogHeader";const u8=({className:t,...e})=>a.jsx("div",{className:gt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});u8.displayName="AlertDialogFooter";const d8=re.forwardRef(({className:t,...e},n)=>a.jsx(s8,{ref:n,className:gt("text-lg font-semibold",t),...e}));d8.displayName=s8.displayName;const f8=re.forwardRef(({className:t,...e},n)=>a.jsx(o8,{ref:n,className:gt("text-sm text-muted-foreground",t),...e}));f8.displayName=o8.displayName;const h8=re.forwardRef(({className:t,...e},n)=>a.jsx(r8,{ref:n,className:gt(V_(),t),...e}));h8.displayName=r8.displayName;const p8=re.forwardRef(({className:t,...e},n)=>a.jsx(i8,{ref:n,className:gt(V_({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));p8.displayName=i8.displayName;const Wpe=({store:t})=>{const e=Rs(),{deleteStore:n,updateStorePassKey:r,assignStoreManager:i,updateStoreTemplateVersion:s}=Zn(),[o,l]=re.useState(""),[u,d]=re.useState(""),[h,p]=re.useState(!1),g=()=>{r&&o&&t.id&&r(t.id,o)},y=()=>{i&&u&&t.id&&i(t.id,u)},b=_=>{if(!_)return"N/A";try{const P=new Date(_);return isNaN(P.getTime())?"Invalid Date":new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(P)}catch(P){return console.error("Error formatting date:",_,P),"Error Date"}},C=_=>{switch(_){case"fashion":return a.jsx(gO,{className:"h-5 w-5 text-pink-500"});case"electronics":return a.jsx(jx,{className:"h-5 w-5 text-blue-500"});case"food":return a.jsx(jx,{className:"h-5 w-5 text-green-500"});case"jewelry":return a.jsx(jx,{className:"h-5 w-5 text-amber-500"});default:return a.jsx(jx,{className:"h-5 w-5 text-gray-500"})}};return a.jsx(In.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"store-preview relative bg-cover bg-center rounded-lg overflow-hidden",style:t.card_background_url?{backgroundImage:`url(${t.card_background_url})`}:{backgroundColor:"#374151"},children:a.jsxs(We,{className:"h-full overflow-hidden border-2 border-white/20 hover:border-primary/50 transition-all duration-300 bg-black/30 backdrop-blur-sm text-white",children:[" ",a.jsxs("div",{className:"relative z-10 p-1 rounded-lg",children:[a.jsxs(Xe,{className:"pb-2",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[t.logo_url?a.jsx("img",{src:t.logo_url,alt:`${t.name} logo`,className:"h-6 w-6 rounded-sm object-contain bg-white/30 p-0.5"}):C(t.type),a.jsx(Qe,{className:"text-xl text-white drop-shadow-md",children:t.name})]}),a.jsx("span",{className:"px-2 py-1 bg-white/10 text-gray-200 text-xs rounded-full backdrop-blur-xs",children:t.type.charAt(0).toUpperCase()+t.type.slice(1)})]}),a.jsx(Dt,{className:"line-clamp-2 mt-1 text-gray-300 drop-shadow-sm",children:t.description})]}),a.jsxs(Ke,{className:"pb-2",children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-300 drop-shadow-sm gap-1 mb-3",children:[a.jsx(E_,{className:"h-3.5 w-3.5 mr-1 text-gray-400"}),"Created on ",b(t.created_at||t.createdAt)]}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:t&&t.products&&Array.isArray(t.products)&&t.products.length>0?t.products.slice(0,4).map(_=>a.jsxs("div",{className:"bg-white/10 p-2 rounded-md text-xs flex flex-col backdrop-blur-xs",children:[a.jsx("span",{className:"font-medium truncate text-gray-200",children:_.name||"Unnamed Product"}),a.jsxs("span",{className:"text-sky-300",children:[" ",typeof _.price=="number"?`$${_.price.toFixed(2)}`:"Price N/A"]})]},_.id)):a.jsx("p",{className:"text-xs text-gray-400 col-span-2",children:t&&t.products&&t.products.length===0?"No products yet.":"Product data unavailable."})})]}),a.jsxs(el,{className:"flex flex-col items-start gap-2 pt-2",children:[a.jsxs("div",{className:"flex w-full justify-between items-center",children:[a.jsx(te,{variant:"outline",size:"sm",className:"bg-white/90 hover:bg-white text-slate-800 border-slate-300 hover:border-slate-400",onClick:()=>{t&&t.id?e(`/store/${t.id}`):console.error("Store ID is missing, cannot navigate to preview.")},children:"Preview"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(te,{variant:"ghost",size:"icon",className:"h-8 w-8 text-gray-300 hover:text-white hover:bg-white/10",onClick:()=>e(`/store/${t.id}?edit=true`),children:[a.jsx(Rv,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Edit"})]}),a.jsxs(Upe,{children:[a.jsx(Vpe,{asChild:!0,children:a.jsxs(te,{variant:"ghost",size:"icon",className:"h-8 w-8 text-red-400 hover:text-red-300 hover:bg-red-500/10",children:[a.jsx(Sa,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Delete"})]})}),a.jsxs(l8,{children:[a.jsxs(c8,{children:[a.jsx(d8,{children:"Are you sure?"}),a.jsxs(f8,{children:['This will permanently delete the "',t.name,'" store and all its data. This action cannot be undone.']})]}),a.jsxs(u8,{children:[a.jsx(p8,{children:"Cancel"}),a.jsx(h8,{className:"bg-red-500 text-white hover:bg-red-600",onClick:()=>n(t.id),children:"Delete"})]})]})]})]})]}),a.jsxs("div",{className:"flex w-full items-center gap-2 mt-2",children:[a.jsx(ft,{type:"password",placeholder:"Set Pass Key",value:o,onChange:_=>l(_.target.value),className:"h-8 text-xs flex-grow bg-neutral-700/60 dark:bg-neutral-800/60 border-neutral-500 dark:border-neutral-600 placeholder-gray-300 text-white focus:border-primary focus:ring-1 focus:ring-primary"}),a.jsxs(te,{variant:"outline",size:"icon",className:"h-8 w-8 bg-white/90 hover:bg-white text-slate-800 border-slate-300 hover:border-slate-400",onClick:g,disabled:!o.trim(),children:[a.jsx(N_,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Set Pass Key"})]})]}),a.jsxs("div",{className:"w-full mt-2",children:[a.jsx(te,{variant:"outline",size:"sm",className:"w-full bg-white/10 hover:bg-white/20 text-gray-200 border-gray-500 hover:border-gray-400",onClick:()=>p(!h),children:h?"Cancel Assignment":"Assign Manager"}),h&&a.jsxs("div",{className:"flex w-full items-center gap-2 mt-2",children:[a.jsx(ft,{type:"email",placeholder:"Manager Email",value:u,onChange:_=>d(_.target.value),className:"h-8 text-xs flex-grow bg-neutral-700/60 dark:bg-neutral-800/60 border-neutral-500 dark:border-neutral-600 placeholder-gray-300 text-white focus:border-primary focus:ring-1 focus:ring-primary"}),a.jsxs(te,{variant:"outline",size:"icon",className:"h-8 w-8 bg-white/90 hover:bg-white text-slate-800 border-slate-300 hover:border-slate-400",onClick:()=>{y()},disabled:!u.trim(),children:[a.jsx(lQ,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Confirm Assign Manager"})]})]})]})]})]})]})})},qpe=()=>{const{stores:t,loadStores:e,user:n,isLoadingStores:r}=Zn(),i=()=>{console.log("[StoreList] handleRefreshStores called. User:",n),n&&n.id?(console.log(`[StoreList] Calling loadStores for user ID: ${n.id}`),e(n.id)):console.warn("[StoreList] handleRefreshStores: No user or user.id found, cannot refresh stores.")};return t.length===0&&!r?null:a.jsxs(In.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.2},className:"w-full max-w-6xl mx-auto mt-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Your Stores"}),a.jsxs(te,{onClick:i,variant:"outline",disabled:!n||r,children:[a.jsx(Av,{className:`mr-2 h-4 w-4 ${r?"animate-spin":""}`}),r?"Loading...":"Load Stores"]})]}),r&&t.length===0&&a.jsx("div",{className:"text-center py-10",children:a.jsx("p",{className:"text-muted-foreground",children:"Loading your stores..."})}),!r&&t.length===0&&a.jsx("div",{className:"text-center py-10",children:a.jsx("p",{className:"text-muted-foreground",children:"You haven't created any stores yet. Get started by generating a new store!"})}),t.length>0&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(s=>a.jsx(Wpe,{store:s},s.id))})]})},Gpe=({open:t,onOpenChange:e,onSuccessfulConnect:n})=>{const[r,i]=x.useState(""),[s,o]=x.useState(""),{startShopifyImportWizard:l,isFetchingShopifyPreviewData:u,shopifyImportError:d,setShopifyWizardStep:h}=Zn(),p=async g=>{if(g.preventDefault(),!r||!s){alert("Please enter both Shopify domain and access token.");return}await l(r,s)&&n&&n()};return a.jsx(Zl,{open:t,onOpenChange:g=>{e(g)},children:a.jsxs(ka,{className:"sm:max-w-[425px]",children:[a.jsxs(Ia,{children:[a.jsx(Ma,{children:"Connect to Shopify"}),a.jsx(Ju,{children:"Enter your Shopify store domain and Storefront Access Token to begin importing."})]}),a.jsxs("form",{onSubmit:p,className:"grid gap-4 py-4",children:[d&&a.jsx("div",{className:"col-span-4 p-2 text-sm text-red-600 bg-red-100 border border-red-300 rounded",children:d}),a.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsx(Je,{htmlFor:"domain",className:"text-right",children:"Domain"}),a.jsx(ft,{id:"domain",value:r,onChange:g=>i(g.target.value),placeholder:IJ,className:"col-span-3",disabled:u})]}),a.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsx(Je,{htmlFor:"token",className:"text-right",children:"Token"}),a.jsx(ft,{id:"token",type:"password",value:s,onChange:g=>o(g.target.value),placeholder:"Storefront Access Token",className:"col-span-3",disabled:u})]}),a.jsxs(Xs,{children:[a.jsx(te,{type:"button",variant:"outline",disabled:u,onClick:()=>e(!1),children:"Cancel"}),a.jsx(te,{type:"submit",disabled:u||!r||!s,children:u?a.jsxs(a.Fragment,{children:[a.jsx(sn,{className:"mr-2 h-4 w-4 animate-spin"}),"Connecting..."]}):"Connect & Fetch Info"})]})]})]})})},Hpe=({open:t,onOpenChange:e,onSuccessfulConnect:n})=>{const[r,i]=x.useState(""),[s,o]=x.useState(""),[l,u]=x.useState(!1),[d,h]=x.useState(null),[p,g]=x.useState(""),{startBigCommerceImportWizard:y,bigCommerceImportError:b,isFetchingBigCommercePreviewData:C}=Zn(),_=async P=>{if(P.preventDefault(),!r||!s){alert("Both Store Domain and API Token are required.");return}await y(r,s),n&&n({storeDomain:r,apiToken:s})};return t?a.jsx("div",{className:"w-full",children:a.jsxs("form",{onSubmit:_,children:[a.jsxs(Ke,{className:"space-y-4 pt-6",children:[" ",a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{htmlFor:"bc-store-domain",children:"Store Domain"}),a.jsx(ft,{id:"bc-store-domain",type:"text",placeholder:"e.g., mystore.mybigcommerce.com",value:r,onChange:P=>i(P.target.value.trim()),disabled:C})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{htmlFor:"bc-api-token",children:"Storefront API Token"}),a.jsx(ft,{id:"bc-api-token",type:"password",placeholder:"Enter your Storefront API Token",value:s,onChange:P=>o(P.target.value.trim()),disabled:C})]}),b&&a.jsxs("p",{className:"text-sm text-red-600 flex items-center",children:[a.jsx(xO,{className:"mr-2 h-4 w-4"})," ",b]})]}),a.jsx(el,{className:"flex flex-col space-y-2",children:a.jsxs(te,{type:"submit",className:"w-full",disabled:C,children:[C?a.jsx(sn,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(P_,{className:"mr-2 h-4 w-4"}),C?"Connecting...":"Connect to BigCommerce"]})})]})}):null},Kpe=()=>{var l,u;const{shopifyPreviewMetadata:t,isFetchingShopifyPreviewData:e,shopifyImportError:n}=Zn();if(e&&!t)return a.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[a.jsx(sn,{className:"h-12 w-12 animate-spin text-primary mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Fetching store information..."})]});if(n&&!t)return a.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-destructive",children:[a.jsx(w0,{className:"h-12 w-12 mb-4"}),a.jsx("p",{className:"font-semibold",children:"Error Fetching Store Info"}),a.jsx("p",{className:"text-sm text-center",children:n})]});if(!t)return a.jsx("div",{className:"text-center text-muted-foreground",children:"No store metadata to display."});const{name:r,description:i,primaryDomain:s,brand:o}=t;return a.jsxs("div",{className:"w-full p-4",children:[a.jsx("h3",{className:"text-xl font-semibold mb-4 text-center",children:"Store Preview"}),a.jsxs(We,{className:"mb-4",children:[a.jsx(Xe,{children:a.jsxs("div",{className:"flex items-center space-x-4",children:[((l=o==null?void 0:o.logo)==null?void 0:l.url)&&a.jsx("img",{src:o.logo.url,alt:`${r} logo`,className:"h-16 w-16 object-contain rounded border"}),a.jsxs("div",{children:[a.jsx(Qe,{children:r||"N/A"}),(s==null?void 0:s.host)&&a.jsx(Dt,{children:s.host})]})]})}),a.jsxs(Ke,{children:[a.jsxs("p",{className:"text-sm text-muted-foreground mb-1",children:[a.jsx("strong",{children:"Slogan:"})," ",(o==null?void 0:o.slogan)||"N/A"]}),a.jsxs("p",{className:"text-sm text-muted-foreground mb-1",children:[a.jsx("strong",{children:"Description:"})," ",i||(o==null?void 0:o.shortDescription)||"N/A"]}),((u=o==null?void 0:o.coverImage)==null?void 0:u.url)&&a.jsxs("div",{className:"mt-2",children:[a.jsx("p",{className:"text-sm font-medium mb-1",children:"Cover Image:"}),a.jsx("img",{src:o.coverImage.url,alt:"Store cover",className:"rounded max-h-40 w-auto mx-auto border"})]})]})]})]})},Ype=()=>{var C,_,P,E,j,R;const{shopifyPreviewProducts:t,shopifyPreviewCollections:e,fetchShopifyWizardProducts:n,fetchShopifyWizardCollections:r,isFetchingShopifyPreviewData:i,shopifyImportError:s,shopifyPreviewMetadata:o,generatedLogoImage:l,isGeneratingLogo:u,logoGenerationError:d,generateShopifyStoreLogo:h}=Zn(),p=()=>{t.pageInfo.hasNextPage&&n(10,t.pageInfo.endCursor)},g=()=>{e.pageInfo.hasNextPage&&r(10,e.pageInfo.endCursor)},y=(o==null?void 0:o.name)||"Your Store",b=((P=(_=(C=o==null?void 0:o.brand)==null?void 0:C.logo)==null?void 0:_.image)==null?void 0:P.url)||((R=(j=(E=o==null?void 0:o.brand)==null?void 0:E.squareLogo)==null?void 0:j.image)==null?void 0:R.url);return a.jsxs("div",{className:"w-full p-4 space-y-6",children:[a.jsxs(We,{children:[a.jsxs(Xe,{children:[a.jsx(Qe,{children:"Generate Store Logo"}),a.jsxs(Dt,{children:['Optionally, generate a new logo for "',y,'" using AI. The generated logo will be used for your new store if you proceed.']})]}),a.jsxs(Ke,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-center",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-2",children:"Current Shopify Logo (if any):"}),b?a.jsx("img",{src:b,alt:`${y} current logo`,className:"h-48 w-auto object-contain"}):a.jsx("p",{className:"text-sm text-muted-foreground",children:"No logo found in Shopify data."})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-2",children:"Generated Logo Preview:"}),u&&a.jsxs("div",{className:"h-48 w-full flex items-center justify-center",children:[a.jsx(sn,{className:"h-12 w-12 animate-spin text-primary"})," "]}),!u&&l&&a.jsx("div",{className:"h-48 w-auto flex items-center justify-center",children:a.jsx("img",{src:l,alt:`${y} AI generated logo`,className:"h-full w-auto object-contain"})}),!u&&!l&&a.jsxs("div",{className:"h-48 w-full flex items-center justify-center text-muted-foreground",children:[a.jsx(Hj,{className:"h-12 w-12 mr-2"})," ",a.jsx("span",{children:"Logo will appear here"})]})]})]}),a.jsxs(te,{onClick:h,disabled:u||!(o!=null&&o.name),className:"w-full md:w-auto",children:[u?a.jsx(sn,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(Tu,{className:"mr-2 h-4 w-4"}),"Generate New Logo with AI"]}),d&&a.jsxs("p",{className:"text-sm text-destructive text-center mt-2",children:[a.jsx(w0,{className:"inline h-4 w-4 mr-1"}),d]}),!(o!=null&&o.name)&&a.jsx("p",{className:"text-sm text-amber-600 text-center mt-2",children:"Store name from Shopify is required to generate a logo."})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold mb-2",children:["Products (",t.edges.length," loaded)"]}),s&&s.includes("products")&&a.jsx("p",{className:"text-destructive text-sm mb-2",children:s}),a.jsxs(Oa,{className:"h-60 border rounded p-2",children:[t.edges.length===0&&!i&&a.jsx("p",{className:"text-muted-foreground text-sm p-2",children:"No products loaded yet or none found."}),t.edges.map(({node:I})=>{var M,A,$,B,G,X;return a.jsxs("div",{className:"p-2 border-b text-sm flex items-center",children:[(($=(A=(M=I.images)==null?void 0:M.edges[0])==null?void 0:A.node)==null?void 0:$.url)&&a.jsx("img",{src:I.images.edges[0].node.url,alt:I.title,className:"h-10 w-10 inline-block mr-3 rounded object-cover"}),!((X=(G=(B=I.images)==null?void 0:B.edges[0])==null?void 0:G.node)!=null&&X.url)&&a.jsx("div",{className:"h-10 w-10 bg-muted rounded mr-3 flex items-center justify-center text-muted-foreground",children:a.jsx(Hj,{size:16})}),a.jsx("span",{children:I.title})]},I.id)}),i&&t.pageInfo.hasNextPage&&a.jsx("div",{className:"flex justify-center py-2",children:a.jsx(sn,{className:"h-5 w-5 animate-spin"})})]}),t.pageInfo.hasNextPage&&a.jsx(te,{onClick:p,disabled:i,className:"mt-2 w-full",children:i?a.jsx(sn,{className:"mr-2 h-4 w-4 animate-spin"}):"Load More Products"}),!t.pageInfo.hasNextPage&&t.edges.length>0&&a.jsx("p",{className:"text-sm text-muted-foreground mt-2 text-center",children:"All products loaded."})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold mb-2",children:["Collections (",e.edges.length," loaded)"]}),s&&s.includes("collections")&&a.jsx("p",{className:"text-destructive text-sm mb-2",children:s}),a.jsxs(Oa,{className:"h-60 border rounded p-2",children:[e.edges.length===0&&!i&&a.jsx("p",{className:"text-muted-foreground text-sm p-2",children:"No collections loaded yet or none found."}),e.edges.map(({node:I})=>a.jsx("div",{className:"p-2 border-b text-sm",children:I.title},I.id)),i&&e.pageInfo.hasNextPage&&a.jsx("div",{className:"flex justify-center py-2",children:a.jsx(sn,{className:"h-5 w-5 animate-spin"})})]}),e.pageInfo.hasNextPage&&a.jsx(te,{onClick:g,disabled:i,className:"mt-2 w-full",children:i?a.jsx(sn,{className:"mr-2 h-4 w-4 animate-spin"}):"Load More Collections"}),!e.pageInfo.hasNextPage&&e.edges.length>0&&a.jsx("p",{className:"text-sm text-muted-foreground mt-2 text-center",children:"All collections loaded."})]})]})]})},Jpe=()=>{var r,i;const{bigCommercePreviewSettings:t,isFetchingBigCommercePreviewData:e,bigCommerceImportError:n}=Zn();return e&&!t?a.jsxs("div",{className:"flex items-center justify-center p-8",children:[a.jsx(sn,{className:"h-8 w-8 animate-spin"})," ",a.jsx("span",{className:"ml-2",children:"Fetching store settings..."})]}):n&&!t?a.jsxs("div",{className:"text-center p-4 text-red-600",children:["Error: ",n]}):t?a.jsxs(We,{className:"w-full",children:[a.jsxs(Xe,{children:[a.jsx(Qe,{children:"Store Settings Preview (BigCommerce)"}),a.jsx(Dt,{children:"Review your BigCommerce store's basic information."})]}),a.jsxs(Ke,{className:"space-y-2",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Store Name:"})," ",t.storeName||"N/A"]}),((i=(r=t.logo)==null?void 0:r.image)==null?void 0:i.url)&&a.jsxs("div",{children:[a.jsx("strong",{children:"Logo:"}),a.jsx("img",{src:t.logo.image.url,alt:t.logo.image.altText||"Store Logo",className:"mt-2 max-w-xs max-h-24 object-contain border rounded"})]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Store Hash:"})," ",t.storeHash||"N/A"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Status:"})," ",t.status||"N/A"]})]})]}):a.jsx("div",{className:"text-center p-4",children:"Connect to BigCommerce to see store settings, or settings are being fetched."})},Xpe=()=>{const{bigCommercePreviewProducts:t,fetchBigCommerceWizardProducts:e,isFetchingBigCommercePreviewData:n,bigCommerceImportError:r}=Zn(),i=(t==null?void 0:t.items)||[];return n&&i.length===0?a.jsxs("div",{className:"flex items-center justify-center p-8",children:[a.jsx(sn,{className:"h-8 w-8 animate-spin"})," ",a.jsx("span",{className:"ml-2",children:"Fetching products..."})]}):r&&i.length===0?a.jsxs("div",{className:"text-center p-4 text-red-600",children:["Error fetching products: ",r]}):i.length===0?a.jsxs("div",{className:"text-center p-4",children:[a.jsx("p",{className:"mb-4",children:"No products loaded yet for BigCommerce."}),a.jsxs(te,{onClick:()=>e(10),disabled:n,children:[n?a.jsx(sn,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Load Products Preview"]})]}):a.jsxs(We,{className:"w-full",children:[a.jsxs(Xe,{children:[a.jsx(Qe,{children:"Products Preview (BigCommerce)"}),a.jsx(Dt,{children:"A sample of products from your BigCommerce store."})]}),a.jsxs(Ke,{children:[a.jsx("ul",{className:"space-y-2 max-h-96 overflow-y-auto",children:i.slice(0,10).map(s=>{var o,l,u,d,h;return a.jsxs("li",{className:"p-2 border rounded text-sm flex justify-between items-center",children:[a.jsxs("div",{children:[s.name," - ",(l=(o=s.prices)==null?void 0:o.price)==null?void 0:l.value," ",(d=(u=s.prices)==null?void 0:u.price)==null?void 0:d.currencyCode]}),((h=s.defaultImage)==null?void 0:h.url)&&a.jsx("img",{src:s.defaultImage.url,alt:s.defaultImage.altText||s.name,className:"w-12 h-12 object-cover rounded ml-2"})]},s.entityId)})}),i.length>10&&a.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Showing 10 of ",i.length," products fetched for preview."]})]})]})},Qpe=({isOpen:t,onClose:e,initialImportSource:n="shopify"})=>{const[r,i]=x.useState(n),s=Zn(),o={shopify:{wizardStep:s.shopifyWizardStep,setWizardStep:s.setShopifyWizardStep,resetWizardState:s.resetShopifyWizardState,previewMetadata:s.shopifyPreviewMetadata,previewProducts:s.shopifyPreviewProducts,previewCollections:s.shopifyPreviewCollections,isFetchingPreviewData:s.isFetchingShopifyPreviewData,importError:s.shopifyImportError,fetchWizardProducts:s.fetchShopifyWizardProducts,fetchWizardCollections:s.fetchShopifyWizardCollections,finalizeImportFromWizard:s.finalizeShopifyImportFromWizard,ConnectFormComponent:Gpe,MetadataPreviewComponent:Kpe,ItemsPreviewComponent:Ype,totalSteps:4},bigcommerce:{wizardStep:s.bigCommerceWizardStep,setWizardStep:s.setBigCommerceWizardStep,resetWizardState:s.resetBigCommerceWizardState,previewMetadata:s.bigCommercePreviewSettings,previewProducts:s.bigCommercePreviewProducts,isFetchingPreviewData:s.isFetchingBigCommercePreviewData,importError:s.bigCommerceImportError,fetchWizardProducts:s.fetchBigCommerceWizardProducts,finalizeImportFromWizard:s.finalizeBigCommerceImportFromWizard,ConnectFormComponent:Hpe,MetadataPreviewComponent:Jpe,ItemsPreviewComponent:Xpe,totalSteps:4}},l=o[r],{wizardStep:u,setWizardStep:d,resetWizardState:h,previewMetadata:p,previewProducts:g,previewCollections:y,isFetchingPreviewData:b,importError:C,fetchWizardProducts:_,fetchWizardCollections:P,finalizeImportFromWizard:E,ConnectFormComponent:j,MetadataPreviewComponent:R,ItemsPreviewComponent:I,totalSteps:M}=l,{isGenerating:A}=s;if(x.useEffect(()=>{i(n),n==="shopify"&&o.bigcommerce.resetWizardState(),n==="bigcommerce"&&o.shopify.resetWizardState()},[n]),x.useEffect(()=>{t&&u===0&&d(1),!t&&u!==0&&h()},[t,u,d,h]),!t||u===0)return null;const $=async()=>{u<M&&(r==="shopify"?u===2?((!g||g.edges.length===0)&&await _(10),(!y||y.edges.length===0)&&await P(10),d(3)):u===3&&await X():r==="bigcommerce"&&(u===1||(u===2?((!g||g.items.length===0)&&await _(10),d(3)):u===3&&await X())))},B=()=>{u>1&&d(u-1)},G=()=>{h(),e&&e()},X=async()=>{await E()&&e&&e()},K=()=>{switch(u){case 1:return a.jsx(j,{open:u===1,onOpenChange:V=>{V||G()},onSuccessfulConnect:V=>{r==="shopify"&&s.startShopifyImportWizard(V.domain,V.token)}});case 2:return a.jsx(R,{});case 3:return a.jsx(I,{});default:return u===M&&A?a.jsxs("div",{className:"flex flex-col items-center justify-center p-8",children:[a.jsx(sn,{className:"h-8 w-8 animate-spin mb-4"})," ",a.jsx("p",{children:"Finalizing import, please wait..."})]}):a.jsxs("div",{children:["Invalid Wizard Step or Finalizing... (",u,")"]})}};if(u===1&&r==="shopify")return K();const W=r==="shopify"?"Import from Shopify":r==="bigcommerce"?"Import from BigCommerce":"Import Store Data";return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs(We,{className:"w-full max-w-2xl mx-auto shadow-xl",children:[a.jsxs(Xe,{children:[a.jsx(Qe,{className:"text-2xl font-bold",children:u===1&&r==="bigcommerce"?"Connect to BigCommerce":W}),a.jsx(Dt,{children:u===1&&r==="bigcommerce"?"Enter your store domain and API token.":`Step ${u} of ${M}`}),a.jsx("div",{className:"w-full bg-muted rounded-full h-2.5 mt-2",children:a.jsx(In.div,{className:"bg-primary h-2.5 rounded-full",initial:{width:"0%"},animate:{width:`${u/M*100}%`},transition:{duration:.5,ease:"easeInOut"}})})]}),a.jsx(Ke,{className:"min-h-[250px] flex items-center justify-center",children:K()}),a.jsxs(el,{className:"flex justify-between",children:[u>1&&a.jsxs(te,{variant:"outline",onClick:G,disabled:A||b,children:[a.jsx(xO,{className:"mr-2 h-4 w-4"})," Cancel"]}),a.jsxs("div",{children:[u>1&&u<M&&a.jsxs(te,{variant:"outline",onClick:B,disabled:A||b,className:"mr-2",children:[a.jsx(Aa,{className:"mr-2 h-4 w-4"})," Previous"]}),u===1&&r==="bigcommerce"&&a.jsxs(te,{onClick:$,disabled:A||b,children:["Next ",a.jsx(Jb,{className:"ml-2 h-4 w-4"})]}),u===2&&a.jsxs(te,{onClick:$,disabled:A||b,children:["Next ",a.jsx(Jb,{className:"ml-2 h-4 w-4"})]}),u===3&&a.jsxs(te,{onClick:X,disabled:A||b,children:[A?a.jsx(sn,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(P_,{className:"mr-2 h-4 w-4"}),"Finalize Import"]}),u===M&&A&&a.jsxs(te,{disabled:!0,children:[a.jsx(sn,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]})]})]})]})})},Zpe=({onSelectSource:t,onClose:e})=>a.jsxs(We,{className:"w-full max-w-md mx-auto relative",children:[" ",a.jsx(te,{variant:"ghost",size:"icon",className:"absolute top-2 right-2 text-muted-foreground hover:text-foreground",onClick:e,children:a.jsx(Xl,{className:"h-5 w-5"})}),a.jsxs(Xe,{children:[a.jsx(Qe,{children:"Import Store Data"}),a.jsx(Dt,{children:"Select your e-commerce platform to begin importing your store and product data."})]}),a.jsx(Ke,{children:a.jsxs(ks,{defaultValue:"shopify",className:"w-full",children:[a.jsxs(fs,{className:"grid w-full grid-cols-2",children:[a.jsx(Yt,{value:"shopify",children:"Shopify"}),a.jsx(Yt,{value:"bigcommerce",children:"BigCommerce"})]}),a.jsxs(Jt,{value:"shopify",className:"mt-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Connect to your Shopify store to import your shop details, products, and collections."}),a.jsx(te,{className:"w-full",onClick:()=>t("shopify"),children:"Connect Shopify"})]}),a.jsxs(Jt,{value:"bigcommerce",className:"mt-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Connect to your BigCommerce store to import your store settings and product catalog."}),a.jsx(te,{className:"w-full",onClick:()=>t("bigcommerce"),children:"Connect BigCommerce"})]})]})}),a.jsx(el,{children:a.jsx("p",{className:"text-xs text-muted-foreground",children:"You will be guided through a few steps to connect and confirm the data to be imported."})})]});function cn(){return cn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cn.apply(null,arguments)}function zD(t,[e,n]){return Math.min(n,Math.max(e,t))}function kr(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function NE(t,e=[]){let n=[];function r(s,o){const l=x.createContext(o),u=n.length;n=[...n,o];function d(p){const{scope:g,children:y,...b}=p,C=(g==null?void 0:g[t][u])||l,_=x.useMemo(()=>b,Object.values(b));return x.createElement(C.Provider,{value:_},y)}function h(p,g){const y=(g==null?void 0:g[t][u])||l,b=x.useContext(y);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${s}\``)}return d.displayName=s+"Provider",[d,h]}const i=()=>{const s=n.map(o=>x.createContext(o));return function(l){const u=(l==null?void 0:l[t])||s;return x.useMemo(()=>({[`__scope${t}`]:{...l,[t]:u}}),[l,u])}};return i.scopeName=t,[r,eme(i,...e)]}function eme(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((l,{useScope:u,scopeName:d})=>{const p=u(s)[`__scope${d}`];return{...l,...p}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function tme(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function m8(...t){return e=>t.forEach(n=>tme(n,e))}function oi(...t){return x.useCallback(m8(...t),t)}const Wg=x.forwardRef((t,e)=>{const{children:n,...r}=t,i=x.Children.toArray(n),s=i.find(rme);if(s){const o=s.props.children,l=i.map(u=>u===s?x.Children.count(o)>1?x.Children.only(null):x.isValidElement(o)?o.props.children:null:u);return x.createElement(qC,cn({},r,{ref:e}),x.isValidElement(o)?x.cloneElement(o,void 0,l):null)}return x.createElement(qC,cn({},r,{ref:e}),n)});Wg.displayName="Slot";const qC=x.forwardRef((t,e)=>{const{children:n,...r}=t;return x.isValidElement(n)?x.cloneElement(n,{...ime(r,n.props),ref:e?m8(e,n.ref):n.ref}):x.Children.count(n)>1?x.Children.only(null):null});qC.displayName="SlotClone";const nme=({children:t})=>x.createElement(x.Fragment,null,t);function rme(t){return x.isValidElement(t)&&t.type===nme}function ime(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{s(...l),i(...l)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function sme(t){const e=t+"CollectionProvider",[n,r]=NE(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:b,children:C}=y,_=re.useRef(null),P=re.useRef(new Map).current;return re.createElement(i,{scope:b,itemMap:P,collectionRef:_},C)},l=t+"CollectionSlot",u=re.forwardRef((y,b)=>{const{scope:C,children:_}=y,P=s(l,C),E=oi(b,P.collectionRef);return re.createElement(Wg,{ref:E},_)}),d=t+"CollectionItemSlot",h="data-radix-collection-item",p=re.forwardRef((y,b)=>{const{scope:C,children:_,...P}=y,E=re.useRef(null),j=oi(b,E),R=s(d,C);return re.useEffect(()=>(R.itemMap.set(E,{ref:E,...P}),()=>void R.itemMap.delete(E))),re.createElement(Wg,{[h]:"",ref:j},_)});function g(y){const b=s(t+"CollectionConsumer",y);return re.useCallback(()=>{const _=b.collectionRef.current;if(!_)return[];const P=Array.from(_.querySelectorAll(`[${h}]`));return Array.from(b.itemMap.values()).sort((R,I)=>P.indexOf(R.ref.current)-P.indexOf(I.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},g,r]}const ome=x.createContext(void 0);function ame(t){const e=x.useContext(ome);return t||e||"ltr"}const lme=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ai=lme.reduce((t,e)=>{const n=x.forwardRef((r,i)=>{const{asChild:s,...o}=r,l=s?Wg:e;return x.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),x.createElement(l,cn({},o,{ref:i}))});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function cme(t,e){t&&Ua.flushSync(()=>t.dispatchEvent(e))}function Oo(t){const e=x.useRef(t);return x.useEffect(()=>{e.current=t}),x.useMemo(()=>(...n)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...n)},[])}function ume(t,e=globalThis==null?void 0:globalThis.document){const n=Oo(t);x.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r),()=>e.removeEventListener("keydown",r)},[n,e])}const GC="dismissableLayer.update",dme="dismissableLayer.pointerDownOutside",fme="dismissableLayer.focusOutside";let WD;const hme=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),pme=x.forwardRef((t,e)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:l,onDismiss:u,...d}=t,h=x.useContext(hme),[p,g]=x.useState(null),y=(n=p==null?void 0:p.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,b]=x.useState({}),C=oi(e,$=>g($)),_=Array.from(h.layers),[P]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),E=_.indexOf(P),j=p?_.indexOf(p):-1,R=h.layersWithOutsidePointerEventsDisabled.size>0,I=j>=E,M=mme($=>{const B=$.target,G=[...h.branches].some(X=>X.contains(B));!I||G||(s==null||s($),l==null||l($),$.defaultPrevented||u==null||u())},y),A=gme($=>{const B=$.target;[...h.branches].some(X=>X.contains(B))||(o==null||o($),l==null||l($),$.defaultPrevented||u==null||u())},y);return ume($=>{j===h.layers.size-1&&(i==null||i($),!$.defaultPrevented&&u&&($.preventDefault(),u()))},y),x.useEffect(()=>{if(p)return r&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(WD=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(p)),h.layers.add(p),qD(),()=>{r&&h.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=WD)}},[p,y,r,h]),x.useEffect(()=>()=>{p&&(h.layers.delete(p),h.layersWithOutsidePointerEventsDisabled.delete(p),qD())},[p,h]),x.useEffect(()=>{const $=()=>b({});return document.addEventListener(GC,$),()=>document.removeEventListener(GC,$)},[]),x.createElement(ai.div,cn({},d,{ref:C,style:{pointerEvents:R?I?"auto":"none":void 0,...t.style},onFocusCapture:kr(t.onFocusCapture,A.onFocusCapture),onBlurCapture:kr(t.onBlurCapture,A.onBlurCapture),onPointerDownCapture:kr(t.onPointerDownCapture,M.onPointerDownCapture)}))});function mme(t,e=globalThis==null?void 0:globalThis.document){const n=Oo(t),r=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const s=l=>{if(l.target&&!r.current){let d=function(){g8(dme,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=d,e.addEventListener("click",i.current,{once:!0})):d()}r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function gme(t,e=globalThis==null?void 0:globalThis.document){const n=Oo(t),r=x.useRef(!1);return x.useEffect(()=>{const i=s=>{s.target&&!r.current&&g8(fme,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function qD(){const t=new CustomEvent(GC);document.dispatchEvent(t)}function g8(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?cme(i,s):i.dispatchEvent(s)}let db=0;function yme(){x.useEffect(()=>{var t,e;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=n[0])!==null&&t!==void 0?t:GD()),document.body.insertAdjacentElement("beforeend",(e=n[1])!==null&&e!==void 0?e:GD()),db++,()=>{db===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),db--}},[])}function GD(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",t}const fb="focusScope.autoFocusOnMount",hb="focusScope.autoFocusOnUnmount",HD={bubbles:!1,cancelable:!0},xme=x.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[l,u]=x.useState(null),d=Oo(i),h=Oo(s),p=x.useRef(null),g=oi(e,C=>u(C)),y=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(r){let C=function(j){if(y.paused||!l)return;const R=j.target;l.contains(R)?p.current=R:xa(p.current,{select:!0})},_=function(j){if(y.paused||!l)return;const R=j.relatedTarget;R!==null&&(l.contains(R)||xa(p.current,{select:!0}))},P=function(j){const R=document.activeElement;for(const I of j)I.removedNodes.length>0&&(l!=null&&l.contains(R)||xa(l))};document.addEventListener("focusin",C),document.addEventListener("focusout",_);const E=new MutationObserver(P);return l&&E.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",C),document.removeEventListener("focusout",_),E.disconnect()}}},[r,l,y.paused]),x.useEffect(()=>{if(l){YD.add(y);const C=document.activeElement;if(!l.contains(C)){const P=new CustomEvent(fb,HD);l.addEventListener(fb,d),l.dispatchEvent(P),P.defaultPrevented||(vme(_me(y8(l)),{select:!0}),document.activeElement===C&&xa(l))}return()=>{l.removeEventListener(fb,d),setTimeout(()=>{const P=new CustomEvent(hb,HD);l.addEventListener(hb,h),l.dispatchEvent(P),P.defaultPrevented||xa(C??document.body,{select:!0}),l.removeEventListener(hb,h),YD.remove(y)},0)}}},[l,d,h,y]);const b=x.useCallback(C=>{if(!n&&!r||y.paused)return;const _=C.key==="Tab"&&!C.altKey&&!C.ctrlKey&&!C.metaKey,P=document.activeElement;if(_&&P){const E=C.currentTarget,[j,R]=wme(E);j&&R?!C.shiftKey&&P===R?(C.preventDefault(),n&&xa(j,{select:!0})):C.shiftKey&&P===j&&(C.preventDefault(),n&&xa(R,{select:!0})):P===E&&C.preventDefault()}},[n,r,y.paused]);return x.createElement(ai.div,cn({tabIndex:-1},o,{ref:g,onKeyDown:b}))});function vme(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(xa(r,{select:e}),document.activeElement!==n)return}function wme(t){const e=y8(t),n=KD(e,t),r=KD(e.reverse(),t);return[n,r]}function y8(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function KD(t,e){for(const n of t)if(!Sme(n,{upTo:e}))return n}function Sme(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function bme(t){return t instanceof HTMLInputElement&&"select"in t}function xa(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&bme(t)&&e&&t.select()}}const YD=Cme();function Cme(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=JD(t,e),t.unshift(e)},remove(e){var n;t=JD(t,e),(n=t[0])===null||n===void 0||n.resume()}}}function JD(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function _me(t){return t.filter(e=>e.tagName!=="A")}const cs=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},Tme=o0.useId||(()=>{});let Eme=0;function x8(t){const[e,n]=x.useState(Tme());return cs(()=>{n(r=>r??String(Eme++))},[t]),e?`radix-${e}`:""}function Pme(t){const[e,n]=x.useState(void 0);return cs(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,l;if("borderBoxSize"in s){const u=s.borderBoxSize,d=Array.isArray(u)?u[0]:u;o=d.inlineSize,l=d.blockSize}else o=t.offsetWidth,l=t.offsetHeight;n({width:o,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}const v8="Popper",[w8,S8]=NE(v8),[Nme,b8]=w8(v8),jme=t=>{const{__scopePopper:e,children:n}=t,[r,i]=x.useState(null);return x.createElement(Nme,{scope:e,anchor:r,onAnchorChange:i},n)},Rme="PopperAnchor",Ame=x.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=b8(Rme,n),o=x.useRef(null),l=oi(e,o);return x.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:x.createElement(ai.div,cn({},i,{ref:l}))}),C8="PopperContent",[kme,UTe]=w8(C8),Ime=x.forwardRef((t,e)=>{var n,r,i,s,o,l,u,d;const{__scopePopper:h,side:p="bottom",sideOffset:g=0,align:y="center",alignOffset:b=0,arrowPadding:C=0,collisionBoundary:_=[],collisionPadding:P=0,sticky:E="partial",hideWhenDetached:j=!1,avoidCollisions:R=!0,onPlaced:I,...M}=t,A=b8(C8,h),[$,B]=x.useState(null),G=oi(e,Bt=>B(Bt)),[X,K]=x.useState(null),W=Pme(X),V=(n=W==null?void 0:W.width)!==null&&n!==void 0?n:0,Y=(r=W==null?void 0:W.height)!==null&&r!==void 0?r:0,ne=p+(y!=="center"?"-"+y:""),ue=typeof P=="number"?P:{top:0,right:0,bottom:0,left:0,...P},oe=Array.isArray(_)?_:[_],ie=oe.length>0,L={padding:ue,boundary:oe.filter(Mme),altBoundary:ie},{refs:F,floatingStyles:Z,placement:U,isPositioned:Ne,middlewareData:De}=SB({strategy:"fixed",placement:ne,whileElementsMounted:vB,elements:{reference:A.anchor},middleware:[bB({mainAxis:g+Y,alignmentAxis:b}),R&&CB({mainAxis:!0,crossAxis:!1,limiter:E==="partial"?_B():void 0,...L}),R&&TB({...L}),EB({...L,apply:({elements:Bt,rects:vn,availableWidth:Ut,availableHeight:fn})=>{const{width:wn,height:xn}=vn.reference,Zt=Bt.floating.style;Zt.setProperty("--radix-popper-available-width",`${Ut}px`),Zt.setProperty("--radix-popper-available-height",`${fn}px`),Zt.setProperty("--radix-popper-anchor-width",`${wn}px`),Zt.setProperty("--radix-popper-anchor-height",`${xn}px`)}}),X&&NB({element:X,padding:C}),Dme({arrowWidth:V,arrowHeight:Y}),j&&PB({strategy:"referenceHidden"})]}),[je,Te]=_8(U),Pe=Oo(I);cs(()=>{Ne&&(Pe==null||Pe())},[Ne,Pe]);const $e=(i=De.arrow)===null||i===void 0?void 0:i.x,He=(s=De.arrow)===null||s===void 0?void 0:s.y,tt=((o=De.arrow)===null||o===void 0?void 0:o.centerOffset)!==0,[nt,Tt]=x.useState();return cs(()=>{$&&Tt(window.getComputedStyle($).zIndex)},[$]),x.createElement("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...Z,transform:Ne?Z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:nt,"--radix-popper-transform-origin":[(l=De.transformOrigin)===null||l===void 0?void 0:l.x,(u=De.transformOrigin)===null||u===void 0?void 0:u.y].join(" ")},dir:t.dir},x.createElement(kme,{scope:h,placedSide:je,onArrowChange:K,arrowX:$e,arrowY:He,shouldHideArrow:tt},x.createElement(ai.div,cn({"data-side":je,"data-align":Te},M,{ref:G,style:{...M.style,animation:Ne?void 0:"none",opacity:(d=De.hide)!==null&&d!==void 0&&d.referenceHidden?0:void 0}}))))});function Mme(t){return t!==null}const Dme=t=>({name:"transformOrigin",options:t,fn(e){var n,r,i,s,o;const{placement:l,rects:u,middlewareData:d}=e,p=((n=d.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,g=p?0:t.arrowWidth,y=p?0:t.arrowHeight,[b,C]=_8(l),_={start:"0%",center:"50%",end:"100%"}[C],P=((r=(i=d.arrow)===null||i===void 0?void 0:i.x)!==null&&r!==void 0?r:0)+g/2,E=((s=(o=d.arrow)===null||o===void 0?void 0:o.y)!==null&&s!==void 0?s:0)+y/2;let j="",R="";return b==="bottom"?(j=p?_:`${P}px`,R=`${-y}px`):b==="top"?(j=p?_:`${P}px`,R=`${u.floating.height+y}px`):b==="right"?(j=`${-y}px`,R=p?_:`${E}px`):b==="left"&&(j=`${u.floating.width+y}px`,R=p?_:`${E}px`),{data:{x:j,y:R}}}});function _8(t){const[e,n="center"]=t.split("-");return[e,n]}const Lme=jme,Ome=Ame,$me=Ime,Fme=x.forwardRef((t,e)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...i}=t;return r?u_.createPortal(x.createElement(ai.div,cn({},i,{ref:e})),r):null});function XD({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=Bme({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,l=Oo(n),u=x.useCallback(d=>{if(s){const p=typeof d=="function"?d(t):d;p!==t&&l(p)}else i(d)},[s,t,i,l]);return[o,u]}function Bme({defaultProp:t,onChange:e}){const n=x.useState(t),[r]=n,i=x.useRef(r),s=Oo(e);return x.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}function Ume(t){const e=x.useRef({value:t,previous:t});return x.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function Vme(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function zme(...t){return e=>t.forEach(n=>Vme(n,e))}const T8=x.forwardRef((t,e)=>{const{children:n,...r}=t,i=x.Children.toArray(n),s=i.find(qme);if(s){const o=s.props.children,l=i.map(u=>u===s?x.Children.count(o)>1?x.Children.only(null):x.isValidElement(o)?o.props.children:null:u);return x.createElement(HC,cn({},r,{ref:e}),x.isValidElement(o)?x.cloneElement(o,void 0,l):null)}return x.createElement(HC,cn({},r,{ref:e}),n)});T8.displayName="Slot";const HC=x.forwardRef((t,e)=>{const{children:n,...r}=t;return x.isValidElement(n)?x.cloneElement(n,{...Gme(r,n.props),ref:e?zme(e,n.ref):n.ref}):x.Children.count(n)>1?x.Children.only(null):null});HC.displayName="SlotClone";const Wme=({children:t})=>x.createElement(x.Fragment,null,t);function qme(t){return x.isValidElement(t)&&t.type===Wme}function Gme(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{s(...l),i(...l)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}const Hme=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Kme=Hme.reduce((t,e)=>{const n=x.forwardRef((r,i)=>{const{asChild:s,...o}=r,l=s?T8:e;return x.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),x.createElement(l,cn({},o,{ref:i}))});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),Yme=x.forwardRef((t,e)=>x.createElement(Kme.span,cn({},t,{ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}})));var E8=NO(),pb=function(){},fw=x.forwardRef(function(t,e){var n=x.useRef(null),r=x.useState({onScrollCapture:pb,onWheelCapture:pb,onTouchMoveCapture:pb}),i=r[0],s=r[1],o=t.forwardProps,l=t.children,u=t.className,d=t.removeScrollBar,h=t.enabled,p=t.shards,g=t.sideCar,y=t.noIsolation,b=t.inert,C=t.allowPinchZoom,_=t.as,P=_===void 0?"div":_,E=A_(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),j=g,R=PO([n,e]),I=si(si({},E),i);return x.createElement(x.Fragment,null,h&&x.createElement(j,{sideCar:E8,removeScrollBar:d,shards:p,noIsolation:y,inert:b,setCallbacks:s,allowPinchZoom:!!C,lockRef:n}),o?x.cloneElement(x.Children.only(l),si(si({},I),{ref:R})):x.createElement(P,si({},I,{className:u,ref:R}),l))});fw.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};fw.classNames={fullWidth:mg,zeroRight:pg};var KC=!1;if(typeof window<"u")try{var tv=Object.defineProperty({},"passive",{get:function(){return KC=!0,!0}});window.addEventListener("test",tv,tv),window.removeEventListener("test",tv,tv)}catch{KC=!1}var au=KC?{passive:!1}:!1,Jme=function(t){return t.tagName==="TEXTAREA"},P8=function(t,e){var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Jme(t)&&n[e]==="visible")},Xme=function(t){return P8(t,"overflowY")},Qme=function(t){return P8(t,"overflowX")},QD=function(t,e){var n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=N8(t,n);if(r){var i=j8(t,n),s=i[1],o=i[2];if(s>o)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},Zme=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},ege=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},N8=function(t,e){return t==="v"?Xme(e):Qme(e)},j8=function(t,e){return t==="v"?Zme(e):ege(e)},tge=function(t,e){return t==="h"&&e==="rtl"?-1:1},nge=function(t,e,n,r,i){var s=tge(t,window.getComputedStyle(e).direction),o=s*r,l=n.target,u=e.contains(l),d=!1,h=o>0,p=0,g=0;do{var y=j8(t,l),b=y[0],C=y[1],_=y[2],P=C-_-s*b;(b||P)&&N8(t,l)&&(p+=P,g+=b),l=l.parentNode}while(!u&&l!==document.body||u&&(e.contains(l)||e===l));return(h&&p===0||!h&&g===0)&&(d=!0),d},nv=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},ZD=function(t){return[t.deltaX,t.deltaY]},eL=function(t){return t&&"current"in t?t.current:t},rge=function(t,e){return t[0]===e[0]&&t[1]===e[1]},ige=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},sge=0,lu=[];function oge(t){var e=x.useRef([]),n=x.useRef([0,0]),r=x.useRef(),i=x.useState(sge++)[0],s=x.useState(function(){return k_()})[0],o=x.useRef(t);x.useEffect(function(){o.current=t},[t]),x.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var C=EO([t.lockRef.current],(t.shards||[]).map(eL),!0).filter(Boolean);return C.forEach(function(_){return _.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),C.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var l=x.useCallback(function(C,_){if("touches"in C&&C.touches.length===2)return!o.current.allowPinchZoom;var P=nv(C),E=n.current,j="deltaX"in C?C.deltaX:E[0]-P[0],R="deltaY"in C?C.deltaY:E[1]-P[1],I,M=C.target,A=Math.abs(j)>Math.abs(R)?"h":"v";if("touches"in C&&A==="h"&&M.type==="range")return!1;var $=QD(A,M);if(!$)return!0;if($?I=A:(I=A==="v"?"h":"v",$=QD(A,M)),!$)return!1;if(!r.current&&"changedTouches"in C&&(j||R)&&(r.current=I),!I)return!0;var B=r.current||I;return nge(B,_,C,B==="h"?j:R)},[]),u=x.useCallback(function(C){var _=C;if(!(!lu.length||lu[lu.length-1]!==s)){var P="deltaY"in _?ZD(_):nv(_),E=e.current.filter(function(I){return I.name===_.type&&I.target===_.target&&rge(I.delta,P)})[0];if(E&&E.should){_.cancelable&&_.preventDefault();return}if(!E){var j=(o.current.shards||[]).map(eL).filter(Boolean).filter(function(I){return I.contains(_.target)}),R=j.length>0?l(_,j[0]):!o.current.noIsolation;R&&_.cancelable&&_.preventDefault()}}},[]),d=x.useCallback(function(C,_,P,E){var j={name:C,delta:_,target:P,should:E};e.current.push(j),setTimeout(function(){e.current=e.current.filter(function(R){return R!==j})},1)},[]),h=x.useCallback(function(C){n.current=nv(C),r.current=void 0},[]),p=x.useCallback(function(C){d(C.type,ZD(C),C.target,l(C,t.lockRef.current))},[]),g=x.useCallback(function(C){d(C.type,nv(C),C.target,l(C,t.lockRef.current))},[]);x.useEffect(function(){return lu.push(s),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:g}),document.addEventListener("wheel",u,au),document.addEventListener("touchmove",u,au),document.addEventListener("touchstart",h,au),function(){lu=lu.filter(function(C){return C!==s}),document.removeEventListener("wheel",u,au),document.removeEventListener("touchmove",u,au),document.removeEventListener("touchstart",h,au)}},[]);var y=t.removeScrollBar,b=t.inert;return x.createElement(x.Fragment,null,b?x.createElement(s,{styles:ige(i)}):null,y?x.createElement(kO,{gapMode:"margin"}):null)}const age=RO(E8,oge);var R8=x.forwardRef(function(t,e){return x.createElement(fw,si({},t,{ref:e,sideCar:age}))});R8.classNames=fw.classNames;const lge=[" ","Enter","ArrowUp","ArrowDown"],cge=[" ","Enter"],hw="Select",[pw,mw,uge]=sme(hw),[id,VTe]=NE(hw,[uge,S8]),jE=S8(),[dge,fc]=id(hw),[fge,hge]=id(hw),pge=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:l,onValueChange:u,dir:d,name:h,autoComplete:p,disabled:g,required:y}=t,b=jE(e),[C,_]=x.useState(null),[P,E]=x.useState(null),[j,R]=x.useState(!1),I=ame(d),[M=!1,A]=XD({prop:r,defaultProp:i,onChange:s}),[$,B]=XD({prop:o,defaultProp:l,onChange:u}),G=x.useRef(null),X=C?!!C.closest("form"):!0,[K,W]=x.useState(new Set),V=Array.from(K).map(Y=>Y.props.value).join(";");return x.createElement(Lme,b,x.createElement(dge,{required:y,scope:e,trigger:C,onTriggerChange:_,valueNode:P,onValueNodeChange:E,valueNodeHasChildren:j,onValueNodeHasChildrenChange:R,contentId:x8(),value:$,onValueChange:B,open:M,onOpenChange:A,dir:I,triggerPointerDownPosRef:G,disabled:g},x.createElement(pw.Provider,{scope:e},x.createElement(fge,{scope:t.__scopeSelect,onNativeOptionAdd:x.useCallback(Y=>{W(ne=>new Set(ne).add(Y))},[]),onNativeOptionRemove:x.useCallback(Y=>{W(ne=>{const ue=new Set(ne);return ue.delete(Y),ue})},[])},n)),X?x.createElement(M8,{key:V,"aria-hidden":!0,required:y,tabIndex:-1,name:h,autoComplete:p,value:$,onChange:Y=>B(Y.target.value),disabled:g},$===void 0?x.createElement("option",{value:""}):null,Array.from(K)):null))},mge="SelectTrigger",gge=x.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=jE(n),o=fc(mge,n),l=o.disabled||r,u=oi(e,o.onTriggerChange),d=mw(n),[h,p,g]=D8(b=>{const C=d().filter(E=>!E.disabled),_=C.find(E=>E.value===o.value),P=L8(C,b,_);P!==void 0&&o.onValueChange(P.value)}),y=()=>{l||(o.onOpenChange(!0),g())};return x.createElement(Ome,cn({asChild:!0},s),x.createElement(ai.button,cn({type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":o.value===void 0?"":void 0},i,{ref:u,onClick:kr(i.onClick,b=>{b.currentTarget.focus()}),onPointerDown:kr(i.onPointerDown,b=>{const C=b.target;C.hasPointerCapture(b.pointerId)&&C.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&(y(),o.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)},b.preventDefault())}),onKeyDown:kr(i.onKeyDown,b=>{const C=h.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&p(b.key),!(C&&b.key===" ")&&lge.includes(b.key)&&(y(),b.preventDefault())})})))}),yge="SelectValue",xge=x.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:o,...l}=t,u=fc(yge,n),{onValueNodeHasChildrenChange:d}=u,h=s!==void 0,p=oi(e,u.onValueNodeChange);return cs(()=>{d(h)},[d,h]),x.createElement(ai.span,cn({},l,{ref:p,style:{pointerEvents:"none"}}),u.value===void 0&&o!==void 0?o:s)}),vge=x.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return x.createElement(ai.span,cn({"aria-hidden":!0},i,{ref:e}),r||"")}),wge=t=>x.createElement(Fme,cn({asChild:!0},t)),qu="SelectContent",Sge=x.forwardRef((t,e)=>{const n=fc(qu,t.__scopeSelect),[r,i]=x.useState();if(cs(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?Ua.createPortal(x.createElement(A8,{scope:t.__scopeSelect},x.createElement(pw.Slot,{scope:t.__scopeSelect},x.createElement("div",null,t.children))),s):null}return x.createElement(bge,cn({},t,{ref:e}))}),Eo=10,[A8,hc]=id(qu),bge=x.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:l,sideOffset:u,align:d,alignOffset:h,arrowPadding:p,collisionBoundary:g,collisionPadding:y,sticky:b,hideWhenDetached:C,avoidCollisions:_,...P}=t,E=fc(qu,n),[j,R]=x.useState(null),[I,M]=x.useState(null),A=oi(e,Te=>R(Te)),[$,B]=x.useState(null),[G,X]=x.useState(null),K=mw(n),[W,V]=x.useState(!1),Y=x.useRef(!1);x.useEffect(()=>{if(j)return M_(j)},[j]),yme();const ne=x.useCallback(Te=>{const[Pe,...$e]=K().map(nt=>nt.ref.current),[He]=$e.slice(-1),tt=document.activeElement;for(const nt of Te)if(nt===tt||(nt==null||nt.scrollIntoView({block:"nearest"}),nt===Pe&&I&&(I.scrollTop=0),nt===He&&I&&(I.scrollTop=I.scrollHeight),nt==null||nt.focus(),document.activeElement!==tt))return},[K,I]),ue=x.useCallback(()=>ne([$,j]),[ne,$,j]);x.useEffect(()=>{W&&ue()},[W,ue]);const{onOpenChange:oe,triggerPointerDownPosRef:ie}=E;x.useEffect(()=>{if(j){let Te={x:0,y:0};const Pe=He=>{var tt,nt,Tt,Bt;Te={x:Math.abs(Math.round(He.pageX)-((tt=(nt=ie.current)===null||nt===void 0?void 0:nt.x)!==null&&tt!==void 0?tt:0)),y:Math.abs(Math.round(He.pageY)-((Tt=(Bt=ie.current)===null||Bt===void 0?void 0:Bt.y)!==null&&Tt!==void 0?Tt:0))}},$e=He=>{Te.x<=10&&Te.y<=10?He.preventDefault():j.contains(He.target)||oe(!1),document.removeEventListener("pointermove",Pe),ie.current=null};return ie.current!==null&&(document.addEventListener("pointermove",Pe),document.addEventListener("pointerup",$e,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Pe),document.removeEventListener("pointerup",$e,{capture:!0})}}},[j,oe,ie]),x.useEffect(()=>{const Te=()=>oe(!1);return window.addEventListener("blur",Te),window.addEventListener("resize",Te),()=>{window.removeEventListener("blur",Te),window.removeEventListener("resize",Te)}},[oe]);const[L,F]=D8(Te=>{const Pe=K().filter(tt=>!tt.disabled),$e=Pe.find(tt=>tt.ref.current===document.activeElement),He=L8(Pe,Te,$e);He&&setTimeout(()=>He.ref.current.focus())}),Z=x.useCallback((Te,Pe,$e)=>{const He=!Y.current&&!$e;(E.value!==void 0&&E.value===Pe||He)&&(B(Te),He&&(Y.current=!0))},[E.value]),U=x.useCallback(()=>j==null?void 0:j.focus(),[j]),Ne=x.useCallback((Te,Pe,$e)=>{const He=!Y.current&&!$e;(E.value!==void 0&&E.value===Pe||He)&&X(Te)},[E.value]),De=r==="popper"?tL:Cge,je=De===tL?{side:l,sideOffset:u,align:d,alignOffset:h,arrowPadding:p,collisionBoundary:g,collisionPadding:y,sticky:b,hideWhenDetached:C,avoidCollisions:_}:{};return x.createElement(A8,{scope:n,content:j,viewport:I,onViewportChange:M,itemRefCallback:Z,selectedItem:$,onItemLeave:U,itemTextRefCallback:Ne,focusSelectedItem:ue,selectedItemText:G,position:r,isPositioned:W,searchRef:L},x.createElement(R8,{as:Wg,allowPinchZoom:!0},x.createElement(xme,{asChild:!0,trapped:E.open,onMountAutoFocus:Te=>{Te.preventDefault()},onUnmountAutoFocus:kr(i,Te=>{var Pe;(Pe=E.trigger)===null||Pe===void 0||Pe.focus({preventScroll:!0}),Te.preventDefault()})},x.createElement(pme,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:Te=>Te.preventDefault(),onDismiss:()=>E.onOpenChange(!1)},x.createElement(De,cn({role:"listbox",id:E.contentId,"data-state":E.open?"open":"closed",dir:E.dir,onContextMenu:Te=>Te.preventDefault()},P,je,{onPlaced:()=>V(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",...P.style},onKeyDown:kr(P.onKeyDown,Te=>{const Pe=Te.ctrlKey||Te.altKey||Te.metaKey;if(Te.key==="Tab"&&Te.preventDefault(),!Pe&&Te.key.length===1&&F(Te.key),["ArrowUp","ArrowDown","Home","End"].includes(Te.key)){let He=K().filter(tt=>!tt.disabled).map(tt=>tt.ref.current);if(["ArrowUp","End"].includes(Te.key)&&(He=He.slice().reverse()),["ArrowUp","ArrowDown"].includes(Te.key)){const tt=Te.target,nt=He.indexOf(tt);He=He.slice(nt+1)}setTimeout(()=>ne(He)),Te.preventDefault()}})}))))))}),Cge=x.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=fc(qu,n),o=hc(qu,n),[l,u]=x.useState(null),[d,h]=x.useState(null),p=oi(e,A=>h(A)),g=mw(n),y=x.useRef(!1),b=x.useRef(!0),{viewport:C,selectedItem:_,selectedItemText:P,focusSelectedItem:E}=o,j=x.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&d&&C&&_&&P){const A=s.trigger.getBoundingClientRect(),$=d.getBoundingClientRect(),B=s.valueNode.getBoundingClientRect(),G=P.getBoundingClientRect();if(s.dir!=="rtl"){const tt=G.left-$.left,nt=B.left-tt,Tt=A.left-nt,Bt=A.width+Tt,vn=Math.max(Bt,$.width),Ut=window.innerWidth-Eo,fn=zD(nt,[Eo,Ut-vn]);l.style.minWidth=Bt+"px",l.style.left=fn+"px"}else{const tt=$.right-G.right,nt=window.innerWidth-B.right-tt,Tt=window.innerWidth-A.right-nt,Bt=A.width+Tt,vn=Math.max(Bt,$.width),Ut=window.innerWidth-Eo,fn=zD(nt,[Eo,Ut-vn]);l.style.minWidth=Bt+"px",l.style.right=fn+"px"}const X=g(),K=window.innerHeight-Eo*2,W=C.scrollHeight,V=window.getComputedStyle(d),Y=parseInt(V.borderTopWidth,10),ne=parseInt(V.paddingTop,10),ue=parseInt(V.borderBottomWidth,10),oe=parseInt(V.paddingBottom,10),ie=Y+ne+W+oe+ue,L=Math.min(_.offsetHeight*5,ie),F=window.getComputedStyle(C),Z=parseInt(F.paddingTop,10),U=parseInt(F.paddingBottom,10),Ne=A.top+A.height/2-Eo,De=K-Ne,je=_.offsetHeight/2,Te=_.offsetTop+je,Pe=Y+ne+Te,$e=ie-Pe;if(Pe<=Ne){const tt=_===X[X.length-1].ref.current;l.style.bottom="0px";const nt=d.clientHeight-C.offsetTop-C.offsetHeight,Tt=Math.max(De,je+(tt?U:0)+nt+ue),Bt=Pe+Tt;l.style.height=Bt+"px"}else{const tt=_===X[0].ref.current;l.style.top="0px";const Tt=Math.max(Ne,Y+C.offsetTop+(tt?Z:0)+je)+$e;l.style.height=Tt+"px",C.scrollTop=Pe-Ne+C.offsetTop}l.style.margin=`${Eo}px 0`,l.style.minHeight=L+"px",l.style.maxHeight=K+"px",r==null||r(),requestAnimationFrame(()=>y.current=!0)}},[g,s.trigger,s.valueNode,l,d,C,_,P,s.dir,r]);cs(()=>j(),[j]);const[R,I]=x.useState();cs(()=>{d&&I(window.getComputedStyle(d).zIndex)},[d]);const M=x.useCallback(A=>{A&&b.current===!0&&(j(),E==null||E(),b.current=!1)},[j,E]);return x.createElement(_ge,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:y,onScrollButtonChange:M},x.createElement("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:R}},x.createElement(ai.div,cn({},i,{ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}}))))}),tL=x.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Eo,...s}=t,o=jE(n);return x.createElement($me,cn({},o,s,{ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[_ge,RE]=id(qu,{}),nL="SelectViewport",Tge=x.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=hc(nL,n),s=RE(nL,n),o=oi(e,i.onViewportChange),l=x.useRef(0);return x.createElement(x.Fragment,null,x.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),x.createElement(pw.Slot,{scope:n},x.createElement(ai.div,cn({"data-radix-select-viewport":"",role:"presentation"},r,{ref:o,style:{position:"relative",flex:1,overflow:"auto",...r.style},onScroll:kr(r.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:p}=s;if(p!=null&&p.current&&h){const g=Math.abs(l.current-d.scrollTop);if(g>0){const y=window.innerHeight-Eo*2,b=parseFloat(h.style.minHeight),C=parseFloat(h.style.height),_=Math.max(b,C);if(_<y){const P=_+g,E=Math.min(y,P),j=P-E;h.style.height=E+"px",h.style.bottom==="0px"&&(d.scrollTop=j>0?j:0,h.style.justifyContent="flex-end")}}}l.current=d.scrollTop})}))))}),Ege="SelectGroup",[zTe,Pge]=id(Ege),Nge="SelectLabel",jge=x.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Pge(Nge,n);return x.createElement(ai.div,cn({id:i.id},r,{ref:e}))}),YC="SelectItem",[Rge,k8]=id(YC),Age=x.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...o}=t,l=fc(YC,n),u=hc(YC,n),d=l.value===r,[h,p]=x.useState(s??""),[g,y]=x.useState(!1),b=oi(e,P=>{var E;return(E=u.itemRefCallback)===null||E===void 0?void 0:E.call(u,P,r,i)}),C=x8(),_=()=>{i||(l.onValueChange(r),l.onOpenChange(!1))};return x.createElement(Rge,{scope:n,value:r,disabled:i,textId:C,isSelected:d,onItemTextChange:x.useCallback(P=>{p(E=>{var j;return E||((j=P==null?void 0:P.textContent)!==null&&j!==void 0?j:"").trim()})},[])},x.createElement(pw.ItemSlot,{scope:n,value:r,disabled:i,textValue:h},x.createElement(ai.div,cn({role:"option","aria-labelledby":C,"data-highlighted":g?"":void 0,"aria-selected":d&&g,"data-state":d?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1},o,{ref:b,onFocus:kr(o.onFocus,()=>y(!0)),onBlur:kr(o.onBlur,()=>y(!1)),onPointerUp:kr(o.onPointerUp,_),onPointerMove:kr(o.onPointerMove,P=>{if(i){var E;(E=u.onItemLeave)===null||E===void 0||E.call(u)}else P.currentTarget.focus({preventScroll:!0})}),onPointerLeave:kr(o.onPointerLeave,P=>{if(P.currentTarget===document.activeElement){var E;(E=u.onItemLeave)===null||E===void 0||E.call(u)}}),onKeyDown:kr(o.onKeyDown,P=>{var E;((E=u.searchRef)===null||E===void 0?void 0:E.current)!==""&&P.key===" "||(cge.includes(P.key)&&_(),P.key===" "&&P.preventDefault())})}))))}),rv="SelectItemText",kge=x.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,o=fc(rv,n),l=hc(rv,n),u=k8(rv,n),d=hge(rv,n),[h,p]=x.useState(null),g=oi(e,P=>p(P),u.onItemTextChange,P=>{var E;return(E=l.itemTextRefCallback)===null||E===void 0?void 0:E.call(l,P,u.value,u.disabled)}),y=h==null?void 0:h.textContent,b=x.useMemo(()=>x.createElement("option",{key:u.value,value:u.value,disabled:u.disabled},y),[u.disabled,u.value,y]),{onNativeOptionAdd:C,onNativeOptionRemove:_}=d;return cs(()=>(C(b),()=>_(b)),[C,_,b]),x.createElement(x.Fragment,null,x.createElement(ai.span,cn({id:u.textId},s,{ref:g})),u.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ua.createPortal(s.children,o.valueNode):null)}),Ige="SelectItemIndicator",Mge=x.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return k8(Ige,n).isSelected?x.createElement(ai.span,cn({"aria-hidden":!0},r,{ref:e})):null}),rL="SelectScrollUpButton",Dge=x.forwardRef((t,e)=>{const n=hc(rL,t.__scopeSelect),r=RE(rL,t.__scopeSelect),[i,s]=x.useState(!1),o=oi(e,r.onScrollButtonChange);return cs(()=>{if(n.viewport&&n.isPositioned){let u=function(){const d=l.scrollTop>0;s(d)};const l=n.viewport;return u(),l.addEventListener("scroll",u),()=>l.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),i?x.createElement(I8,cn({},t,{ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=n;l&&u&&(l.scrollTop=l.scrollTop-u.offsetHeight)}})):null}),iL="SelectScrollDownButton",Lge=x.forwardRef((t,e)=>{const n=hc(iL,t.__scopeSelect),r=RE(iL,t.__scopeSelect),[i,s]=x.useState(!1),o=oi(e,r.onScrollButtonChange);return cs(()=>{if(n.viewport&&n.isPositioned){let u=function(){const d=l.scrollHeight-l.clientHeight,h=Math.ceil(l.scrollTop)<d;s(h)};const l=n.viewport;return u(),l.addEventListener("scroll",u),()=>l.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),i?x.createElement(I8,cn({},t,{ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=n;l&&u&&(l.scrollTop=l.scrollTop+u.offsetHeight)}})):null}),I8=x.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=hc("SelectScrollButton",n),o=x.useRef(null),l=mw(n),u=x.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return x.useEffect(()=>()=>u(),[u]),cs(()=>{var d;const h=l().find(p=>p.ref.current===document.activeElement);h==null||(d=h.ref.current)===null||d===void 0||d.scrollIntoView({block:"nearest"})},[l]),x.createElement(ai.div,cn({"aria-hidden":!0},i,{ref:e,style:{flexShrink:0,...i.style},onPointerDown:kr(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:kr(i.onPointerMove,()=>{var d;(d=s.onItemLeave)===null||d===void 0||d.call(s),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:kr(i.onPointerLeave,()=>{u()})}))}),Oge=x.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return x.createElement(ai.div,cn({"aria-hidden":!0},r,{ref:e}))}),M8=x.forwardRef((t,e)=>{const{value:n,...r}=t,i=x.useRef(null),s=oi(e,i),o=Ume(n);return x.useEffect(()=>{const l=i.current,u=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(u,"value").set;if(o!==n&&h){const p=new Event("change",{bubbles:!0});h.call(l,n),l.dispatchEvent(p)}},[o,n]),x.createElement(Yme,{asChild:!0},x.createElement("select",cn({},r,{ref:s,defaultValue:n})))});M8.displayName="BubbleSelect";function D8(t){const e=Oo(t),n=x.useRef(""),r=x.useRef(0),i=x.useCallback(o=>{const l=n.current+o;e(l),function u(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>u(""),1e3))}(l)},[e]),s=x.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function L8(t,e,n){const i=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=$ge(t,Math.max(s,0));i.length===1&&(o=o.filter(d=>d!==n));const u=o.find(d=>d.textValue.toLowerCase().startsWith(i.toLowerCase()));return u!==n?u:void 0}function $ge(t,e){return t.map((n,r)=>t[(e+r)%t.length])}const Fge=pge,O8=gge,Bge=xge,Uge=vge,Vge=wge,$8=Sge,zge=Tge,F8=jge,B8=Age,Wge=kge,qge=Mge,U8=Dge,V8=Lge,z8=Oge,Iu=Fge,Mu=Bge,Hl=re.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(O8,{ref:r,className:gt("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,a.jsx(Uge,{asChild:!0,children:a.jsx(b0,{className:"h-4 w-4 opacity-50"})})]}));Hl.displayName=O8.displayName;const W8=re.forwardRef(({className:t,...e},n)=>a.jsx(U8,{ref:n,className:gt("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(pO,{className:"h-4 w-4"})}));W8.displayName=U8.displayName;const q8=re.forwardRef(({className:t,...e},n)=>a.jsx(V8,{ref:n,className:gt("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(b0,{className:"h-4 w-4"})}));q8.displayName=V8.displayName;const Kl=re.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>a.jsx(Vge,{children:a.jsxs($8,{ref:i,className:gt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[a.jsx(W8,{}),a.jsx(zge,{className:gt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),a.jsx(q8,{})]})}));Kl.displayName=$8.displayName;const Gge=re.forwardRef(({className:t,...e},n)=>a.jsx(F8,{ref:n,className:gt("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));Gge.displayName=F8.displayName;const rr=re.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(B8,{ref:r,className:gt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(qge,{children:a.jsx(S0,{className:"h-4 w-4"})})}),a.jsx(Wge,{children:e})]}));rr.displayName=B8.displayName;const Hge=re.forwardRef(({className:t,...e},n)=>a.jsx(z8,{ref:n,className:gt("-mx-1 my-1 h-px bg-muted",t),...e}));Hge.displayName=z8.displayName;var gw="Checkbox",[Kge,WTe]=ds(gw),[Yge,AE]=Kge(gw);function Jge(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:i,disabled:s,form:o,name:l,onCheckedChange:u,required:d,value:h="on",internal_do_not_use_render:p}=t,[g,y]=rc({prop:n,defaultProp:i??!1,onChange:u,caller:gw}),[b,C]=x.useState(null),[_,P]=x.useState(null),E=x.useRef(!1),j=b?!!o||!!b.closest("form"):!0,R={checked:g,disabled:s,setChecked:y,control:b,setControl:C,name:l,form:o,value:h,hasConsumerStoppedPropagationRef:E,required:d,defaultChecked:Pa(i)?!1:i,isFormControl:j,bubbleInput:_,setBubbleInput:P};return a.jsx(Yge,{scope:e,...R,children:Xge(p)?p(R):r})}var G8="CheckboxTrigger",H8=x.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},i)=>{const{control:s,value:o,disabled:l,checked:u,required:d,setControl:h,setChecked:p,hasConsumerStoppedPropagationRef:g,isFormControl:y,bubbleInput:b}=AE(G8,t),C=yn(i,h),_=x.useRef(u);return x.useEffect(()=>{const P=s==null?void 0:s.form;if(P){const E=()=>p(_.current);return P.addEventListener("reset",E),()=>P.removeEventListener("reset",E)}},[s,p]),a.jsx(Wt.button,{type:"button",role:"checkbox","aria-checked":Pa(u)?"mixed":u,"aria-required":d,"data-state":Q8(u),"data-disabled":l?"":void 0,disabled:l,value:o,...r,ref:C,onKeyDown:ct(e,P=>{P.key==="Enter"&&P.preventDefault()}),onClick:ct(n,P=>{p(E=>Pa(E)?!0:!E),b&&y&&(g.current=P.isPropagationStopped(),g.current||P.stopPropagation())})})});H8.displayName=G8;var kE=x.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:s,required:o,disabled:l,value:u,onCheckedChange:d,form:h,...p}=t;return a.jsx(Jge,{__scopeCheckbox:n,checked:i,defaultChecked:s,disabled:l,required:o,onCheckedChange:d,name:r,form:h,value:u,internal_do_not_use_render:({isFormControl:g})=>a.jsxs(a.Fragment,{children:[a.jsx(H8,{...p,ref:e,__scopeCheckbox:n}),g&&a.jsx(X8,{__scopeCheckbox:n})]})})});kE.displayName=gw;var K8="CheckboxIndicator",Y8=x.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,s=AE(K8,n);return a.jsx(mi,{present:r||Pa(s.checked)||s.checked===!0,children:a.jsx(Wt.span,{"data-state":Q8(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});Y8.displayName=K8;var J8="CheckboxBubbleInput",X8=x.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:s,defaultChecked:o,required:l,disabled:u,name:d,value:h,form:p,bubbleInput:g,setBubbleInput:y}=AE(J8,t),b=yn(n,y),C=rB(s),_=uE(r);x.useEffect(()=>{const E=g;if(!E)return;const j=window.HTMLInputElement.prototype,I=Object.getOwnPropertyDescriptor(j,"checked").set,M=!i.current;if(C!==s&&I){const A=new Event("click",{bubbles:M});E.indeterminate=Pa(s),I.call(E,Pa(s)?!1:s),E.dispatchEvent(A)}},[g,C,s,i]);const P=x.useRef(Pa(s)?!1:s);return a.jsx(Wt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??P.current,required:l,disabled:u,name:d,value:h,form:p,...e,tabIndex:-1,ref:b,style:{...e.style,..._,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});X8.displayName=J8;function Xge(t){return typeof t=="function"}function Pa(t){return t==="indeterminate"}function Q8(t){return Pa(t)?"indeterminate":t?"checked":"unchecked"}const Z8=x.forwardRef(({className:t,...e},n)=>a.jsx(kE,{ref:n,className:gt("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:a.jsx(Y8,{className:gt("flex items-center justify-center text-current"),children:a.jsx(S0,{className:"h-4 w-4"})})}));Z8.displayName=kE.displayName;const Qge=({isOpen:t,onClose:e,collection:n,allProducts:r,onSave:i})=>{const[s,o]=x.useState([]),[l,u]=x.useState("");if(x.useEffect(()=>{n&&n.product_ids?o(n.product_ids):o([])},[n]),!n)return null;const d=p=>{o(g=>g.includes(p)?g.filter(y=>y!==p):[...g,p])},h=()=>{i(n.id??n.name,s),e()};return a.jsx(Zl,{open:t,onOpenChange:e,children:a.jsxs(ka,{className:"sm:max-w-[525px]",children:[a.jsxs(Ia,{children:[a.jsxs(Ma,{children:['Manage Products for "',n.name||"Unnamed Collection",'"']}),a.jsx(Ju,{children:"Select or unselect products to include in this collection. Use the search bar to filter products."})]}),a.jsxs("div",{className:"py-4",children:[a.jsx(ft,{type:"text",placeholder:"Search products...",value:l,onChange:p=>u(p.target.value),className:"mb-4"}),r&&r.length>0?a.jsxs(Oa,{className:"h-[250px] pr-4",children:[" ",a.jsx("div",{className:"space-y-3",children:r.filter(p=>p.name.toLowerCase().includes(l.toLowerCase())).map(p=>a.jsxs("div",{className:"flex items-center space-x-3 p-3 border rounded-md hover:bg-muted/50 transition-colors",children:[a.jsx(Z8,{id:`product-${n.id??n.name}-${p.id??p.name}`,checked:s.includes(p.id??p.name),onCheckedChange:()=>d(p.id??p.name)}),a.jsx(Je,{htmlFor:`product-${n.id??n.name}-${p.id??p.name}`,className:"flex-1 cursor-pointer",children:a.jsxs("div",{className:"flex items-center gap-3",children:[p.imageUrl?a.jsx("img",{src:p.imageUrl,alt:p.name,className:"w-12 h-12 object-cover rounded-sm"}):a.jsx("div",{className:"w-12 h-12 bg-muted rounded-sm flex items-center justify-center text-xs text-muted-foreground",children:"No Img"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:p.name||"Untitled Product"}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["$",p.price||"0.00"]})]})]})})]},p.id??p.name))})]}):a.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No products available to add to this collection. Please add products to your store first."})]}),a.jsxs(Xs,{children:[a.jsx(Mv,{asChild:!0,children:a.jsx(te,{type:"button",variant:"outline",children:"Cancel"})}),a.jsx(te,{type:"button",onClick:h,disabled:!r||r.length===0,children:"Save Changes"})]})]})})},mb=t=>new Promise((e,n)=>{const r=new FileReader;r.readAsDataURL(t),r.onload=()=>e(r.result),r.onerror=i=>n(i)}),sL=[{value:"fashion",label:"Fashion & Apparel"},{value:"electronics",label:"Electronics & Gadgets"},{value:"food",label:"Food & Beverage"},{value:"jewelry",label:"Jewelry & Accessories"},{value:"homedecor",label:"Home Decor & Furnishings"},{value:"beauty",label:"Beauty & Personal Care"},{value:"books",label:"Books & Media"},{value:"sports",label:"Sports & Outdoors"},{value:"toys",label:"Toys & Games"},{value:"general",label:"General Merchandise"}],Zge=(t,e)=>{const{formData:n,setFormData:r,handleInputChange:i,handleProductTypeChange:s,handleProductSourceChange:o,handleProductCountChange:l,handleManualProductChange:u,addManualProduct:d,removeManualProduct:h,suggestStoreName:p,generateLogo:g,generateAiProducts:y,generateAiCollections:b,isProcessing:C,productTypeOptions:_,storeNameSuggestions:P,handleSuggestionClick:E,suggestionError:j}=e,[R,I]=x.useState(!1),[M,A]=x.useState(null),$=(W,V,Y)=>{r(ne=>{const ue=[...ne.collections.items];return ue[W][V]=Y,{...ne,collections:{...ne.collections,items:ue}}})},B=()=>{r(W=>({...W,collections:{...W.collections,items:[...W.collections.items,{name:"",description:"",imageUrl:""}]}}))},G=W=>{r(V=>{const Y=V.collections.items.filter((ne,ue)=>ue!==W);return{...V,collections:{...V.collections,items:Y}}})},X=W=>{A(W),I(!0)},K=(W,V)=>{r(Y=>{const ne=Y.collections.items.map(ue=>ue.id&&ue.id===W||ue.name===W?{...ue,product_ids:V}:ue);return{...Y,collections:{...Y.collections,items:ne}}}),I(!1),A(null)};switch(t){case 1:return a.jsxs(In.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},className:"space-y-4 w-full",children:[a.jsx(Je,{htmlFor:"productType",className:"text-lg font-semibold",children:"What kind of products will your store sell?"}),a.jsx(ft,{id:"productType",name:"productType",value:n.productType,onChange:W=>s(W.target.value),placeholder:"e.g., Fashion, Electronics, Home Decor",list:"productTypeSuggestions"}),a.jsx("datalist",{id:"productTypeSuggestions",children:_.map(W=>a.jsx("option",{value:W.label},W.value))}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"This helps us tailor product suggestions and store design. Type to see suggestions."})]},"step1");case 2:return a.jsxs(In.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},className:"space-y-4 w-full",children:[a.jsx(Je,{htmlFor:"storeName",className:"text-lg font-semibold",children:"What's your store name?"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ft,{id:"storeName",name:"storeName",value:n.storeName,onChange:i,placeholder:"e.g., 'The Cozy Corner Bookstore'"}),a.jsxs(te,{type:"button",variant:"outline",onClick:p,disabled:C||!n.productType,children:[C?a.jsx(sn,{className:"h-4 w-4 animate-spin"}):a.jsx(Tu,{className:"h-4 w-4"}),a.jsx("span",{className:"ml-2 hidden sm:inline",children:"Suggest"})]})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose a catchy name or let us suggest one based on your product type!"}),j&&a.jsx("p",{className:"text-sm text-red-500 mt-2",children:j}),P&&P.length>0&&a.jsxs("div",{className:"mt-3 space-y-2",children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Suggestions:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:P.map((W,V)=>a.jsx(te,{variant:"outline",size:"sm",onClick:()=>E(W),className:"bg-primary-foreground hover:bg-primary/10",children:W},V))})]})]},"step2");case 3:return a.jsxs(In.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},className:"space-y-4 w-full",children:[a.jsx(Je,{className:"text-lg font-semibold",children:"Design a logo for your store"}),a.jsxs("div",{className:"flex flex-col items-center gap-4 p-4 border rounded-md",children:[n.logoUrl?a.jsx("img",{src:n.logoUrl,alt:"Generated logo",className:"w-32 h-32 object-contain rounded-md border"}):a.jsx("div",{className:"w-32 h-32 bg-muted rounded-md flex items-center justify-center text-muted-foreground",children:"Logo Preview"}),a.jsxs(te,{type:"button",onClick:g,disabled:C||!n.storeName,children:[C?a.jsx(sn,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(kg,{className:"mr-2 h-4 w-4"}),"Generate Logo with AI"]}),a.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"AI will generate a logo based on your store name and product type. (Uses Gemini API - Placeholder)"})]}),a.jsxs("div",{className:"flex items-center justify-center w-full gap-2",children:[a.jsxs("div",{className:"flex-grow",children:[a.jsx(Je,{htmlFor:"logoUrl",className:"text-sm",children:"Or paste an image URL:"}),a.jsx(ft,{id:"logoUrl",name:"logoUrl",value:n.logoUrl,onChange:i,placeholder:"https://example.com/logo.png"})]}),a.jsxs("div",{className:"flex-shrink-0",children:[a.jsx(Je,{htmlFor:"logoUpload",className:"text-sm sr-only",children:"Upload Logo"}),a.jsx(ft,{id:"logoUpload",type:"file",accept:"image/*",className:"hidden",onChange:async W=>{if(W.target.files&&W.target.files[0]){const V=W.target.files[0];try{const Y=await mb(V);r(ne=>({...ne,logoUrl:Y}))}catch(Y){console.error("Error converting file to base64:",Y)}}}}),a.jsxs(te,{type:"button",variant:"outline",className:"mt-6",onClick:()=>document.getElementById("logoUpload").click(),children:[a.jsx(hg,{className:"mr-2 h-4 w-4"})," Upload"]})]})]}),n.logoUrl&&a.jsxs(te,{variant:"destructive",size:"sm",onClick:()=>r(W=>({...W,logoUrl:""})),className:"mt-2",children:[a.jsx(Sa,{className:"mr-2 h-4 w-4"})," Remove Logo"]})]},"step3");case 4:return a.jsxs(In.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},className:"space-y-6 w-full",children:[a.jsx(Je,{className:"text-lg font-semibold",children:"How do you want to add products?"}),a.jsxs(Iu,{onValueChange:o,value:n.products.source,children:[a.jsx(Hl,{children:a.jsx(Mu,{placeholder:"Choose product source..."})}),a.jsxs(Kl,{children:[a.jsx(rr,{value:"ai",children:"Generate with AI"}),a.jsx(rr,{value:"manual",children:"Add Manually"}),a.jsx(rr,{value:"csv",disabled:!0,children:"Upload CSV (Coming Soon)"})]})]}),n.products.source==="ai"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(Je,{htmlFor:"productCount",children:"Number of AI Products to Generate"}),a.jsx(ft,{id:"productCount",type:"number",min:"1",max:"5",value:n.products.count,onChange:l})]}),a.jsxs(te,{type:"button",onClick:y,disabled:C||!n.productType||!n.storeName,className:"w-full",children:[C?a.jsx(sn,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(Tu,{className:"mr-2 h-4 w-4"}),"Generate Products with AI"]}),j&&n.products.source==="ai"&&a.jsx("p",{className:"text-sm text-red-500 mt-2",children:j}),n.products.items.length>0&&a.jsxs("div",{className:"space-y-3 max-h-72 overflow-y-auto pr-2 mt-4",children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Generated Products:"}),n.products.items.map((W,V)=>a.jsxs(We,{className:"p-4 flex gap-4 items-start",children:[W.imageUrl?a.jsx("img",{src:W.imageUrl,alt:W.name,className:"w-24 h-24 object-cover rounded-md border"}):a.jsx("div",{className:"w-24 h-24 bg-muted rounded-md flex items-center justify-center text-xs text-muted-foreground",children:"No Image"}),a.jsxs("div",{className:"flex-1 space-y-1",children:[a.jsx("h4",{className:"font-semibold text-md",children:W.name||"Untitled Product"}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["$",W.price||"0.00"]}),a.jsx("p",{className:"text-xs text-gray-600 line-clamp-2",children:W.description||"No description."})]})]},V))]})]}),n.products.source==="manual"&&a.jsxs("div",{className:"space-y-4 max-h-60 overflow-y-auto pr-2",children:[n.products.items.map((W,V)=>a.jsxs(We,{className:"p-4 space-y-3 relative",children:[a.jsx(te,{variant:"ghost",size:"icon",className:"absolute top-1 right-1 h-7 w-7",onClick:()=>h(V),disabled:n.products.items.length<=1,children:a.jsx(Sa,{className:"h-4 w-4 text-destructive"})}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx(Je,{htmlFor:`productName-${V}`,children:"Product Name"}),a.jsx(ft,{id:`productName-${V}`,value:W.name,onChange:Y=>u(V,"name",Y.target.value),placeholder:"e.g., 'Handmade Coffee Mug'"})]}),a.jsxs("div",{children:[a.jsx(Je,{htmlFor:`productPrice-${V}`,children:"Price (USD)"}),a.jsx(ft,{id:`productPrice-${V}`,type:"number",value:W.price,onChange:Y=>u(V,"price",Y.target.value),placeholder:"e.g., '24.99'"})]})]}),a.jsxs("div",{children:[a.jsx(Je,{htmlFor:`productDescription-${V}`,children:"Short Description (Optional)"}),a.jsx(gr,{id:`productDescription-${V}`,value:W.description,onChange:Y=>u(V,"description",Y.target.value),placeholder:"e.g., 'Beautifully crafted ceramic mug, perfect for your morning coffee.'",rows:2})]}),a.jsxs("div",{className:"flex flex-col items-center gap-2 p-2 border rounded-md",children:[W.imageUrl?a.jsx("img",{src:W.imageUrl,alt:W.name||"Product image",className:"w-24 h-24 object-contain rounded-md border"}):a.jsx("div",{className:"w-24 h-24 bg-muted rounded-md flex items-center justify-center text-xs text-muted-foreground",children:"No Image"}),a.jsx(Je,{htmlFor:`productImageUpload-${V}`,className:"text-sm sr-only",children:"Upload Product Image"}),a.jsx(ft,{id:`productImageUpload-${V}`,type:"file",accept:"image/*",className:"hidden",onChange:async Y=>{if(Y.target.files&&Y.target.files[0]){const ne=Y.target.files[0];try{const ue=await mb(ne);u(V,"imageUrl",ue)}catch(ue){console.error("Error converting file to base64:",ue)}}}}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(te,{type:"button",variant:"outline",size:"sm",onClick:()=>document.getElementById(`productImageUpload-${V}`).click(),children:[a.jsx(hg,{className:"mr-2 h-4 w-4"})," Upload Image"]}),W.imageUrl&&a.jsxs(te,{variant:"destructive",size:"sm",onClick:()=>u(V,"imageUrl",""),children:[a.jsx(Sa,{className:"mr-2 h-4 w-4"})," Remove"]})]})]})]},V)),a.jsxs(te,{type:"button",variant:"outline",onClick:d,className:"w-full",children:[a.jsx(Zb,{className:"mr-2 h-4 w-4"})," Add Another Product"]})]})]},"step4");case 5:return a.jsxs(In.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},className:"space-y-6 w-full",children:[a.jsx(Je,{className:"text-lg font-semibold",children:"How do you want to add collections?"}),a.jsxs(Iu,{onValueChange:W=>r(V=>({...V,collections:{...V.collections,source:W}})),value:n.collections.source,children:[a.jsx(Hl,{children:a.jsx(Mu,{placeholder:"Choose collection source..."})}),a.jsxs(Kl,{children:[a.jsx(rr,{value:"ai",children:"Generate with AI"}),a.jsx(rr,{value:"manual",children:"Add Manually"})]})]}),n.collections.source==="ai"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(Je,{htmlFor:"collectionCount",children:"Number of AI Collections to Generate"}),a.jsx(ft,{id:"collectionCount",type:"number",min:"1",max:"5",value:n.collections.count,onChange:W=>r(V=>({...V,collections:{...V.collections,count:parseInt(W.target.value)||1}}))})]}),a.jsxs(te,{type:"button",onClick:b,disabled:C||!n.productType||!n.storeName||n.products.items.length===0,className:"w-full",children:[C?a.jsx(sn,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(Tu,{className:"mr-2 h-4 w-4"}),"Generate Collections with AI"]}),j&&n.collections.source==="ai"&&a.jsx("p",{className:"text-sm text-red-500 mt-2",children:j}),n.collections.items.length>0&&a.jsxs("div",{className:"space-y-3 max-h-72 overflow-y-auto pr-2 mt-4",children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Generated Collections:"}),n.collections.items.map((W,V)=>a.jsxs(We,{className:"p-4 flex gap-4 items-start",children:[W.imageUrl?a.jsx("img",{src:W.imageUrl,alt:W.name,className:"w-24 h-24 object-cover rounded-md border"}):a.jsx("div",{className:"w-24 h-24 bg-muted rounded-md flex items-center justify-center text-xs text-muted-foreground",children:"No Image"}),a.jsxs("div",{className:"flex-1 space-y-1",children:[a.jsx("h4",{className:"font-semibold text-md",children:W.name||"Untitled Collection"}),a.jsx("p",{className:"text-xs text-gray-600 line-clamp-2",children:W.description||"No description."})]}),a.jsx("div",{className:"flex flex-col gap-1",children:a.jsx(te,{variant:"outline",size:"sm",className:"text-xs h-auto py-1 mt-2",onClick:()=>X(W),children:"Manage Products"})})]},V))]}),M&&a.jsx(Qge,{isOpen:R,onClose:()=>{I(!1),A(null)},collection:M,allProducts:n.products.items,onSave:K})]}),n.collections.source==="manual"&&a.jsxs("div",{className:"space-y-4 max-h-60 overflow-y-auto pr-2",children:[n.collections.items.map((W,V)=>a.jsxs(We,{className:"p-4 space-y-3 relative",children:[a.jsx(te,{variant:"ghost",size:"icon",className:"absolute top-1 right-1 h-7 w-7",onClick:()=>G(V),disabled:n.collections.items.length<=1,children:a.jsx(Sa,{className:"h-4 w-4 text-destructive"})}),a.jsx("div",{className:"grid grid-cols-2 gap-3",children:a.jsxs("div",{children:[a.jsx(Je,{htmlFor:`collectionName-${V}`,children:"Collection Name"}),a.jsx(ft,{id:`collectionName-${V}`,value:W.name,onChange:Y=>$(V,"name",Y.target.value),placeholder:"e.g., 'Summer Collection'"})]})}),a.jsxs("div",{children:[a.jsx(Je,{htmlFor:`collectionDescription-${V}`,children:"Short Description (Optional)"}),a.jsx(gr,{id:`collectionDescription-${V}`,value:W.description,onChange:Y=>$(V,"description",Y.target.value),placeholder:"e.g., 'A curated selection of products perfect for the summer season.'",rows:2})]}),a.jsxs("div",{className:"flex flex-col items-center gap-2 p-2 border rounded-md",children:[W.imageUrl?a.jsx("img",{src:W.imageUrl,alt:W.name||"Collection image",className:"w-24 h-24 object-contain rounded-md border"}):a.jsx("div",{className:"w-24 h-24 bg-muted rounded-md flex items-center justify-center text-xs text-muted-foreground",children:"No Image"}),a.jsx(Je,{htmlFor:`collectionImageUpload-${V}`,className:"text-sm sr-only",children:"Upload Collection Image"}),a.jsx(ft,{id:`collectionImageUpload-${V}`,type:"file",accept:"image/*",className:"hidden",onChange:async Y=>{if(Y.target.files&&Y.target.files[0]){const ne=Y.target.files[0];try{const ue=await mb(ne);$(V,"imageUrl",ue)}catch(ue){console.error("Error converting file to base64:",ue)}}}}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(te,{type:"button",variant:"outline",size:"sm",onClick:()=>document.getElementById(`collectionImageUpload-${V}`).click(),children:[a.jsx(hg,{className:"mr-2 h-4 w-4"})," Upload Image"]}),W.imageUrl&&a.jsxs(te,{variant:"destructive",size:"sm",onClick:()=>$(V,"imageUrl",""),children:[a.jsx(Sa,{className:"mr-2 h-4 w-4"})," Remove"]})]})]})]},V)),a.jsxs(te,{type:"button",variant:"outline",onClick:B,className:"w-full",children:[a.jsx(Zb,{className:"mr-2 h-4 w-4"})," Add Another Collection"]})]})]},"step5");case 6:return a.jsxs(In.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},className:"space-y-4 w-full",children:[a.jsx(Je,{htmlFor:"prompt",className:"text-lg font-semibold",children:"Describe your store's overall style and feel"}),a.jsx(gr,{id:"prompt",name:"prompt",value:n.prompt,onChange:i,placeholder:"e.g., 'A minimalist and modern design with a focus on high-quality product imagery. Use a cool color palette.' OR 'A vibrant and playful store with bold colors and fun animations.'",className:"min-h-[100px]"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"This will influence the theme, layout, and imagery. Your store name, logo, and products are already included."})]},"step6");default:return null}},eye=(t,e)=>!!(t===1&&!e.productType||t===2&&!e.storeName||t===4&&(e.products.source==="manual"&&e.products.items.some(n=>!n.name||!n.price)||e.products.source==="ai"&&e.products.items.length===0&&e.products.count>0)||t===5&&(e.collections.source==="ai"&&e.collections.items.length===0&&e.collections.count>0||e.collections.source==="manual"&&e.collections.items.some(n=>!n.name))||t===6&&!e.prompt),tye=()=>{const[t,e]=x.useState(1),[n,r]=x.useState([]),[i,s]=x.useState({productType:"",storeName:"",logoUrl:"",products:{source:"ai",count:3,items:[]},collections:{source:"ai",count:3,items:[]},prompt:""}),[o,l]=x.useState(!1),[u,d]=x.useState(null),{generateStoreFromWizard:h,isGenerating:p}=Zn(),g=K=>{const{name:W,value:V}=K.target;s(Y=>({...Y,[W]:V}))},y=K=>{s(W=>({...W,productType:K}))},b=K=>{s(W=>({...W,products:{...W.products,source:K}}))},C=K=>{s(W=>({...W,products:{...W.products,count:parseInt(K.target.value)||1}}))},_=(K,W,V)=>{const Y=[...i.products.items];Y[K][W]=V,s(ne=>({...ne,products:{...ne.products,items:Y}}))},P=()=>{s(K=>({...K,products:{...K.products,items:[...K.products.items,{name:"",price:"",description:"",imageUrl:""}]}}))},E=K=>{const W=i.products.items.filter((V,Y)=>Y!==K);s(V=>({...V,products:{...V.products,items:W}}))},j=async()=>{var K;if(!i.productType){d("Please select a product type first.");return}l(!0),r([]),d(null);try{const W=((K=sL.find(Y=>Y.value===i.productType))==null?void 0:K.label)||i.productType,V=await r$(W);V.error?(console.error("Failed to suggest store names:",V.error),d(V.error),r([])):V.suggestions&&V.suggestions.length>0?r(V.suggestions):(d("No suggestions received, or response was empty."),r([]))}catch(W){console.error("Error in suggestStoreNameHandler:",W),d(`An unexpected error occurred: ${W.message}`),r([])}l(!1)},R=K=>{s(W=>({...W,storeName:K})),r([])},I=async()=>{if(!i.storeName){console.warn("Store name is required to generate a logo."),d("Please ensure a store name is set before generating a logo.");return}l(!0),d(null);try{const K=await j0(i.storeName);if(K&&K.imageData){const W=`data:image/png;base64,${K.imageData}`;s(V=>({...V,logoUrl:W})),console.log("Logo generated and URL set:",W.substring(0,50)+"..."),K.textResponse&&console.log("Gemini text response for logo:",K.textResponse)}else console.error("Failed to generate logo: No image data received."),d("Failed to generate logo. The AI did not return an image.")}catch(K){console.error("Failed to generate logo:",K),d(`Logo generation failed: ${K.message}`)}l(!1)},M=async()=>{if(!i.productType||!i.storeName){d("Please provide a product type and store name before generating AI products.");return}l(!0),d(null);const K=[];try{let W=null,V="image/png";if(i.logoUrl&&i.logoUrl.startsWith("data:")){const Y=i.logoUrl.split(",");if(Y.length===2){const ne=Y[0];W=Y[1];const ue=ne.match(/:(.*?);/);ue&&ue[1]&&(V=ue[1]),console.log(`[StoreWizard] Using logo for product generation. MimeType: ${V}`)}else console.warn("[StoreWizard] formData.logoUrl is not a valid data URL format.")}for(let Y=0;Y<i.products.count;Y++){console.log(`Generating AI product ${Y+1} of ${i.products.count}...`);const ne=await eB(i.productType,i.storeName,W,V);ne&&ne.imageData?K.push({name:ne.title,description:ne.description,price:ne.price,imageUrl:`data:image/png;base64,${ne.imageData}`}):console.warn(`Failed to generate full data for product ${Y+1}. Skipping.`)}s(Y=>({...Y,products:{...Y.products,items:K}})),K.length===0&&i.products.count>0&&d("AI failed to generate any products. Please try again or adjust settings.")}catch(W){console.error("Error generating AI products:",W),d(`Failed to generate AI products: ${W.message}`)}l(!1)},A=async()=>{if(!i.productType||!i.storeName||i.products.items.length===0){d("Please ensure product type, store name, and at least one product are set before generating AI collections.");return}l(!0),d(null);const K=[],W=i.collections.items.map(V=>V.name);try{for(let V=0;V<i.collections.count;V++){console.log(`Generating AI collection ${V+1} of ${i.collections.count}...`);const Y=await tB(i.productType,i.storeName,i.products.items,W);if(Y&&!Y.error&&Y.name&&Y.description&&Y.product_ids){let ne=`https://via.placeholder.com/400x200.png?text=${encodeURIComponent(Y.name||"Collection")}`;Y.imageData&&(ne=`data:image/png;base64,${Y.imageData}`),K.push({name:Y.name,description:Y.description,imageUrl:ne,product_ids:Y.product_ids}),Y.name&&W.push(Y.name)}else console.warn(`Failed to generate full data for collection ${V+1}. Skipping.`)}s(V=>({...V,collections:{...V.collections,items:K}})),K.length===0&&i.collections.count>0&&d("AI failed to generate any collections. Please try again or adjust settings.")}catch(V){console.error("Error generating AI collections:",V),d(`Failed to generate AI collections: ${V.message}`)}l(!1)},$=()=>e(K=>K+1),B=()=>e(K=>K-1),G=async()=>{await h(i)},X={formData:i,setFormData:s,handleInputChange:g,handleProductTypeChange:y,handleProductSourceChange:b,handleProductCountChange:C,handleManualProductChange:_,addManualProduct:P,removeManualProduct:E,suggestStoreName:j,generateLogo:I,generateAiProducts:M,generateAiCollections:A,isProcessing:o,productTypeOptions:sL,storeNameSuggestions:n,handleSuggestionClick:R,suggestionError:u};return a.jsxs(We,{className:"w-full max-w-2xl mx-auto shadow-xl",children:[a.jsxs(Xe,{children:[a.jsx(Qe,{className:"text-2xl font-bold",children:"Store Creation Wizard"}),a.jsxs(Dt,{children:["Step ",t," of 6: Let's build your online store together!"]}),a.jsx("div",{className:"w-full bg-muted rounded-full h-2.5 mt-2",children:a.jsx(In.div,{className:"bg-primary h-2.5 rounded-full",initial:{width:"0%"},animate:{width:`${t/6*100}%`},transition:{duration:.5,ease:"easeInOut"}})})]}),a.jsx(Ke,{className:"min-h-[250px] flex items-center",children:a.jsx(Wv,{mode:"wait",children:Zge(t,X)})}),a.jsxs(el,{className:"flex justify-between",children:[a.jsxs(te,{variant:"outline",onClick:B,disabled:t===1||p,children:[a.jsx(Aa,{className:"mr-2 h-4 w-4"})," Previous"]}),t<6?a.jsxs(te,{onClick:$,disabled:eye(t,i)||p,children:["Next ",a.jsx(Jb,{className:"ml-2 h-4 w-4"})]}):a.jsxs(te,{onClick:G,disabled:p||!i.prompt,children:[p?a.jsx(sn,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(kg,{className:"mr-2 h-4 w-4"}),"Generate Store"]})]})]})},nye=()=>{const[t,e]=x.useState(!1),[n,r]=x.useState(!1),[i,s]=x.useState(null),[o,l]=x.useState("ai-prompt"),{user:u,session:d,subscriptionStatus:h,loadingProfile:p}=Is(),[g,y]=x.useState(!1),[b,C]=x.useState(!1),[_,P]=x.useState(null),E=()=>{e(!0)},j=()=>{e(!1)},R=M=>{s(M),e(!1),r(!0)},I=()=>{r(!1),s(null)};return x.useEffect(()=>{let M,A;return M=setInterval(()=>{y(!0),A=setTimeout(()=>{y(!1)},2500)},5e3),()=>{clearInterval(M),clearTimeout(A)}},[]),a.jsxs("div",{className:"min-h-screen flex flex-col",children:[a.jsx(PE,{}),a.jsxs(In.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"flex-1 container mx-auto px-4 py-8",children:[a.jsxs(In.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-10",children:[a.jsx("h1",{className:`text-4xl md:text-5xl font-bold mb-4 bg-clip-text text-transparent bg-gradient-to-r from-gray-500 to-slate-300 dark:from-slate-500 dark:to-gray-500 ${g?"animate-shimmer bg-200%":"bg-auto"}`,children:"Create a Fresh Store"}),a.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",children:"You can create a store 3 ways: Prompt, Steps or Import."})]}),a.jsxs(ks,{value:o,onValueChange:l,className:"w-full max-w-3xl mx-auto mb-12",children:[a.jsxs(fs,{className:"grid w-full grid-cols-2 md:grid-cols-3 mb-6",children:[a.jsx(Yt,{value:"ai-prompt",children:"AI Prompt"}),a.jsx(Yt,{value:"wizard",children:"Step-by-Step Wizard"}),a.jsx(Yt,{value:"store-import",className:"hidden md:inline-flex",onClick:E,children:"Import Store"})]}),a.jsx(Jt,{value:"ai-prompt",children:a.jsx(Npe,{})}),a.jsx(Jt,{value:"wizard",children:a.jsx(tye,{})}),a.jsx(Jt,{value:"store-import",children:a.jsxs("div",{className:"text-center p-8 border rounded-lg bg-card",children:[a.jsx("p",{className:"text-muted-foreground mb-4",children:"Import data from Shopify or BigCommerce."}),a.jsxs(te,{onClick:E,variant:"default",size:"lg",children:[a.jsx(qj,{className:"mr-2 h-5 w-5"}),"Select Import Source"]})]})})]}),a.jsxs("div",{className:"mb-8 flex justify-center md:hidden",children:[" ",a.jsxs(te,{onClick:E,variant:"outline",size:"lg",className:"w-full max-w-xs",children:[a.jsx(qj,{className:"mr-2 h-5 w-5"}),"Import Store Data"]})]}),a.jsx(qpe,{})]}),a.jsx("footer",{className:"mt-auto py-6 text-center text-sm text-muted-foreground",children:a.jsxs("p",{children:[" ",new Date().getFullYear()," StoreGen AI. All rights reserved."]})}),t&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsx(Zpe,{onSelectSource:R,onClose:j})}),i&&a.jsx(Qpe,{isOpen:n,onClose:I,initialImportSource:i})]})},rye=()=>{const{user:t}=Is();return a.jsxs("div",{className:"min-h-screen flex flex-col",children:[a.jsx(PE,{}),a.jsxs("main",{className:"flex-1 container mx-auto px-4 py-8",children:[a.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Admin Dashboard"}),a.jsxs("p",{className:"mb-4",children:["Welcome, ",(t==null?void 0:t.email)||"Admin","!"]}),a.jsxs("div",{className:"bg-card p-6 rounded-lg shadow",children:[a.jsx("h2",{className:"text-xl font-semibold mb-3",children:"Admin-Specific Content"}),a.jsx("p",{children:"This area is restricted to administrators. Here you can manage users, view all stores, access Stripe data, etc."}),a.jsx("div",{className:"mt-4 p-4 border border-dashed rounded",children:"Admin tools and data will be displayed here."})]})]}),a.jsx("footer",{className:"mt-auto py-6 text-center text-sm text-muted-foreground",children:a.jsxs("p",{children:[" ",new Date().getFullYear()," StoreGen AI - Admin Panel"]})})]})},iye=({store:t,onEdit:e})=>{const n=Rs(),{toast:r}=Bo(),{viewMode:i,setViewMode:s,updateStoreTemplateVersion:o,currentStore:l}=Zn(),u=()=>{navigator.clipboard.writeText(`${window.location.origin}/store/${t.id}`),r({title:"Link Copied",description:"Store link has been copied to clipboard."})},d=()=>{const g=i==="edit"?"published":"edit";s(g),r({title:`Switched to ${g==="published"?"Consumer View":"Admin View"}`,description:`Store is now in ${g==="published"?"consumer":"admin editing"} mode.`})},h=g=>{t&&t.id&&g&&o(t.id,g)},p=()=>{i!=="edit"&&s("edit"),e()};return a.jsx(In.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"fixed bottom-0 left-0 right-0 bg-background/80 backdrop-blur-md border-t z-50 py-3",children:a.jsxs("div",{className:"container mx-auto px-4 flex items-center justify-between",children:[a.jsxs(te,{variant:"outline",size:"sm",onClick:()=>n("/"),children:[a.jsx(Aa,{className:"mr-2 h-4 w-4"}),"Back"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[i==="edit"&&a.jsxs(a.Fragment,{children:[a.jsxs(te,{variant:"outline",size:"sm",onClick:u,children:[a.jsx(mO,{className:"mr-2 h-4 w-4"}),"Copy Link"]}),a.jsx(te,{asChild:!0,variant:"outline",size:"sm",children:a.jsx(Ni,{to:`/store/${t.id}/dashboard`,children:"Dashboard"})}),a.jsx(te,{asChild:!0,size:"sm",variant:"outline",children:a.jsxs(Ni,{to:`/store/${t.id}/content-creation`,children:[a.jsx(Tu,{className:"mr-2 h-4 w-4"}),"Create"]})}),a.jsxs(Iu,{value:(l==null?void 0:l.template_version)||"v1",onValueChange:h,children:[a.jsxs(Hl,{className:"w-[180px] h-9 text-sm",children:[a.jsx(HX,{className:"mr-2 h-4 w-4"}),a.jsx(Mu,{placeholder:"Select Template"})]}),a.jsxs(Kl,{children:[a.jsx(rr,{value:"v1",children:"Classic Template"}),a.jsx(rr,{value:"v2",children:"Modern Template"})]})]}),a.jsxs(te,{size:"sm",onClick:p,children:[a.jsx(Rv,{className:"mr-2 h-4 w-4"}),"Edit Store"]})]}),a.jsx(te,{size:"sm",onClick:d,variant:"outline",className:i==="edit"?"text-green-600 border-green-600 hover:bg-green-50 hover:text-green-700":"text-blue-600 border-blue-600 hover:bg-blue-50 hover:text-blue-700",children:i==="edit"?a.jsxs(a.Fragment,{children:[a.jsx(IX,{className:"mr-2 h-4 w-4"})," View as Consumer"]}):a.jsxs(a.Fragment,{children:[a.jsx(kX,{className:"mr-2 h-4 w-4"})," View as Admin"]})})]})]})})},sye=({store:t,open:e,onOpenChange:n})=>{var p;Rs();const{updateStore:r,isLoadingStores:i}=Zn(),[s,o]=x.useState({name:t.name,description:t.description,type:t.type,theme:{primaryColor:t.theme.primaryColor,secondaryColor:t.theme.secondaryColor,fontFamily:t.theme.fontFamily,layout:t.theme.layout},settings:{showThemeToggle:((p=t.settings)==null?void 0:p.showThemeToggle)??!0}}),l=g=>{const{name:y,value:b}=g.target;o(C=>({...C,[y]:b}))},u=(g,y)=>{o(b=>({...b,theme:{...b.theme,[g]:y}}))},d=(g,y)=>{o(b=>({...b,settings:{...b.settings,[g]:y}}))},h=g=>{g.preventDefault();const y={name:s.name,description:s.description,type:s.type,theme:s.theme,settings:s.settings};r(t.id,y),n(!1)};return a.jsx(Zl,{open:e,onOpenChange:n,children:a.jsxs(ka,{className:"sm:max-w-[600px]",children:[a.jsxs(Ia,{children:[a.jsx(Ma,{children:"Edit Store"}),a.jsx(Ju,{children:"Customize your store's details and appearance."})]}),a.jsxs("form",{onSubmit:h,className:"space-y-6 py-4",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{htmlFor:"name",children:"Store Name"}),a.jsx(ft,{id:"name",name:"name",value:s.name,onChange:l,required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{htmlFor:"description",children:"Description"}),a.jsx(gr,{id:"description",name:"description",value:s.description,onChange:l,rows:3})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{htmlFor:"type",children:"Store Type"}),a.jsxs(Iu,{value:s.type,onValueChange:g=>o(y=>({...y,type:g})),children:[a.jsx(Hl,{id:"type",children:a.jsx(Mu,{placeholder:"Select store type"})}),a.jsxs(Kl,{children:[a.jsx(rr,{value:"fashion",children:"Fashion"}),a.jsx(rr,{value:"electronics",children:"Electronics"}),a.jsx(rr,{value:"food",children:"Food"}),a.jsx(rr,{value:"jewelry",children:"Jewelry"}),a.jsx(rr,{value:"general",children:"General"})]})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-sm font-medium",children:"Theme Settings"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{htmlFor:"primaryColor",children:"Primary Color"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ft,{id:"primaryColor",name:"primaryColor",type:"color",value:s.theme.primaryColor,onChange:g=>u("primaryColor",g.target.value),className:"w-12 h-10 p-1"}),a.jsx(ft,{value:s.theme.primaryColor,onChange:g=>u("primaryColor",g.target.value),className:"flex-1"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{htmlFor:"secondaryColor",children:"Secondary Color"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ft,{id:"secondaryColor",name:"secondaryColor",type:"color",value:s.theme.secondaryColor,onChange:g=>u("secondaryColor",g.target.value),className:"w-12 h-10 p-1"}),a.jsx(ft,{value:s.theme.secondaryColor,onChange:g=>u("secondaryColor",g.target.value),className:"flex-1"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{htmlFor:"fontFamily",children:"Font Family"}),a.jsxs(Iu,{value:s.theme.fontFamily,onValueChange:g=>u("fontFamily",g),children:[a.jsx(Hl,{id:"fontFamily",children:a.jsx(Mu,{placeholder:"Select font"})}),a.jsxs(Kl,{children:[a.jsx(rr,{value:"Inter",children:"Inter"}),a.jsx(rr,{value:"Roboto",children:"Roboto"}),a.jsx(rr,{value:"Poppins",children:"Poppins"}),a.jsx(rr,{value:"Montserrat",children:"Montserrat"}),a.jsx(rr,{value:"Open Sans",children:"Open Sans"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{htmlFor:"layout",children:"Layout Style"}),a.jsxs(Iu,{value:s.theme.layout,onValueChange:g=>u("layout",g),children:[a.jsx(Hl,{id:"layout",children:a.jsx(Mu,{placeholder:"Select layout"})}),a.jsxs(Kl,{children:[a.jsx(rr,{value:"grid",children:"Grid"}),a.jsx(rr,{value:"list",children:"List"}),a.jsx(rr,{value:"masonry",children:"Masonry"}),a.jsx(rr,{value:"carousel",children:"Carousel"})]})]})]}),a.jsxs("div",{className:"space-y-2 sm:col-span-2",children:[a.jsx(Je,{htmlFor:"showThemeToggle",className:"flex items-center",children:"Show Light/Dark Mode Toggle in Store Header"}),a.jsx(No,{id:"showThemeToggle",checked:s.settings.showThemeToggle,onCheckedChange:g=>d("showThemeToggle",g),disabled:i}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Allows customers to switch between light and dark themes on your store page."})]})]})]})]}),a.jsx(Xs,{children:a.jsx(te,{type:"submit",disabled:i,children:"Save Changes"})})]})]})})};function oye(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const aye=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,lye=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,cye={};function oL(t,e){return(cye.jsx?lye:aye).test(t)}const uye=/[ \t\n\f\r]/g;function dye(t){return typeof t=="object"?t.type==="text"?aL(t.value):!1:aL(t)}function aL(t){return t.replace(uye,"")===""}class yy{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}yy.prototype.normal={};yy.prototype.property={};yy.prototype.space=void 0;function e9(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new yy(n,r,e)}function JC(t){return t.toLowerCase()}class Mi{constructor(e,n){this.attribute=n,this.property=e}}Mi.prototype.attribute="";Mi.prototype.booleanish=!1;Mi.prototype.boolean=!1;Mi.prototype.commaOrSpaceSeparated=!1;Mi.prototype.commaSeparated=!1;Mi.prototype.defined=!1;Mi.prototype.mustUseProperty=!1;Mi.prototype.number=!1;Mi.prototype.overloadedBoolean=!1;Mi.prototype.property="";Mi.prototype.spaceSeparated=!1;Mi.prototype.space=void 0;let fye=0;const Ht=pc(),pr=pc(),XC=pc(),Fe=pc(),kn=pc(),Du=pc(),Ui=pc();function pc(){return 2**++fye}const QC=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ht,booleanish:pr,commaOrSpaceSeparated:Ui,commaSeparated:Du,number:Fe,overloadedBoolean:XC,spaceSeparated:kn},Symbol.toStringTag,{value:"Module"})),gb=Object.keys(QC);class IE extends Mi{constructor(e,n,r,i){let s=-1;if(super(e,n),lL(this,"space",i),typeof r=="number")for(;++s<gb.length;){const o=gb[s];lL(this,gb[s],(r&QC[o])===QC[o])}}}IE.prototype.defined=!0;function lL(t,e,n){n&&(t[e]=n)}function sd(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const s=new IE(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),e[r]=s,n[JC(r)]=r,n[JC(s.attribute)]=r}return new yy(e,n,t.space)}const t9=sd({properties:{ariaActiveDescendant:null,ariaAtomic:pr,ariaAutoComplete:null,ariaBusy:pr,ariaChecked:pr,ariaColCount:Fe,ariaColIndex:Fe,ariaColSpan:Fe,ariaControls:kn,ariaCurrent:null,ariaDescribedBy:kn,ariaDetails:null,ariaDisabled:pr,ariaDropEffect:kn,ariaErrorMessage:null,ariaExpanded:pr,ariaFlowTo:kn,ariaGrabbed:pr,ariaHasPopup:null,ariaHidden:pr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:kn,ariaLevel:Fe,ariaLive:null,ariaModal:pr,ariaMultiLine:pr,ariaMultiSelectable:pr,ariaOrientation:null,ariaOwns:kn,ariaPlaceholder:null,ariaPosInSet:Fe,ariaPressed:pr,ariaReadOnly:pr,ariaRelevant:null,ariaRequired:pr,ariaRoleDescription:kn,ariaRowCount:Fe,ariaRowIndex:Fe,ariaRowSpan:Fe,ariaSelected:pr,ariaSetSize:Fe,ariaSort:null,ariaValueMax:Fe,ariaValueMin:Fe,ariaValueNow:Fe,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function n9(t,e){return e in t?t[e]:e}function r9(t,e){return n9(t,e.toLowerCase())}const hye=sd({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Du,acceptCharset:kn,accessKey:kn,action:null,allow:null,allowFullScreen:Ht,allowPaymentRequest:Ht,allowUserMedia:Ht,alt:null,as:null,async:Ht,autoCapitalize:null,autoComplete:kn,autoFocus:Ht,autoPlay:Ht,blocking:kn,capture:null,charSet:null,checked:Ht,cite:null,className:kn,cols:Fe,colSpan:null,content:null,contentEditable:pr,controls:Ht,controlsList:kn,coords:Fe|Du,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ht,defer:Ht,dir:null,dirName:null,disabled:Ht,download:XC,draggable:pr,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ht,formTarget:null,headers:kn,height:Fe,hidden:XC,high:Fe,href:null,hrefLang:null,htmlFor:kn,httpEquiv:kn,id:null,imageSizes:null,imageSrcSet:null,inert:Ht,inputMode:null,integrity:null,is:null,isMap:Ht,itemId:null,itemProp:kn,itemRef:kn,itemScope:Ht,itemType:kn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ht,low:Fe,manifest:null,max:null,maxLength:Fe,media:null,method:null,min:null,minLength:Fe,multiple:Ht,muted:Ht,name:null,nonce:null,noModule:Ht,noValidate:Ht,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ht,optimum:Fe,pattern:null,ping:kn,placeholder:null,playsInline:Ht,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ht,referrerPolicy:null,rel:kn,required:Ht,reversed:Ht,rows:Fe,rowSpan:Fe,sandbox:kn,scope:null,scoped:Ht,seamless:Ht,selected:Ht,shadowRootClonable:Ht,shadowRootDelegatesFocus:Ht,shadowRootMode:null,shape:null,size:Fe,sizes:null,slot:null,span:Fe,spellCheck:pr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Fe,step:null,style:null,tabIndex:Fe,target:null,title:null,translate:null,type:null,typeMustMatch:Ht,useMap:null,value:pr,width:Fe,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:kn,axis:null,background:null,bgColor:null,border:Fe,borderColor:null,bottomMargin:Fe,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ht,declare:Ht,event:null,face:null,frame:null,frameBorder:null,hSpace:Fe,leftMargin:Fe,link:null,longDesc:null,lowSrc:null,marginHeight:Fe,marginWidth:Fe,noResize:Ht,noHref:Ht,noShade:Ht,noWrap:Ht,object:null,profile:null,prompt:null,rev:null,rightMargin:Fe,rules:null,scheme:null,scrolling:pr,standby:null,summary:null,text:null,topMargin:Fe,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Fe,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ht,disableRemotePlayback:Ht,prefix:null,property:null,results:Fe,security:null,unselectable:null},space:"html",transform:r9}),pye=sd({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Ui,accentHeight:Fe,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Fe,amplitude:Fe,arabicForm:null,ascent:Fe,attributeName:null,attributeType:null,azimuth:Fe,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Fe,by:null,calcMode:null,capHeight:Fe,className:kn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Fe,diffuseConstant:Fe,direction:null,display:null,dur:null,divisor:Fe,dominantBaseline:null,download:Ht,dx:null,dy:null,edgeMode:null,editable:null,elevation:Fe,enableBackground:null,end:null,event:null,exponent:Fe,externalResourcesRequired:null,fill:null,fillOpacity:Fe,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Du,g2:Du,glyphName:Du,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Fe,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Fe,horizOriginX:Fe,horizOriginY:Fe,id:null,ideographic:Fe,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Fe,k:Fe,k1:Fe,k2:Fe,k3:Fe,k4:Fe,kernelMatrix:Ui,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Fe,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Fe,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Fe,overlineThickness:Fe,paintOrder:null,panose1:null,path:null,pathLength:Fe,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:kn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Fe,pointsAtY:Fe,pointsAtZ:Fe,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Ui,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Ui,rev:Ui,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Ui,requiredFeatures:Ui,requiredFonts:Ui,requiredFormats:Ui,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Fe,specularExponent:Fe,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Fe,strikethroughThickness:Fe,string:null,stroke:null,strokeDashArray:Ui,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Fe,strokeOpacity:Fe,strokeWidth:null,style:null,surfaceScale:Fe,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Ui,tabIndex:Fe,tableValues:null,target:null,targetX:Fe,targetY:Fe,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Ui,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Fe,underlineThickness:Fe,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Fe,values:null,vAlphabetic:Fe,vMathematical:Fe,vectorEffect:null,vHanging:Fe,vIdeographic:Fe,version:null,vertAdvY:Fe,vertOriginX:Fe,vertOriginY:Fe,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Fe,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:n9}),i9=sd({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),s9=sd({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:r9}),o9=sd({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),mye={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},gye=/[A-Z]/g,cL=/-[a-z]/g,yye=/^data[-\w.:]+$/i;function xye(t,e){const n=JC(e);let r=e,i=Mi;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&yye.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(cL,wye);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!cL.test(s)){let o=s.replace(gye,vye);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}i=IE}return new i(r,e)}function vye(t){return"-"+t.toLowerCase()}function wye(t){return t.charAt(1).toUpperCase()}const Sye=e9([t9,hye,i9,s9,o9],"html"),ME=e9([t9,pye,i9,s9,o9],"svg");function bye(t){return t.join(" ").trim()}var cu={},yb,uL;function Cye(){if(uL)return yb;uL=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,l=/^\s+|\s+$/g,u=`
`,d="/",h="*",p="",g="comment",y="declaration";yb=function(C,_){if(typeof C!="string")throw new TypeError("First argument must be a string");if(!C)return[];_=_||{};var P=1,E=1;function j(W){var V=W.match(e);V&&(P+=V.length);var Y=W.lastIndexOf(u);E=~Y?W.length-Y:E+W.length}function R(){var W={line:P,column:E};return function(V){return V.position=new I(W),$(),V}}function I(W){this.start=W,this.end={line:P,column:E},this.source=_.source}I.prototype.content=C;function M(W){var V=new Error(_.source+":"+P+":"+E+": "+W);if(V.reason=W,V.filename=_.source,V.line=P,V.column=E,V.source=C,!_.silent)throw V}function A(W){var V=W.exec(C);if(V){var Y=V[0];return j(Y),C=C.slice(Y.length),V}}function $(){A(n)}function B(W){var V;for(W=W||[];V=G();)V!==!1&&W.push(V);return W}function G(){var W=R();if(!(d!=C.charAt(0)||h!=C.charAt(1))){for(var V=2;p!=C.charAt(V)&&(h!=C.charAt(V)||d!=C.charAt(V+1));)++V;if(V+=2,p===C.charAt(V-1))return M("End of comment missing");var Y=C.slice(2,V-2);return E+=2,j(Y),C=C.slice(V),E+=2,W({type:g,comment:Y})}}function X(){var W=R(),V=A(r);if(V){if(G(),!A(i))return M("property missing ':'");var Y=A(s),ne=W({type:y,property:b(V[0].replace(t,p)),value:Y?b(Y[0].replace(t,p)):p});return A(o),ne}}function K(){var W=[];B(W);for(var V;V=X();)V!==!1&&(W.push(V),B(W));return W}return $(),K()};function b(C){return C?C.replace(l,p):p}return yb}var dL;function _ye(){if(dL)return cu;dL=1;var t=cu&&cu.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(cu,"__esModule",{value:!0}),cu.default=n;var e=t(Cye());function n(r,i){var s=null;if(!r||typeof r!="string")return s;var o=(0,e.default)(r),l=typeof i=="function";return o.forEach(function(u){if(u.type==="declaration"){var d=u.property,h=u.value;l?i(d,h,u):h&&(s=s||{},s[d]=h)}}),s}return cu}var Km={},fL;function Tye(){if(fL)return Km;fL=1,Object.defineProperty(Km,"__esModule",{value:!0}),Km.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,s=function(d){return!d||n.test(d)||t.test(d)},o=function(d,h){return h.toUpperCase()},l=function(d,h){return"".concat(h,"-")},u=function(d,h){return h===void 0&&(h={}),s(d)?d:(d=d.toLowerCase(),h.reactCompat?d=d.replace(i,l):d=d.replace(r,l),d.replace(e,o))};return Km.camelCase=u,Km}var Ym,hL;function Eye(){if(hL)return Ym;hL=1;var t=Ym&&Ym.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},e=t(_ye()),n=Tye();function r(i,s){var o={};return!i||typeof i!="string"||(0,e.default)(i,function(l,u){l&&u&&(o[(0,n.camelCase)(l,s)]=u)}),o}return r.default=r,Ym=r,Ym}var Pye=Eye();const Nye=Gu(Pye),a9=l9("end"),DE=l9("start");function l9(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function jye(t){const e=DE(t),n=a9(t);if(e&&n)return{start:e,end:n}}function Tg(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?pL(t.position):"start"in t||"end"in t?pL(t):"line"in t||"column"in t?ZC(t):""}function ZC(t){return mL(t&&t.line)+":"+mL(t&&t.column)}function pL(t){return ZC(t&&t.start)+"-"+ZC(t&&t.end)}function mL(t){return t&&typeof t=="number"?t:1}class li extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof e=="string"?i=e:!s.cause&&e&&(o=!0,i=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof r=="string"){const u=r.indexOf(":");u===-1?s.ruleId=r:(s.source=r.slice(0,u),s.ruleId=r.slice(u+1))}if(!s.place&&s.ancestors&&s.ancestors){const u=s.ancestors[s.ancestors.length-1];u&&(s.place=u.position)}const l=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=l?l.line:void 0,this.name=Tg(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual,this.expected,this.note,this.url}}li.prototype.file="";li.prototype.name="";li.prototype.reason="";li.prototype.message="";li.prototype.stack="";li.prototype.column=void 0;li.prototype.line=void 0;li.prototype.ancestors=void 0;li.prototype.cause=void 0;li.prototype.fatal=void 0;li.prototype.place=void 0;li.prototype.ruleId=void 0;li.prototype.source=void 0;const LE={}.hasOwnProperty,Rye=new Map,Aye=/[A-Z]/g,kye=new Set(["table","tbody","thead","tfoot","tr"]),Iye=new Set(["td","th"]),c9="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Mye(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Vye(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Uye(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?ME:Sye,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=u9(i,t,void 0);return s&&typeof s!="string"?s:i.create(t,i.Fragment,{children:s||void 0},void 0)}function u9(t,e,n){if(e.type==="element")return Dye(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return Lye(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return $ye(t,e,n);if(e.type==="mdxjsEsm")return Oye(t,e);if(e.type==="root")return Fye(t,e,n);if(e.type==="text")return Bye(t,e)}function Dye(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=ME,t.schema=i),t.ancestors.push(e);const s=f9(t,e.tagName,!1),o=zye(t,e);let l=$E(t,e);return kye.has(e.tagName)&&(l=l.filter(function(u){return typeof u=="string"?!dye(u):!0})),d9(t,o,s,e),OE(o,l),t.ancestors.pop(),t.schema=r,t.create(e,s,o,n)}function Lye(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}qg(t,e.position)}function Oye(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);qg(t,e.position)}function $ye(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=ME,t.schema=i),t.ancestors.push(e);const s=e.name===null?t.Fragment:f9(t,e.name,!0),o=Wye(t,e),l=$E(t,e);return d9(t,o,s,e),OE(o,l),t.ancestors.pop(),t.schema=r,t.create(e,s,o,n)}function Fye(t,e,n){const r={};return OE(r,$E(t,e)),t.create(e,t.Fragment,r,n)}function Bye(t,e){return e.value}function d9(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function OE(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function Uye(t,e,n){return r;function r(i,s,o,l){const d=Array.isArray(o.children)?n:e;return l?d(s,o,l):d(s,o)}}function Vye(t,e){return n;function n(r,i,s,o){const l=Array.isArray(s.children),u=DE(r);return e(i,s,o,l,{columnNumber:u?u.column-1:void 0,fileName:t,lineNumber:u?u.line:void 0},void 0)}}function zye(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&LE.call(e.properties,i)){const s=qye(t,i,e.properties[i]);if(s){const[o,l]=s;t.tableCellAlignToStyle&&o==="align"&&typeof l=="string"&&Iye.has(e.tagName)?r=l:n[o]=l}}if(r){const s=n.style||(n.style={});s[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function Wye(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const s=r.data.estree.body[0];s.type;const o=s.expression;o.type;const l=o.properties[0];l.type,Object.assign(n,t.evaluater.evaluateExpression(l.argument))}else qg(t,e.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const l=r.value.data.estree.body[0];l.type,s=t.evaluater.evaluateExpression(l.expression)}else qg(t,e.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function $E(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:Rye;for(;++r<e.children.length;){const s=e.children[r];let o;if(t.passKeys){const u=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(u){const d=i.get(u)||0;o=u+"-"+d,i.set(u,d+1)}}const l=u9(t,s,o);l!==void 0&&n.push(l)}return n}function qye(t,e,n){const r=xye(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?oye(n):bye(n)),r.property==="style"){let i=typeof n=="object"?n:Gye(t,String(n));return t.stylePropertyNameCase==="css"&&(i=Hye(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?mye[r.property]||r.property:r.attribute,n]}}function Gye(t,e){try{return Nye(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new li("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=c9+"#cannot-parse-style-attribute",i}}function f9(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let s=-1,o;for(;++s<i.length;){const l=oL(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:l,computed:!!(s&&l.type==="Literal"),optional:!1}:l}r=o}else r=oL(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return LE.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);qg(t)}function qg(t,e){const n=new li("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=c9+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Hye(t){const e={};let n;for(n in t)LE.call(t,n)&&(e[Kye(n)]=t[n]);return e}function Kye(t){let e=t.replace(Aye,Yye);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function Yye(t){return"-"+t.toLowerCase()}const xb={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Jye={};function Xye(t,e){const n=Jye,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return h9(t,r,i)}function h9(t,e,n){if(Qye(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return gL(t.children,e,n)}return Array.isArray(t)?gL(t,e,n):""}function gL(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=h9(t[i],e,n);return r.join("")}function Qye(t){return!!(t&&typeof t=="object")}const yL=document.createElement("i");function FE(t){const e="&"+t+";";yL.innerHTML=e;const n=yL.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function ro(t,e,n,r){const i=t.length;let s=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(e,n),t.splice(...o);else for(n&&t.splice(e,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(e,0),t.splice(...o),s+=1e4,e+=1e4}function os(t,e){return t.length>0?(ro(t,t.length,0,e),t):e}const xL={}.hasOwnProperty;function Zye(t){const e={};let n=-1;for(;++n<t.length;)exe(e,t[n]);return e}function exe(t,e){let n;for(n in e){const i=(xL.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n];let o;if(s)for(o in s){xL.call(i,o)||(i[o]=[]);const l=s[o];txe(i[o],Array.isArray(l)?l:l?[l]:[])}}}function txe(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);ro(t,0,0,r)}function p9(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Lu(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ys=tl(/[A-Za-z]/),Hi=tl(/[\dA-Za-z]/),nxe=tl(/[#-'*+\--9=?A-Z^-~]/);function e_(t){return t!==null&&(t<32||t===127)}const t_=tl(/\d/),rxe=tl(/[\dA-Fa-f]/),ixe=tl(/[!-/:-@[-`{-~]/);function Mt(t){return t!==null&&t<-2}function Ri(t){return t!==null&&(t<0||t===32)}function gn(t){return t===-2||t===-1||t===32}const sxe=tl(new RegExp("\\p{P}|\\p{S}","u")),oxe=tl(/\s/);function tl(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function od(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const s=t.charCodeAt(n);let o="";if(s===37&&Hi(t.charCodeAt(n+1))&&Hi(t.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const l=t.charCodeAt(n+1);s<56320&&l>56319&&l<57344?(o=String.fromCharCode(s,l),i=1):o=""}else o=String.fromCharCode(s);o&&(e.push(t.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function Mn(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(u){return gn(u)?(t.enter(n),l(u)):e(u)}function l(u){return gn(u)&&s++<i?(t.consume(u),l):(t.exit(n),e(u))}}const axe={tokenize:lxe};function lxe(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(l){if(l===null){t.consume(l);return}return t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),Mn(t,e,"linePrefix")}function i(l){return t.enter("paragraph"),s(l)}function s(l){const u=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=u),n=u,o(l)}function o(l){if(l===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(l);return}return Mt(l)?(t.consume(l),t.exit("chunkText"),s):(t.consume(l),o)}}const cxe={tokenize:uxe},vL={tokenize:dxe};function uxe(t){const e=this,n=[];let r=0,i,s,o;return l;function l(j){if(r<n.length){const R=n[r];return e.containerState=R[1],t.attempt(R[0].continuation,u,d)(j)}return d(j)}function u(j){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&E();const R=e.events.length;let I=R,M;for(;I--;)if(e.events[I][0]==="exit"&&e.events[I][1].type==="chunkFlow"){M=e.events[I][1].end;break}P(r);let A=R;for(;A<e.events.length;)e.events[A][1].end={...M},A++;return ro(e.events,I+1,0,e.events.slice(R)),e.events.length=A,d(j)}return l(j)}function d(j){if(r===n.length){if(!i)return g(j);if(i.currentConstruct&&i.currentConstruct.concrete)return b(j);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(vL,h,p)(j)}function h(j){return i&&E(),P(r),g(j)}function p(j){return e.parser.lazy[e.now().line]=r!==n.length,o=e.now().offset,b(j)}function g(j){return e.containerState={},t.attempt(vL,y,b)(j)}function y(j){return r++,n.push([e.currentConstruct,e.containerState]),g(j)}function b(j){if(j===null){i&&E(),P(0),t.consume(j);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),C(j)}function C(j){if(j===null){_(t.exit("chunkFlow"),!0),P(0),t.consume(j);return}return Mt(j)?(t.consume(j),_(t.exit("chunkFlow")),r=0,e.interrupt=void 0,l):(t.consume(j),C)}function _(j,R){const I=e.sliceStream(j);if(R&&I.push(null),j.previous=s,s&&(s.next=j),s=j,i.defineSkip(j.start),i.write(I),e.parser.lazy[j.start.line]){let M=i.events.length;for(;M--;)if(i.events[M][1].start.offset<o&&(!i.events[M][1].end||i.events[M][1].end.offset>o))return;const A=e.events.length;let $=A,B,G;for(;$--;)if(e.events[$][0]==="exit"&&e.events[$][1].type==="chunkFlow"){if(B){G=e.events[$][1].end;break}B=!0}for(P(r),M=A;M<e.events.length;)e.events[M][1].end={...G},M++;ro(e.events,$+1,0,e.events.slice(A)),e.events.length=M}}function P(j){let R=n.length;for(;R-- >j;){const I=n[R];e.containerState=I[1],I[0].exit.call(e,t)}n.length=j}function E(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function dxe(t,e,n){return Mn(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function wL(t){if(t===null||Ri(t)||oxe(t))return 1;if(sxe(t))return 2}function BE(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const s=t[i].resolveAll;s&&!r.includes(s)&&(e=s(e,n),r.push(s))}return e}const n_={name:"attention",resolveAll:fxe,tokenize:hxe};function fxe(t,e){let n=-1,r,i,s,o,l,u,d,h;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;u=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const p={...t[r][1].end},g={...t[n][1].start};SL(p,-u),SL(g,u),o={type:u>1?"strongSequence":"emphasisSequence",start:p,end:{...t[r][1].end}},l={type:u>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:g},s={type:u>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:u>1?"strong":"emphasis",start:{...o.start},end:{...l.end}},t[r][1].end={...o.start},t[n][1].start={...l.end},d=[],t[r][1].end.offset-t[r][1].start.offset&&(d=os(d,[["enter",t[r][1],e],["exit",t[r][1],e]])),d=os(d,[["enter",i,e],["enter",o,e],["exit",o,e],["enter",s,e]]),d=os(d,BE(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),d=os(d,[["exit",s,e],["enter",l,e],["exit",l,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(h=2,d=os(d,[["enter",t[n][1],e],["exit",t[n][1],e]])):h=0,ro(t,r-1,n-r+3,d),n=r+d.length-h-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function hxe(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=wL(r);let s;return o;function o(u){return s=u,t.enter("attentionSequence"),l(u)}function l(u){if(u===s)return t.consume(u),l;const d=t.exit("attentionSequence"),h=wL(u),p=!h||h===2&&i||n.includes(u),g=!i||i===2&&h||n.includes(r);return d._open=!!(s===42?p:p&&(i||!g)),d._close=!!(s===42?g:g&&(h||!p)),e(u)}}function SL(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const pxe={name:"autolink",tokenize:mxe};function mxe(t,e,n){let r=0;return i;function i(y){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(y){return Ys(y)?(t.consume(y),o):y===64?n(y):d(y)}function o(y){return y===43||y===45||y===46||Hi(y)?(r=1,l(y)):d(y)}function l(y){return y===58?(t.consume(y),r=0,u):(y===43||y===45||y===46||Hi(y))&&r++<32?(t.consume(y),l):(r=0,d(y))}function u(y){return y===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.exit("autolink"),e):y===null||y===32||y===60||e_(y)?n(y):(t.consume(y),u)}function d(y){return y===64?(t.consume(y),h):nxe(y)?(t.consume(y),d):n(y)}function h(y){return Hi(y)?p(y):n(y)}function p(y){return y===46?(t.consume(y),r=0,h):y===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.exit("autolink"),e):g(y)}function g(y){if((y===45||Hi(y))&&r++<63){const b=y===45?g:p;return t.consume(y),b}return n(y)}}const yw={partial:!0,tokenize:gxe};function gxe(t,e,n){return r;function r(s){return gn(s)?Mn(t,i,"linePrefix")(s):i(s)}function i(s){return s===null||Mt(s)?e(s):n(s)}}const m9={continuation:{tokenize:xxe},exit:vxe,name:"blockQuote",tokenize:yxe};function yxe(t,e,n){const r=this;return i;function i(o){if(o===62){const l=r.containerState;return l.open||(t.enter("blockQuote",{_container:!0}),l.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(o),t.exit("blockQuoteMarker"),s}return n(o)}function s(o){return gn(o)?(t.enter("blockQuotePrefixWhitespace"),t.consume(o),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(o))}}function xxe(t,e,n){const r=this;return i;function i(o){return gn(o)?Mn(t,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return t.attempt(m9,e,n)(o)}}function vxe(t){t.exit("blockQuote")}const g9={name:"characterEscape",tokenize:wxe};function wxe(t,e,n){return r;function r(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),i}function i(s){return ixe(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}const y9={name:"characterReference",tokenize:Sxe};function Sxe(t,e,n){const r=this;let i=0,s,o;return l;function l(p){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(p),t.exit("characterReferenceMarker"),u}function u(p){return p===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(p),t.exit("characterReferenceMarkerNumeric"),d):(t.enter("characterReferenceValue"),s=31,o=Hi,h(p))}function d(p){return p===88||p===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(p),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,o=rxe,h):(t.enter("characterReferenceValue"),s=7,o=t_,h(p))}function h(p){if(p===59&&i){const g=t.exit("characterReferenceValue");return o===Hi&&!FE(r.sliceSerialize(g))?n(p):(t.enter("characterReferenceMarker"),t.consume(p),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return o(p)&&i++<s?(t.consume(p),h):n(p)}}const bL={partial:!0,tokenize:Cxe},CL={concrete:!0,name:"codeFenced",tokenize:bxe};function bxe(t,e,n){const r=this,i={partial:!0,tokenize:I};let s=0,o=0,l;return u;function u(M){return d(M)}function d(M){const A=r.events[r.events.length-1];return s=A&&A[1].type==="linePrefix"?A[2].sliceSerialize(A[1],!0).length:0,l=M,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),h(M)}function h(M){return M===l?(o++,t.consume(M),h):o<3?n(M):(t.exit("codeFencedFenceSequence"),gn(M)?Mn(t,p,"whitespace")(M):p(M))}function p(M){return M===null||Mt(M)?(t.exit("codeFencedFence"),r.interrupt?e(M):t.check(bL,C,R)(M)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),g(M))}function g(M){return M===null||Mt(M)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),p(M)):gn(M)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Mn(t,y,"whitespace")(M)):M===96&&M===l?n(M):(t.consume(M),g)}function y(M){return M===null||Mt(M)?p(M):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),b(M))}function b(M){return M===null||Mt(M)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),p(M)):M===96&&M===l?n(M):(t.consume(M),b)}function C(M){return t.attempt(i,R,_)(M)}function _(M){return t.enter("lineEnding"),t.consume(M),t.exit("lineEnding"),P}function P(M){return s>0&&gn(M)?Mn(t,E,"linePrefix",s+1)(M):E(M)}function E(M){return M===null||Mt(M)?t.check(bL,C,R)(M):(t.enter("codeFlowValue"),j(M))}function j(M){return M===null||Mt(M)?(t.exit("codeFlowValue"),E(M)):(t.consume(M),j)}function R(M){return t.exit("codeFenced"),e(M)}function I(M,A,$){let B=0;return G;function G(Y){return M.enter("lineEnding"),M.consume(Y),M.exit("lineEnding"),X}function X(Y){return M.enter("codeFencedFence"),gn(Y)?Mn(M,K,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Y):K(Y)}function K(Y){return Y===l?(M.enter("codeFencedFenceSequence"),W(Y)):$(Y)}function W(Y){return Y===l?(B++,M.consume(Y),W):B>=o?(M.exit("codeFencedFenceSequence"),gn(Y)?Mn(M,V,"whitespace")(Y):V(Y)):$(Y)}function V(Y){return Y===null||Mt(Y)?(M.exit("codeFencedFence"),A(Y)):$(Y)}}}function Cxe(t,e,n){const r=this;return i;function i(o){return o===null?n(o):(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}const vb={name:"codeIndented",tokenize:Txe},_xe={partial:!0,tokenize:Exe};function Txe(t,e,n){const r=this;return i;function i(d){return t.enter("codeIndented"),Mn(t,s,"linePrefix",5)(d)}function s(d){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?o(d):n(d)}function o(d){return d===null?u(d):Mt(d)?t.attempt(_xe,o,u)(d):(t.enter("codeFlowValue"),l(d))}function l(d){return d===null||Mt(d)?(t.exit("codeFlowValue"),o(d)):(t.consume(d),l)}function u(d){return t.exit("codeIndented"),e(d)}}function Exe(t,e,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):Mt(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),i):Mn(t,s,"linePrefix",5)(o)}function s(o){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?e(o):Mt(o)?i(o):n(o)}}const Pxe={name:"codeText",previous:jxe,resolve:Nxe,tokenize:Rxe};function Nxe(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function jxe(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Rxe(t,e,n){let r=0,i,s;return o;function o(p){return t.enter("codeText"),t.enter("codeTextSequence"),l(p)}function l(p){return p===96?(t.consume(p),r++,l):(t.exit("codeTextSequence"),u(p))}function u(p){return p===null?n(p):p===32?(t.enter("space"),t.consume(p),t.exit("space"),u):p===96?(s=t.enter("codeTextSequence"),i=0,h(p)):Mt(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),u):(t.enter("codeTextData"),d(p))}function d(p){return p===null||p===32||p===96||Mt(p)?(t.exit("codeTextData"),u(p)):(t.consume(p),d)}function h(p){return p===96?(t.consume(p),i++,h):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(p)):(s.type="codeTextData",d(p))}}class Axe{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Jm(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Jm(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Jm(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);Jm(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Jm(this.left,n.reverse())}}}function Jm(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function x9(t){const e={};let n=-1,r,i,s,o,l,u,d;const h=new Axe(t);for(;++n<h.length;){for(;n in e;)n=e[n];if(r=h.get(n),n&&r[1].type==="chunkFlow"&&h.get(n-1)[1].type==="listItemPrefix"&&(u=r[1]._tokenizer.events,s=0,s<u.length&&u[s][1].type==="lineEndingBlank"&&(s+=2),s<u.length&&u[s][1].type==="content"))for(;++s<u.length&&u[s][1].type!=="content";)u[s][1].type==="chunkText"&&(u[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,kxe(h,n)),n=e[n],d=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(o=h.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(h.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...h.get(i)[1].start},l=h.slice(i,n),l.unshift(r),h.splice(i,n-i+1,l))}}return ro(t,0,Number.POSITIVE_INFINITY,h.slice(0)),!d}function kxe(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const s=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const l=o.events,u=[],d={};let h,p,g=-1,y=n,b=0,C=0;const _=[C];for(;y;){for(;t.get(++i)[1]!==y;);s.push(i),y._tokenizer||(h=r.sliceStream(y),y.next||h.push(null),p&&o.defineSkip(y.start),y._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(h),y._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),p=y,y=y.next}for(y=n;++g<l.length;)l[g][0]==="exit"&&l[g-1][0]==="enter"&&l[g][1].type===l[g-1][1].type&&l[g][1].start.line!==l[g][1].end.line&&(C=g+1,_.push(C),y._tokenizer=void 0,y.previous=void 0,y=y.next);for(o.events=[],y?(y._tokenizer=void 0,y.previous=void 0):_.pop(),g=_.length;g--;){const P=l.slice(_[g],_[g+1]),E=s.pop();u.push([E,E+P.length-1]),t.splice(E,2,P)}for(u.reverse(),g=-1;++g<u.length;)d[b+u[g][0]]=b+u[g][1],b+=u[g][1]-u[g][0]-1;return d}const Ixe={resolve:Dxe,tokenize:Lxe},Mxe={partial:!0,tokenize:Oxe};function Dxe(t){return x9(t),t}function Lxe(t,e){let n;return r;function r(l){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(l)}function i(l){return l===null?s(l):Mt(l)?t.check(Mxe,o,s)(l):(t.consume(l),i)}function s(l){return t.exit("chunkContent"),t.exit("content"),e(l)}function o(l){return t.consume(l),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Oxe(t,e,n){const r=this;return i;function i(o){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),Mn(t,s,"linePrefix")}function s(o){if(o===null||Mt(o))return n(o);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?e(o):t.interrupt(r.parser.constructs.flow,n,e)(o)}}function v9(t,e,n,r,i,s,o,l,u){const d=u||Number.POSITIVE_INFINITY;let h=0;return p;function p(P){return P===60?(t.enter(r),t.enter(i),t.enter(s),t.consume(P),t.exit(s),g):P===null||P===32||P===41||e_(P)?n(P):(t.enter(r),t.enter(o),t.enter(l),t.enter("chunkString",{contentType:"string"}),C(P))}function g(P){return P===62?(t.enter(s),t.consume(P),t.exit(s),t.exit(i),t.exit(r),e):(t.enter(l),t.enter("chunkString",{contentType:"string"}),y(P))}function y(P){return P===62?(t.exit("chunkString"),t.exit(l),g(P)):P===null||P===60||Mt(P)?n(P):(t.consume(P),P===92?b:y)}function b(P){return P===60||P===62||P===92?(t.consume(P),y):y(P)}function C(P){return!h&&(P===null||P===41||Ri(P))?(t.exit("chunkString"),t.exit(l),t.exit(o),t.exit(r),e(P)):h<d&&P===40?(t.consume(P),h++,C):P===41?(t.consume(P),h--,C):P===null||P===32||P===40||e_(P)?n(P):(t.consume(P),P===92?_:C)}function _(P){return P===40||P===41||P===92?(t.consume(P),C):C(P)}}function w9(t,e,n,r,i,s){const o=this;let l=0,u;return d;function d(y){return t.enter(r),t.enter(i),t.consume(y),t.exit(i),t.enter(s),h}function h(y){return l>999||y===null||y===91||y===93&&!u||y===94&&!l&&"_hiddenFootnoteSupport"in o.parser.constructs?n(y):y===93?(t.exit(s),t.enter(i),t.consume(y),t.exit(i),t.exit(r),e):Mt(y)?(t.enter("lineEnding"),t.consume(y),t.exit("lineEnding"),h):(t.enter("chunkString",{contentType:"string"}),p(y))}function p(y){return y===null||y===91||y===93||Mt(y)||l++>999?(t.exit("chunkString"),h(y)):(t.consume(y),u||(u=!gn(y)),y===92?g:p)}function g(y){return y===91||y===92||y===93?(t.consume(y),l++,p):p(y)}}function S9(t,e,n,r,i,s){let o;return l;function l(g){return g===34||g===39||g===40?(t.enter(r),t.enter(i),t.consume(g),t.exit(i),o=g===40?41:g,u):n(g)}function u(g){return g===o?(t.enter(i),t.consume(g),t.exit(i),t.exit(r),e):(t.enter(s),d(g))}function d(g){return g===o?(t.exit(s),u(o)):g===null?n(g):Mt(g)?(t.enter("lineEnding"),t.consume(g),t.exit("lineEnding"),Mn(t,d,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),h(g))}function h(g){return g===o||g===null||Mt(g)?(t.exit("chunkString"),d(g)):(t.consume(g),g===92?p:h)}function p(g){return g===o||g===92?(t.consume(g),h):h(g)}}function Eg(t,e){let n;return r;function r(i){return Mt(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):gn(i)?Mn(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const $xe={name:"definition",tokenize:Bxe},Fxe={partial:!0,tokenize:Uxe};function Bxe(t,e,n){const r=this;let i;return s;function s(y){return t.enter("definition"),o(y)}function o(y){return w9.call(r,t,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(y)}function l(y){return i=Lu(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),y===58?(t.enter("definitionMarker"),t.consume(y),t.exit("definitionMarker"),u):n(y)}function u(y){return Ri(y)?Eg(t,d)(y):d(y)}function d(y){return v9(t,h,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(y)}function h(y){return t.attempt(Fxe,p,p)(y)}function p(y){return gn(y)?Mn(t,g,"whitespace")(y):g(y)}function g(y){return y===null||Mt(y)?(t.exit("definition"),r.parser.defined.push(i),e(y)):n(y)}}function Uxe(t,e,n){return r;function r(l){return Ri(l)?Eg(t,i)(l):n(l)}function i(l){return S9(t,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function s(l){return gn(l)?Mn(t,o,"whitespace")(l):o(l)}function o(l){return l===null||Mt(l)?e(l):n(l)}}const Vxe={name:"hardBreakEscape",tokenize:zxe};function zxe(t,e,n){return r;function r(s){return t.enter("hardBreakEscape"),t.consume(s),i}function i(s){return Mt(s)?(t.exit("hardBreakEscape"),e(s)):n(s)}}const Wxe={name:"headingAtx",resolve:qxe,tokenize:Gxe};function qxe(t,e){let n=t.length-2,r=3,i,s;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},s={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},ro(t,r,n-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),t}function Gxe(t,e,n){let r=0;return i;function i(h){return t.enter("atxHeading"),s(h)}function s(h){return t.enter("atxHeadingSequence"),o(h)}function o(h){return h===35&&r++<6?(t.consume(h),o):h===null||Ri(h)?(t.exit("atxHeadingSequence"),l(h)):n(h)}function l(h){return h===35?(t.enter("atxHeadingSequence"),u(h)):h===null||Mt(h)?(t.exit("atxHeading"),e(h)):gn(h)?Mn(t,l,"whitespace")(h):(t.enter("atxHeadingText"),d(h))}function u(h){return h===35?(t.consume(h),u):(t.exit("atxHeadingSequence"),l(h))}function d(h){return h===null||h===35||Ri(h)?(t.exit("atxHeadingText"),l(h)):(t.consume(h),d)}}const Hxe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],_L=["pre","script","style","textarea"],Kxe={concrete:!0,name:"htmlFlow",resolveTo:Xxe,tokenize:Qxe},Yxe={partial:!0,tokenize:eve},Jxe={partial:!0,tokenize:Zxe};function Xxe(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function Qxe(t,e,n){const r=this;let i,s,o,l,u;return d;function d(U){return h(U)}function h(U){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(U),p}function p(U){return U===33?(t.consume(U),g):U===47?(t.consume(U),s=!0,C):U===63?(t.consume(U),i=3,r.interrupt?e:L):Ys(U)?(t.consume(U),o=String.fromCharCode(U),_):n(U)}function g(U){return U===45?(t.consume(U),i=2,y):U===91?(t.consume(U),i=5,l=0,b):Ys(U)?(t.consume(U),i=4,r.interrupt?e:L):n(U)}function y(U){return U===45?(t.consume(U),r.interrupt?e:L):n(U)}function b(U){const Ne="CDATA[";return U===Ne.charCodeAt(l++)?(t.consume(U),l===Ne.length?r.interrupt?e:K:b):n(U)}function C(U){return Ys(U)?(t.consume(U),o=String.fromCharCode(U),_):n(U)}function _(U){if(U===null||U===47||U===62||Ri(U)){const Ne=U===47,De=o.toLowerCase();return!Ne&&!s&&_L.includes(De)?(i=1,r.interrupt?e(U):K(U)):Hxe.includes(o.toLowerCase())?(i=6,Ne?(t.consume(U),P):r.interrupt?e(U):K(U)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(U):s?E(U):j(U))}return U===45||Hi(U)?(t.consume(U),o+=String.fromCharCode(U),_):n(U)}function P(U){return U===62?(t.consume(U),r.interrupt?e:K):n(U)}function E(U){return gn(U)?(t.consume(U),E):G(U)}function j(U){return U===47?(t.consume(U),G):U===58||U===95||Ys(U)?(t.consume(U),R):gn(U)?(t.consume(U),j):G(U)}function R(U){return U===45||U===46||U===58||U===95||Hi(U)?(t.consume(U),R):I(U)}function I(U){return U===61?(t.consume(U),M):gn(U)?(t.consume(U),I):j(U)}function M(U){return U===null||U===60||U===61||U===62||U===96?n(U):U===34||U===39?(t.consume(U),u=U,A):gn(U)?(t.consume(U),M):$(U)}function A(U){return U===u?(t.consume(U),u=null,B):U===null||Mt(U)?n(U):(t.consume(U),A)}function $(U){return U===null||U===34||U===39||U===47||U===60||U===61||U===62||U===96||Ri(U)?I(U):(t.consume(U),$)}function B(U){return U===47||U===62||gn(U)?j(U):n(U)}function G(U){return U===62?(t.consume(U),X):n(U)}function X(U){return U===null||Mt(U)?K(U):gn(U)?(t.consume(U),X):n(U)}function K(U){return U===45&&i===2?(t.consume(U),ne):U===60&&i===1?(t.consume(U),ue):U===62&&i===4?(t.consume(U),F):U===63&&i===3?(t.consume(U),L):U===93&&i===5?(t.consume(U),ie):Mt(U)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(Yxe,Z,W)(U)):U===null||Mt(U)?(t.exit("htmlFlowData"),W(U)):(t.consume(U),K)}function W(U){return t.check(Jxe,V,Z)(U)}function V(U){return t.enter("lineEnding"),t.consume(U),t.exit("lineEnding"),Y}function Y(U){return U===null||Mt(U)?W(U):(t.enter("htmlFlowData"),K(U))}function ne(U){return U===45?(t.consume(U),L):K(U)}function ue(U){return U===47?(t.consume(U),o="",oe):K(U)}function oe(U){if(U===62){const Ne=o.toLowerCase();return _L.includes(Ne)?(t.consume(U),F):K(U)}return Ys(U)&&o.length<8?(t.consume(U),o+=String.fromCharCode(U),oe):K(U)}function ie(U){return U===93?(t.consume(U),L):K(U)}function L(U){return U===62?(t.consume(U),F):U===45&&i===2?(t.consume(U),L):K(U)}function F(U){return U===null||Mt(U)?(t.exit("htmlFlowData"),Z(U)):(t.consume(U),F)}function Z(U){return t.exit("htmlFlow"),e(U)}}function Zxe(t,e,n){const r=this;return i;function i(o){return Mt(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}function eve(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(yw,e,n)}}const tve={name:"htmlText",tokenize:nve};function nve(t,e,n){const r=this;let i,s,o;return l;function l(L){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(L),u}function u(L){return L===33?(t.consume(L),d):L===47?(t.consume(L),I):L===63?(t.consume(L),j):Ys(L)?(t.consume(L),$):n(L)}function d(L){return L===45?(t.consume(L),h):L===91?(t.consume(L),s=0,b):Ys(L)?(t.consume(L),E):n(L)}function h(L){return L===45?(t.consume(L),y):n(L)}function p(L){return L===null?n(L):L===45?(t.consume(L),g):Mt(L)?(o=p,ue(L)):(t.consume(L),p)}function g(L){return L===45?(t.consume(L),y):p(L)}function y(L){return L===62?ne(L):L===45?g(L):p(L)}function b(L){const F="CDATA[";return L===F.charCodeAt(s++)?(t.consume(L),s===F.length?C:b):n(L)}function C(L){return L===null?n(L):L===93?(t.consume(L),_):Mt(L)?(o=C,ue(L)):(t.consume(L),C)}function _(L){return L===93?(t.consume(L),P):C(L)}function P(L){return L===62?ne(L):L===93?(t.consume(L),P):C(L)}function E(L){return L===null||L===62?ne(L):Mt(L)?(o=E,ue(L)):(t.consume(L),E)}function j(L){return L===null?n(L):L===63?(t.consume(L),R):Mt(L)?(o=j,ue(L)):(t.consume(L),j)}function R(L){return L===62?ne(L):j(L)}function I(L){return Ys(L)?(t.consume(L),M):n(L)}function M(L){return L===45||Hi(L)?(t.consume(L),M):A(L)}function A(L){return Mt(L)?(o=A,ue(L)):gn(L)?(t.consume(L),A):ne(L)}function $(L){return L===45||Hi(L)?(t.consume(L),$):L===47||L===62||Ri(L)?B(L):n(L)}function B(L){return L===47?(t.consume(L),ne):L===58||L===95||Ys(L)?(t.consume(L),G):Mt(L)?(o=B,ue(L)):gn(L)?(t.consume(L),B):ne(L)}function G(L){return L===45||L===46||L===58||L===95||Hi(L)?(t.consume(L),G):X(L)}function X(L){return L===61?(t.consume(L),K):Mt(L)?(o=X,ue(L)):gn(L)?(t.consume(L),X):B(L)}function K(L){return L===null||L===60||L===61||L===62||L===96?n(L):L===34||L===39?(t.consume(L),i=L,W):Mt(L)?(o=K,ue(L)):gn(L)?(t.consume(L),K):(t.consume(L),V)}function W(L){return L===i?(t.consume(L),i=void 0,Y):L===null?n(L):Mt(L)?(o=W,ue(L)):(t.consume(L),W)}function V(L){return L===null||L===34||L===39||L===60||L===61||L===96?n(L):L===47||L===62||Ri(L)?B(L):(t.consume(L),V)}function Y(L){return L===47||L===62||Ri(L)?B(L):n(L)}function ne(L){return L===62?(t.consume(L),t.exit("htmlTextData"),t.exit("htmlText"),e):n(L)}function ue(L){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(L),t.exit("lineEnding"),oe}function oe(L){return gn(L)?Mn(t,ie,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(L):ie(L)}function ie(L){return t.enter("htmlTextData"),o(L)}}const UE={name:"labelEnd",resolveAll:ove,resolveTo:ave,tokenize:lve},rve={tokenize:cve},ive={tokenize:uve},sve={tokenize:dve};function ove(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&ro(t,0,t.length,n),t}function ave(t,e){let n=t.length,r=0,i,s,o,l;for(;n--;)if(i=t[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const u={type:t[s][1].type==="labelLink"?"link":"image",start:{...t[s][1].start},end:{...t[t.length-1][1].end}},d={type:"label",start:{...t[s][1].start},end:{...t[o][1].end}},h={type:"labelText",start:{...t[s+r+2][1].end},end:{...t[o-2][1].start}};return l=[["enter",u,e],["enter",d,e]],l=os(l,t.slice(s+1,s+r+3)),l=os(l,[["enter",h,e]]),l=os(l,BE(e.parser.constructs.insideSpan.null,t.slice(s+r+4,o-3),e)),l=os(l,[["exit",h,e],t[o-2],t[o-1],["exit",d,e]]),l=os(l,t.slice(o+1)),l=os(l,[["exit",u,e]]),ro(t,s,t.length,l),t}function lve(t,e,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return l;function l(g){return s?s._inactive?p(g):(o=r.parser.defined.includes(Lu(r.sliceSerialize({start:s.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(g),t.exit("labelMarker"),t.exit("labelEnd"),u):n(g)}function u(g){return g===40?t.attempt(rve,h,o?h:p)(g):g===91?t.attempt(ive,h,o?d:p)(g):o?h(g):p(g)}function d(g){return t.attempt(sve,h,p)(g)}function h(g){return e(g)}function p(g){return s._balanced=!0,n(g)}}function cve(t,e,n){return r;function r(p){return t.enter("resource"),t.enter("resourceMarker"),t.consume(p),t.exit("resourceMarker"),i}function i(p){return Ri(p)?Eg(t,s)(p):s(p)}function s(p){return p===41?h(p):v9(t,o,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function o(p){return Ri(p)?Eg(t,u)(p):h(p)}function l(p){return n(p)}function u(p){return p===34||p===39||p===40?S9(t,d,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):h(p)}function d(p){return Ri(p)?Eg(t,h)(p):h(p)}function h(p){return p===41?(t.enter("resourceMarker"),t.consume(p),t.exit("resourceMarker"),t.exit("resource"),e):n(p)}}function uve(t,e,n){const r=this;return i;function i(l){return w9.call(r,t,s,o,"reference","referenceMarker","referenceString")(l)}function s(l){return r.parser.defined.includes(Lu(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(l):n(l)}function o(l){return n(l)}}function dve(t,e,n){return r;function r(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),i}function i(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}const fve={name:"labelStartImage",resolveAll:UE.resolveAll,tokenize:hve};function hve(t,e,n){const r=this;return i;function i(l){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(l),t.exit("labelImageMarker"),s}function s(l){return l===91?(t.enter("labelMarker"),t.consume(l),t.exit("labelMarker"),t.exit("labelImage"),o):n(l)}function o(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):e(l)}}const pve={name:"labelStartLink",resolveAll:UE.resolveAll,tokenize:mve};function mve(t,e,n){const r=this;return i;function i(o){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const wb={name:"lineEnding",tokenize:gve};function gve(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),Mn(t,e,"linePrefix")}}const Sv={name:"thematicBreak",tokenize:yve};function yve(t,e,n){let r=0,i;return s;function s(d){return t.enter("thematicBreak"),o(d)}function o(d){return i=d,l(d)}function l(d){return d===i?(t.enter("thematicBreakSequence"),u(d)):r>=3&&(d===null||Mt(d))?(t.exit("thematicBreak"),e(d)):n(d)}function u(d){return d===i?(t.consume(d),r++,u):(t.exit("thematicBreakSequence"),gn(d)?Mn(t,l,"whitespace")(d):l(d))}}const Ei={continuation:{tokenize:Sve},exit:Cve,name:"list",tokenize:wve},xve={partial:!0,tokenize:_ve},vve={partial:!0,tokenize:bve};function wve(t,e,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return l;function l(y){const b=r.containerState.type||(y===42||y===43||y===45?"listUnordered":"listOrdered");if(b==="listUnordered"?!r.containerState.marker||y===r.containerState.marker:t_(y)){if(r.containerState.type||(r.containerState.type=b,t.enter(b,{_container:!0})),b==="listUnordered")return t.enter("listItemPrefix"),y===42||y===45?t.check(Sv,n,d)(y):d(y);if(!r.interrupt||y===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),u(y)}return n(y)}function u(y){return t_(y)&&++o<10?(t.consume(y),u):(!r.interrupt||o<2)&&(r.containerState.marker?y===r.containerState.marker:y===41||y===46)?(t.exit("listItemValue"),d(y)):n(y)}function d(y){return t.enter("listItemMarker"),t.consume(y),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||y,t.check(yw,r.interrupt?n:h,t.attempt(xve,g,p))}function h(y){return r.containerState.initialBlankLine=!0,s++,g(y)}function p(y){return gn(y)?(t.enter("listItemPrefixWhitespace"),t.consume(y),t.exit("listItemPrefixWhitespace"),g):n(y)}function g(y){return r.containerState.size=s+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(y)}}function Sve(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(yw,i,s);function i(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Mn(t,e,"listItemIndent",r.containerState.size+1)(l)}function s(l){return r.containerState.furtherBlankLines||!gn(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(vve,e,o)(l))}function o(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,Mn(t,t.attempt(Ei,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function bve(t,e,n){const r=this;return Mn(t,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?e(s):n(s)}}function Cve(t){t.exit(this.containerState.type)}function _ve(t,e,n){const r=this;return Mn(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!gn(s)&&o&&o[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}const TL={name:"setextUnderline",resolveTo:Tve,tokenize:Eve};function Tve(t,e){let n=t.length,r,i,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",s?(t.splice(i,0,["enter",o,e]),t.splice(s+1,0,["exit",t[r][1],e]),t[r][1].end={...t[s][1].end}):t[r][1]=o,t.push(["exit",o,e]),t}function Eve(t,e,n){const r=this;let i;return s;function s(d){let h=r.events.length,p;for(;h--;)if(r.events[h][1].type!=="lineEnding"&&r.events[h][1].type!=="linePrefix"&&r.events[h][1].type!=="content"){p=r.events[h][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||p)?(t.enter("setextHeadingLine"),i=d,o(d)):n(d)}function o(d){return t.enter("setextHeadingLineSequence"),l(d)}function l(d){return d===i?(t.consume(d),l):(t.exit("setextHeadingLineSequence"),gn(d)?Mn(t,u,"lineSuffix")(d):u(d))}function u(d){return d===null||Mt(d)?(t.exit("setextHeadingLine"),e(d)):n(d)}}const Pve={tokenize:Nve};function Nve(t){const e=this,n=t.attempt(yw,r,t.attempt(this.parser.constructs.flowInitial,i,Mn(t,t.attempt(this.parser.constructs.flow,i,t.attempt(Ixe,i)),"linePrefix")));return n;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const jve={resolveAll:C9()},Rve=b9("string"),Ave=b9("text");function b9(t){return{resolveAll:C9(t==="text"?kve:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],s=n.attempt(i,o,l);return o;function o(h){return d(h)?s(h):l(h)}function l(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),u}function u(h){return d(h)?(n.exit("data"),s(h)):(n.consume(h),u)}function d(h){if(h===null)return!0;const p=i[h];let g=-1;if(p)for(;++g<p.length;){const y=p[g];if(!y.previous||y.previous.call(r,r.previous))return!0}return!1}}}function C9(t){return e;function e(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return t?t(n,r):n}}function kve(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let s=i.length,o=-1,l=0,u;for(;s--;){const d=i[s];if(typeof d=="string"){for(o=d.length;d.charCodeAt(o-1)===32;)l++,o--;if(o)break;o=-1}else if(d===-2)u=!0,l++;else if(d!==-1){s++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(l=0),l){const d={type:n===t.length||u||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:r.start._bufferIndex+o,_index:r.start._index+s,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...d.start},r.start.offset===r.end.offset?Object.assign(r,d):(t.splice(n,0,["enter",d,e],["exit",d,e]),n+=2)}n++}return t}const Ive={42:Ei,43:Ei,45:Ei,48:Ei,49:Ei,50:Ei,51:Ei,52:Ei,53:Ei,54:Ei,55:Ei,56:Ei,57:Ei,62:m9},Mve={91:$xe},Dve={[-2]:vb,[-1]:vb,32:vb},Lve={35:Wxe,42:Sv,45:[TL,Sv],60:Kxe,61:TL,95:Sv,96:CL,126:CL},Ove={38:y9,92:g9},$ve={[-5]:wb,[-4]:wb,[-3]:wb,33:fve,38:y9,42:n_,60:[pxe,tve],91:pve,92:[Vxe,g9],93:UE,95:n_,96:Pxe},Fve={null:[n_,jve]},Bve={null:[42,95]},Uve={null:[]},Vve=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Bve,contentInitial:Mve,disable:Uve,document:Ive,flow:Lve,flowInitial:Dve,insideSpan:Fve,string:Ove,text:$ve},Symbol.toStringTag,{value:"Module"}));function zve(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let o=[],l=[];const u={attempt:A(I),check:A(M),consume:E,enter:j,exit:R,interrupt:A(M,{interrupt:!0})},d={code:null,containerState:{},defineSkip:C,events:[],now:b,parser:t,previous:null,sliceSerialize:g,sliceStream:y,write:p};let h=e.tokenize.call(d,u);return e.resolveAll&&s.push(e),d;function p(X){return o=os(o,X),_(),o[o.length-1]!==null?[]:($(e,0),d.events=BE(s,d.events,d),d.events)}function g(X,K){return qve(y(X),K)}function y(X){return Wve(o,X)}function b(){const{_bufferIndex:X,_index:K,line:W,column:V,offset:Y}=r;return{_bufferIndex:X,_index:K,line:W,column:V,offset:Y}}function C(X){i[X.line]=X.column,G()}function _(){let X;for(;r._index<o.length;){const K=o[r._index];if(typeof K=="string")for(X=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===X&&r._bufferIndex<K.length;)P(K.charCodeAt(r._bufferIndex));else P(K)}}function P(X){h=h(X)}function E(X){Mt(X)?(r.line++,r.column=1,r.offset+=X===-3?2:1,G()):X!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),d.previous=X}function j(X,K){const W=K||{};return W.type=X,W.start=b(),d.events.push(["enter",W,d]),l.push(W),W}function R(X){const K=l.pop();return K.end=b(),d.events.push(["exit",K,d]),K}function I(X,K){$(X,K.from)}function M(X,K){K.restore()}function A(X,K){return W;function W(V,Y,ne){let ue,oe,ie,L;return Array.isArray(V)?Z(V):"tokenize"in V?Z([V]):F(V);function F(je){return Te;function Te(Pe){const $e=Pe!==null&&je[Pe],He=Pe!==null&&je.null,tt=[...Array.isArray($e)?$e:$e?[$e]:[],...Array.isArray(He)?He:He?[He]:[]];return Z(tt)(Pe)}}function Z(je){return ue=je,oe=0,je.length===0?ne:U(je[oe])}function U(je){return Te;function Te(Pe){return L=B(),ie=je,je.partial||(d.currentConstruct=je),je.name&&d.parser.constructs.disable.null.includes(je.name)?De():je.tokenize.call(K?Object.assign(Object.create(d),K):d,u,Ne,De)(Pe)}}function Ne(je){return X(ie,L),Y}function De(je){return L.restore(),++oe<ue.length?U(ue[oe]):ne}}}function $(X,K){X.resolveAll&&!s.includes(X)&&s.push(X),X.resolve&&ro(d.events,K,d.events.length-K,X.resolve(d.events.slice(K),d)),X.resolveTo&&(d.events=X.resolveTo(d.events,d))}function B(){const X=b(),K=d.previous,W=d.currentConstruct,V=d.events.length,Y=Array.from(l);return{from:V,restore:ne};function ne(){r=X,d.previous=K,d.currentConstruct=W,d.events.length=V,l=Y,G()}}function G(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Wve(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let o;if(n===i)o=[t[n].slice(r,s)];else{if(o=t.slice(n,i),r>-1){const l=o[0];typeof l=="string"?o[0]=l.slice(r):o.shift()}s>0&&o.push(t[i].slice(0,s))}return o}function qve(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const s=t[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}function Gve(t){const r={constructs:Zye([Vve,...(t||{}).extensions||[]]),content:i(axe),defined:[],document:i(cxe),flow:i(Pve),lazy:{},string:i(Rve),text:i(Ave)};return r;function i(s){return o;function o(l){return zve(r,s,l)}}}function Hve(t){for(;!x9(t););return t}const EL=/[\0\t\n\r]/g;function Kve(){let t=1,e="",n=!0,r;return i;function i(s,o,l){const u=[];let d,h,p,g,y;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),p=0,e="",n&&(s.charCodeAt(0)===65279&&p++,n=void 0);p<s.length;){if(EL.lastIndex=p,d=EL.exec(s),g=d&&d.index!==void 0?d.index:s.length,y=s.charCodeAt(g),!d){e=s.slice(p);break}if(y===10&&p===g&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),p<g&&(u.push(s.slice(p,g)),t+=g-p),y){case 0:{u.push(65533),t++;break}case 9:{for(h=Math.ceil(t/4)*4,u.push(-2);t++<h;)u.push(-1);break}case 10:{u.push(-4),t=1;break}default:r=!0,t=1}p=g+1}return l&&(r&&u.push(-5),e&&u.push(e),u.push(null)),u}}const Yve=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Jve(t){return t.replace(Yve,Xve)}function Xve(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return p9(n.slice(s?2:1),s?16:10)}return FE(n)||t}const _9={}.hasOwnProperty;function Qve(t,e,n){return typeof e!="string"&&(n=e,e=void 0),Zve(n)(Hve(Gve(n).document().write(Kve()(t,e,!0))))}function Zve(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(xn),autolinkProtocol:B,autolinkEmail:B,atxHeading:s(vn),blockQuote:s(He),characterEscape:B,characterReference:B,codeFenced:s(tt),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(tt,o),codeText:s(nt,o),codeTextData:B,data:B,codeFlowValue:B,definition:s(Tt),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(Bt),hardBreakEscape:s(Ut),hardBreakTrailing:s(Ut),htmlFlow:s(fn,o),htmlFlowData:B,htmlText:s(fn,o),htmlTextData:B,image:s(wn),label:o,link:s(xn),listItem:s(un),listItemValue:g,listOrdered:s(Zt,p),listUnordered:s(Zt),paragraph:s(Hn),reference:U,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(vn),strong:s(Tn),thematicBreak:s(xe)},exit:{atxHeading:u(),atxHeadingSequence:I,autolink:u(),autolinkEmail:$e,autolinkProtocol:Pe,blockQuote:u(),characterEscapeValue:G,characterReferenceMarkerHexadecimal:De,characterReferenceMarkerNumeric:De,characterReferenceValue:je,characterReference:Te,codeFenced:u(_),codeFencedFence:C,codeFencedFenceInfo:y,codeFencedFenceMeta:b,codeFlowValue:G,codeIndented:u(P),codeText:u(Y),codeTextData:G,data:G,definition:u(),definitionDestinationString:R,definitionLabelString:E,definitionTitleString:j,emphasis:u(),hardBreakEscape:u(K),hardBreakTrailing:u(K),htmlFlow:u(W),htmlFlowData:G,htmlText:u(V),htmlTextData:G,image:u(ue),label:ie,labelText:oe,lineEnding:X,link:u(ne),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:Ne,resourceDestinationString:L,resourceTitleString:F,resource:Z,setextHeading:u($),setextHeadingLineSequence:A,setextHeadingText:M,strong:u(),thematicBreak:u()}};T9(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(fe){let ve={type:"root",children:[]};const Ie={stack:[ve],tokenStack:[],config:e,enter:l,exit:d,buffer:o,resume:h,data:n},Ye=[];let it=-1;for(;++it<fe.length;)if(fe[it][1].type==="listOrdered"||fe[it][1].type==="listUnordered")if(fe[it][0]==="enter")Ye.push(it);else{const Vt=Ye.pop();it=i(fe,Vt,it)}for(it=-1;++it<fe.length;){const Vt=e[fe[it][0]];_9.call(Vt,fe[it][1].type)&&Vt[fe[it][1].type].call(Object.assign({sliceSerialize:fe[it][2].sliceSerialize},Ie),fe[it][1])}if(Ie.tokenStack.length>0){const Vt=Ie.tokenStack[Ie.tokenStack.length-1];(Vt[1]||PL).call(Ie,void 0,Vt[0])}for(ve.position={start:fa(fe.length>0?fe[0][1].start:{line:1,column:1,offset:0}),end:fa(fe.length>0?fe[fe.length-2][1].end:{line:1,column:1,offset:0})},it=-1;++it<e.transforms.length;)ve=e.transforms[it](ve)||ve;return ve}function i(fe,ve,Ie){let Ye=ve-1,it=-1,Vt=!1,Sn,ye,Ze,ce;for(;++Ye<=Ie;){const Ce=fe[Ye];switch(Ce[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ce[0]==="enter"?it++:it--,ce=void 0;break}case"lineEndingBlank":{Ce[0]==="enter"&&(Sn&&!ce&&!it&&!Ze&&(Ze=Ye),ce=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:ce=void 0}if(!it&&Ce[0]==="enter"&&Ce[1].type==="listItemPrefix"||it===-1&&Ce[0]==="exit"&&(Ce[1].type==="listUnordered"||Ce[1].type==="listOrdered")){if(Sn){let Ee=Ye;for(ye=void 0;Ee--;){const _e=fe[Ee];if(_e[1].type==="lineEnding"||_e[1].type==="lineEndingBlank"){if(_e[0]==="exit")continue;ye&&(fe[ye][1].type="lineEndingBlank",Vt=!0),_e[1].type="lineEnding",ye=Ee}else if(!(_e[1].type==="linePrefix"||_e[1].type==="blockQuotePrefix"||_e[1].type==="blockQuotePrefixWhitespace"||_e[1].type==="blockQuoteMarker"||_e[1].type==="listItemIndent"))break}Ze&&(!ye||Ze<ye)&&(Sn._spread=!0),Sn.end=Object.assign({},ye?fe[ye][1].start:Ce[1].end),fe.splice(ye||Ye,0,["exit",Sn,Ce[2]]),Ye++,Ie++}if(Ce[1].type==="listItemPrefix"){const Ee={type:"listItem",_spread:!1,start:Object.assign({},Ce[1].start),end:void 0};Sn=Ee,fe.splice(Ye,0,["enter",Ee,Ce[2]]),Ye++,Ie++,Ze=void 0,ce=!0}}}return fe[ve][1]._spread=Vt,Ie}function s(fe,ve){return Ie;function Ie(Ye){l.call(this,fe(Ye),Ye),ve&&ve.call(this,Ye)}}function o(){this.stack.push({type:"fragment",children:[]})}function l(fe,ve,Ie){this.stack[this.stack.length-1].children.push(fe),this.stack.push(fe),this.tokenStack.push([ve,Ie||void 0]),fe.position={start:fa(ve.start),end:void 0}}function u(fe){return ve;function ve(Ie){fe&&fe.call(this,Ie),d.call(this,Ie)}}function d(fe,ve){const Ie=this.stack.pop(),Ye=this.tokenStack.pop();if(Ye)Ye[0].type!==fe.type&&(ve?ve.call(this,fe,Ye[0]):(Ye[1]||PL).call(this,fe,Ye[0]));else throw new Error("Cannot close `"+fe.type+"` ("+Tg({start:fe.start,end:fe.end})+"): its not open");Ie.position.end=fa(fe.end)}function h(){return Xye(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function g(fe){if(this.data.expectingFirstListItemValue){const ve=this.stack[this.stack.length-2];ve.start=Number.parseInt(this.sliceSerialize(fe),10),this.data.expectingFirstListItemValue=void 0}}function y(){const fe=this.resume(),ve=this.stack[this.stack.length-1];ve.lang=fe}function b(){const fe=this.resume(),ve=this.stack[this.stack.length-1];ve.meta=fe}function C(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function _(){const fe=this.resume(),ve=this.stack[this.stack.length-1];ve.value=fe.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function P(){const fe=this.resume(),ve=this.stack[this.stack.length-1];ve.value=fe.replace(/(\r?\n|\r)$/g,"")}function E(fe){const ve=this.resume(),Ie=this.stack[this.stack.length-1];Ie.label=ve,Ie.identifier=Lu(this.sliceSerialize(fe)).toLowerCase()}function j(){const fe=this.resume(),ve=this.stack[this.stack.length-1];ve.title=fe}function R(){const fe=this.resume(),ve=this.stack[this.stack.length-1];ve.url=fe}function I(fe){const ve=this.stack[this.stack.length-1];if(!ve.depth){const Ie=this.sliceSerialize(fe).length;ve.depth=Ie}}function M(){this.data.setextHeadingSlurpLineEnding=!0}function A(fe){const ve=this.stack[this.stack.length-1];ve.depth=this.sliceSerialize(fe).codePointAt(0)===61?1:2}function $(){this.data.setextHeadingSlurpLineEnding=void 0}function B(fe){const Ie=this.stack[this.stack.length-1].children;let Ye=Ie[Ie.length-1];(!Ye||Ye.type!=="text")&&(Ye=jn(),Ye.position={start:fa(fe.start),end:void 0},Ie.push(Ye)),this.stack.push(Ye)}function G(fe){const ve=this.stack.pop();ve.value+=this.sliceSerialize(fe),ve.position.end=fa(fe.end)}function X(fe){const ve=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ie=ve.children[ve.children.length-1];Ie.position.end=fa(fe.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(ve.type)&&(B.call(this,fe),G.call(this,fe))}function K(){this.data.atHardBreak=!0}function W(){const fe=this.resume(),ve=this.stack[this.stack.length-1];ve.value=fe}function V(){const fe=this.resume(),ve=this.stack[this.stack.length-1];ve.value=fe}function Y(){const fe=this.resume(),ve=this.stack[this.stack.length-1];ve.value=fe}function ne(){const fe=this.stack[this.stack.length-1];if(this.data.inReference){const ve=this.data.referenceType||"shortcut";fe.type+="Reference",fe.referenceType=ve,delete fe.url,delete fe.title}else delete fe.identifier,delete fe.label;this.data.referenceType=void 0}function ue(){const fe=this.stack[this.stack.length-1];if(this.data.inReference){const ve=this.data.referenceType||"shortcut";fe.type+="Reference",fe.referenceType=ve,delete fe.url,delete fe.title}else delete fe.identifier,delete fe.label;this.data.referenceType=void 0}function oe(fe){const ve=this.sliceSerialize(fe),Ie=this.stack[this.stack.length-2];Ie.label=Jve(ve),Ie.identifier=Lu(ve).toLowerCase()}function ie(){const fe=this.stack[this.stack.length-1],ve=this.resume(),Ie=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ie.type==="link"){const Ye=fe.children;Ie.children=Ye}else Ie.alt=ve}function L(){const fe=this.resume(),ve=this.stack[this.stack.length-1];ve.url=fe}function F(){const fe=this.resume(),ve=this.stack[this.stack.length-1];ve.title=fe}function Z(){this.data.inReference=void 0}function U(){this.data.referenceType="collapsed"}function Ne(fe){const ve=this.resume(),Ie=this.stack[this.stack.length-1];Ie.label=ve,Ie.identifier=Lu(this.sliceSerialize(fe)).toLowerCase(),this.data.referenceType="full"}function De(fe){this.data.characterReferenceType=fe.type}function je(fe){const ve=this.sliceSerialize(fe),Ie=this.data.characterReferenceType;let Ye;Ie?(Ye=p9(ve,Ie==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ye=FE(ve);const it=this.stack[this.stack.length-1];it.value+=Ye}function Te(fe){const ve=this.stack.pop();ve.position.end=fa(fe.end)}function Pe(fe){G.call(this,fe);const ve=this.stack[this.stack.length-1];ve.url=this.sliceSerialize(fe)}function $e(fe){G.call(this,fe);const ve=this.stack[this.stack.length-1];ve.url="mailto:"+this.sliceSerialize(fe)}function He(){return{type:"blockquote",children:[]}}function tt(){return{type:"code",lang:null,meta:null,value:""}}function nt(){return{type:"inlineCode",value:""}}function Tt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Bt(){return{type:"emphasis",children:[]}}function vn(){return{type:"heading",depth:0,children:[]}}function Ut(){return{type:"break"}}function fn(){return{type:"html",value:""}}function wn(){return{type:"image",title:null,url:"",alt:null}}function xn(){return{type:"link",title:null,url:"",children:[]}}function Zt(fe){return{type:"list",ordered:fe.type==="listOrdered",start:null,spread:fe._spread,children:[]}}function un(fe){return{type:"listItem",spread:fe._spread,checked:null,children:[]}}function Hn(){return{type:"paragraph",children:[]}}function Tn(){return{type:"strong",children:[]}}function jn(){return{type:"text",value:""}}function xe(){return{type:"thematicBreak"}}}function fa(t){return{line:t.line,column:t.column,offset:t.offset}}function T9(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?T9(t,r):e0e(t,r)}}function e0e(t,e){let n;for(n in e)if(_9.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function PL(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Tg({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Tg({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Tg({start:e.start,end:e.end})+") is still open")}function t0e(t){const e=this;e.parser=n;function n(r){return Qve(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function n0e(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function r0e(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function i0e(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function s0e(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function o0e(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function a0e(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=od(r.toLowerCase()),s=t.footnoteOrder.indexOf(r);let o,l=t.footnoteCounts.get(r);l===void 0?(l=0,t.footnoteOrder.push(r),o=t.footnoteOrder.length):o=s+1,l+=1,t.footnoteCounts.set(r,l);const u={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};t.patch(e,u);const d={type:"element",tagName:"sup",properties:{},children:[u]};return t.patch(e,d),t.applyData(e,d)}function l0e(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function c0e(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function E9(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function u0e(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return E9(t,e);const i={src:od(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,s),t.applyData(e,s)}function d0e(t,e){const n={src:od(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function f0e(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function h0e(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return E9(t,e);const i={href:od(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function p0e(t,e){const n={href:od(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function m0e(t,e,n){const r=t.all(e),i=n?g0e(n):P9(e),s={},o=[];if(typeof e.checked=="boolean"){const h=r[0];let p;h&&h.type==="element"&&h.tagName==="p"?p=h:(p={type:"element",tagName:"p",properties:{},children:[]},r.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const h=r[l];(i||l!==0||h.type!=="element"||h.tagName!=="p")&&o.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!i?o.push(...h.children):o.push(h)}const u=r[r.length-1];u&&(i||u.type!=="element"||u.tagName!=="p")&&o.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:s,children:o};return t.patch(e,d),t.applyData(e,d)}function g0e(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=P9(n[r])}return e}function P9(t){const e=t.spread;return e??t.children.length>1}function y0e(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,s),t.applyData(e,s)}function x0e(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function v0e(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function w0e(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function S0e(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},l=DE(e.children[1]),u=a9(e.children[e.children.length-1]);l&&u&&(o.position={start:l,end:u}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,s),t.applyData(e,s)}function b0e(t,e,n){const r=n?n.children:void 0,s=(r?r.indexOf(e):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,l=o?o.length:e.children.length;let u=-1;const d=[];for(;++u<l;){const p=e.children[u],g={},y=o?o[u]:void 0;y&&(g.align=y);let b={type:"element",tagName:s,properties:g,children:[]};p&&(b.children=t.all(p),t.patch(p,b),b=t.applyData(p,b)),d.push(b)}const h={type:"element",tagName:"tr",properties:{},children:t.wrap(d,!0)};return t.patch(e,h),t.applyData(e,h)}function C0e(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const NL=9,jL=32;function _0e(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const s=[];for(;r;)s.push(RL(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return s.push(RL(e.slice(i),i>0,!1)),s.join("")}function RL(t,e,n){let r=0,i=t.length;if(e){let s=t.codePointAt(r);for(;s===NL||s===jL;)r++,s=t.codePointAt(r)}if(n){let s=t.codePointAt(i-1);for(;s===NL||s===jL;)i--,s=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function T0e(t,e){const n={type:"text",value:_0e(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function E0e(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const P0e={blockquote:n0e,break:r0e,code:i0e,delete:s0e,emphasis:o0e,footnoteReference:a0e,heading:l0e,html:c0e,imageReference:u0e,image:d0e,inlineCode:f0e,linkReference:h0e,link:p0e,listItem:m0e,list:y0e,paragraph:x0e,root:v0e,strong:w0e,table:S0e,tableCell:C0e,tableRow:b0e,text:T0e,thematicBreak:E0e,toml:iv,yaml:iv,definition:iv,footnoteDefinition:iv};function iv(){}const N9=-1,xw=0,Pg=1,i0=2,VE=3,zE=4,WE=5,qE=6,j9=7,R9=8,AL=typeof self=="object"?self:globalThis,N0e=(t,e)=>{const n=(i,s)=>(t.set(s,i),i),r=i=>{if(t.has(i))return t.get(i);const[s,o]=e[i];switch(s){case xw:case N9:return n(o,i);case Pg:{const l=n([],i);for(const u of o)l.push(r(u));return l}case i0:{const l=n({},i);for(const[u,d]of o)l[r(u)]=r(d);return l}case VE:return n(new Date(o),i);case zE:{const{source:l,flags:u}=o;return n(new RegExp(l,u),i)}case WE:{const l=n(new Map,i);for(const[u,d]of o)l.set(r(u),r(d));return l}case qE:{const l=n(new Set,i);for(const u of o)l.add(r(u));return l}case j9:{const{name:l,message:u}=o;return n(new AL[l](u),i)}case R9:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:l}=new Uint8Array(o);return n(new DataView(l),o)}}return n(new AL[s](o),i)};return r},kL=t=>N0e(new Map,t)(0),uu="",{toString:j0e}={},{keys:R0e}=Object,Xm=t=>{const e=typeof t;if(e!=="object"||!t)return[xw,e];const n=j0e.call(t).slice(8,-1);switch(n){case"Array":return[Pg,uu];case"Object":return[i0,uu];case"Date":return[VE,uu];case"RegExp":return[zE,uu];case"Map":return[WE,uu];case"Set":return[qE,uu];case"DataView":return[Pg,n]}return n.includes("Array")?[Pg,n]:n.includes("Error")?[j9,n]:[i0,n]},sv=([t,e])=>t===xw&&(e==="function"||e==="symbol"),A0e=(t,e,n,r)=>{const i=(o,l)=>{const u=r.push(o)-1;return n.set(l,u),u},s=o=>{if(n.has(o))return n.get(o);let[l,u]=Xm(o);switch(l){case xw:{let h=o;switch(u){case"bigint":l=R9,h=o.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+u);h=null;break;case"undefined":return i([N9],o)}return i([l,h],o)}case Pg:{if(u){let g=o;return u==="DataView"?g=new Uint8Array(o.buffer):u==="ArrayBuffer"&&(g=new Uint8Array(o)),i([u,[...g]],o)}const h=[],p=i([l,h],o);for(const g of o)h.push(s(g));return p}case i0:{if(u)switch(u){case"BigInt":return i([u,o.toString()],o);case"Boolean":case"Number":case"String":return i([u,o.valueOf()],o)}if(e&&"toJSON"in o)return s(o.toJSON());const h=[],p=i([l,h],o);for(const g of R0e(o))(t||!sv(Xm(o[g])))&&h.push([s(g),s(o[g])]);return p}case VE:return i([l,o.toISOString()],o);case zE:{const{source:h,flags:p}=o;return i([l,{source:h,flags:p}],o)}case WE:{const h=[],p=i([l,h],o);for(const[g,y]of o)(t||!(sv(Xm(g))||sv(Xm(y))))&&h.push([s(g),s(y)]);return p}case qE:{const h=[],p=i([l,h],o);for(const g of o)(t||!sv(Xm(g)))&&h.push(s(g));return p}}const{message:d}=o;return i([l,{name:u,message:d}],o)};return s},IL=(t,{json:e,lossy:n}={})=>{const r=[];return A0e(!(e||n),!!e,new Map,r)(t),r},s0=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?kL(IL(t,e)):structuredClone(t):(t,e)=>kL(IL(t,e));function k0e(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function I0e(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function M0e(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||k0e,r=t.options.footnoteBackLabel||I0e,i=t.options.footnoteLabel||"Footnotes",s=t.options.footnoteLabelTagName||"h2",o=t.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let u=-1;for(;++u<t.footnoteOrder.length;){const d=t.footnoteById.get(t.footnoteOrder[u]);if(!d)continue;const h=t.all(d),p=String(d.identifier).toUpperCase(),g=od(p.toLowerCase());let y=0;const b=[],C=t.footnoteCounts.get(p);for(;C!==void 0&&++y<=C;){b.length>0&&b.push({type:"text",value:" "});let E=typeof n=="string"?n:n(u,y);typeof E=="string"&&(E={type:"text",value:E}),b.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+g+(y>1?"-"+y:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(u,y),className:["data-footnote-backref"]},children:Array.isArray(E)?E:[E]})}const _=h[h.length-1];if(_&&_.type==="element"&&_.tagName==="p"){const E=_.children[_.children.length-1];E&&E.type==="text"?E.value+=" ":_.children.push({type:"text",value:" "}),_.children.push(...b)}else h.push(...b);const P={type:"element",tagName:"li",properties:{id:e+"fn-"+g},children:t.wrap(h,!0)};t.patch(d,P),l.push(P)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...s0(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(l,!0)},{type:"text",value:`
`}]}}const A9=function(t){if(t==null)return $0e;if(typeof t=="function")return vw(t);if(typeof t=="object")return Array.isArray(t)?D0e(t):L0e(t);if(typeof t=="string")return O0e(t);throw new Error("Expected function, string, or object as test")};function D0e(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=A9(t[n]);return vw(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function L0e(t){const e=t;return vw(n);function n(r){const i=r;let s;for(s in t)if(i[s]!==e[s])return!1;return!0}}function O0e(t){return vw(e);function e(n){return n&&n.type===t}}function vw(t){return e;function e(n,r,i){return!!(F0e(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function $0e(){return!0}function F0e(t){return t!==null&&typeof t=="object"&&"type"in t}const k9=[],B0e=!0,ML=!1,U0e="skip";function V0e(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const s=A9(i),o=r?-1:1;l(t,void 0,[])();function l(u,d,h){const p=u&&typeof u=="object"?u:{};if(typeof p.type=="string"){const y=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(u.type+(y?"<"+y+">":""))+")"})}return g;function g(){let y=k9,b,C,_;if((!e||s(u,d,h[h.length-1]||void 0))&&(y=z0e(n(u,h)),y[0]===ML))return y;if("children"in u&&u.children){const P=u;if(P.children&&y[0]!==U0e)for(C=(r?P.children.length:-1)+o,_=h.concat(P);C>-1&&C<P.children.length;){const E=P.children[C];if(b=l(E,C,_)(),b[0]===ML)return b;C=typeof b[1]=="number"?b[1]:C+o}}return y}}}function z0e(t){return Array.isArray(t)?t:typeof t=="number"?[B0e,t]:t==null?k9:[t]}function I9(t,e,n,r){let i,s,o;typeof e=="function"?(s=void 0,o=e,i=n):(s=e,o=n,i=r),V0e(t,s,l,i);function l(u,d){const h=d[d.length-1],p=h?h.children.indexOf(u):void 0;return o(u,p,h)}}const r_={}.hasOwnProperty,W0e={};function q0e(t,e){const n=e||W0e,r=new Map,i=new Map,s=new Map,o={...P0e,...n.handlers},l={all:d,applyData:H0e,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:u,options:n,patch:G0e,wrap:Y0e};return I9(t,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const p=h.type==="definition"?r:i,g=String(h.identifier).toUpperCase();p.has(g)||p.set(g,h)}}),l;function u(h,p){const g=h.type,y=l.handlers[g];if(r_.call(l.handlers,g)&&y)return y(l,h,p);if(l.options.passThrough&&l.options.passThrough.includes(g)){if("children"in h){const{children:C,..._}=h,P=s0(_);return P.children=l.all(h),P}return s0(h)}return(l.options.unknownHandler||K0e)(l,h,p)}function d(h){const p=[];if("children"in h){const g=h.children;let y=-1;for(;++y<g.length;){const b=l.one(g[y],h);if(b){if(y&&g[y-1].type==="break"&&(!Array.isArray(b)&&b.type==="text"&&(b.value=DL(b.value)),!Array.isArray(b)&&b.type==="element")){const C=b.children[0];C&&C.type==="text"&&(C.value=DL(C.value))}Array.isArray(b)?p.push(...b):p.push(b)}}}return p}}function G0e(t,e){t.position&&(e.position=jye(t))}function H0e(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,s=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,s0(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function K0e(t,e){const n=e.data||{},r="value"in e&&!(r_.call(n,"hProperties")||r_.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Y0e(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function DL(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function LL(t,e){const n=q0e(t,e),r=n.one(t,void 0),i=M0e(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function J0e(t,e){return t&&"run"in t?async function(n,r){const i=LL(n,{file:r,...e});await t.run(i,r)}:function(n,r){return LL(n,{file:r,...t||e})}}function OL(t){if(t)throw t}var Sb,$L;function X0e(){if($L)return Sb;$L=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(d){return typeof Array.isArray=="function"?Array.isArray(d):e.call(d)==="[object Array]"},s=function(d){if(!d||e.call(d)!=="[object Object]")return!1;var h=t.call(d,"constructor"),p=d.constructor&&d.constructor.prototype&&t.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!h&&!p)return!1;var g;for(g in d);return typeof g>"u"||t.call(d,g)},o=function(d,h){n&&h.name==="__proto__"?n(d,h.name,{enumerable:!0,configurable:!0,value:h.newValue,writable:!0}):d[h.name]=h.newValue},l=function(d,h){if(h==="__proto__")if(t.call(d,h)){if(r)return r(d,h).value}else return;return d[h]};return Sb=function u(){var d,h,p,g,y,b,C=arguments[0],_=1,P=arguments.length,E=!1;for(typeof C=="boolean"&&(E=C,C=arguments[1]||{},_=2),(C==null||typeof C!="object"&&typeof C!="function")&&(C={});_<P;++_)if(d=arguments[_],d!=null)for(h in d)p=l(C,h),g=l(d,h),C!==g&&(E&&g&&(s(g)||(y=i(g)))?(y?(y=!1,b=p&&i(p)?p:[]):b=p&&s(p)?p:{},o(C,{name:h,newValue:u(E,b,g)})):typeof g<"u"&&o(C,{name:h,newValue:g}));return C},Sb}var Q0e=X0e();const bb=Gu(Q0e);function i_(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Z0e(){const t=[],e={run:n,use:r};return e;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);l(null,...i);function l(u,...d){const h=t[++s];let p=-1;if(u){o(u);return}for(;++p<i.length;)(d[p]===null||d[p]===void 0)&&(d[p]=i[p]);i=d,h?ewe(h,l)(...d):o(null,...d)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function ewe(t,e){let n;return r;function r(...o){const l=t.length>o.length;let u;l&&o.push(i);try{u=t.apply(this,o)}catch(d){const h=d;if(l&&n)throw h;return i(h)}l||(u&&u.then&&typeof u.then=="function"?u.then(s,i):u instanceof Error?i(u):s(u))}function i(o,...l){n||(n=!0,e(o,...l))}function s(o){i(null,o)}}const Gs={basename:twe,dirname:nwe,extname:rwe,join:iwe,sep:"/"};function twe(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');xy(t);let n=0,r=-1,i=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let o=-1,l=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),l>-1&&(t.codePointAt(i)===e.codePointAt(l--)?l<0&&(r=i):(l=-1,r=o));return n===r?r=o:r<0&&(r=t.length),t.slice(n,r)}function nwe(t){if(xy(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function rwe(t){xy(t);let e=t.length,n=-1,r=0,i=-1,s=0,o;for(;e--;){const l=t.codePointAt(e);if(l===47){if(o){r=e+1;break}continue}n<0&&(o=!0,n=e+1),l===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function iwe(...t){let e=-1,n;for(;++e<t.length;)xy(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":swe(n)}function swe(t){xy(t);const e=t.codePointAt(0)===47;let n=owe(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function owe(t,e){let n="",r=0,i=-1,s=0,o=-1,l,u;for(;++o<=t.length;){if(o<t.length)l=t.codePointAt(o);else{if(l===47)break;l=47}if(l===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,o):n=t.slice(i+1,o),r=o-i-1;i=o,s=0}else l===46&&s>-1?s++:s=-1}return n}function xy(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const awe={cwd:lwe};function lwe(){return"/"}function s_(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function cwe(t){if(typeof t=="string")t=new URL(t);else if(!s_(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return uwe(t)}function uwe(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const Cb=["history","path","basename","stem","extname","dirname"];class M9{constructor(e){let n;e?s_(e)?n={path:e}:typeof e=="string"||dwe(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":awe.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Cb.length;){const s=Cb[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)Cb.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Gs.basename(this.path):void 0}set basename(e){Tb(e,"basename"),_b(e,"basename"),this.path=Gs.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Gs.dirname(this.path):void 0}set dirname(e){FL(this.basename,"dirname"),this.path=Gs.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Gs.extname(this.path):void 0}set extname(e){if(_b(e,"extname"),FL(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Gs.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){s_(e)&&(e=cwe(e)),Tb(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Gs.basename(this.path,this.extname):void 0}set stem(e){Tb(e,"stem"),_b(e,"stem"),this.path=Gs.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new li(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function _b(t,e){if(t&&t.includes(Gs.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Gs.sep+"`")}function Tb(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function FL(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function dwe(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const fwe=function(t){const r=this.constructor.prototype,i=r[t],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},hwe={}.hasOwnProperty;class GE extends fwe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Z0e()}copy(){const e=new GE;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(bb(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(Nb("data",this.frozen),this.namespace[e]=n,this):hwe.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Nb("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=ov(e),r=this.parser||this.Parser;return Eb("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),Eb("process",this.parser||this.Parser),Pb("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const l=ov(e),u=r.parse(l);r.run(u,l,function(h,p,g){if(h||!p||!g)return d(h);const y=p,b=r.stringify(y,g);gwe(b)?g.value=b:g.result=b,d(h,g)});function d(h,p){h||!p?o(h):s?s(p):n(void 0,p)}}}processSync(e){let n=!1,r;return this.freeze(),Eb("processSync",this.parser||this.Parser),Pb("processSync",this.compiler||this.Compiler),this.process(e,i),UL("processSync","process",n),r;function i(s,o){n=!0,OL(s),r=o}}run(e,n,r){BL(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,l){const u=ov(n);i.run(e,u,d);function d(h,p,g){const y=p||e;h?l(h):o?o(y):r(void 0,y,g)}}}runSync(e,n){let r=!1,i;return this.run(e,n,s),UL("runSync","run",r),i;function s(o,l){OL(o),i=l,r=!0}}stringify(e,n){this.freeze();const r=ov(n),i=this.compiler||this.Compiler;return Pb("stringify",i),BL(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(Nb("use",this.frozen),e!=null)if(typeof e=="function")u(e,n);else if(typeof e=="object")Array.isArray(e)?l(e):o(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(d){if(typeof d=="function")u(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[h,...p]=d;u(h,p)}else o(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function o(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(d.plugins),d.settings&&(i.settings=bb(!0,i.settings,d.settings))}function l(d){let h=-1;if(d!=null)if(Array.isArray(d))for(;++h<d.length;){const p=d[h];s(p)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function u(d,h){let p=-1,g=-1;for(;++p<r.length;)if(r[p][0]===d){g=p;break}if(g===-1)r.push([d,...h]);else if(h.length>0){let[y,...b]=h;const C=r[g][1];i_(C)&&i_(y)&&(y=bb(!0,C,y)),r[g]=[d,y,...b]}}}}const pwe=new GE().freeze();function Eb(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function Pb(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function Nb(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function BL(t){if(!i_(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function UL(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function ov(t){return mwe(t)?t:new M9(t)}function mwe(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function gwe(t){return typeof t=="string"||ywe(t)}function ywe(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const xwe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",VL=[],zL={allowDangerousHtml:!0},vwe=/^(https?|ircs?|mailto|xmpp)$/i,wwe=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Swe(t){const e=bwe(t),n=Cwe(t);return _we(e.runSync(e.parse(n),n),t)}function bwe(t){const e=t.rehypePlugins||VL,n=t.remarkPlugins||VL,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...zL}:zL;return pwe().use(t0e).use(n).use(J0e,r).use(e)}function Cwe(t){const e=t.children||"",n=new M9;return typeof e=="string"&&(n.value=e),n}function _we(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,s=e.disallowedElements,o=e.skipHtml,l=e.unwrapDisallowed,u=e.urlTransform||Twe;for(const h of wwe)Object.hasOwn(e,h.from)&&(""+h.from+(h.to?"use `"+h.to+"` instead":"remove it")+xwe+h.id,void 0);return I9(t,d),Mye(t,{Fragment:a.Fragment,components:i,ignoreInvalidStyle:!0,jsx:a.jsx,jsxs:a.jsxs,passKeys:!0,passNode:!0});function d(h,p,g){if(h.type==="raw"&&g&&typeof p=="number")return o?g.children.splice(p,1):g.children[p]={type:"text",value:h.value},p;if(h.type==="element"){let y;for(y in xb)if(Object.hasOwn(xb,y)&&Object.hasOwn(h.properties,y)){const b=h.properties[y],C=xb[y];(C===null||C.includes(h.tagName))&&(h.properties[y]=u(String(b||""),y,h))}}if(h.type==="element"){let y=n?!n.includes(h.tagName):s?s.includes(h.tagName):!1;if(!y&&r&&typeof p=="number"&&(y=!r(h,p,g)),y&&g&&typeof p=="number")return l&&h.children?g.children.splice(p,1,...h.children):g.children.splice(p,1),p}}}function Twe(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||vwe.test(t.slice(0,e))?t:""}const Ewe=({productData:t,onViewDetails:e,onAddToCart:n,onBuyNow:r,onVisualize:i})=>{if(!t)return null;const{name:s,description:o,price:l,imageUrl:u,id:d}=t;return a.jsxs(We,{className:"mb-2 w-full max-w-xs sm:max-w-sm overflow-hidden shadow-md border border-border",children:[u&&a.jsx("div",{className:"w-full h-32 sm:h-40 overflow-hidden bg-muted",children:a.jsx("img",{src:u,alt:s||"Product image",className:"w-full h-full object-contain"})}),a.jsx(Xe,{className:"p-3",children:s&&a.jsx(Qe,{className:"text-sm sm:text-base font-semibold leading-tight line-clamp-2",children:s})}),a.jsxs(Ke,{className:"p-3 pt-0 text-xs sm:text-sm",children:[o&&a.jsx(Dt,{className:"mb-2 line-clamp-2 sm:line-clamp-3 text-muted-foreground",children:o}),l&&a.jsx("p",{className:"font-semibold text-sm sm:text-base",children:typeof l=="number"?`$${l.toFixed(2)}`:l}),a.jsxs("div",{className:"mt-3 flex flex-col sm:flex-row sm:space-x-2 space-y-2 sm:space-y-0",children:[e&&a.jsx(te,{size:"sm",variant:"outline",className:"flex-1 text-xs sm:text-sm",onClick:()=>e(d,s),children:"View"}),n&&a.jsx(te,{size:"sm",variant:"secondary",className:"flex-1 text-xs sm:text-sm",onClick:()=>n(d,s),children:"Add to Cart"}),r&&a.jsx(te,{size:"sm",variant:"default",className:"flex-1 text-xs sm:text-sm",onClick:()=>r(d,s),children:"Buy Now"})]}),i&&a.jsxs(te,{size:"sm",variant:"outline",className:"w-full mt-2 text-xs sm:text-sm",onClick:()=>i(d,s),children:[a.jsx(Tu,{className:"mr-2 h-4 w-4"}),"Visualize with Image"]})]})]})},Pwe="AIzaSyDJ2rjQjY4mD6E34RqAv_ezZ3a29eYRA0I",Nwe=new us({apiKey:Pwe}),jwe="gemini-2.0-flash-preview-image-generation";async function jb(t,e){if(!t)throw new Error("Image source is undefined or null.");let n,r=e;if(typeof t=="string"&&(t.startsWith("http://")||t.startsWith("https://"))){console.log(`Fetching image from URL: ${t}`);const s=await fetch(t);if(!s.ok)throw new Error(`Failed to fetch image from ${t}: ${s.statusText}`);const o=await s.blob();r=o.type||r||"image/jpeg",n=await new Promise((l,u)=>{const d=new FileReader;d.onloadend=()=>{typeof d.result=="string"?l(d.result.split(",")[1]):u(new Error("FileReader did not return a string for URL image."))},d.onerror=h=>u(new Error(`FileReader failed for URL image: ${h}`)),d.readAsDataURL(o)})}else if(typeof t=="string"&&t.startsWith("data:")){console.log("Processing Data URL image.");try{const s=t.split(",");if(s.length<2)throw new Error("Invalid data URL structure.");const o=s[0];n=s[1];const l=o.match(/:(.*?);/);if(!l||!l[1])throw new Error("Could not parse MIME type from data URL.");r=l[1]}catch(s){throw console.error("Error parsing data URL:",t,s),new Error(`Invalid data URL format: ${s.message}`)}}else if(typeof File<"u"&&t instanceof File)console.log(`Processing File object: ${t.name}`),r=t.type,n=await new Promise((s,o)=>{const l=new FileReader;l.onloadend=()=>{typeof l.result=="string"?s(l.result.split(",")[1]):o(new Error("FileReader did not return a string for File object."))},l.onerror=u=>o(new Error(`FileReader failed for File object: ${u}`)),l.readAsDataURL(t)});else if(typeof t=="string"){console.warn(`Received string imageSource that is not a URL or Data URL: "${t}". This path is intended for Node.js file paths.`);try{console.log(`Attempting to read image from local path (Node.js context): ${t}`),n=(await(await Vn(()=>Promise.resolve().then(()=>xC),void 0)).readFile(t)).toString("base64");const u=(await Vn(()=>Promise.resolve().then(()=>xC),void 0)).extname(t).toLowerCase();if(!r)if(u===".png")r="image/png";else if(u===".jpg"||u===".jpeg")r="image/jpeg";else if(u===".webp")r="image/webp";else if(u===".gif")r="image/gif";else throw new Error(`Unsupported image extension or MIME type not provided for path: ${t}`)}catch(s){throw console.error("Failed to process string as Node.js file path (this is expected in browser):",s),new Error("Unsupported string imageSource in browser. Must be URL or Data URL, or provide a File object.")}}else throw new Error("Unsupported image source type. Provide a URL, Data URL, or File object.");if(!n)throw new Error("Could not obtain base64 image data.");r||(r="image/jpeg",console.warn("MIME type could not be determined, defaulting to image/jpeg."));const i=["image/png","image/jpeg","image/webp","image/heic","image/heif"];return i.includes(r)||console.warn(`MIME type ${r} may not be optimally supported. Supported types are: ${i.join(", ")}.`),{inlineData:{data:n,mimeType:r}}}async function D9({mainProduct:t,referenceSceneSource:e,additionalProducts:n=[],customInstructions:r=""}){var o,l,u,d,h,p,g,y;if(!t||!t.name||!t.imageSource)throw new Error("Main product with name and imageSource is required.");if(!e)throw new Error("Reference scene imageSource is required.");const i=[];let s=`Visually integrate the product named "${t.name}" into a scene inspired by the provided reference scene image.
The main product is described as: "${t.description||"Not specified"}".
The reference scene image sets the style, lighting, and overall environment.
Make the main product the primary focus, well-lit, and naturally fitting the scene's perspective.
`;n.length>0&&(s+=`
Also, incorporate the following additional products naturally into the scene:
`,n.forEach((b,C)=>{s+=`- Product ${C+1}: "${b.name}" (Description: "${b.description||"Not specified"}")
`})),r.trim()!==""&&(s+=`
Specific User Instructions: "${r.trim()}"
`),s+=`
Please generate a high-quality, photorealistic image based on these instructions and the provided images. Also provide a brief text commentary about the generated image or any challenges encountered.`,i.push({text:s});try{i.push(await jb(e)),i.push(await jb(t.imageSource));for(const b of n)if(b.imageSource)try{i.push(await jb(b.imageSource))}catch(C){console.warn(`Could not process image for additional product "${b.name}": ${C.message}. Skipping this image.`)}}catch(b){throw new Error(`Failed to process one or more input images: ${b.message}`)}console.log("Constructed prompt parts. Total parts:",i.length);try{const b=await Nwe.models.generateContent({model:jwe,contents:[{role:"user",parts:i}],generationConfig:{temperature:.6,candidateCount:1},safetySettings:[{category:Ir.HARM_CATEGORY_HARASSMENT,threshold:Mr.BLOCK_MEDIUM_AND_ABOVE},{category:Ir.HARM_CATEGORY_HATE_SPEECH,threshold:Mr.BLOCK_MEDIUM_AND_ABOVE},{category:Ir.HARM_CATEGORY_SEXUALLY_EXPLICIT,threshold:Mr.BLOCK_MEDIUM_AND_ABOVE},{category:Ir.HARM_CATEGORY_DANGEROUS_CONTENT,threshold:Mr.BLOCK_MEDIUM_AND_ABOVE}],config:{responseModalities:[Vr.TEXT,Vr.IMAGE]}}),C=b;if(!C)throw console.error("Full API result from Gemini was undefined:",b),new Error("Invalid or empty response from Gemini API.");let _=null,P="No specific commentary from the model.";console.log("Full API response from Gemini:",JSON.stringify(C,null,2)),(o=C.promptFeedback)!=null&&o.blockReason&&(P=`Image generation may have been blocked. Reason: ${C.promptFeedback.blockReason}.`,console.warn(P));const E=(l=C.candidates)==null?void 0:l[0];if(E){if(E.finishReason&&E.finishReason!=="STOP"&&E.finishReason!=="MAX_TOKENS"){const j=`Generation stopped. Reason: ${E.finishReason}.`;P=P==="No specific commentary from the model."?j:`${P}. ${j}`,console.warn(j)}if(((d=(u=E.content)==null?void 0:u.parts)==null?void 0:d.length)>0)for(const j of E.content.parts)j.text?P=P==="No specific commentary from the model."||!P.includes(j.text)?P==="No specific commentary from the model."?j.text:P+" "+j.text:P:(p=(h=j.inlineData)==null?void 0:h.mimeType)!=null&&p.startsWith("image/")&&(_=`data:${j.inlineData.mimeType};base64,${j.inlineData.data}`,console.log(`Image generated successfully. MIME type: ${j.inlineData.mimeType}`))}else(g=C.promptFeedback)!=null&&g.blockReason||(P=P==="No specific commentary from the model."?"No candidates returned by the model.":`${P}. Also, no candidates were returned.`);return!_&&P==="No specific commentary from the model."&&(P="Image generation failed, and no specific reason or commentary was provided."),{imageUrl:_,commentary:P,promptUsed:s}}catch(b){console.error("Error during Gemini API call or response processing:",b);let C=b.message;throw(y=b.response)!=null&&y.message?C=b.response.message:b.response&&(C=JSON.stringify(b.response)),new Error(`Product visualization failed: ${C}`)}}BU("pk_live_51NAoUjDktew9heHOJD5Px4jn9IaolhvVvqoE6NukJV7MxZa8PhIVSwcOVWXdQx6MFNgIGmEYeg64lFUGlYfAyVqu004n16tAdG");const L9=()=>{var Ze;const t=Rs(),{currentStore:e,addToCart:n,getProductById:r,updateQuantity:i,viewMode:s}=Zn(),{userRole:o}=Is(),[l,u]=x.useState(!1),[d,h]=x.useState(!1),[p,g]=x.useState('You are a friendly and helpful AI assistant for an e-commerce store. Be concise and helpful. Always format your responses using Markdown. If a user asks you to find a product, your primary action should be to use the `find_and_open_product` function. **Only after the `find_and_open_product` function successfully returns product details (indicated by `product_found: true` in the function\'s result) should you then say something like "Here is the product I found for you:".** At that point, a product card will also be displayed by the UI. Following your acknowledgment, you MUST ask a relevant follow-up question, such as "Would you like to see more details, add it to your cart, or keep browsing?". If the function call indicates the product was not found (`product_found: false`), you should inform the user you could not find the product and offer to search again or help with something else. Do not repeat raw product data (like image URLs or full product objects) in your text response, as the card already displays this information.'),[y,b]=x.useState(""),[C,_]=x.useState([]),[P,E]=x.useState(null),[j,R]=x.useState(null),[I,M]=x.useState(!1),[A,$]=x.useState(null),B=x.useRef(null),G=x.useRef([]),X=x.useRef(null),K=x.useRef(null),[W,V]=x.useState(null),[Y,ne]=x.useState(!1),ue=x.useRef(!1),oe={name:"find_and_open_product",description:"Finds a product based on a query (name, keywords, or ID) and returns its details for display. It does NOT navigate. After displaying, ask if the user wants to navigate or add to cart.",parameters:{type:mn.OBJECT,properties:{product_query:{type:mn.STRING,description:"The name, keywords, or ID of the product to find."}},required:["product_query"]}},ie={name:"navigate_to_product_detail_page",description:"Navigates the user to the detailed page for a specific product, given its ID.",parameters:{type:mn.OBJECT,properties:{product_id:{type:mn.STRING,description:"The unique ID of the product."},product_name:{type:mn.STRING,description:"The name of the product (for confirmation)."}},required:["product_id"]}},L={name:"add_to_cart",description:"Adds a specified product to the user's shopping cart.",parameters:{type:mn.OBJECT,properties:{product_id:{type:mn.STRING,description:"The unique ID of the product to add."},product_name:{type:mn.STRING,description:"The name of the product (for confirmation)."},quantity:{type:mn.NUMBER,description:"The quantity to add. Defaults to 1 if not specified."}},required:["product_id"]}},F={name:"initiate_purchase",description:"Initiates the purchase process for a specified product, potentially by adding to cart and navigating to checkout or directly to a payment page.",parameters:{type:mn.OBJECT,properties:{product_id:{type:mn.STRING,description:"The unique ID of the product to purchase."},product_name:{type:mn.STRING,description:"The name of the product (for confirmation)."}},required:["product_id"]}},Z={name:"navigate_home",description:`Navigates the user to the application's home page (typically the root path "/").`,parameters:{type:mn.OBJECT,properties:{}}},U={name:"navigate_to_content_creation_page",description:"Navigates the user to the content creation page.",parameters:{type:mn.OBJECT,properties:{}}},Ne={name:"navigate_to_store_dashboard",description:"Navigates the user to the store dashboard page.",parameters:{type:mn.OBJECT,properties:{}}},De={name:"navigate_to_route",description:'Navigates the user to a specified route within the application. Use for requests like "go to a specific page". This is a generic navigation tool.',parameters:{type:mn.OBJECT,properties:{route:{type:mn.STRING,description:'The path to navigate to (e.g., "/", "/content-creation", "/dashboard").'}},required:["route"]}},je={name:"toggle_theme_mode",description:"Toggles the application's visual theme between light and dark mode.",parameters:{type:mn.OBJECT,properties:{}}},Te={name:"open_import_store_dialog",description:"Opens the dialog or interface for importing a store from another platform.",parameters:{type:mn.OBJECT,properties:{}}},Pe={name:"go_to_cart",description:"Navigates the user to their shopping cart page.",parameters:{type:mn.OBJECT,properties:{}}},$e=[oe,ie,L,F,De,je,Te,Pe,Z,U,Ne],He=()=>{var ce;(ce=X.current)==null||ce.scrollIntoView({behavior:"smooth"})};x.useEffect(He,[C]);const tt=()=>u(!l),nt=()=>h(!d),Tt=()=>{h(!1)},Bt=(ce=null)=>{const Ce=typeof ce=="string"?ce:y;if(Ce.trim()==="")return;const Ee=`user-text-${Date.now()}`;_(_e=>[..._e,{id:Ee,role:"user",text:Ce}]),typeof ce!="string"&&b(""),P==="gemini"&&j?vn(Ce):console.error("Error: Gemini chat not active. Cannot send message.")},vn=async ce=>{if(!j){console.error("Gemini chat not initialized.");return}try{const Ce=await j.sendMessageStream({message:[{text:ce}]}),Ee=`assistant-gemini-${Date.now()}`;_(At=>[...At,{id:Ee,role:"assistant",text:"",functionCallData:null}]);let _e="",Et=null;for await(const At of Ce){let bt=null;At.functionCalls&&At.functionCalls.length>0?bt=At.functionCalls[0]:At.functionCall&&(bt=At.functionCall),bt&&(Et=bt);const ht=At.text;ht&&(_e+=ht,_(qt=>qt.map(sr=>sr.id===Ee?{...sr,text:_e}:sr)))}Et?(_(At=>At.map(bt=>{if(bt.id===Ee){let ht=`(Function call: ${Et.name})`;Et.name==="find_and_open_product"&&(ht="Searching for product");const qt=_e.trim()===""?ht:`${_e}
${ht}`;return{...bt,text:qt,functionCallData:Et}}return bt})),await jn(Et,Ee)):_e.trim()!==""||_(At=>At.map(bt=>bt.id===Ee?{...bt,text:"(Assistant responded without text)"}:bt))}catch(Ce){console.error("Error sending/receiving Gemini message:",Ce)}},Ut=ce=>{const Ce=ce.route;if(Ce)try{return t(Ce),{success:!0,detail:`Successfully navigated to ${Ce}`}}catch(Ee){return console.error("Navigation error:",Ee),{success:!1,detail:`Failed to navigate: ${Ee.message}`}}return{success:!1,detail:"Route not provided in arguments."}},fn=ce=>({success:!0,detail:"Theme toggled (placeholder action)."}),wn=ce=>({success:!0,detail:"Import store dialog would be shown (placeholder action)."}),xn=ce=>{try{return t("/cart"),{success:!0,detail:"Navigated to cart page."}}catch(Ce){return console.error("Navigation to cart error:",Ce),{success:!1,detail:`Failed to navigate to cart: ${Ce.message}`}}},Zt=ce=>{var Et,At,bt,ht,qt,sr,ci,qr,yi;const Ce=(Et=ce.product_query)==null?void 0:Et.toLowerCase().trim();if(!Ce)return{success:!0,product_found:!1,detail:"Product query not provided."};if(!e||!e.products||e.products.length===0)return{success:!0,product_found:!1,detail:"No products available in the current store to search."};const Ee=e.products;let _e=null;if(_e=Ee.find(en=>{var Kn;return((Kn=en.name)==null?void 0:Kn.toLowerCase())===Ce}),!_e){const en=Ce.split(/\s+/).filter(Kn=>Kn.length>1);if(en.length>0){let Kn=Ee.map(Tr=>{var ee,pe;const ae=((ee=Tr.name)==null?void 0:ee.toLowerCase())||"",H=((pe=Tr.description)==null?void 0:pe.toLowerCase())||"";let J=0;return en.forEach(be=>{ae.includes(be)&&(J+=2),H.includes(be)&&(J+=1)}),ae.includes(Ce)&&(J+=5),H.includes(Ce)&&(J+=2),{product:Tr,score:J}});Kn=Kn.filter(Tr=>Tr.score>0).sort((Tr,ae)=>ae.score-Tr.score),Kn.length>0&&(_e=Kn[0].product)}}if(_e||/^[a-zA-Z0-9-_]+$/.test(Ce)&&!Ce.includes(" ")&&(_e=Ee.find(en=>{var Kn;return((Kn=en.id)==null?void 0:Kn.toString())===Ce})),_e){let en=null;return(bt=(At=_e.image)==null?void 0:At.src)!=null&&bt.large&&typeof _e.image.src.large=="string"?en=_e.image.src.large:(qt=(ht=_e.image)==null?void 0:ht.src)!=null&&qt.medium&&typeof _e.image.src.medium=="string"?en=_e.image.src.medium:(ci=(sr=_e.image)==null?void 0:sr.src)!=null&&ci.small&&typeof _e.image.src.small=="string"?en=_e.image.src.small:_e.image_url&&typeof _e.image_url=="string"?en=_e.image_url:_e.imageUrl&&typeof _e.imageUrl=="string"?en=_e.imageUrl:_e.image&&typeof _e.image=="string"?en=_e.image:_e.images&&Array.isArray(_e.images)&&_e.images.length>0&&((qr=_e.images[0])!=null&&qr.src)&&typeof _e.images[0].src=="string"?en=_e.images[0].src:(yi=_e.featuredImage)!=null&&yi.url&&typeof _e.featuredImage.url=="string"&&(en=_e.featuredImage.url),en&&typeof en=="string"&&en.trim()!==""?en=en.trim():en=null,{success:!0,product_found:!0,product_data:{id:_e.id,name:_e.name,description:_e.description||"No description available.",price:_e.price||"Price not available.",imageUrl:en},detail:`Found product: ${_e.name}`}}else return{success:!0,product_found:!1,detail:`Could not find a matching or relevant product for query: "${ce.product_query}"`}},un=ce=>ce.product_id&&e&&e.id?(t(`/store/${e.id}/product/${ce.product_id}`),{success:!0,detail:`Navigated to product page for ID ${ce.product_id} in store ${e.id}`}):!e||!e.id?{success:!1,detail:"Current store information is not available for navigation."}:{success:!1,detail:"Product ID not provided for navigation."},Hn=ce=>{if(!e||!e.id)return{success:!1,detail:"Current store not available for cart operation."};if(!ce.product_id)return{success:!1,detail:"Product ID not provided to add to cart."};const Ce=r(e.id,ce.product_id);if(Ce){const Ee=ce.quantity||1;return n(Ce,e.id),Ee>1&&i(ce.product_id,e.id,Ee),{success:!0,detail:`${ce.product_name||Ce.name||"Product"} added/updated in cart with quantity ${Ee}.`}}else return{success:!1,detail:`Product with ID ${ce.product_id} not found.`}},Tn=ce=>{const{product_id:Ce,product_name:Ee}=ce;if(!e||!e.id)return console.error("Buy Now: Current store not available."),{success:!1,detail:"Current store information is not available to initiate purchase."};if(!Ce)return console.error("Buy Now: Product ID not provided."),{success:!1,detail:"Product ID not provided."};const _e=r(e.id,Ce);if(!_e)return console.error(`Buy Now: Product with ID ${Ce} not found.`),{success:!1,detail:`Product with ID ${Ce} not found.`};try{return n(_e,e.id),t("/checkout",{state:{action:"buyNow",productToAddId:_e.id,storeId:e.id}}),{success:!0,detail:`Added ${_e.name||"product"} to cart and navigated to checkout.`}}catch(Et){return console.error("Error during Buy Now (add to cart & navigate) process:",Et),{success:!1,detail:Et.message||"Could not process Buy Now action."}}},jn=async(ce,Ce)=>{let Ee,_e=!1;switch(ce.name){case"navigate_to_route":Ee=Ut(ce.args),_e=Ee.success;break;case"toggle_theme_mode":Ee=fn(ce.args),_e=Ee.success;break;case"open_import_store_dialog":Ee=wn(ce.args),_e=Ee.success;break;case"go_to_cart":Ee=xn(ce.args),_e=Ee.success;break;case"navigate_home":Ee=Ut({route:"/"}),_e=Ee.success;break;case"navigate_to_content_creation_page":Ee=Ut({route:"/content-creation"}),_e=Ee.success;break;case"navigate_to_store_dashboard":Ee=Ut({route:"/dashboard"}),_e=Ee.success;break;case"find_and_open_product":Ee=Zt(ce.args),_e=Ee.success;break;case"navigate_to_product_detail_page":Ee=un(ce.args),_e=Ee.success;break;case"add_to_cart":Ee=Hn(ce.args),_e=Ee.success;break;case"initiate_purchase":Ee=Tn(ce.args),_e=Ee.success;break;default:Ee={success:!1,detail:`Error: Unknown function ${ce.name}`}}if(!_e){console.error(`Function ${ce.name} execution failed: ${Ee.detail}`),_(At=>At.map(bt=>bt.id===Ce?{...bt,text:(bt.text.replace(/\(Function call: .*\)/,"").trim()+`
(Function ${ce.name} failed)`).trim(),functionCallData:null}:bt));return}const Et={message:[{functionResponse:{name:ce.name,response:{result:Ee}}}]};try{const At=await j.sendMessageStream(Et);let bt="";_(ht=>ht.map(qt=>qt.id===Ce?{...qt,text:"",functionCallData:null,productCardData:null}:qt));for await(const ht of At){if(ht.functionCalls||ht.functionCall){console.error("Model attempted another function call immediately after a function response.");break}const qt=ht.text;qt&&(bt+=qt,_(sr=>sr.map(ci=>{if(ci.id===Ce){const qr={...ci,text:bt};return ce.name==="find_and_open_product"&&Ee.success&&Ee.product_found&&(qr.productCardData=Ee.product_data),qr}return ci})))}ce.name==="find_and_open_product"&&Ee.success&&Ee.product_found&&_(ht=>ht.map(qt=>qt.id===Ce?{...qt,productCardData:Ee.product_data}:qt)),bt.trim()===""&&(ce.name==="find_and_open_product"&&Ee.product_found?_(ht=>ht.map(qt=>qt.id===Ce&&qt.text.trim()===""?{...qt,text:"Here is the product information:"}:qt)):_(ht=>ht.map(qt=>qt.id===Ce&&qt.text.trim()===""?{...qt,text:"(Function processed)"}:qt)))}catch(At){console.error("Error sending function response or getting final response from Gemini:",At),_(bt=>bt.map(ht=>ht.id===Ce?{...ht,text:(ht.text+`
(Error processing function result)`).trim(),functionCallData:null}:ht))}},xe=async()=>{if(j||Y)return;ne(!0);const ce="AIzaSyDJ2rjQjY4mD6E34RqAv_ezZ3a29eYRA0I";try{const Ce=new us({apiKey:ce}),_e=C.filter(bt=>bt.role==="user"||bt.role==="assistant").map(bt=>({role:bt.role==="assistant"?"model":"user",parts:[{text:bt.text||""}]})).filter(bt=>bt.parts.every(ht=>typeof ht.text=="string"&&ht.text.trim()!=="")),Et={tools:[{functionDeclarations:$e}],systemInstruction:p},At=Ce.chats.create({model:"gemini-2.0-flash",history:_e,config:Et,generationConfig:{}});if(!At)throw new Error("genAI.chats.create() returned a null or undefined chat instance.");R(At),E("gemini"),ue.current=!1}catch(Ce){console.error("Error initializing Gemini chat:",Ce),R(null),E(null)}finally{ne(!1)}},fe=()=>{R(null),ne(!1),E(null),ue.current=!1};x.useEffect(()=>(l?!j&&!Y&&xe():fe(),()=>fe()),[l]),x.useEffect(()=>{P==="gemini"?ue.current?p&&!Y&&j&&(R(null),ue.current=!1,xe()):ue.current=!0:ue.current=!1},[p,P,Y,j]);const ve=(ce,Ce)=>{un({product_id:ce})},Ie=(ce,Ce)=>{if(!e||!e.id){console.error("Cannot add to cart: current store not available.");return}const Ee=r(e.id,ce);Ee?n(Ee,e.id):console.error(`Product with ID ${ce} not found, cannot add to cart.`)},Ye=async(ce,Ce)=>{const Ee=await Tn({product_id:ce,product_name:Ce});Ee.success||console.error("Buy Now failed:",Ee.detail)},it=(ce,Ce)=>{var Ee;V({id:ce,name:Ce}),(Ee=K.current)==null||Ee.click()},Vt=ce=>{var Ee,_e,Et,At,bt,ht,qt,sr;if(!ce)return null;let Ce=null;return(_e=(Ee=ce.image)==null?void 0:Ee.src)!=null&&_e.large&&typeof ce.image.src.large=="string"?Ce=ce.image.src.large:(At=(Et=ce.image)==null?void 0:Et.src)!=null&&At.medium&&typeof ce.image.src.medium=="string"?Ce=ce.image.src.medium:(ht=(bt=ce.image)==null?void 0:bt.src)!=null&&ht.small&&typeof ce.image.src.small=="string"?Ce=ce.image.src.small:ce.image_url&&typeof ce.image_url=="string"?Ce=ce.image_url:ce.imageUrl&&typeof ce.imageUrl=="string"?Ce=ce.imageUrl:ce.image&&typeof ce.image=="string"?Ce=ce.image:ce.images&&Array.isArray(ce.images)&&ce.images.length>0&&((qt=ce.images[0])!=null&&qt.src)?Ce=ce.images[0].src:(sr=ce.featuredImage)!=null&&sr.url&&(Ce=ce.featuredImage.url),Ce&&typeof Ce=="string"&&Ce.trim()!==""?Ce.trim():null},Sn=async ce=>{var Ee;const Ce=(Ee=ce.target.files)==null?void 0:Ee[0];if(!Ce||!W){V(null),K.current&&(K.current.value="");return}_(_e=>[..._e,{id:`system-visualizing-${Date.now()}`,role:"system",text:`Visualizing ${W.name} with your uploaded image. This may take a moment...`}]);try{console.log("[ChatViz] Getting product details for ID:",W.id);const _e=r(e.id,W.id);if(!_e)throw console.error("[ChatViz] Product not found for ID:",W.id),new Error("Product details not found for visualization.");console.log("[ChatViz] Product found:",_e.name);const Et=Vt(_e);if(!Et)throw console.error("[ChatViz] Product actual image URL is missing or invalid for product:",_e.name,"Raw product data:",_e),new Error("Product does not have a valid existing image to use for visualization context.");console.log("[ChatViz] Actual Product imageUrl to use:",Et);const At={name:_e.name,description:_e.description,imageSource:Et},bt=`Visualize the product "${_e.name}" in a new scene inspired by the provided reference image. Focus on a creative and appealing composition.`;console.log("[ChatViz] Calling generateProductVisualization...");const ht=await D9({mainProduct:At,referenceSceneSource:Ce,additionalProducts:[],customInstructions:bt});if(console.log("[ChatViz] generateProductVisualization result:",ht),ht&&ht.imageUrl)_(qt=>[...qt,{id:`assistant-viz-${Date.now()}`,role:"assistant",text:ht.commentary||`Here's a new visualization for ${_e.name}:`,imageDataUrl:ht.imageUrl}]);else throw console.error("[ChatViz] generateProductVisualization did not return an imageUrl. Commentary:",ht==null?void 0:ht.commentary),new Error((ht==null?void 0:ht.commentary)||"Visualization did not return an image.")}catch(_e){console.error("Error during visualization in chat:",_e.name,_e.message,_e.stack),_(Et=>[...Et,{id:`error-viz-${Date.now()}`,role:"system",text:`Sorry, I couldn't visualize the product. Error: ${_e.name} - ${_e.message}`}])}finally{V(null),K.current&&(K.current.value="")}},ye=async()=>{if(I)B.current&&B.current.state==="recording"&&B.current.stop(),M(!1);else try{const ce=await navigator.mediaDevices.getUserMedia({audio:!0});B.current=new MediaRecorder(ce),G.current=[],B.current.ondataavailable=Ce=>{G.current.push(Ce.data)},B.current.onstop=async()=>{const Ce=new Blob(G.current,{type:"audio/webm"});G.current=[],console.log("Audio recorded:",Ce),_(Ee=>[...Ee,{id:`user-audio-${Date.now()}`,role:"user",text:"[User sent audio]"}]),setTimeout(()=>{const Ee=`assistant-audio-${Date.now()}`;_(_e=>[..._e,{id:Ee,role:"assistant",text:"[Assistant audio response]"}])},2e3)},B.current.start(),M(!0),_(Ce=>[...Ce,{id:`system-rec-${Date.now()}`,role:"system",text:"Recording started..."}])}catch(ce){console.error("Error accessing microphone:",ce),_(Ce=>[...Ce,{id:`error-mic-${Date.now()}`,role:"system",text:"Error: Could not access microphone."}])}};return x.useEffect(()=>()=>{A&&A.context.state!=="closed"&&A.context.close(),B.current&&B.current.stream&&B.current.stream.getTracks().forEach(ce=>ce.stop())},[A]),a.jsxs(a.Fragment,{children:[a.jsx("input",{type:"file",ref:K,style:{display:"none"},accept:"image/*",onChange:Sn}),!l&&a.jsx(te,{onClick:tt,className:"fixed bottom-[96px] right-0 py-4 pl-4 pr-1.5 shadow-lg z-50 rounded-tl-[20px] rounded-bl-[20px] rounded-tr-none rounded-br-none",size:"icon","aria-label":"Open Chatbot",style:{backgroundColor:((Ze=e==null?void 0:e.theme)==null?void 0:Ze.primaryColor)||"#007bff"},children:a.jsx(zX,{size:20})}),l&&a.jsxs(We,{className:"fixed bottom-[96px] right-4 w-full max-w-md h-[70vh] max-h-[600px] shadow-xl z-[1000] flex flex-col bg-background border rounded-lg",children:[a.jsxs(Xe,{className:"flex flex-row items-center justify-between p-3 border-b",children:[a.jsx(Qe,{className:"text-md font-semibold",children:"Gemini Assistant"}),a.jsxs("div",{className:"flex items-center gap-1",children:[(o==="admin"||s==="edit")&&a.jsx(te,{variant:"ghost",size:"icon",onClick:nt,title:"Set Knowledge Base",children:a.jsx(tQ,{size:18})}),a.jsx(te,{variant:"ghost",size:"icon",onClick:tt,title:"Close Chat",children:a.jsx(Xl,{size:18})})]})]}),d&&a.jsxs("div",{className:"p-3 border-b bg-muted/40",children:[a.jsx("label",{htmlFor:"knowledgeBaseInput",className:"text-xs font-medium mb-1 block text-muted-foreground",children:"Knowledge Base (Instructions for Gemini)"}),a.jsx(gr,{id:"knowledgeBaseInput",placeholder:"Enter instructions for the assistant...",value:p,onChange:ce=>g(ce.target.value),className:"h-28 text-xs mb-2 rounded-md"}),a.jsx(te,{onClick:Tt,size:"sm",className:"w-full",disabled:Y||!j,children:"Save & Apply Instructions"})]}),a.jsxs(Ke,{className:"flex-grow p-3 overflow-y-auto space-y-3",children:[C.map(ce=>(ce.role==="user"||ce.role==="assistant")&&a.jsx("div",{className:`flex flex-col ${ce.role==="user"?"items-end":"items-start"}`,children:a.jsx("div",{className:`max-w-[80%] p-2.5 rounded-lg text-sm ${ce.role==="user"?"bg-primary text-primary-foreground rounded-br-none":"bg-muted rounded-bl-none"}`,children:ce.role==="assistant"?a.jsxs(a.Fragment,{children:[ce.productCardData&&a.jsx(Ewe,{productData:ce.productCardData,onViewDetails:ve,onAddToCart:Ie,onBuyNow:Ye,onVisualize:ce.productCardData.imageUrl&&typeof ce.productCardData.imageUrl=="string"&&ce.productCardData.imageUrl.trim()!==""?it:null}),ce.imageDataUrl&&a.jsx("img",{src:ce.imageDataUrl,alt:"Generated visualization",className:"max-w-full h-auto rounded-md my-2"}),ce.text&&a.jsx("div",{className:`prose prose-sm max-w-none dark:prose-invert ${ce.productCardData||ce.imageDataUrl?"mt-2":""}`,children:a.jsx(Swe,{children:ce.text})}),!ce.productCardData&&!ce.text&&!ce.imageDataUrl&&a.jsx("p",{className:"whitespace-pre-wrap",children:"(Assistant message)"})]}):a.jsx("p",{className:"whitespace-pre-wrap",children:ce.text})})},ce.id)),a.jsx("div",{ref:X})]}),a.jsx(el,{className:"p-3 border-t",children:a.jsxs("div",{className:"flex w-full items-center gap-2",children:[a.jsx(te,{onClick:ye,size:"icon",variant:I?"destructive":"outline",title:I?"Stop Recording":"Start Recording",disabled:!P||Y,className:"p-2",children:I?a.jsx(rQ,{size:18}):a.jsx(WX,{size:18})}),a.jsx(gr,{placeholder:I?"Recording audio...":"Type a message or use microphone...",value:y,onChange:ce=>b(ce.target.value),onKeyPress:ce=>{ce.key==="Enter"&&!ce.shiftKey&&(ce.preventDefault(),Bt())},className:"flex-grow resize-none text-sm p-2 rounded-md min-h-[40px] max-h-[100px]",rows:1,disabled:!P||Y||I}),a.jsx(te,{onClick:()=>Bt(),size:"icon",title:"Send Message",disabled:!y.trim()||!P||Y||I,children:a.jsx(eQ,{size:18})})]})})]})]})},Rwe=()=>{console.log("[StorePreview] Component mounted.");const{storeId:t,productHandle:e}=u0();console.log("[StorePreview] storeId from params:",t);const{getStoreById:n,setCurrentStore:r,viewMode:i,isLoadingStores:s,user:o}=Zn(),{toast:l}=Bo(),[u,d]=x.useState(null),[h,p]=x.useState(null),[g,y]=x.useState(null),[b,C]=x.useState(null),[_,P]=x.useState(null),[E,j]=x.useState(null),[R,I]=x.useState(null),[M,A]=x.useState(null),[$,B]=x.useState(null),[G,X]=x.useState(!1),[K,W]=x.useState(""),[V,Y]=x.useState(!1),[ne,ue]=x.useState(!1);x.useEffect(()=>{if(console.log("[StorePreview] Main useEffect triggered. isLoadingStores:",s,"storeId:",t),s){console.log("[StorePreview] Still loading stores, returning.");return}const F=n(t);console.log("[StorePreview] storeData from getStoreById:",F),F?(d(F),r(F),!F.pass_key||o&&F.merchant_id===o.id?Y(!0):Y(!1)):s||l({title:"Store Not Found",description:`Could not find store with ID: ${t}`,variant:"destructive"})},[t,n,r,l,s,o]),x.useEffect(()=>{if(u){const F=u.template_version||"v1";p(null),y(null),C(null),P(null),j(null),I(null),A(null),B(null),F==="v1"?(p(()=>x.lazy(()=>Vn(()=>Promise.resolve().then(()=>Bwe),void 0))),y(()=>x.lazy(()=>Vn(()=>import("./StoreHero-B2GVhyph.js"),__vite__mapDeps([0,1])))),C(()=>x.lazy(()=>Vn(()=>import("./StoreCollections-Ce58NPYh.js"),[]))),P(()=>x.lazy(()=>Vn(()=>import("./ProductGrid-DZtkfKBr.js"),__vite__mapDeps([2,3])))),j(()=>x.lazy(()=>Vn(()=>import("./StoreFeatures-HTzl1rQh.js"),__vite__mapDeps([4,5])))),I(()=>x.lazy(()=>Vn(()=>import("./StoreTestimonials-DaiCwkeB.js"),[]))),A(()=>x.lazy(()=>Vn(()=>import("./StoreNewsletter-Cpy8ATEl.js"),[]))),B(()=>x.lazy(()=>Vn(()=>Promise.resolve().then(()=>Uwe),void 0)))):F==="v2"&&(p(()=>x.lazy(()=>Vn(()=>import("./StoreHeader-rlRG_XjP.js"),[]))),y(()=>x.lazy(()=>Vn(()=>import("./StoreHero-DSdYeXn6.js"),__vite__mapDeps([6,1])))),C(()=>x.lazy(()=>Vn(()=>import("./StoreCollections-B0L3KshU.js"),[]))),P(()=>x.lazy(()=>Vn(()=>import("./ProductGrid-CynOJzkq.js"),__vite__mapDeps([7,3])))),j(()=>x.lazy(()=>Vn(()=>import("./StoreFeatures-C9sEg6gn.js"),__vite__mapDeps([8,5])))),I(()=>x.lazy(()=>Vn(()=>import("./StoreTestimonials-DaiCwkeB.js"),[]))),A(()=>x.lazy(()=>Vn(()=>import("./StoreNewsletter-5R9hzuq-.js"),[]))),B(()=>x.lazy(()=>Vn(()=>import("./StoreFooter-DqXW9CGl.js"),[]))))}},[u==null?void 0:u.template_version,t,u]);const oe=()=>{if(!u||!u.pass_key){Y(!0);return}ue(!0),setTimeout(()=>{K===u.pass_key?(Y(!0),l({title:"Access Granted",description:"Welcome to the store!"})):(l({title:"Access Denied",description:"Incorrect pass key.",variant:"destructive"}),W("")),ue(!1)},500)};if(s)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Loading store..."})]})});if(!u)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("p",{className:"text-xl text-destructive",children:"Store not found."})});if(!V&&u.pass_key)return a.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-slate-900 to-slate-800 p-4",children:a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-2xl w-full max-w-md text-center",children:[a.jsx(N_,{className:"h-16 w-16 text-primary mx-auto mb-6"}),a.jsx("h2",{className:"text-3xl font-bold text-card-foreground mb-3",children:"Protected Store"}),a.jsx("p",{className:"text-muted-foreground mb-8",children:"This store requires a pass key to view its content."}),a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsx(ft,{type:"password",placeholder:"Enter Pass Key",value:K,onChange:F=>W(F.target.value),className:"h-12 text-lg text-center bg-input border-border focus:ring-primary focus:border-primary",onKeyPress:F=>F.key==="Enter"&&oe()}),a.jsx(te,{onClick:oe,disabled:ne||!K.trim(),className:"h-12 text-lg w-full bg-primary hover:bg-primary/90 text-primary-foreground",children:ne?a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-current"}):a.jsxs(a.Fragment,{children:[a.jsx(oQ,{className:"mr-2 h-5 w-5"})," Access Store"]})})]})]})});if(s||!u)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Loading store..."})]})});const ie=i==="published",L=(u==null?void 0:u.template_version)||"v1";return!h||!g||!b||!_||!E||!R||!M||!$?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Loading Template Components..."})]})}):a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsxs(x.Suspense,{fallback:a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading Store Content..."}),children:[h&&a.jsx(h,{store:u,isPublishedView:ie}),g&&a.jsx(g,{store:u,isPublishedView:ie}),L==="v1"&&a.jsxs(a.Fragment,{children:[_&&a.jsx(_,{store:u,isPublishedView:ie}),b&&a.jsx(b,{store:u,isPublishedView:ie}),E&&a.jsx(E,{store:u,isPublishedView:ie})]}),L==="v2"&&a.jsxs(a.Fragment,{children:[E&&a.jsx(E,{store:u,isPublishedView:ie}),_&&a.jsx(_,{store:u,isPublishedView:ie}),b&&a.jsx(b,{store:u,isPublishedView:ie})]}),R&&a.jsx(R,{store:u,isPublishedView:ie}),M&&a.jsx(M,{store:u,isPublishedView:ie}),$&&a.jsx($,{store:u,isPublishedView:ie})]}),a.jsx(iye,{store:u,onEdit:()=>X(!0)}),!ie&&a.jsx(sye,{store:u,open:G,onOpenChange:X}),a.jsx(L9,{})," "]})},Awe=T_("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o_({className:t,variant:e,...n}){return a.jsx("div",{className:gt(Awe({variant:e}),t),...n})}function kwe({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{fillRule:"evenodd",d:"M19.916 4.626a.75.75 0 0 1 .208 1.04l-9 13.5a.75.75 0 0 1-1.154.114l-6-6a.75.75 0 0 1 1.06-1.06l5.353 5.353 8.493-12.74a.75.75 0 0 1 1.04-.207Z",clipRule:"evenodd"}))}const Iwe=x.forwardRef(kwe);function Mwe({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{d:"M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-12.15 12.15a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32L19.513 8.2Z"}))}const Dwe=x.forwardRef(Mwe),Wi=({initialText:t,onSave:e,isAdmin:n,placeholder:r="Enter text...",as:i="span",className:s="",textClassName:o="",inputClassName:l="",useTextarea:u=!1})=>{const[d,h]=x.useState(!1),[p,g]=x.useState(t),y=x.useRef(null);x.useEffect(()=>{g(t)},[t]),x.useEffect(()=>{d&&y.current&&(y.current.focus(),y.current.select(),u&&(y.current.style.height="auto",y.current.style.height=`${y.current.scrollHeight}px`))},[d,u]);const b=()=>{e&&e(p),h(!1)},C=E=>{g(E.target.value),u&&y.current&&(y.current.style.height="auto",y.current.style.height=`${y.current.scrollHeight}px`)},_=E=>{E.key==="Enter"&&!u?b():E.key==="Escape"&&(g(t),h(!1))},P=i;return n?a.jsx(P,{className:`inline-text-edit-container relative group ${s} ${d?"w-full":""}`,children:d?a.jsxs("div",{className:"flex items-start space-x-1 w-full",children:[" ",u?a.jsx("textarea",{ref:y,value:p,onChange:C,onKeyDown:_,onBlur:b,className:`p-0 m-0 border-none focus:ring-0 focus:outline-none resize-none overflow-hidden bg-transparent text-inherit font-inherit w-full ${o} ${l}`,placeholder:r,rows:1}):a.jsx("input",{ref:y,type:"text",value:p,onChange:C,onKeyDown:_,onBlur:b,className:`p-0 m-0 border-none focus:ring-0 focus:outline-none bg-transparent text-inherit font-inherit w-full ${o} ${l}`,placeholder:r}),a.jsx("button",{onClick:b,className:"p-1 text-green-500 hover:text-green-700 flex-shrink-0",title:"Save",children:a.jsx(Iwe,{className:"h-5 w-5"})})]}):a.jsxs("div",{className:`flex items-center space-x-1 cursor-pointer w-full ${o}`,onClick:()=>h(!0),role:"button",tabIndex:0,onKeyDown:E=>{E.key==="Enter"&&h(!0)},children:[a.jsx("span",{className:"flex-grow",children:p||r}),a.jsx(Dwe,{className:"h-4 w-4 text-gray-500 opacity-0 group-hover:opacity-100 transition-opacity flex-shrink-0"})]})}):a.jsx(P,{className:o,children:p||r})},O9="CEVWpXluVU77FgaVriTzqBCoN4FD3f0VL2Y8bXNPynNfqUg2DoUgPt8t",Lwe="https://api.pexels.com/videos",Owe="https://api.pexels.com/v1";async function qTe(t,e=9){if(!t||!t.trim())return{error:"Search query cannot be empty."};const n=`${Lwe}/search?query=${encodeURIComponent(t)}&per_page=${e}`;try{const r=await fetch(n,{headers:{Authorization:O9}});if(!r.ok){const o=await r.json().catch(()=>({message:r.statusText}));return console.error("Pexels API error:",r.status,o),{error:`Pexels API error: ${o.message||r.statusText}`}}const i=await r.json();return{videos:i.videos.map(o=>{const l=o.video_files.find(u=>u.file_type==="video/mp4"&&(u.quality==="hd"||u.quality==="sd"))||o.video_files.find(u=>u.file_type==="video/mp4");return{id:o.id,width:o.width,height:o.height,duration:o.duration,imageUrl:o.image,videoUrl:l?l.link:o.video_files[0]?o.video_files[0].link:null,photographer:o.user.name,pexelsUrl:o.url}}).filter(o=>o.videoUrl),totalResults:i.total_results,page:i.page,perPage:i.per_page}}catch(r){return console.error("Error fetching from Pexels API:",r),{error:`Network error or other issue fetching Pexels videos: ${r.message}`}}}async function $we(t,e=9){if(!t||!t.trim())return{error:"Search query cannot be empty."};const n=`${Owe}/search?query=${encodeURIComponent(t)}&per_page=${e}`;try{const r=await fetch(n,{headers:{Authorization:O9}});if(!r.ok){const o=await r.json().catch(()=>({message:r.statusText}));return console.error("Pexels API error:",r.status,o),{error:`Pexels API error: ${o.message||r.statusText}`}}const i=await r.json();return{photos:i.photos.map(o=>({id:o.id,width:o.width,height:o.height,src:o.src.medium,alt:o.alt,photographer:o.photographer,pexelsUrl:o.url})),totalResults:i.total_results,page:i.page,perPage:i.per_page}}catch(r){return console.error("Error fetching from Pexels API:",r),{error:`Network error or other issue fetching Pexels photos: ${r.message}`}}}const Fwe=({open:t,onOpenChange:e,storeId:n,storeName:r,currentLogoUrl:i,onLogoReplaced:s})=>{const[o,l]=x.useState("ai"),[u,d]=x.useState(r||""),[h,p]=x.useState(!1),[g,y]=x.useState(null),[b,C]=x.useState(null),[_,P]=x.useState(""),[E,j]=x.useState([]),[R,I]=x.useState(!1),[M,A]=x.useState(null),[$,B]=x.useState(null),[G,X]=x.useState(null),[K,W]=x.useState(!1),[V,Y]=x.useState(null);x.useEffect(()=>{t&&(d(r||""),p(!1),y(null),C(null),P(""),j([]),I(!1),A(null),B(null),X(null),W(!1),Y(null))},[t,r]);const ne=async()=>{if(!r){y("Store name is required to generate a logo with AI.");return}p(!0),y(null),C(null);try{console.log(`Generating logo for store ${r}`);const Z=await j0(r);if(Z&&Z.imageData){const U=`data:image/png;base64,${Z.imageData}`;C(U)}else y(Z.textResponse||"AI did not return image data.")}catch(Z){console.error("Error generating logo with AI:",Z),y(Z.message||"Failed to generate logo. Please try again.")}finally{p(!1)}},ue=async()=>{if(!_.trim()){A("Please enter a search query for Pexels.");return}I(!0),A(null),j([]);try{const Z=await $we(_);Z.error?(A(Z.error),j([])):(j(Z.photos||[]),(Z.photos||[]).length===0&&A("No images found for your query."))}catch(Z){console.error("Error searching Pexels images:",Z),A(Z.message||"Failed to search Pexels. Please try again.")}finally{I(!1)}},oe=Z=>{s&&Z?(s(Z),e(!1)):A("Invalid image URL selected or replacement handler missing.")},ie=Z=>{const U=Z.target.files[0];if(U){if(U.size>10*1024*1024){X("File is too large. Please select an image under 10MB."),B(null),Y(null);return}if(!U.type.startsWith("image/")){X("Invalid file type. Please select an image file (e.g., PNG, JPG, GIF)."),B(null),Y(null);return}B(U),X(null);const Ne=new FileReader;Ne.onloadend=()=>{Y(Ne.result)},Ne.readAsDataURL(U)}},L=()=>{if($&&s){W(!0),X(null);const Z=new FileReader;Z.onloadend=()=>{s(Z.result),e(!1),B(null),Y(null),W(!1)},Z.onerror=()=>{X("Failed to read image file for upload."),W(!1)},Z.readAsDataURL($)}else X("No image file selected or replacement handler missing.")},F=()=>{b&&s&&(s(b),e(!1))};return a.jsx(Zl,{open:t,onOpenChange:e,children:a.jsxs(ka,{className:"sm:max-w-[672px]",children:[a.jsxs(Ia,{className:"text-left",children:[a.jsx(Ma,{children:"Change Store Logo"}),a.jsxs(Ju,{className:"text-left",children:["Current logo:",i?a.jsx("img",{src:i,alt:"Current logo",className:"h-16 w-16 object-contain my-2 border rounded"}):a.jsx("span",{className:"ml-1",children:"No logo set"})]})]}),a.jsxs(ks,{value:o,onValueChange:l,className:"w-full",children:[a.jsxs(fs,{className:"grid w-full grid-cols-3",children:[a.jsx(Yt,{value:"ai",children:"Generate with AI"}),a.jsx(Yt,{value:"pexels",children:"Search Pexels"}),a.jsx(Yt,{value:"upload",children:"Upload Image"})]}),a.jsxs(Jt,{value:"ai",className:"space-y-4 py-4",children:[a.jsxs("p",{className:"text-sm text-muted-foreground",children:["AI will generate a logo based on your store name: ",a.jsx("strong",{children:r}),"."]}),g&&a.jsx("p",{className:"text-sm text-red-500 text-center",children:g}),h&&a.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Generating logo..."}),b&&!h&&a.jsxs("div",{className:"flex flex-col items-center gap-2",children:[a.jsx("p",{className:"text-sm font-medium",children:"Generated Preview:"}),a.jsx("img",{src:b,alt:"AI Generated Logo Preview",className:"h-32 w-32 object-contain border rounded-md"})]}),a.jsxs(Xs,{className:"justify-start pt-4",children:[a.jsx(te,{variant:"outline",onClick:()=>e(!1),disabled:h,children:"Cancel"}),a.jsx(te,{onClick:ne,disabled:h||!r,children:h?"Generating...":b?"Regenerate":"Generate Logo"}),b&&a.jsx(te,{onClick:F,disabled:h,children:"Use This Logo"})]})]}),a.jsxs(Jt,{value:"pexels",className:"space-y-4 py-4",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ft,{id:"pexelsQuery",value:_,onChange:Z=>P(Z.target.value),placeholder:"e.g., Abstract, Minimal, Tech",disabled:R,className:"flex-grow"}),a.jsx(te,{onClick:ue,disabled:R||!_.trim(),children:R?"Searching...":"Search Images"})]}),M&&a.jsx("p",{className:"text-sm text-red-500 text-center",children:M}),R&&a.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Loading Pexels images..."}),!R&&E.length>0&&a.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-3 max-h-[300px] overflow-y-auto pr-2",children:E.map(Z=>a.jsxs("div",{className:"relative aspect-square rounded-md overflow-hidden cursor-pointer group border hover:border-primary",onClick:()=>oe(Z.src.large2x||Z.src.large||Z.src.original),children:[a.jsx("img",{src:Z.src.medium,alt:Z.alt||`Pexels image by ${Z.photographer}`,className:"w-full h-full object-cover transition-transform group-hover:scale-105"}),a.jsx("div",{className:"absolute inset-0 bg-black/30 group-hover:bg-black/50 transition-colors flex items-center justify-center",children:a.jsx("p",{className:"text-white text-xs text-center p-1 bg-black/50 rounded",children:"Use Image"})})]},Z.id))}),a.jsx(Xs,{className:"justify-start pt-4",children:a.jsx(te,{variant:"outline",onClick:()=>e(!1),disabled:R,children:"Cancel"})})]}),a.jsxs(Jt,{value:"upload",className:"space-y-4 py-4",children:[a.jsxs("div",{children:[a.jsx(Je,{htmlFor:"image-upload-input",className:"text-left block mb-1",children:"Select Image File"}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(ft,{id:"image-upload-input",type:"file",accept:"image/*",onChange:ie,className:"flex-grow",disabled:K})}),V&&a.jsxs("div",{className:"mt-3 flex flex-col items-center",children:[a.jsx("p",{className:"text-sm font-medium mb-1",children:"Preview:"}),a.jsx("img",{src:V,alt:"Upload preview",className:"h-32 w-32 object-contain border rounded-md"})]}),$&&!V&&a.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Selected: ",$.name," (",($.size/1024/1024).toFixed(2)," MB)"]}),G&&a.jsx("p",{className:"text-sm text-red-500 text-center mt-2",children:G})]}),a.jsxs(Xs,{className:"justify-start pt-4",children:[a.jsx(te,{variant:"outline",onClick:()=>e(!1),disabled:K,children:"Cancel"}),a.jsx(te,{onClick:L,disabled:K||!$,children:K?"Uploading...":"Confirm Upload"})]})]})]})]})})},$9=({store:t,isPublishedView:e=!1})=>{const{name:n,theme:r,logo_url:i,id:s,settings:o,content:l,template_version:u}=t,{cart:d,removeFromCart:h,updateQuantity:p,updateStore:g,updateStoreTemplateVersion:y}=Zn(),[b,C]=x.useState(!1),[_,P]=x.useState(!1),[E,j]=x.useState(!1),R=!e,[I,M]=x.useState(!1),A=Rs(),$=d.filter(F=>F.storeId===s),B=$.reduce((F,Z)=>F+Z.quantity,0),G=$.reduce((F,Z)=>F+Z.price*Z.quantity,0);x.useEffect(()=>{const F=localStorage.getItem("theme"),Z=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;M(!!(F==="dark"||!F&&Z))},[]);const X=async(F,Z,U=null)=>{if(s)try{if(F==="storeName")await g(s,{name:Z});else if(F==="navLink"&&U!==null){const De=((l==null?void 0:l.navLinks)||oe.map(je=>({label:je.label,href:je.href}))).map((je,Te)=>Te===U?{...je,label:Z}:je);await g(s,{content:{...l,navLinks:De}})}await K()}catch(Ne){console.error(`Failed to update store ${F} or refresh template:`,Ne)}},K=async()=>{const F=u||"v1";console.log(`Performing template refresh. Current version: ${F}`),F==="v1"?(await y(s,"v2"),await y(s,"v1"),console.log("Template refreshed: v1 -> v2 -> v1")):F==="v2"&&(await y(s,"v1"),await y(s,"v2"),console.log("Template refreshed: v2 -> v1 -> v2"))},W=()=>{j(!0),console.log("Open change image dialog (placeholder)")},V=async F=>{if(s&&F)try{await g(s,{logo_url:F}),console.log("Store logo updated successfully. Setting template to modern (v2)."),await y(s,"v2"),console.log("Store template set to modern (v2).")}catch(Z){console.error("Failed to update store logo or set template to modern:",Z)}},Y=()=>{const F=!I;M(F),F?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},ne=`/store/${s}`,ue=[{href:ne,label:"Home"},{href:`#products-${s}`,label:"Products"},{href:`#features-${s}`,label:"Features"},{href:`#contact-${s}`,label:"Contact"}],oe=l!=null&&l.navLinks&&l.navLinks.length===ue.length?l.navLinks.map((F,Z)=>({...ue[Z],label:F.label||ue[Z].label})):ue,ie=(F,Z)=>{if(F.preventDefault(),C(!1),Z.startsWith("/store/"))A(Z);else{const U=Z.substring(1),Ne=document.getElementById(U);Ne?Ne.scrollIntoView({behavior:"smooth"}):A(ne)}},L=()=>{P(!1),A("/checkout",{state:{cart:$,storeName:n,storeId:s}})};return a.jsxs(a.Fragment,{children:[a.jsx(In.header,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"sticky top-0 z-40 w-full bg-background/90 backdrop-blur-md border-b",style:{borderColor:`${r.primaryColor}30`},children:a.jsxs("div",{className:"container mx-auto px-4 py-3 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ni,{to:ne,className:"group",children:i&&a.jsx("img",{src:i,alt:`${n} logo`,className:"h-16 w-16 object-contain group-hover:scale-105 transition-transform duration-200"})}),R&&i&&a.jsx(te,{variant:"outline",size:"icon",onClick:W,className:"h-8 w-8 p-0 -ml-2 relative z-10 bg-background hover:bg-muted",children:a.jsx(Rv,{className:"h-4 w-4"})}),a.jsxs(Ni,{to:ne,className:"group ml-2",children:[" ",a.jsx("span",{className:"font-bold text-xl tracking-tight group-hover:text-primary transition-colors",style:{color:r.primaryColor},children:a.jsx(Wi,{initialText:n,onSave:F=>X("storeName",F),isAdmin:R,placeholder:"Store Name"})})]})]})," ",a.jsx("nav",{className:"hidden md:flex items-center gap-x-6",children:oe.map((F,Z)=>a.jsx("a",{href:F.href,onClick:U=>ie(U,F.href),className:"text-sm font-medium text-muted-foreground hover:text-primary transition-colors",style:{"--hover-color":r.primaryColor},children:a.jsx(Wi,{initialText:F.label,onSave:U=>X("navLink",U,Z),isAdmin:R,placeholder:`Link ${Z+1}`})},F.label+Z))}),a.jsxs("div",{className:"flex items-center gap-2",children:[((o==null?void 0:o.showThemeToggle)??!0)&&a.jsxs("div",{className:"hidden md:flex items-center gap-2 mr-2",children:[a.jsx(No,{id:`store-theme-switcher-${s}`,checked:I,onCheckedChange:Y,"aria-label":"Toggle dark mode"}),I?a.jsx(Qb,{className:"h-5 w-5 text-muted-foreground"}):a.jsx(eC,{className:"h-5 w-5 text-muted-foreground"})]}),a.jsx(te,{variant:"ghost",size:"icon",className:"hidden md:flex text-muted-foreground hover:text-primary",style:{"--hover-color":r.primaryColor},children:a.jsx(dg,{className:"h-5 w-5"})}),a.jsxs(te,{variant:"outline",className:"relative",onClick:()=>P(!0),style:{borderColor:r.primaryColor,color:r.primaryColor},children:[a.jsx(Ag,{className:"h-5 w-5"}),B>0&&a.jsx(o_,{variant:"destructive",className:"absolute -top-2 -right-2 h-5 w-5 p-0 flex items-center justify-center text-xs",style:{backgroundColor:r.secondaryColor||"red"},children:B}),a.jsx("span",{className:"ml-2 hidden sm:inline",children:"Cart"})]}),a.jsx(te,{variant:"ghost",size:"icon",className:"md:hidden text-muted-foreground hover:text-primary",onClick:()=>C(!0),style:{"--hover-color":r.primaryColor},children:a.jsx(VX,{className:"h-6 w-6"})})]})]})}),a.jsx(Wv,{children:b&&a.jsxs(In.div,{initial:{opacity:0,x:"100%"},animate:{opacity:1,x:0},exit:{opacity:0,x:"100%"},transition:{type:"spring",stiffness:300,damping:30},className:"fixed inset-0 z-50 bg-background p-6 md:hidden",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ni,{to:ne,className:"group",onClick:()=>C(!1),children:i&&a.jsx("img",{src:i,alt:`${n} logo`,className:"h-16 w-16 object-contain"})}),R&&i&&a.jsx(te,{variant:"outline",size:"icon",onClick:()=>{W(),C(!1)},className:"h-8 w-8 p-0 -ml-2 relative z-10 bg-background hover:bg-muted",children:a.jsx(Rv,{className:"h-4 w-4"})}),a.jsx(Ni,{to:ne,className:"group ml-2",onClick:()=>C(!1),children:a.jsx("span",{className:"font-bold text-xl",style:{color:r.primaryColor},children:a.jsx(Wi,{initialText:n,onSave:F=>X("storeName",F),isAdmin:R,placeholder:"Store Name"})})})]})," ",a.jsx(te,{variant:"ghost",size:"icon",onClick:()=>C(!1),children:a.jsx(Xl,{className:"h-6 w-6"})})]}),a.jsxs("nav",{className:"flex flex-col gap-y-4",children:[oe.map((F,Z)=>a.jsx("a",{href:F.href,onClick:U=>ie(U,F.href),className:"text-lg font-medium text-foreground hover:text-primary transition-colors",style:{"--hover-color":r.primaryColor},children:a.jsx(Wi,{initialText:F.label,onSave:U=>X("navLink",U,Z),isAdmin:R,placeholder:`Link ${Z+1}`})},F.label+Z)),((o==null?void 0:o.showThemeToggle)??!0)&&a.jsxs("div",{className:"flex items-center gap-2 mt-4 pt-4 border-t border-border",children:[a.jsx(No,{id:`mobile-store-theme-switcher-${s}`,checked:I,onCheckedChange:Y,"aria-label":"Toggle dark mode"}),I?a.jsx(Qb,{className:"h-5 w-5 text-muted-foreground"}):a.jsx(eC,{className:"h-5 w-5 text-muted-foreground"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:I?"Dark Mode":"Light Mode"})]})]})]})}),a.jsx(Wv,{children:_&&a.jsx(bu.Root,{open:_,onOpenChange:P,children:a.jsxs(bu.Portal,{children:[a.jsx(bu.Overlay,{className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm"}),a.jsxs(bu.Content,{className:"fixed z-50 inset-y-0 right-0 h-full w-full max-w-md bg-background border-l shadow-xl flex flex-col",as:In.div,initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:300,damping:30},children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Your Cart"}),a.jsx(te,{variant:"ghost",size:"icon",onClick:()=>P(!1),children:a.jsx(Xl,{className:"h-5 w-5"})})]}),$.length===0?a.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-6 text-center",children:[a.jsx(Ag,{className:"h-16 w-16 text-muted-foreground mb-4"}),a.jsx("p",{className:"text-lg font-medium",children:"Your cart is empty"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Looks like you haven't added anything yet."}),a.jsx(te,{onClick:()=>P(!1),className:"mt-6",style:{backgroundColor:r.primaryColor},children:"Continue Shopping"})]}):a.jsxs(a.Fragment,{children:[a.jsx(Oa,{className:"flex-1 p-6",children:a.jsx("div",{className:"space-y-4",children:$.map(F=>{var Z,U,Ne,De;return a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("img",{src:((U=(Z=F.image)==null?void 0:Z.src)==null?void 0:U.tiny)||((De=(Ne=F.image)==null?void 0:Ne.src)==null?void 0:De.medium)||`https://via.placeholder.com/80x80.png?text=${F.name.substring(0,1)}`,alt:F.name,className:"w-20 h-20 object-cover rounded-md border"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-medium text-sm line-clamp-1",children:F.name}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Price: $",F.price.toFixed(2)]}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx(te,{variant:"outline",size:"icon",className:"h-6 w-6",onClick:()=>p(F.id,s,F.quantity-1),children:a.jsx("span",{className:"text-lg leading-none",children:"-"})}),a.jsx("span",{className:"text-sm w-4 text-center",children:F.quantity}),a.jsx(te,{variant:"outline",size:"icon",className:"h-6 w-6",onClick:()=>p(F.id,s,F.quantity+1),children:a.jsx("span",{className:"text-lg leading-none",children:"+"})})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-semibold text-sm",children:["$",(F.price*F.quantity).toFixed(2)]}),a.jsx(te,{variant:"ghost",size:"icon",className:"h-7 w-7 mt-1 text-muted-foreground hover:text-destructive",onClick:()=>h(F.id,s),children:a.jsx(Sa,{className:"h-4 w-4"})})]})]},F.id)})})}),a.jsx(Io,{}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"flex justify-between font-medium",children:[a.jsx("span",{children:"Subtotal"}),a.jsxs("span",{children:["$",G.toFixed(2)]})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Shipping and taxes calculated at checkout."}),a.jsx(te,{className:"w-full",size:"lg",style:{backgroundColor:r.primaryColor},onClick:L,children:"Proceed to Checkout"})]})]})]})]})})}),R&&a.jsx(Fwe,{open:E,onOpenChange:j,storeId:s,storeName:n,currentLogoUrl:i,onLogoReplaced:V})]})},bu={Root:({children:t,...e})=>a.jsx("div",{...e,children:t}),Portal:({children:t})=>a.jsx(a.Fragment,{children:t}),Overlay:re.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:gt("fixed inset-0 z-50",t),...e})),Content:re.forwardRef(({className:t,children:e,...n},r)=>a.jsx("div",{ref:r,className:gt("fixed z-50",t),...n,children:e}))};bu.Overlay.displayName="DialogPrimitive.Overlay";bu.Content.displayName="DialogPrimitive.Content";const Bwe=Object.freeze(Object.defineProperty({__proto__:null,default:$9},Symbol.toStringTag,{value:"Module"})),F9=({store:t,isPublishedView:e=!1})=>{const{name:n,theme:r,id:i,content:s}=t,{updateStore:o}=Zn(),l=!e,u=new Date().getFullYear(),d=[{icon:MX,href:"#",label:"Facebook"},{icon:uv,href:"#",label:"Instagram"},{icon:sQ,href:"#",label:"Twitter"},{icon:$X,href:"#",label:"LinkedIn"},{icon:uQ,href:"#",label:"YouTube"}],p=[{href:`/store/${i}`,label:"Home"},{href:`#products-${i}`,label:"Products"},{href:"#",label:"About Us"},{href:"#",label:"Contact"},{href:"#",label:"FAQ"},{href:"#",label:"Privacy Policy"},{href:"#",label:"Terms of Service"},{href:"#",label:"Shipping Info"},{href:"#",label:"Returns"}],g=s!=null&&s.footerNavLinks&&Array.isArray(s.footerNavLinks)&&s.footerNavLinks.length>0?s.footerNavLinks.map((M,A)=>{var $,B;return{href:M.href||(($=p[A])==null?void 0:$.href)||"#",label:M.label||((B=p[A])==null?void 0:B.label)||`Link ${A+1}`}}):p,y=()=>{window.scrollTo({top:0,behavior:"smooth"})},b=async(M,A,$=null)=>{if(i)try{if(M.startsWith("content.footerNavLinks")){const B=g.map((G,X)=>X===$?{...G,label:A}:G);await o(i,{content:{...s,footerNavLinks:B}})}else{const B=M.split(".");B.length===2&&B[0]==="content"?await o(i,{content:{...s,[B[1]]:A}}):console.warn("Unsupported identifier for footer text save:",M)}}catch(B){console.error(`Failed to update store footer text for ${M}:`,B)}},C=(s==null?void 0:s.footerStoreInfo)||`Your favorite destination for ${t.type||"quality products"}. We are committed to bringing you the best experience with premium quality and exceptional service.`,_=(s==null?void 0:s.footerQuickLinksTitle)||"Quick Links",P=(s==null?void 0:s.footerCustomerServiceTitle)||"Customer Service",E=(s==null?void 0:s.footerContactUsTitle)||"Contact Us",j=(s==null?void 0:s.footerAddress)||"123 Store Street, Cityville, ST 12345",R=(s==null?void 0:s.footerPhoneNumber)||"(123) 456-7890",I=(s==null?void 0:s.footerCopyrightSuffix)||"All Rights Reserved. Powered by StoreGen AI.";return a.jsxs("footer",{className:"bg-muted dark:bg-slate-900 text-muted-foreground relative overflow-hidden",id:`contact-${i}`,children:[a.jsx(In.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5},viewport:{once:!0},className:"pt-16 pb-8",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-12",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-xl font-bold text-foreground font-poppins",style:{color:r.primaryColor},children:n}),a.jsx("div",{className:"text-sm",children:a.jsx(Wi,{initialText:C,onSave:M=>b("content.footerStoreInfo",M),isAdmin:l,placeholder:"Store information paragraph",useTextarea:!0,textClassName:"text-sm"})}),a.jsx("div",{className:"flex space-x-3 pt-2",children:d.map(M=>a.jsx("a",{href:M.href,"aria-label":M.label,className:"p-2 rounded-full bg-background/50 hover:bg-primary/10 hover:scale-110 transition-all duration-300",style:{"--hover-bg-color":`${r.primaryColor}1A`,"--hover-text-color":r.primaryColor},children:a.jsx(M.icon,{className:"h-5 w-5"})},M.label))})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-foreground mb-4 font-poppins",children:a.jsx(Wi,{initialText:_,onSave:M=>b("content.footerQuickLinksTitle",M),isAdmin:l,placeholder:"Quick Links Title",textClassName:"font-bold text-foreground"})}),a.jsx("ul",{className:"space-y-2",children:g.slice(0,5).map((M,A)=>a.jsx("li",{children:a.jsx("a",{href:M.href,className:"text-sm hover:text-primary transition-colors hover:translate-x-1 inline-block hover:underline decoration-primary/30 underline-offset-4",style:{"--hover-color":r.primaryColor},children:a.jsx(Wi,{initialText:M.label,onSave:$=>b("content.footerNavLinks",$,A),isAdmin:l,placeholder:`Link ${A+1}`,textClassName:"text-sm"})})},M.label+A))})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-foreground mb-4 font-poppins",children:a.jsx(Wi,{initialText:P,onSave:M=>b("content.footerCustomerServiceTitle",M),isAdmin:l,placeholder:"Customer Service Title",textClassName:"font-bold text-foreground"})}),a.jsx("ul",{className:"space-y-2",children:g.slice(5).map((M,A)=>a.jsx("li",{children:a.jsx("a",{href:M.href,className:"text-sm hover:text-primary transition-colors hover:translate-x-1 inline-block hover:underline decoration-primary/30 underline-offset-4",style:{"--hover-color":r.primaryColor},children:a.jsx(Wi,{initialText:M.label,onSave:$=>b("content.footerNavLinks",$,A+5),isAdmin:l,placeholder:`Link ${A+6}`,textClassName:"text-sm"})})},M.label+A+5))})]}),a.jsxs("div",{className:"space-y-3 text-sm",children:[a.jsx("h4",{className:"font-bold text-foreground mb-4 font-poppins",children:a.jsx(Wi,{initialText:E,onSave:M=>b("content.footerContactUsTitle",M),isAdmin:l,placeholder:"Contact Us Title",textClassName:"font-bold text-foreground"})}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(UX,{className:"h-5 w-5 mt-0.5 flex-shrink-0",style:{color:r.primaryColor}}),a.jsx(Wi,{initialText:j,onSave:M=>b("content.footerAddress",M),isAdmin:l,placeholder:"Store Address",useTextarea:!0,textClassName:"text-sm"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(gu,{className:"h-5 w-5 flex-shrink-0",style:{color:r.primaryColor}}),a.jsxs("a",{href:`mailto:info@${n.toLowerCase().replace(/\s+/g,"")}.com`,className:"hover:text-primary hover:underline decoration-primary/30 underline-offset-4",style:{"--hover-color":r.primaryColor},children:["info@",n.toLowerCase().replace(/\s+/g,""),".com"]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(JX,{className:"h-5 w-5 flex-shrink-0",style:{color:r.primaryColor}}),a.jsx(Wi,{initialText:R,onSave:M=>b("content.footerPhoneNumber",M),isAdmin:l,placeholder:"Store Phone Number",textClassName:"text-sm hover:text-primary hover:underline decoration-primary/30 underline-offset-4"})]})]})]}),a.jsxs("div",{className:"border-t border-border/50 pt-6 flex flex-col md:flex-row justify-between items-center text-sm",children:[a.jsxs("p",{children:[" ",u," ",n,". ",a.jsx(Wi,{initialText:I,onSave:M=>b("content.footerCopyrightSuffix",M),isAdmin:l,placeholder:"Copyright suffix",textClassName:"text-sm",as:"span"})]}),a.jsx("div",{className:"flex items-center mt-4 md:mt-0",children:a.jsx(te,{variant:"ghost",size:"icon",className:"rounded-full hover:bg-primary/10 transition-all duration-300",onClick:y,style:{"--hover-bg-color":`${r.primaryColor}1A`},children:a.jsx(PX,{className:"h-5 w-5",style:{color:r.primaryColor}})})})]})]})}),a.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-primary/5 rounded-full translate-x-1/2 -translate-y-1/2 blur-3xl"}),a.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-secondary/5 rounded-full -translate-x-1/3 translate-y-1/3 blur-3xl"})]})},Uwe=Object.freeze(Object.defineProperty({__proto__:null,default:F9},Symbol.toStringTag,{value:"Module"})),Vwe=t=>new Promise((e,n)=>{if(!t)return n(new Error("Image source is undefined or null."));if(t.startsWith("data:"))try{const r=t.split(",");if(r.length<2)throw new Error("Invalid data URL structure.");const i=r[0],s=r[1],o=i.match(/:(.*?);/);if(!o||!o[1])throw new Error("Could not parse MIME type from data URL.");const l=o[1];e({base64ImageData:s,mimeType:l})}catch(r){console.error("Error parsing data URL:",t,r),n(new Error(`Invalid data URL format: ${r.message}`))}else{const r=new Image;r.crossOrigin="Anonymous",r.onload=()=>{const i=document.createElement("canvas");i.width=r.naturalWidth,i.height=r.naturalHeight,i.getContext("2d").drawImage(r,0,0);try{let o="image/png";(t.toLowerCase().endsWith(".jpg")||t.toLowerCase().endsWith(".jpeg"))&&(o="image/jpeg");const d=i.toDataURL(o).split(",")[1];e({base64ImageData:d,mimeType:o})}catch(o){console.error("Canvas toDataURL failed:",o),n(new Error("Canvas toDataURL failed. "+o.message))}},r.onerror=i=>{console.error("Failed to load image from URL for conversion:",t,i),n(new Error("Failed to load image from URL for conversion."))},r.src=t}}),zwe=({open:t,onOpenChange:e,product:n,onVideoGenerated:r})=>{var R,I,M,A;const[i,s]=x.useState(""),[o,l]=x.useState(null),[u,d]=x.useState(null),[h,p]=x.useState(!1),[g,y]=x.useState(!1),[b,C]=x.useState(null),{toast:_}=Bo(),P=((I=(R=n==null?void 0:n.image)==null?void 0:R.src)==null?void 0:I.large)||((A=(M=n==null?void 0:n.image)==null?void 0:M.src)==null?void 0:A.medium);x.useEffect(()=>{t&&P&&(C(null),s(""),l(null),d(null),Vwe(P).then($=>{l($.base64ImageData),d($.mimeType)}).catch($=>{console.error("Error loading product image data:",$),C(`Failed to load product image: ${$.message}`),_({title:"Error",description:`Failed to load product image: ${$.message}`,variant:"destructive"})}))},[t,P,_]);const E=async()=>{if(!o||!u){_({title:"Error",description:"Product image data is not available to suggest a prompt.",variant:"destructive"});return}p(!0),C(null);try{const $=await eg(o,u);s($)}catch($){console.error("Error generating prompt suggestion:",$),C(`Failed to suggest prompt: ${$.message}`),_({title:"Suggestion Failed",description:`Could not suggest a prompt: ${$.message}`,variant:"destructive"})}finally{p(!1)}},j=async()=>{if(!i.trim()){C("Please enter a prompt for the video.");return}if(!o||!u){C("Product image data is not available.");return}y(!0),C(null);try{const $=await j$(i,o,u);r&&r($),e(!1)}catch($){console.error("Error generating product video:",$),C($.message||"Failed to generate video. Please try again."),_({title:"Video Generation Failed",description:$.message,variant:"destructive"})}finally{y(!1)}};return n?a.jsx(Zl,{open:t,onOpenChange:e,children:a.jsxs(ka,{className:"sm:max-w-lg",children:[a.jsxs(Ia,{children:[a.jsx(Ma,{children:"Generate Product Video"}),a.jsxs(Ju,{children:['Create a short video for "',n.name,'" using its image and a prompt.']})]}),a.jsxs("div",{className:"grid gap-4 py-4",children:[P&&a.jsxs("div",{className:"flex flex-col items-center gap-2",children:[a.jsx("img",{src:P,alt:n.name,className:"w-32 h-32 object-contain rounded border"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Using this image as the base."})]}),a.jsxs("div",{className:"grid w-full gap-1.5",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx(Je,{htmlFor:"video-prompt",children:"Video Prompt"}),a.jsxs(te,{variant:"outline",size:"sm",onClick:E,disabled:h||g||!o,children:[h?a.jsx(sn,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(Wl,{className:"mr-2 h-4 w-4"}),"Suggest"]})]}),a.jsx(gr,{id:"video-prompt",value:i,onChange:$=>s($.target.value),placeholder:"e.g., A dynamic shot of the product with vibrant background...",rows:4,disabled:h||g}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"AI will use the product image and this prompt to create a video."})]}),b&&a.jsx("p",{className:"text-sm text-red-500 col-span-4 text-center",children:b})]}),a.jsxs(Xs,{children:[a.jsx(Mv,{asChild:!0,children:a.jsx(te,{variant:"outline",disabled:g,children:"Cancel"})}),a.jsxs(te,{onClick:j,disabled:h||g||!i.trim()||!o,children:[g?a.jsx(sn,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(Wl,{className:"mr-2 h-4 w-4"}),"Generate Video"]})]})]})}):null},Wwe=({product:t,storeId:e,isPublishedView:n=!1})=>{const{toast:r}=Bo(),{getStoreById:i}=Zn(),[s,o]=x.useState(null),[l,u]=x.useState(null),[d,h]=x.useState(""),[p,g]=x.useState([]),[y,b]=x.useState([]),[C,_]=x.useState(null),[P,E]=x.useState(!1),[j,R]=x.useState(""),[I,M]=x.useState("#FFFFFF"),[A,$]=x.useState(""),[B,G]=x.useState(""),[X,K]=x.useState(!1),[W,V]=x.useState(!1);x.useEffect(()=>{if(e){const ie=i(e);o(ie),ie&&t&&g(ie.products.filter(L=>{var F,Z;return L.id!==t.id&&((Z=(F=L.image)==null?void 0:F.src)==null?void 0:Z.medium)}))}},[e,t,i]);const Y=ie=>{const L=ie.target.files[0];if(L){L.size>5*1024*1024&&r({title:"File too large",description:"Reference image should ideally be under 5MB.",variant:"destructive"}),u(L);const F=new FileReader;F.onloadend=()=>h(F.result),F.readAsDataURL(L),_(null),$(""),G("")}},ne=()=>{u(null),h(""),_(null),$(""),G("")},ue=ie=>{b(L=>L.find(F=>F.id===ie.id)?L.filter(F=>F.id!==ie.id):[...L,ie]),_(null),$(""),G("")},oe=async()=>{var L,F,Z,U;if(!t||!l){r({title:"Missing inputs",description:"Main product and a reference image are required.",variant:"destructive"});return}E(!0),_(null),$(""),G("Generating visualization, please wait...");let ie=j;I&&I!=="#FFFFFF"&&(ie=`${j}. The main product should be ${I} color`.trim());try{const Ne={name:t.name,description:t.description,imageSource:((F=(L=t.image)==null?void 0:L.src)==null?void 0:F.large)||((U=(Z=t.image)==null?void 0:Z.src)==null?void 0:U.medium)},De=y.map(Te=>{var Pe,$e,He,tt;return{name:Te.name,description:Te.description,imageSource:(($e=(Pe=Te.image)==null?void 0:Pe.src)==null?void 0:$e.large)||((tt=(He=Te.image)==null?void 0:He.src)==null?void 0:tt.medium)}}),je=await D9({mainProduct:Ne,referenceSceneSource:l,additionalProducts:De,customInstructions:ie});$(je.promptUsed||"Prompt details not available."),G(je.commentary||"Processing complete."),je&&je.imageUrl?(_(je.imageUrl),r({title:"Visualization Generated!",description:je.commentary||"Image created."})):r({title:"Visualization Issue",description:je.commentary||"No image generated by AI.",variant:"default",duration:7e3})}catch(Ne){console.error("Error in ProductVisualizer calling generateProductVisualization:",Ne);const De=Ne.message||"An unknown error occurred during visualization.";G(`Error: ${De}`),r({title:"Visualization Failed",description:De,variant:"destructive",duration:1e4})}finally{E(!1)}};return!t||!s?a.jsx("div",{className:"py-8 text-center text-muted-foreground",children:"Initializing Product Visualizer..."}):a.jsxs("div",{className:"my-8 border rounded-lg shadow-sm bg-card",children:[a.jsxs("div",{className:"p-4 md:p-6 cursor-pointer flex justify-between items-center",onClick:()=>V(!W),role:"button",tabIndex:0,onKeyDown:ie=>(ie.key==="Enter"||ie.key===" ")&&V(!W),"aria-expanded":W,"aria-controls":"product-visualizer-content-area",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl md:text-2xl font-semibold",children:"Product Visualizer"}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["See how ",a.jsx("span",{className:"font-medium text-primary",children:t.name})," looks in different settings."]})]}),a.jsx(te,{variant:"ghost",size:"icon","aria-label":W?"Collapse visualizer":"Expand visualizer",children:W?a.jsx(pO,{className:"h-6 w-6"}):a.jsx(b0,{className:"h-6 w-6"})})]}),W&&a.jsxs("div",{id:"product-visualizer-content-area",className:"p-4 md:p-6 border-t",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6",children:[a.jsxs("div",{className:"space-y-4 md:space-y-6",children:[a.jsxs("div",{children:[a.jsx(Je,{htmlFor:"visualizer-reference-image-upload",className:"text-md font-medium block mb-1",children:"1. Upload Reference Scene"}),a.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"E.g., a room, a model. (Max ~5MB recommended)"}),d?a.jsxs("div",{className:"relative group aspect-video rounded-md border overflow-hidden bg-muted/20",children:[a.jsx("img",{src:d,alt:"Reference scene preview",className:"w-full h-full object-contain"}),a.jsx(te,{variant:"destructive",size:"icon",className:"absolute top-2 right-2 opacity-50 group-hover:opacity-100 transition-opacity",onClick:ne,"aria-label":"Remove reference image",children:a.jsx(Xl,{className:"h-4 w-4"})})]}):a.jsxs("label",{htmlFor:"visualizer-reference-image-input",className:"mt-1 flex flex-col justify-center items-center w-full h-40 md:h-48 px-6 py-5 border-2 border-dashed rounded-md cursor-pointer hover:border-primary transition-colors",children:[a.jsx(hg,{className:"mx-auto h-8 md:h-10 w-8 md:w-10 text-muted-foreground mb-2"}),a.jsx("span",{className:"font-semibold text-primary text-sm",children:"Click to upload image"}),a.jsx("span",{className:"text-xs text-muted-foreground mt-1",children:"PNG, JPG, GIF, WEBP"}),a.jsx(ft,{id:"visualizer-reference-image-input",type:"file",className:"sr-only",accept:"image/*",onChange:Y})]})]}),p.length>0&&a.jsxs("div",{children:[a.jsx(Je,{className:"text-md font-medium block mb-1",children:"2. Add Other Products (Optional)"}),a.jsx(Oa,{className:"h-32 md:h-40 border rounded-md p-2",children:a.jsx("div",{className:"space-y-1.5",children:p.map(ie=>a.jsxs("div",{className:`flex items-center justify-between p-2 rounded-md cursor-pointer transition-all text-sm ${y.some(L=>L.id===ie.id)?"bg-primary/10 ring-1 ring-primary":"hover:bg-muted/50"}`,onClick:()=>ue(ie),role:"checkbox","aria-checked":y.some(L=>L.id===ie.id),tabIndex:0,onKeyDown:L=>(L.key==="Enter"||L.key===" ")&&ue(ie),children:[a.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[a.jsx("img",{src:ie.image.src.medium,alt:ie.name,className:"w-8 h-8 object-cover rounded flex-shrink-0"}),a.jsx("span",{className:"truncate",title:ie.name,children:ie.name})]}),y.some(L=>L.id===ie.id)&&a.jsx(P_,{className:"h-4 w-4 text-primary flex-shrink-0"})]},ie.id))})})]}),a.jsxs("div",{children:[a.jsx(Je,{htmlFor:"visualizer-product-color",className:"text-md font-medium block mb-1",children:"3. Main Product Color (Optional)"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ft,{type:"color",id:"visualizer-product-color",value:I,onChange:ie=>M(ie.target.value),className:"w-12 h-10 p-1"}),a.jsx(ft,{type:"text",value:I,onChange:ie=>M(ie.target.value),placeholder:"#FFFFFF",className:"flex-grow h-10 text-sm"})]})]}),a.jsxs("div",{children:[a.jsx(Je,{htmlFor:"visualizer-custom-prompt",className:"text-md font-medium block mb-1",children:"4. Custom Instructions (Optional)"}),a.jsx(gr,{id:"visualizer-custom-prompt",placeholder:"e.g., 'place the sofa by the window', 'make it a sunny day'",value:j,onChange:ie=>R(ie.target.value),rows:2,className:"resize-none text-sm"})]}),a.jsxs(te,{onClick:oe,disabled:P||!l,className:"w-full py-2.5 text-sm md:text-base",size:"lg",children:[P?a.jsx(sn,{className:"mr-2 h-5 w-5 animate-spin"}):a.jsx(kg,{className:"mr-2 h-5 w-5"}),"Generate Visualization"]})]}),a.jsx("div",{className:"flex flex-col items-center justify-center border rounded-md p-2 md:p-4 bg-muted/30 min-h-[250px] md:min-h-[300px] lg:min-h-full relative",children:P?a.jsxs("div",{className:"text-center",children:[a.jsx(sn,{className:"h-12 w-12 animate-spin text-primary mb-3"}),a.jsx("p",{className:"text-muted-foreground font-medium",children:B||"Generating your scene..."})]}):C?a.jsxs(a.Fragment,{children:[a.jsx("img",{src:C,alt:"Generated Product Visualization",className:"max-w-full max-h-[calc(100%-40px)] object-contain rounded-md"}),B&&!B.toLowerCase().includes("error")&&a.jsx("p",{className:"text-xs text-muted-foreground mt-2 text-center max-w-xs mx-auto",children:B}),a.jsxs(te,{variant:"ghost",size:"sm",onClick:()=>K(!X),className:"absolute bottom-1 right-1 text-muted-foreground hover:text-primary h-auto p-1","aria-label":"Toggle prompt information",children:[a.jsx(OX,{className:"h-4 w-4 mr-1"})," ",a.jsx("span",{className:"text-xs",children:"Info"})]})]}):a.jsxs("div",{className:"text-center text-muted-foreground p-4",children:[B&&a.jsx("p",{className:`text-sm mb-2 ${B.toLowerCase().includes("error")||B.toLowerCase().includes("failed")?"text-destructive":""}`,children:B}),a.jsx(kg,{className:"h-12 w-12 mx-auto mb-3"}),a.jsx("p",{className:"font-medium",children:"Your product visualization will appear here."}),!C&&a.jsx("p",{className:"text-xs mt-1",children:'Upload a reference scene and click "Generate".'})]})})]}),X&&A&&!n&&a.jsxs("div",{className:"mt-4 p-3 border rounded-md bg-muted/50",children:[a.jsx(Je,{className:"text-xs font-semibold text-muted-foreground",children:"Technical Prompt Sent to AI:"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1 whitespace-pre-wrap",children:A})]}),a.jsx(Io,{className:"mt-6 md:mt-8 mb-0"})]})]})},qwe=()=>{var wn,xn,Zt,un,Hn,Tn,jn,xe,fe;const t=u0(),e=t.storeId,n=ve=>{if(typeof ve!="string"||ve.includes("://"))return!1;try{return btoa(atob(ve))===ve}catch{return!1}};let r=t.productId,i=r;if(n(r))try{i=atob(r)}catch(ve){console.error("Failed to decode Base64 productId:",r,ve)}const s=i,{getStoreById:o,getProductById:l,addToCart:u,updateProductImage:d,updateStore:h,isLoadingStores:p,viewMode:g}=Zn(),y=g==="published",{toast:b}=Bo(),C=Rs(),[_,P]=x.useState(null),[E,j]=x.useState(null),[R,I]=x.useState(1),[M,A]=x.useState(!1),[$,B]=x.useState(""),[G,X]=x.useState([]),[K,W]=x.useState(!1),[V,Y]=x.useState(!1),[ne,ue]=x.useState(""),[oe,ie]=x.useState(!1),[L,F]=x.useState(!1),[Z,U]=x.useState(""),Ne=x.useCallback(ve=>new Promise((Ie,Ye)=>{if(!ve)return Ye(new Error("Image source is undefined or null."));if(ve.startsWith("data:"))try{const it=ve.split(",");if(it.length<2)throw new Error("Invalid data URL structure.");const Vt=it[0],Sn=it[1],ye=Vt.match(/:(.*?);/);if(!ye||!ye[1])throw new Error("Could not parse MIME type from data URL.");const Ze=ye[1];Ie({base64ImageData:Sn,mimeType:Ze})}catch(it){console.error("Error parsing data URL:",ve,it),Ye(new Error(`Invalid data URL format: ${it.message}`))}else{const it=new Image;it.crossOrigin="Anonymous",it.onload=()=>{const Vt=document.createElement("canvas");Vt.width=it.naturalWidth,Vt.height=it.naturalHeight,Vt.getContext("2d").drawImage(it,0,0);try{const ce=Vt.toDataURL("image/png").split(",")[1];Ie({base64ImageData:ce,mimeType:"image/png"})}catch(ye){console.error("Canvas toDataURL failed:",ye),Ye(new Error("Canvas toDataURL failed, possibly due to CORS or tainted canvas. "+ye.message))}},it.onerror=Vt=>{console.error("Failed to load image from URL for conversion:",ve,Vt),Ye(new Error("Failed to load image from URL for conversion."))},it.src=ve}}),[]),De=x.useCallback(async()=>{var ve,Ie;if(!ne.trim()||!E||!((Ie=(ve=E.image)==null?void 0:ve.src)!=null&&Ie.medium)){b({title:"Missing data",description:"Original image or edit prompt is missing.",variant:"destructive"});return}ie(!0);try{const Ye=E.image.src.medium,{base64ImageData:it,mimeType:Vt}=await Ne(Ye),Sn=await N$(it,Vt,ne);if(Sn&&Sn.editedImageData){const ye=`data:${Sn.newMimeType};base64,${Sn.editedImageData}`,Ze={id:Cr(),src:{medium:ye,large:ye},alt:`${E.name} (edited: ${ne.substring(0,20)}...)`,photographer:"Edited with Gemini AI"};d(e,s,Ze),b({title:"Image Edited",description:"Product image updated with AI edit."}),Y(!1),ue("")}else throw new Error("AI did not return an edited image.")}catch(Ye){console.error("Error editing image:",Ye),b({title:"Image Edit Failed",description:Ye.message,variant:"destructive"})}ie(!1)},[E,ne,e,s,d,b,Ne,Y,ue,ie]);x.useEffect(()=>{if(p)return;console.log(`[ProductDetail] Attempting to load product. Store ID: ${e}, Product ID from URL: ${s}`);const ve=o(e);if(ve){P(ve),console.log("[ProductDetail] Store found:",ve.name);const Ie=l(e,s);console.log("[ProductDetail] Product from getProductById:",Ie?Ie.name:"NOT FOUND",Ie),Ie?(j(Ie),B(Ie.name),U(Ie.video_url||"")):(b({title:"Product not found in store",description:`Product ID ${s} not found in store ${ve.name}.`,variant:"destructive"}),C(`/store/${e}`))}else b({title:"Store not found",description:`Could not find store with ID: ${e}`,variant:"destructive"}),C("/")},[e,s,o,l,C,b,p]);const je=ve=>{const Ie=parseInt(ve.target.value);Ie>0&&I(Ie)},Te=()=>{u({...E,quantity:R},e)},Pe=async()=>{if($.trim()){W(!0);try{const ve=await Ra($,5,"square");X(ve)}catch(ve){b({title:"Image search failed",description:ve.message,variant:"destructive"})}W(!1)}},$e=async()=>{if($.trim()){W(!0);try{const ve=`Product image for: ${$}, ${(E==null?void 0:E.type)||(_==null?void 0:_.type)||"item"}`,Ie=await z3(ve);X(Ye=>[{id:Date.now().toString(),src:{medium:Ie.url,large:Ie.url},alt:Ie.alt,photographer:"Gemini AI"},...Ye.slice(0,4)]),b({title:"Image Generated",description:"Gemini AI generated an image."})}catch(ve){b({title:"Gemini image generation failed",description:ve.message,variant:"destructive"})}W(!1)}},He=ve=>{const Ie=ve.target.files[0];if(Ie){W(!0);const Ye=new FileReader;Ye.onloadend=()=>{const it={id:Cr(),src:{medium:Ye.result,large:Ye.result},alt:Ie.name,photographer:"Uploaded by user"};nt(it),b({title:"Image Uploaded",description:`${Ie.name} has been set as the product image.`}),W(!1)},Ye.onerror=()=>{b({title:"Upload Failed",description:"Could not read the selected file.",variant:"destructive"}),W(!1)},Ye.readAsDataURL(Ie)}},tt=async ve=>{if(!_||!E)return;const Ie=_.products.map(Ye=>Ye.id===s?{...Ye,video_url:ve}:Ye);try{await h(e,{products:Ie}),U(ve),b({title:"Product Video Generated",description:"The video has been added to the product."})}catch(Ye){console.error("Failed to update store with product video:",Ye),b({title:"Update Failed",description:"Could not save the product video.",variant:"destructive"})}},nt=ve=>{d(e,s,ve),A(!1),X([])};if(p||!_||!E)return a.jsxs("div",{className:"min-h-screen flex items-center justify-center",children:[a.jsx(sn,{className:"h-12 w-12 animate-spin text-primary"}),a.jsx("p",{className:"ml-4 text-muted-foreground",children:"Loading product details..."})]});const Tt=((xn=(wn=E.image)==null?void 0:wn.src)==null?void 0:xn.large)||((un=(Zt=E.image)==null?void 0:Zt.src)==null?void 0:un.medium)||`https://via.placeholder.com/600x600.png?text=${encodeURIComponent(E.name)}`,Bt=((Hn=E.image)==null?void 0:Hn.alt)||E.name,vn=(xe=(jn=(Tn=E.variants)==null?void 0:Tn.edges)==null?void 0:jn[0])==null?void 0:xe.node,Ut=(vn==null?void 0:vn.quantityAvailable)??E.stock??(E.availableForSale?1:0),fn=((fe=_==null?void 0:_.theme)==null?void 0:fe.primaryColor)||"#000000";return a.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[a.jsx($9,{store:_,isPublishedView:y}),a.jsxs(In.main,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"container mx-auto px-4 py-8 md:py-12 flex-grow",children:[a.jsxs(te,{variant:"outline",onClick:()=>C(`/store/${e}`),className:"mb-6",children:[a.jsx(Aa,{className:"mr-2 h-4 w-4"})," Back to Store"]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-8 lg:gap-12",children:[a.jsxs(In.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.5,delay:.1},className:"relative group",children:[a.jsx("img",{src:Tt,alt:Bt,className:"w-full h-auto aspect-square object-cover rounded-xl shadow-lg border"}),!y&&a.jsxs(a.Fragment,{children:[a.jsxs(te,{variant:"secondary",onClick:()=>A(!0),className:"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300 shadow-md",children:[a.jsx(ZX,{className:"mr-2 h-4 w-4"})," Change Image"]}),a.jsxs(te,{variant:"outline",size:"sm",onClick:()=>Y(!0),className:"absolute top-16 right-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300 shadow-md",children:[a.jsx(KX,{className:"mr-2 h-4 w-4"})," Edit Image"]}),a.jsxs(te,{variant:"outline",size:"sm",onClick:()=>F(!0),className:"absolute top-28 right-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300 shadow-md",children:[a.jsx(cQ,{className:"mr-2 h-4 w-4"})," Gen Video"]})]})]}),Z&&a.jsx(In.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"md:col-span-2 lg:col-span-1 aspect-video rounded-xl overflow-hidden shadow-lg border relative mt-4 md:mt-0",children:a.jsx("video",{src:Z,controls:!0,autoPlay:!1,loop:!0,playsInline:!0,className:"w-full h-full object-cover",poster:Tt,children:"Your browser does not support the video tag."},Z)}),a.jsxs(In.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},className:"space-y-6",children:[a.jsx("h1",{className:"text-3xl lg:text-4xl font-bold tracking-tight text-foreground",children:E.name}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"flex items-center",children:[...Array(5)].map((ve,Ie)=>a.jsx(nQ,{className:`h-5 w-5 ${Ie<Math.floor(E.rating)?"text-amber-400 fill-amber-400":"text-muted-foreground/30"}`},Ie))}),a.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",E.rating," reviews)"]}),a.jsx(Io,{orientation:"vertical",className:"h-5"}),a.jsx(o_,{variant:"outline",style:{borderColor:_.theme.primaryColor,color:_.theme.primaryColor},children:E.stock>0?`${E.stock} in stock`:"Out of Stock"})]}),a.jsxs("p",{className:"text-2xl lg:text-3xl font-semibold",style:{color:_.theme.primaryColor},children:[E.currencyCode||"USD"," ",E.price.toFixed(2)]}),a.jsx("div",{className:"prose prose-sm sm:prose dark:prose-invert max-w-none text-muted-foreground",children:a.jsx("p",{children:E.description})}),E.tags&&E.tags.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2",children:E.tags.map(ve=>a.jsx(o_,{variant:"secondary",children:ve},ve))}),a.jsx(Io,{}),a.jsxs("div",{className:"flex items-end gap-4 pt-4",children:[" ",a.jsxs("div",{className:"space-y-1",children:[a.jsx(Je,{htmlFor:"quantity",className:"text-sm",children:"Quantity"}),a.jsx(ft,{id:"quantity",type:"number",value:R,onChange:je,min:"1",max:Ut,className:"w-20 h-10 text-center",disabled:Ut===0})]}),a.jsxs(te,{size:"lg",onClick:Te,className:"flex-1 h-10",style:{backgroundColor:fn,color:"white"},disabled:Ut===0,children:[a.jsx(Ag,{className:"mr-2 h-5 w-5"}),Ut===0?"Out of Stock":"Add to Cart"]})]}),E&&e&&a.jsx(Wwe,{product:E,storeId:e,isPublishedView:y})]})]})]}),a.jsx(F9,{store:_,isPublishedView:y}),!y&&a.jsxs(a.Fragment,{children:[a.jsx(Zl,{open:M,onOpenChange:A,children:a.jsxs(ka,{className:"sm:max-w-2xl",children:[a.jsx(Ia,{children:a.jsx(Ma,{children:"Change Product Image"})}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ft,{placeholder:"Search Pexels or describe for AI...",value:$,onChange:ve=>B(ve.target.value)}),a.jsxs(te,{onClick:Pe,disabled:K||!$.trim(),children:[K&&G.length===0?a.jsx(sn,{className:"h-4 w-4 animate-spin"}):a.jsx(DX,{className:"h-4 w-4"})," ",a.jsx("span",{className:"ml-2 hidden sm:inline",children:"Pexels"})]}),a.jsxs(te,{onClick:$e,variant:"outline",disabled:K||!$.trim(),children:[K&&G.length>0?a.jsx(sn,{className:"h-4 w-4 animate-spin"}):a.jsx(Wl,{className:"h-4 w-4"})," ",a.jsx("span",{className:"ml-2 hidden sm:inline",children:"Gemini"})]}),a.jsxs(te,{variant:"outline",onClick:()=>{var ve;return(ve=document.getElementById("upload-image-input"))==null?void 0:ve.click()},disabled:K,children:[a.jsx(hg,{className:"h-4 w-4"})," ",a.jsx("span",{className:"ml-2 hidden sm:inline",children:"Upload"})]}),a.jsx(ft,{type:"file",id:"upload-image-input",className:"hidden",accept:"image/*",onChange:He})]}),K&&G.length===0&&a.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"Searching for images or processing upload..."}),G.length>0&&a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2 max-h-80 overflow-y-auto",children:G.map(ve=>a.jsxs(In.div,{className:"relative aspect-square rounded-md overflow-hidden cursor-pointer group border-2 border-transparent hover:border-primary transition-all",onClick:()=>nt(ve),whileHover:{scale:1.05},initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},children:[a.jsx("img",{src:ve.src.medium,alt:ve.alt||"Search result",className:"w-full h-full object-cover"}),a.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:a.jsx(Gwe,{className:"h-8 w-8 text-white"})}),a.jsx("p",{className:"absolute bottom-0 left-0 right-0 bg-black/70 text-white text-xs p-1 truncate",children:ve.photographer||ve.alt})]},ve.id))})]}),a.jsx(Xs,{children:a.jsx(Mv,{asChild:!0,children:a.jsx(te,{type:"button",variant:"outline",children:"Cancel"})})})]})}),a.jsx(Zl,{open:V,onOpenChange:Y,children:a.jsxs(ka,{className:"sm:max-w-md",children:[a.jsx(Ia,{children:a.jsx(Ma,{children:"Edit Product Image"})}),a.jsxs("div",{className:"space-y-4 py-4",children:[E&&E.image&&a.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[a.jsx("img",{src:Tt,alt:"Current product to edit",className:"h-20 w-20 object-cover rounded border"}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Editing: ",E.name]})]}),a.jsx(Je,{htmlFor:"editPrompt",className:"text-left",children:"Edit Instruction:"}),a.jsx(gr,{id:"editPrompt",placeholder:"e.g., 'make the background blue', 'add sunglasses to the person'",value:ne,onChange:ve=>ue(ve.target.value),rows:3,className:"resize-none"})]}),a.jsxs(Xs,{children:[a.jsx(Mv,{asChild:!0,children:a.jsx(te,{type:"button",variant:"outline",disabled:oe,children:"Cancel"})}),a.jsxs(te,{onClick:De,disabled:oe||!ne.trim(),children:[oe?a.jsx(sn,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(Wl,{className:"mr-2 h-4 w-4"}),"Apply Edit"]})]})]})}),E&&a.jsx(zwe,{open:L,onOpenChange:F,product:E,onVideoGenerated:tt})]})]})},Gwe=t=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[a.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),a.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),Hwe=()=>{var A;const t=Fo(),e=Rs(),{clearCart:n,getStoreById:r}=Zn(),{toast:i}=Bo(),[s,o]=x.useState([]),[l,u]=x.useState("Your"),[d,h]=x.useState(null),[p,g]=x.useState(null),[y,b]=x.useState(!1),[C,_]=x.useState({email:"",nameOnCard:"",cardNumber:"",expiryDate:"",cvc:"",address:"",city:"",postalCode:"",country:"United States"});x.useEffect(()=>{var $,B,G;if(($=t.state)!=null&&$.cart&&((B=t.state)!=null&&B.storeName)&&((G=t.state)!=null&&G.storeId)){o(t.state.cart),u(t.state.storeName),h(t.state.storeId);const X=r(t.state.storeId);g(X)}else i({title:"Cart is empty",description:"Redirecting to dashboard.",variant:"destructive"}),e("/")},[t.state,e,i,r]);const P=s.reduce(($,B)=>$+B.price*B.quantity,0),E=P>0?5:0,j=P*.08,R=P+E+j,I=$=>{const{name:B,value:G}=$.target;_(X=>({...X,[B]:G}))},M=async $=>{$.preventDefault(),b(!0),await new Promise(B=>setTimeout(B,2e3)),n(),i({title:"Order Placed Successfully!",description:`Thank you for your order from ${l}. Your items will be shipped soon.`,duration:5e3}),b(!1),e(`/preview/${d||""}`)};return s.length===0&&!y?a.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-gray-900 dark:to-slate-900",children:[a.jsx(gO,{className:"h-24 w-24 text-primary mb-6"}),a.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Your Cart is Empty"}),a.jsx("p",{className:"text-muted-foreground mb-8",children:"There's nothing to check out yet."}),a.jsx(te,{asChild:!0,children:a.jsxs(Ni,{to:d?`/preview/${d}`:"/",children:[a.jsx(Aa,{className:"mr-2 h-4 w-4"})," Continue Shopping"]})})]}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-100 to-indigo-100 dark:from-gray-800 dark:to-slate-800 py-8 px-4",children:a.jsxs(In.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"container mx-auto max-w-4xl",children:[a.jsxs(te,{variant:"ghost",onClick:()=>e(d?`/preview/${d}`:"/"),className:"mb-6 text-primary hover:text-primary/80",children:[a.jsx(Aa,{className:"mr-2 h-4 w-4"})," Back to ",l]}),a.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-center mb-8 text-gray-800 dark:text-gray-100",children:"Checkout"}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[a.jsxs(We,{className:"md:col-span-1 h-fit sticky top-8 shadow-lg",children:[a.jsxs(Xe,{children:[a.jsx(Qe,{className:"text-xl",children:"Order Summary"}),a.jsxs(Dt,{children:["Review your items from ",l,"."]})]}),a.jsxs(Ke,{className:"space-y-4",children:[a.jsx("div",{className:"max-h-60 overflow-y-auto space-y-3 pr-2",children:s.map($=>{var B,G;return a.jsxs("div",{className:"flex justify-between items-center text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("img-replace",{src:((G=(B=$.image)==null?void 0:B.src)==null?void 0:G.tiny)||`https://via.placeholder.com/40x40.png?text=${$.name.substring(0,1)}`,alt:$.name,className:"w-10 h-10 rounded object-cover"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium line-clamp-1",children:$.name}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Qty: ",$.quantity]})]})]}),a.jsxs("p",{className:"font-medium",children:["$",($.price*$.quantity).toFixed(2)]})]},$.id)})}),a.jsx(Io,{}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Subtotal:"}),a.jsxs("span",{children:["$",P.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Shipping:"}),a.jsxs("span",{children:["$",E.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Taxes (est.):"}),a.jsxs("span",{children:["$",j.toFixed(2)]})]})]}),a.jsx(Io,{}),a.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[a.jsx("span",{children:"Total:"}),a.jsxs("span",{children:["$",R.toFixed(2)]})]})]})]}),a.jsxs("form",{onSubmit:M,className:"md:col-span-2 space-y-6",children:[a.jsxs(We,{className:"shadow-lg",children:[a.jsx(Xe,{children:a.jsx(Qe,{className:"text-xl",children:"Shipping Information"})}),a.jsxs(Ke,{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"sm:col-span-2 space-y-1",children:[a.jsx(Je,{htmlFor:"email",children:"Email Address"}),a.jsx(ft,{id:"email",name:"email",type:"email",placeholder:"you@example.com",value:C.email,onChange:I,required:!0})]}),a.jsxs("div",{className:"sm:col-span-2 space-y-1",children:[a.jsx(Je,{htmlFor:"address",children:"Street Address"}),a.jsx(ft,{id:"address",name:"address",placeholder:"123 Main St",value:C.address,onChange:I,required:!0})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(Je,{htmlFor:"city",children:"City"}),a.jsx(ft,{id:"city",name:"city",placeholder:"Anytown",value:C.city,onChange:I,required:!0})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(Je,{htmlFor:"postalCode",children:"Postal Code"}),a.jsx(ft,{id:"postalCode",name:"postalCode",placeholder:"12345",value:C.postalCode,onChange:I,required:!0})]}),a.jsxs("div",{className:"sm:col-span-2 space-y-1",children:[a.jsx(Je,{htmlFor:"country",children:"Country"}),a.jsx(ft,{id:"country",name:"country",value:C.country,onChange:I,required:!0})]})]})]}),a.jsxs(We,{className:"shadow-lg",children:[a.jsxs(Xe,{children:[a.jsx(Qe,{className:"text-xl",children:"Payment Details"}),a.jsxs(Dt,{className:"flex items-center text-sm text-muted-foreground",children:[a.jsx(N_,{className:"h-3 w-3 mr-1.5"})," Secure Payment"]})]}),a.jsxs(Ke,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx(Je,{htmlFor:"nameOnCard",children:"Name on Card"}),a.jsx(ft,{id:"nameOnCard",name:"nameOnCard",placeholder:"John M. Doe",value:C.nameOnCard,onChange:I,required:!0})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(Je,{htmlFor:"cardNumber",children:"Card Number"}),a.jsxs("div",{className:"relative",children:[a.jsx(ft,{id:"cardNumber",name:"cardNumber",placeholder:"   ",value:C.cardNumber,onChange:I,required:!0}),a.jsx(Es,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-muted-foreground"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx(Je,{htmlFor:"expiryDate",children:"Expiry Date"}),a.jsx(ft,{id:"expiryDate",name:"expiryDate",placeholder:"MM/YY",value:C.expiryDate,onChange:I,required:!0})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(Je,{htmlFor:"cvc",children:"CVC"}),a.jsx(ft,{id:"cvc",name:"cvc",placeholder:"123",value:C.cvc,onChange:I,required:!0})]})]})]})]}),a.jsxs(te,{type:"submit",size:"lg",className:"w-full text-lg",disabled:y,style:{backgroundColor:((A=p==null?void 0:p.theme)==null?void 0:A.primaryColor)||"#3B82F6"},children:[y?a.jsx(sn,{className:"mr-2 h-5 w-5 animate-spin"}):a.jsx(Es,{className:"mr-2 h-5 w-5"}),y?"Processing Payment...":`Pay $${R.toFixed(2)}`]})]})]})]})})};var WL,Pn="colors",fi="sizes",ot="space",Kwe={gap:ot,gridGap:ot,columnGap:ot,gridColumnGap:ot,rowGap:ot,gridRowGap:ot,inset:ot,insetBlock:ot,insetBlockEnd:ot,insetBlockStart:ot,insetInline:ot,insetInlineEnd:ot,insetInlineStart:ot,margin:ot,marginTop:ot,marginRight:ot,marginBottom:ot,marginLeft:ot,marginBlock:ot,marginBlockEnd:ot,marginBlockStart:ot,marginInline:ot,marginInlineEnd:ot,marginInlineStart:ot,padding:ot,paddingTop:ot,paddingRight:ot,paddingBottom:ot,paddingLeft:ot,paddingBlock:ot,paddingBlockEnd:ot,paddingBlockStart:ot,paddingInline:ot,paddingInlineEnd:ot,paddingInlineStart:ot,top:ot,right:ot,bottom:ot,left:ot,scrollMargin:ot,scrollMarginTop:ot,scrollMarginRight:ot,scrollMarginBottom:ot,scrollMarginLeft:ot,scrollMarginX:ot,scrollMarginY:ot,scrollMarginBlock:ot,scrollMarginBlockEnd:ot,scrollMarginBlockStart:ot,scrollMarginInline:ot,scrollMarginInlineEnd:ot,scrollMarginInlineStart:ot,scrollPadding:ot,scrollPaddingTop:ot,scrollPaddingRight:ot,scrollPaddingBottom:ot,scrollPaddingLeft:ot,scrollPaddingX:ot,scrollPaddingY:ot,scrollPaddingBlock:ot,scrollPaddingBlockEnd:ot,scrollPaddingBlockStart:ot,scrollPaddingInline:ot,scrollPaddingInlineEnd:ot,scrollPaddingInlineStart:ot,fontSize:"fontSizes",background:Pn,backgroundColor:Pn,backgroundImage:Pn,borderImage:Pn,border:Pn,borderBlock:Pn,borderBlockEnd:Pn,borderBlockStart:Pn,borderBottom:Pn,borderBottomColor:Pn,borderColor:Pn,borderInline:Pn,borderInlineEnd:Pn,borderInlineStart:Pn,borderLeft:Pn,borderLeftColor:Pn,borderRight:Pn,borderRightColor:Pn,borderTop:Pn,borderTopColor:Pn,caretColor:Pn,color:Pn,columnRuleColor:Pn,fill:Pn,outline:Pn,outlineColor:Pn,stroke:Pn,textDecorationColor:Pn,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:fi,minBlockSize:fi,maxBlockSize:fi,inlineSize:fi,minInlineSize:fi,maxInlineSize:fi,width:fi,minWidth:fi,maxWidth:fi,height:fi,minHeight:fi,maxHeight:fi,flexBasis:fi,gridTemplateColumns:fi,gridTemplateRows:fi,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},Ywe=(t,e)=>typeof e=="function"?{"()":Function.prototype.toString.call(e)}:e,vy=()=>{const t=Object.create(null);return(e,n,...r)=>{const i=(s=>JSON.stringify(s,Ywe))(e);return i in t?t[i]:t[i]=n(e,...r)}},bv=Symbol.for("sxs.internal"),HE=(t,e)=>Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)),qL=t=>{for(const e in t)return!0;return!1},{hasOwnProperty:Jwe}=Object.prototype,a_=t=>t.includes("-")?t:t.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),Xwe=/\s+(?![^()]*\))/,du=t=>e=>t(...typeof e=="string"?String(e).split(Xwe):[e]),GL={appearance:t=>({WebkitAppearance:t,appearance:t}),backfaceVisibility:t=>({WebkitBackfaceVisibility:t,backfaceVisibility:t}),backdropFilter:t=>({WebkitBackdropFilter:t,backdropFilter:t}),backgroundClip:t=>({WebkitBackgroundClip:t,backgroundClip:t}),boxDecorationBreak:t=>({WebkitBoxDecorationBreak:t,boxDecorationBreak:t}),clipPath:t=>({WebkitClipPath:t,clipPath:t}),content:t=>({content:t.includes('"')||t.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(t)?t:`"${t}"`}),hyphens:t=>({WebkitHyphens:t,hyphens:t}),maskImage:t=>({WebkitMaskImage:t,maskImage:t}),maskSize:t=>({WebkitMaskSize:t,maskSize:t}),tabSize:t=>({MozTabSize:t,tabSize:t}),textSizeAdjust:t=>({WebkitTextSizeAdjust:t,textSizeAdjust:t}),userSelect:t=>({WebkitUserSelect:t,userSelect:t}),marginBlock:du((t,e)=>({marginBlockStart:t,marginBlockEnd:e||t})),marginInline:du((t,e)=>({marginInlineStart:t,marginInlineEnd:e||t})),maxSize:du((t,e)=>({maxBlockSize:t,maxInlineSize:e||t})),minSize:du((t,e)=>({minBlockSize:t,minInlineSize:e||t})),paddingBlock:du((t,e)=>({paddingBlockStart:t,paddingBlockEnd:e||t})),paddingInline:du((t,e)=>({paddingInlineStart:t,paddingInlineEnd:e||t}))},Rb=/([\d.]+)([^]*)/,Qwe=(t,e)=>t.length?t.reduce((n,r)=>(n.push(...e.map(i=>i.includes("&")?i.replace(/&/g,/[ +>|~]/.test(r)&&/&.*&/.test(i)?`:is(${r})`:r):r+" "+i)),n),[]):e,Zwe=(t,e)=>t in e1e&&typeof e=="string"?e.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(n,r,i,s)=>r+(i==="stretch"?`-moz-available${s};${a_(t)}:${r}-webkit-fill-available`:`-moz-fit-content${s};${a_(t)}:${r}fit-content`)+s):String(e),e1e={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},$o=t=>t?t+"-":"",B9=(t,e,n)=>t.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(r,i,s,o,l)=>o=="$"==!!s?r:(i||o=="--"?"calc(":"")+"var(--"+(o==="$"?$o(e)+(l.includes("$")?"":$o(n))+l.replace(/\$/g,"-"):l)+")"+(i||o=="--"?"*"+(i||"")+(s||"1")+")":"")),t1e=/\s*,\s*(?![^()]*\))/,n1e=Object.prototype.toString,Cu=(t,e,n,r,i)=>{let s,o,l;const u=(d,h,p)=>{let g,y;const b=C=>{for(g in C){const E=g.charCodeAt(0)===64,j=E&&Array.isArray(C[g])?C[g]:[C[g]];for(y of j){const R=/[A-Z]/.test(P=g)?P:P.replace(/-[^]/g,M=>M[1].toUpperCase()),I=typeof y=="object"&&y&&y.toString===n1e&&(!r.utils[R]||!h.length);if(R in r.utils&&!I){const M=r.utils[R];if(M!==o){o=M,b(M(y)),o=null;continue}}else if(R in GL){const M=GL[R];if(M!==l){l=M,b(M(y)),l=null;continue}}if(E&&(_=g.slice(1)in r.media?"@media "+r.media[g.slice(1)]:g,g=_.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(M,A,$,B,G,X)=>{const K=Rb.test(A),W=.0625*(K?-1:1),[V,Y]=K?[B,A]:[A,B];return"("+($[0]==="="?"":$[0]===">"===K?"max-":"min-")+V+":"+($[0]!=="="&&$.length===1?Y.replace(Rb,(ne,ue,oe)=>Number(ue)+W*($===">"?1:-1)+oe):Y)+(G?") and ("+(G[0]===">"?"min-":"max-")+V+":"+(G.length===1?X.replace(Rb,(ne,ue,oe)=>Number(ue)+W*(G===">"?-1:1)+oe):X):"")+")"})),I){const M=E?p.concat(g):[...p],A=E?[...h]:Qwe(h,g.split(t1e));s!==void 0&&i(HL(...s)),s=void 0,u(y,A,M)}else s===void 0&&(s=[[],h,p]),g=E||g.charCodeAt(0)!==36?g:`--${$o(r.prefix)}${g.slice(1).replace(/\$/g,"-")}`,y=I?y:typeof y=="number"?y&&R in r1e?String(y)+"px":String(y):B9(Zwe(R,y??""),r.prefix,r.themeMap[R]),s[0].push(`${E?`${g} `:`${a_(g)}:`}${y}`)}}var _,P};b(d),s!==void 0&&i(HL(...s)),s=void 0};u(t,e,n)},HL=(t,e,n)=>`${n.map(r=>`${r}{`).join("")}${e.length?`${e.join(",")}{`:""}${t.join(";")}${e.length?"}":""}${Array(n.length?n.length+1:0).join("}")}`,r1e={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},KL=t=>String.fromCharCode(t+(t>25?39:97)),Yl=t=>(e=>{let n,r="";for(n=Math.abs(e);n>52;n=n/52|0)r=KL(n%52)+r;return KL(n%52)+r})(((e,n)=>{let r=n.length;for(;r;)e=33*e^n.charCodeAt(--r);return e})(5381,JSON.stringify(t))>>>0),ug=["themed","global","styled","onevar","resonevar","allvar","inline"],i1e=t=>{if(t.href&&!t.href.startsWith(location.origin))return!1;try{return!!t.cssRules}catch{return!1}},s1e=t=>{let e;const n=()=>{const{cssRules:i}=e.sheet;return[].map.call(i,(s,o)=>{const{cssText:l}=s;let u="";if(l.startsWith("--sxs"))return"";if(i[o-1]&&(u=i[o-1].cssText).startsWith("--sxs")){if(!s.cssRules.length)return"";for(const d in e.rules)if(e.rules[d].group===s)return`--sxs{--sxs:${[...e.rules[d].cache].join(" ")}}${l}`;return s.cssRules.length?`${u}${l}`:""}return l}).join("")},r=()=>{if(e){const{rules:l,sheet:u}=e;if(!u.deleteRule){for(;Object(Object(u.cssRules)[0]).type===3;)u.cssRules.splice(0,1);u.cssRules=[]}for(const d in l)delete l[d]}const i=Object(t).styleSheets||[];for(const l of i)if(i1e(l)){for(let u=0,d=l.cssRules;d[u];++u){const h=Object(d[u]);if(h.type!==1)continue;const p=Object(d[u+1]);if(p.type!==4)continue;++u;const{cssText:g}=h;if(!g.startsWith("--sxs"))continue;const y=g.slice(14,-3).trim().split(/\s+/),b=ug[y[0]];b&&(e||(e={sheet:l,reset:r,rules:{},toString:n}),e.rules[b]={group:p,index:u,cache:new Set(y)})}if(e)break}if(!e){const l=(u,d)=>({type:d,cssRules:[],insertRule(h,p){this.cssRules.splice(p,0,l(h,{import:3,undefined:1}[(h.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return u==="@media{}"?`@media{${[].map.call(this.cssRules,h=>h.cssText).join("")}}`:u}});e={sheet:t?(t.head||t).appendChild(document.createElement("style")).sheet:l("","text/css"),rules:{},reset:r,toString:n}}const{sheet:s,rules:o}=e;for(let l=ug.length-1;l>=0;--l){const u=ug[l];if(!o[u]){const d=ug[l+1],h=o[d]?o[d].index:s.cssRules.length;s.insertRule("@media{}",h),s.insertRule(`--sxs{--sxs:${l}}`,h),o[u]={group:s.cssRules[h+1],index:h,cache:new Set([l])}}o1e(o[u])}};return r(),e},o1e=t=>{const e=t.group;let n=e.cssRules.length;t.apply=r=>{try{e.insertRule(r,n),++n}catch{}}},Qm=Symbol(),a1e=vy(),l1e=(t,e)=>a1e(t,()=>(...n)=>{let r={type:null,composers:new Set};for(const i of n)if(i!=null)if(i[bv]){r.type==null&&(r.type=i[bv].type);for(const s of i[bv].composers)r.composers.add(s)}else i.constructor!==Object||i.$$typeof?r.type==null&&(r.type=i):r.composers.add(c1e(i,t));return r.type==null&&(r.type="span"),r.composers.size||r.composers.add(["PJLV",{},[],[],{},[]]),u1e(t,r,e)}),c1e=({variants:t,compoundVariants:e,defaultVariants:n,...r},i)=>{const s=`${$o(i.prefix)}c-${Yl(r)}`,o=[],l=[],u=Object.create(null),d=[];for(const g in n)u[g]=String(n[g]);if(typeof t=="object"&&t)for(const g in t){h=u,p=g,Jwe.call(h,p)||(u[g]="undefined");const y=t[g];for(const b in y){const C={[g]:String(b)};String(b)==="undefined"&&d.push(g);const _=y[b],P=[C,_,!qL(_)];o.push(P)}}var h,p;if(typeof e=="object"&&e)for(const g of e){let{css:y,...b}=g;y=typeof y=="object"&&y||{};for(const _ in b)b[_]=String(b[_]);const C=[b,y,!qL(y)];l.push(C)}return[s,r,o,l,u,d]},u1e=(t,e,n)=>{const[r,i,s,o]=d1e(e.composers),l=typeof e.type=="function"||e.type.$$typeof?(p=>{function g(){for(let y=0;y<g[Qm].length;y++){const[b,C]=g[Qm][y];p.rules[b].apply(C)}return g[Qm]=[],null}return g[Qm]=[],g.rules={},ug.forEach(y=>g.rules[y]={apply:b=>g[Qm].push([y,b])}),g})(n):null,u=(l||n).rules,d=`.${r}${i.length>1?`:where(.${i.slice(1).join(".")})`:""}`,h=p=>{p=typeof p=="object"&&p||f1e;const{css:g,...y}=p,b={};for(const P in s)if(delete y[P],P in p){let E=p[P];typeof E=="object"&&E?b[P]={"@initial":s[P],...E}:(E=String(E),b[P]=E!=="undefined"||o.has(P)?E:s[P])}else b[P]=s[P];const C=new Set([...i]);for(const[P,E,j,R]of e.composers){n.rules.styled.cache.has(P)||(n.rules.styled.cache.add(P),Cu(E,[`.${P}`],[],t,A=>{u.styled.apply(A)}));const I=YL(j,b,t.media),M=YL(R,b,t.media,!0);for(const A of I)if(A!==void 0)for(const[$,B,G]of A){const X=`${P}-${Yl(B)}-${$}`;C.add(X);const K=(G?n.rules.resonevar:n.rules.onevar).cache,W=G?u.resonevar:u.onevar;K.has(X)||(K.add(X),Cu(B,[`.${X}`],[],t,V=>{W.apply(V)}))}for(const A of M)if(A!==void 0)for(const[$,B]of A){const G=`${P}-${Yl(B)}-${$}`;C.add(G),n.rules.allvar.cache.has(G)||(n.rules.allvar.cache.add(G),Cu(B,[`.${G}`],[],t,X=>{u.allvar.apply(X)}))}}if(typeof g=="object"&&g){const P=`${r}-i${Yl(g)}-css`;C.add(P),n.rules.inline.cache.has(P)||(n.rules.inline.cache.add(P),Cu(g,[`.${P}`],[],t,E=>{u.inline.apply(E)}))}for(const P of String(p.className||"").trim().split(/\s+/))P&&C.add(P);const _=y.className=[...C].join(" ");return{type:e.type,className:_,selector:d,props:y,toString:()=>_,deferredInjector:l}};return HE(h,{className:r,selector:d,[bv]:e,toString:()=>(n.rules.styled.cache.has(r)||h(),r)})},d1e=t=>{let e="";const n=[],r={},i=[];for(const[s,,,,o,l]of t){e===""&&(e=s),n.push(s),i.push(...l);for(const u in o){const d=o[u];(r[u]===void 0||d!=="undefined"||l.includes(d))&&(r[u]=d)}}return[e,n,r,new Set(i)]},YL=(t,e,n,r)=>{const i=[];e:for(let[s,o,l]of t){if(l)continue;let u,d=0,h=!1;for(u in s){const p=s[u];let g=e[u];if(g!==p){if(typeof g!="object"||!g)continue e;{let y,b,C=0;for(const _ in g){if(p===String(g[_])){if(_!=="@initial"){const P=_.slice(1);(b=b||[]).push(P in n?n[P]:_.replace(/^@media ?/,"")),h=!0}d+=C,y=!0}++C}if(b&&b.length&&(o={["@media "+b.join(", ")]:o}),!y)continue e}}}(i[d]=i[d]||[]).push([r?"cv":`${u}-${s[u]}`,o,h])}return i},f1e={},h1e=vy(),p1e=(t,e)=>h1e(t,()=>(...n)=>{const r=()=>{for(let i of n){i=typeof i=="object"&&i||{};let s=Yl(i);if(!e.rules.global.cache.has(s)){if(e.rules.global.cache.add(s),"@import"in i){let o=[].indexOf.call(e.sheet.cssRules,e.rules.themed.group)-1;for(let l of[].concat(i["@import"]))l=l.includes('"')||l.includes("'")?l:`"${l}"`,e.sheet.insertRule(`@import ${l};`,o++);delete i["@import"]}Cu(i,[],[],t,o=>{e.rules.global.apply(o)})}}return""};return HE(r,{toString:r})}),m1e=vy(),g1e=(t,e)=>m1e(t,()=>n=>{const r=`${$o(t.prefix)}k-${Yl(n)}`,i=()=>{if(!e.rules.global.cache.has(r)){e.rules.global.cache.add(r);const s=[];Cu(n,[],[],t,l=>s.push(l));const o=`@keyframes ${r}{${s.join("")}}`;e.rules.global.apply(o)}return r};return HE(i,{get name(){return i()},toString:i})}),y1e=class{constructor(e,n,r,i){this.token=e==null?"":String(e),this.value=n==null?"":String(n),this.scale=r==null?"":String(r),this.prefix=i==null?"":String(i)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+$o(this.prefix)+$o(this.scale)+this.token}toString(){return this.computedValue}},x1e=vy(),v1e=(t,e)=>x1e(t,()=>(n,r)=>{r=typeof n=="object"&&n||Object(r);const i=`.${n=(n=typeof n=="string"?n:"")||`${$o(t.prefix)}t-${Yl(r)}`}`,s={},o=[];for(const u in r){s[u]={};for(const d in r[u]){const h=`--${$o(t.prefix)}${u}-${d}`,p=B9(String(r[u][d]),t.prefix,u);s[u][d]=new y1e(d,p,u,t.prefix),o.push(`${h}:${p}`)}}const l=()=>{if(o.length&&!e.rules.themed.cache.has(n)){e.rules.themed.cache.add(n);const u=`${r===t.theme?":root,":""}.${n}{${o.join(";")}}`;e.rules.themed.apply(u)}return n};return{...s,get className(){return l()},selector:i,toString:l}}),w1e=vy(),U9=t=>{let e=!1;const n=w1e(t,r=>{e=!0;const i="prefix"in(r=typeof r=="object"&&r||{})?String(r.prefix):"",s=typeof r.media=="object"&&r.media||{},o=typeof r.root=="object"?r.root||null:globalThis.document||null,l=typeof r.theme=="object"&&r.theme||{},u={prefix:i,media:s,theme:l,themeMap:typeof r.themeMap=="object"&&r.themeMap||{...Kwe},utils:typeof r.utils=="object"&&r.utils||{}},d=s1e(o),h={css:l1e(u,d),globalCss:p1e(u,d),keyframes:g1e(u,d),createTheme:v1e(u,d),reset(){d.reset(),h.theme.toString()},theme:{},sheet:d,config:u,prefix:i,getCssText:d.toString,toString:d.toString};return String(h.theme=h.createTheme(l)),h});return e||n.reset(),n},V9=()=>WL||(WL=U9()),S1e=(...t)=>V9().createTheme(...t),Wo=(...t)=>V9().css(...t),cr={SIGN_IN:"sign_in",SIGN_UP:"sign_up",FORGOTTEN_PASSWORD:"forgotten_password",MAGIC_LINK:"magic_link",UPDATE_PASSWORD:"update_password",VERIFY_OTP:"verify_otp"},b1e="supabase-auth-ui",C1e={ROOT:"root",SIGN_IN:cr.SIGN_IN,SIGN_UP:cr.SIGN_UP,FORGOTTEN_PASSWORD:cr.FORGOTTEN_PASSWORD,MAGIC_LINK:cr.MAGIC_LINK,UPDATE_PASSWORD:cr.UPDATE_PASSWORD,anchor:"ui-anchor",button:"ui-button",container:"ui-container",divider:"ui-divider",input:"ui-input",label:"ui-label",loader:"ui-loader",message:"ui-message"};function mc(t,e,n){var r,i;const s=[],o=C1e[t];return s.push(n!=null&&n.prependedClassName?(n==null?void 0:n.prependedClassName)+"_"+o:b1e+"_"+o),(r=n==null?void 0:n.className)!=null&&r[t]&&s.push((i=n==null?void 0:n.className)==null?void 0:i[t]),((n==null?void 0:n.extend)===void 0||(n==null?void 0:n.extend)===!0)&&s.push(e),s}function l_(t,e){let n;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(Array.isArray(e))for(n=0;n<e.length;n++)t[n]=l_(t[n],e[n]);else for(n in e)t[n]=l_(t[n],e[n]);return t}return e}function Ab(t,...e){let n=e.length;for(let r=0;r<n;r++)t=l_(t,e[r]);return t}function _1e(t,e){return t.replace(/{{(\w+)}}/g,(n,r)=>e.hasOwnProperty(r)?e[r]:n)}var T1e={sign_up:{email_label:"Email address",password_label:"Create a Password",email_input_placeholder:"Your email address",password_input_placeholder:"Your password",button_label:"Sign up",loading_button_label:"Signing up ...",social_provider_text:"Sign in with {{provider}}",link_text:"Don't have an account? Sign up",confirmation_text:"Check your email for the confirmation link"},sign_in:{email_label:"Email address",password_label:"Your Password",email_input_placeholder:"Your email address",password_input_placeholder:"Your password",button_label:"Sign in",loading_button_label:"Signing in ...",social_provider_text:"Sign in with {{provider}}",link_text:"Already have an account? Sign in"},magic_link:{email_input_label:"Email address",email_input_placeholder:"Your email address",button_label:"Send Magic Link",loading_button_label:"Sending Magic Link ...",link_text:"Send a magic link email",confirmation_text:"Check your email for the magic link"},forgotten_password:{email_label:"Email address",password_label:"Your Password",email_input_placeholder:"Your email address",button_label:"Send reset password instructions",loading_button_label:"Sending reset instructions ...",link_text:"Forgot your password?",confirmation_text:"Check your email for the password reset link"},update_password:{password_label:"New password",password_input_placeholder:"Your new password",button_label:"Update password",loading_button_label:"Updating password ...",confirmation_text:"Your password has been updated"},verify_otp:{email_input_label:"Email address",email_input_placeholder:"Your email address",phone_input_label:"Phone number",phone_input_placeholder:"Your phone number",token_input_label:"Token",token_input_placeholder:"Your Otp token",button_label:"Verify token",loading_button_label:"Signing in ..."}};const E1e=Wo({fontFamily:"$bodyFontFamily",fontSize:"$baseBodySize",marginBottom:"$anchorBottomMargin",color:"$anchorTextColor",display:"block",textAlign:"center",textDecoration:"underline","&:hover":{color:"$anchorTextHoverColor"}}),zl=({children:t,appearance:e,...n})=>{var r;const i=mc("anchor",E1e(),e);return re.createElement("a",{...n,style:(r=e==null?void 0:e.style)==null?void 0:r.anchor,className:i.join(" ")},t)},P1e=Wo({fontFamily:"$buttonFontFamily",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",borderRadius:"$borderRadiusButton",fontSize:"$baseButtonSize",padding:"$buttonPadding",cursor:"pointer",borderWidth:"$buttonBorderWidth",borderStyle:"solid",width:"100%",transitionProperty:"background-color",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"100ms","&:disabled":{opacity:.7,cursor:"unset"},variants:{color:{default:{backgroundColor:"$defaultButtonBackground",color:"$defaultButtonText",borderColor:"$defaultButtonBorder","&:hover:not(:disabled)":{backgroundColor:"$defaultButtonBackgroundHover"}},primary:{backgroundColor:"$brand",color:"$brandButtonText",borderColor:"$brandAccent","&:hover:not(:disabled)":{backgroundColor:"$brandAccent"}}}}}),ad=({children:t,color:e="default",appearance:n,icon:r,loading:i=!1,...s})=>{var o;const l=mc("button",P1e({color:e}),n);return re.createElement("button",{...s,style:(o=n==null?void 0:n.style)==null?void 0:o.button,className:l.join(" "),disabled:i},r,t)},N1e=Wo({display:"flex",gap:"4px",variants:{direction:{horizontal:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(48px, 1fr))"},vertical:{flexDirection:"column",margin:"8px 0"}},gap:{small:{gap:"4px"},medium:{gap:"8px"},large:{gap:"16px"}}}}),eo=({children:t,appearance:e,...n})=>{var r;const i=mc("container",N1e({direction:n.direction,gap:n.gap}),e);return re.createElement("div",{...n,style:(r=e==null?void 0:e.style)==null?void 0:r.container,className:i.join(" ")},t)},j1e=Wo({background:"$dividerBackground",display:"block",margin:"16px 0",height:"1px",width:"100%"}),R1e=({children:t,appearance:e,...n})=>{var r;const i=mc("divider",j1e(),e);return re.createElement("div",{...n,style:(r=e==null?void 0:e.style)==null?void 0:r.divider,className:i.join(" ")})},A1e=Wo({fontFamily:"$inputFontFamily",background:"$inputBackground",borderRadius:"$inputBorderRadius",padding:"$inputPadding",cursor:"text",borderWidth:"$inputBorderWidth",borderColor:"$inputBorder",borderStyle:"solid",fontSize:"$baseInputSize",width:"100%",color:"$inputText",boxSizing:"border-box","&:hover":{borderColor:"$inputBorderHover",outline:"none"},"&:focus":{borderColor:"$inputBorderFocus",outline:"none"},"&::placeholder":{color:"$inputPlaceholder",letterSpacing:"initial"},transitionProperty:"background-color, border",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"100ms",variants:{type:{default:{letterSpacing:"0px"},password:{letterSpacing:"0px"}}}}),Na=({children:t,appearance:e,...n})=>{var r;const i=mc("input",A1e({type:n.type==="password"?"password":"default"}),e);return re.createElement("input",{...n,style:(r=e==null?void 0:e.style)==null?void 0:r.input,className:i.join(" ")},t)},k1e=Wo({fontFamily:"$labelFontFamily",fontSize:"$baseLabelSize",marginBottom:"$labelBottomMargin",color:"$inputLabelText",display:"block"}),ja=({children:t,appearance:e,...n})=>{var r;const i=mc("label",k1e(),e);return re.createElement("label",{...n,style:(r=e==null?void 0:e.style)==null?void 0:r.label,className:i.join(" ")},t)},I1e=Wo({fontFamily:"$bodyFontFamily",fontSize:"$baseInputSize",marginBottom:"$labelBottomMargin",display:"block",textAlign:"center",borderRadius:"0.375rem",padding:"1.5rem 1rem",lineHeight:"1rem",color:"$messageText",backgroundColor:"$messageBackground",border:"1px solid $messageBorder",variants:{color:{danger:{color:"$messageTextDanger",backgroundColor:"$messageBackgroundDanger",border:"1px solid $messageBorderDanger"}}}}),io=({children:t,appearance:e,...n})=>{var r;const i=mc("message",I1e({color:n.color}),e);return re.createElement("span",{...n,style:(r=e==null?void 0:e.style)==null?void 0:r.message,className:i.join(" ")},t)};function z9({setAuthView:t=()=>{},supabaseClient:e,redirectTo:n,i18n:r,appearance:i,showLinks:s=!1}){var o;const[l,u]=x.useState(""),[d,h]=x.useState(""),[p,g]=x.useState(""),[y,b]=x.useState(!1),C=async P=>{var E,j;if(P.preventDefault(),h(""),g(""),b(!0),l.length===0){h((E=r==null?void 0:r.magic_link)==null?void 0:E.empty_email_address),b(!1);return}const{error:R}=await e.auth.signInWithOtp({email:l,options:{emailRedirectTo:n}});R?h(R.message):g((j=r==null?void 0:r.magic_link)==null?void 0:j.confirmation_text),b(!1)},_=r==null?void 0:r.magic_link;return re.createElement("form",{id:"auth-magic-link",onSubmit:C},re.createElement(eo,{gap:"large",direction:"vertical",appearance:i},re.createElement("div",null,re.createElement(ja,{htmlFor:"email",appearance:i},_==null?void 0:_.email_input_label),re.createElement(Na,{id:"email",name:"email",type:"email",autoFocus:!0,placeholder:_==null?void 0:_.email_input_placeholder,onChange:P=>{h&&h(""),u(P.target.value)},appearance:i})),re.createElement(ad,{color:"primary",type:"submit",loading:y,appearance:i},y?_==null?void 0:_.loading_button_label:_==null?void 0:_.button_label),s&&re.createElement(zl,{href:"#auth-sign-in",onClick:P=>{P.preventDefault(),t(cr.SIGN_IN)},appearance:i},(o=r==null?void 0:r.sign_in)==null?void 0:o.link_text),p&&re.createElement(io,{appearance:i},p),d&&re.createElement(io,{color:"danger",appearance:i},d)))}const Wr=Wo({width:"21px",height:"21px"}),M1e=({provider:t})=>t=="google"?D1e():t=="facebook"?L1e():t=="twitter"?O1e():t=="apple"?$1e():t=="github"?F1e():t=="gitlab"?B1e():t=="bitbucket"?U1e():t=="discord"?V1e():t=="azure"?z1e():t=="keycloak"?W1e():t=="linkedin"?q1e():t=="notion"?G1e():t=="slack"?H1e():t=="spotify"?K1e():t=="twitch"?Y1e():t=="workos"?J1e():t=="kakao"?X1e():null,D1e=()=>re.createElement("svg",{className:Wr(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},re.createElement("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),re.createElement("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),re.createElement("path",{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}),re.createElement("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"})),L1e=()=>re.createElement("svg",{className:Wr(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},re.createElement("path",{fill:"#039be5",d:"M24 5A19 19 0 1 0 24 43A19 19 0 1 0 24 5Z"}),re.createElement("path",{fill:"#fff",d:"M26.572,29.036h4.917l0.772-4.995h-5.69v-2.73c0-2.075,0.678-3.915,2.619-3.915h3.119v-4.359c-0.548-0.074-1.707-0.236-3.897-0.236c-4.573,0-7.254,2.415-7.254,7.917v3.323h-4.701v4.995h4.701v13.729C22.089,42.905,23.032,43,24,43c0.875,0,1.729-0.08,2.572-0.194V29.036z"})),O1e=()=>re.createElement("svg",{className:Wr(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},re.createElement("path",{fill:"#03A9F4",d:"M42,12.429c-1.323,0.586-2.746,0.977-4.247,1.162c1.526-0.906,2.7-2.351,3.251-4.058c-1.428,0.837-3.01,1.452-4.693,1.776C34.967,9.884,33.05,9,30.926,9c-4.08,0-7.387,3.278-7.387,7.32c0,0.572,0.067,1.129,0.193,1.67c-6.138-0.308-11.582-3.226-15.224-7.654c-0.64,1.082-1,2.349-1,3.686c0,2.541,1.301,4.778,3.285,6.096c-1.211-0.037-2.351-0.374-3.349-0.914c0,0.022,0,0.055,0,0.086c0,3.551,2.547,6.508,5.923,7.181c-0.617,0.169-1.269,0.263-1.941,0.263c-0.477,0-0.942-0.054-1.392-0.135c0.94,2.902,3.667,5.023,6.898,5.086c-2.528,1.96-5.712,3.134-9.174,3.134c-0.598,0-1.183-0.034-1.761-0.104C9.268,36.786,13.152,38,17.321,38c13.585,0,21.017-11.156,21.017-20.834c0-0.317-0.01-0.633-0.025-0.945C39.763,15.197,41.013,13.905,42,12.429"})),$1e=()=>re.createElement("svg",{className:Wr(),fill:"gray",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"21px",height:"21px"}," ",re.createElement("path",{d:"M 15.904297 1.078125 C 15.843359 1.06875 15.774219 1.0746094 15.699219 1.0996094 C 14.699219 1.2996094 13.600391 1.8996094 12.900391 2.5996094 C 12.300391 3.1996094 11.800781 4.1996094 11.800781 5.0996094 C 11.800781 5.2996094 11.999219 5.5 12.199219 5.5 C 13.299219 5.4 14.399609 4.7996094 15.099609 4.0996094 C 15.699609 3.2996094 16.199219 2.4 16.199219 1.5 C 16.199219 1.275 16.087109 1.10625 15.904297 1.078125 z M 16.199219 5.4003906 C 14.399219 5.4003906 13.600391 6.5 12.400391 6.5 C 11.100391 6.5 9.9003906 5.5 8.4003906 5.5 C 6.3003906 5.5 3.0996094 7.4996094 3.0996094 12.099609 C 2.9996094 16.299609 6.8 21 9 21 C 10.3 21 10.600391 20.199219 12.400391 20.199219 C 14.200391 20.199219 14.600391 21 15.900391 21 C 17.400391 21 18.500391 19.399609 19.400391 18.099609 C 19.800391 17.399609 20.100391 17.000391 20.400391 16.400391 C 20.600391 16.000391 20.4 15.600391 20 15.400391 C 17.4 14.100391 16.900781 9.9003906 19.800781 8.4003906 C 20.300781 8.1003906 20.4 7.4992188 20 7.1992188 C 18.9 6.1992187 17.299219 5.4003906 16.199219 5.4003906 z"})),F1e=()=>re.createElement("svg",{className:Wr(),fill:"gray",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30",width:"21px",height:"21px"}," ",re.createElement("path",{d:"M15,3C8.373,3,3,8.373,3,15c0,5.623,3.872,10.328,9.092,11.63C12.036,26.468,12,26.28,12,26.047v-2.051 c-0.487,0-1.303,0-1.508,0c-0.821,0-1.551-0.353-1.905-1.009c-0.393-0.729-0.461-1.844-1.435-2.526 c-0.289-0.227-0.069-0.486,0.264-0.451c0.615,0.174,1.125,0.596,1.605,1.222c0.478,0.627,0.703,0.769,1.596,0.769 c0.433,0,1.081-0.025,1.691-0.121c0.328-0.833,0.895-1.6,1.588-1.962c-3.996-0.411-5.903-2.399-5.903-5.098 c0-1.162,0.495-2.286,1.336-3.233C9.053,10.647,8.706,8.73,9.435,8c1.798,0,2.885,1.166,3.146,1.481C13.477,9.174,14.461,9,15.495,9 c1.036,0,2.024,0.174,2.922,0.483C18.675,9.17,19.763,8,21.565,8c0.732,0.731,0.381,2.656,0.102,3.594 c0.836,0.945,1.328,2.066,1.328,3.226c0,2.697-1.904,4.684-5.894,5.097C18.199,20.49,19,22.1,19,23.313v2.734 c0,0.104-0.023,0.179-0.035,0.268C23.641,24.676,27,20.236,27,15C27,8.373,21.627,3,15,3z"})),B1e=()=>re.createElement("svg",{className:Wr(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},re.createElement("path",{fill:"#e53935",d:"M24 43L16 20 32 20z"}),re.createElement("path",{fill:"#ff7043",d:"M24 43L42 20 32 20z"}),re.createElement("path",{fill:"#e53935",d:"M37 5L42 20 32 20z"}),re.createElement("path",{fill:"#ffa726",d:"M24 43L42 20 45 28z"}),re.createElement("path",{fill:"#ff7043",d:"M24 43L6 20 16 20z"}),re.createElement("path",{fill:"#e53935",d:"M11 5L6 20 16 20z"}),re.createElement("path",{fill:"#ffa726",d:"M24 43L6 20 3 28z"})),U1e=()=>re.createElement("svg",{className:Wr(),xmlns:"http://www.w3.org/2000/svg",width:"512",height:"512",viewBox:"0 0 62.42 62.42"},re.createElement("defs",null,re.createElement("linearGradient",{id:"New_Gradient_Swatch_1",x1:"64.01",y1:"30.27",x2:"32.99",y2:"54.48",gradientUnits:"userSpaceOnUse"},re.createElement("stop",{offset:"0.18",stopColor:"#0052cc"}),re.createElement("stop",{offset:"1",stopColor:"#2684ff"}))),re.createElement("title",null,"Bitbucket-blue"),re.createElement("g",{id:"Layer_2","data-name":"Layer 2"},re.createElement("g",{id:"Blue",transform:"translate(0 -3.13)"},re.createElement("path",{d:"M2,6.26A2,2,0,0,0,0,8.58L8.49,60.12a2.72,2.72,0,0,0,2.66,2.27H51.88a2,2,0,0,0,2-1.68L62.37,8.59a2,2,0,0,0-2-2.32ZM37.75,43.51h-13L21.23,25.12H40.9Z",fill:"#2684ff"}),re.createElement("path",{d:"M59.67,25.12H40.9L37.75,43.51h-13L9.4,61.73a2.71,2.71,0,0,0,1.75.66H51.89a2,2,0,0,0,2-1.68Z",fill:"url(#New_Gradient_Swatch_1)"})))),V1e=()=>re.createElement("svg",{className:Wr(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},re.createElement("path",{fill:"#536dfe",d:"M39.248,10.177c-2.804-1.287-5.812-2.235-8.956-2.778c-0.057-0.01-0.114,0.016-0.144,0.068	c-0.387,0.688-0.815,1.585-1.115,2.291c-3.382-0.506-6.747-0.506-10.059,0c-0.3-0.721-0.744-1.603-1.133-2.291	c-0.03-0.051-0.087-0.077-0.144-0.068c-3.143,0.541-6.15,1.489-8.956,2.778c-0.024,0.01-0.045,0.028-0.059,0.051	c-5.704,8.522-7.267,16.835-6.5,25.044c0.003,0.04,0.026,0.079,0.057,0.103c3.763,2.764,7.409,4.442,10.987,5.554	c0.057,0.017,0.118-0.003,0.154-0.051c0.846-1.156,1.601-2.374,2.248-3.656c0.038-0.075,0.002-0.164-0.076-0.194	c-1.197-0.454-2.336-1.007-3.432-1.636c-0.087-0.051-0.094-0.175-0.014-0.234c0.231-0.173,0.461-0.353,0.682-0.534	c0.04-0.033,0.095-0.04,0.142-0.019c7.201,3.288,14.997,3.288,22.113,0c0.047-0.023,0.102-0.016,0.144,0.017	c0.22,0.182,0.451,0.363,0.683,0.536c0.08,0.059,0.075,0.183-0.012,0.234c-1.096,0.641-2.236,1.182-3.434,1.634	c-0.078,0.03-0.113,0.12-0.075,0.196c0.661,1.28,1.415,2.498,2.246,3.654c0.035,0.049,0.097,0.07,0.154,0.052	c3.595-1.112,7.241-2.79,11.004-5.554c0.033-0.024,0.054-0.061,0.057-0.101c0.917-9.491-1.537-17.735-6.505-25.044	C39.293,10.205,39.272,10.187,39.248,10.177z M16.703,30.273c-2.168,0-3.954-1.99-3.954-4.435s1.752-4.435,3.954-4.435	c2.22,0,3.989,2.008,3.954,4.435C20.658,28.282,18.906,30.273,16.703,30.273z M31.324,30.273c-2.168,0-3.954-1.99-3.954-4.435	s1.752-4.435,3.954-4.435c2.22,0,3.989,2.008,3.954,4.435C35.278,28.282,33.544,30.273,31.324,30.273z"})),z1e=()=>re.createElement("svg",{className:Wr(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},re.createElement("linearGradient",{id:"k8yl7~hDat~FaoWq8WjN6a",x1:"-1254.397",x2:"-1261.911",y1:"877.268",y2:"899.466",gradientTransform:"translate(1981.75 -1362.063) scale(1.5625)",gradientUnits:"userSpaceOnUse"},re.createElement("stop",{offset:"0",stopColor:"#114a8b"}),re.createElement("stop",{offset:"1",stopColor:"#0669bc"})),re.createElement("path",{fill:"url(#k8yl7~hDat~FaoWq8WjN6a)",d:"M17.634,6h11.305L17.203,40.773c-0.247,0.733-0.934,1.226-1.708,1.226H6.697 c-0.994,0-1.8-0.806-1.8-1.8c0-0.196,0.032-0.39,0.094-0.576L15.926,7.227C16.173,6.494,16.86,6,17.634,6L17.634,6z"}),re.createElement("path",{fill:"#0078d4",d:"M34.062,29.324H16.135c-0.458-0.001-0.83,0.371-0.831,0.829c0,0.231,0.095,0.451,0.264,0.608 l11.52,10.752C27.423,41.826,27.865,42,28.324,42h10.151L34.062,29.324z"}),re.createElement("linearGradient",{id:"k8yl7~hDat~FaoWq8WjN6b",x1:"-1252.05",x2:"-1253.788",y1:"887.612",y2:"888.2",gradientTransform:"translate(1981.75 -1362.063) scale(1.5625)",gradientUnits:"userSpaceOnUse"},re.createElement("stop",{offset:"0",stopOpacity:".3"}),re.createElement("stop",{offset:".071",stopOpacity:".2"}),re.createElement("stop",{offset:".321",stopOpacity:".1"}),re.createElement("stop",{offset:".623",stopOpacity:".05"}),re.createElement("stop",{offset:"1",stopOpacity:"0"})),re.createElement("path",{fill:"url(#k8yl7~hDat~FaoWq8WjN6b)",d:"M17.634,6c-0.783-0.003-1.476,0.504-1.712,1.25L5.005,39.595 c-0.335,0.934,0.151,1.964,1.085,2.299C6.286,41.964,6.493,42,6.702,42h9.026c0.684-0.122,1.25-0.603,1.481-1.259l2.177-6.416 l7.776,7.253c0.326,0.27,0.735,0.419,1.158,0.422h10.114l-4.436-12.676l-12.931,0.003L28.98,6H17.634z"}),re.createElement("linearGradient",{id:"k8yl7~hDat~FaoWq8WjN6c",x1:"-1252.952",x2:"-1244.704",y1:"876.6",y2:"898.575",gradientTransform:"translate(1981.75 -1362.063) scale(1.5625)",gradientUnits:"userSpaceOnUse"},re.createElement("stop",{offset:"0",stopColor:"#3ccbf4"}),re.createElement("stop",{offset:"1",stopColor:"#2892df"})),re.createElement("path",{fill:"url(#k8yl7~hDat~FaoWq8WjN6c)",d:"M32.074,7.225C31.827,6.493,31.141,6,30.368,6h-12.6c0.772,0,1.459,0.493,1.705,1.224 l10.935,32.399c0.318,0.942-0.188,1.963-1.13,2.281C29.093,41.968,28.899,42,28.703,42h12.6c0.994,0,1.8-0.806,1.8-1.801 c0-0.196-0.032-0.39-0.095-0.575L32.074,7.225z"})),W1e=()=>re.createElement("svg",{className:Wr(),width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},re.createElement("path",{d:"M472.136 163.959H408.584C407.401 163.959 406.218 163.327 405.666 162.3L354.651 73.6591C354.02 72.632 352.916 72 351.654 72H143.492C142.309 72 141.126 72.632 140.574 73.6591L87.5084 165.618L36.414 254.259C35.862 255.286 35.862 256.55 36.414 257.656L87.5084 346.297L140.495 438.335C141.047 439.362 142.23 440.073 143.413 439.994H351.654C352.837 439.994 354.02 439.362 354.651 438.335L405.745 349.694C406.297 348.667 407.48 347.956 408.663 348.035H472.215C474.344 348.035 476 346.297 476 344.243V167.83C475.921 165.697 474.186 163.959 472.136 163.959ZM228.728 349.694L212.721 377.345C212.485 377.74 212.091 378.135 211.696 378.372C211.223 378.609 210.75 378.767 210.198 378.767H178.422C177.318 378.767 176.293 378.214 175.82 377.187L128.431 294.787L123.779 286.65L106.748 257.498C106.511 257.103 106.353 256.629 106.432 256.076C106.432 255.602 106.59 255.049 106.827 254.654L123.937 224.949L175.899 134.886C176.451 133.938 177.476 133.306 178.501 133.306H210.198C210.75 133.306 211.302 133.464 211.854 133.701C212.248 133.938 212.643 134.254 212.879 134.728L228.886 162.537C229.359 163.485 229.28 164.67 228.728 165.539L177.397 254.654C177.16 255.049 177.081 255.523 177.081 255.918C177.081 256.392 177.239 256.787 177.397 257.182L228.728 346.218C229.438 347.403 229.359 348.667 228.728 349.694V349.694ZM388.083 257.498L371.051 286.65L366.399 294.787L319.011 377.187C318.459 378.135 317.512 378.767 316.409 378.767H284.632C284.08 378.767 283.607 378.609 283.134 378.372C282.74 378.135 282.346 377.819 282.109 377.345L266.103 349.694C265.393 348.667 265.393 347.403 266.024 346.376L317.355 257.34C317.591 256.945 317.67 256.471 317.67 256.076C317.67 255.602 317.513 255.207 317.355 254.812L266.024 165.697C265.472 164.749 265.393 163.643 265.866 162.695L281.873 134.886C282.109 134.491 282.503 134.096 282.898 133.859C283.371 133.543 283.923 133.464 284.553 133.464H316.409C317.512 133.464 318.538 134.017 319.011 135.044L370.972 225.107L388.083 254.812C388.319 255.286 388.477 255.76 388.477 256.234C388.477 256.55 388.319 257.024 388.083 257.498V257.498Z",fill:"#008AAA"})),q1e=()=>re.createElement("svg",{className:Wr(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},re.createElement("path",{fill:"#0288D1",d:"M42,37c0,2.762-2.238,5-5,5H11c-2.761,0-5-2.238-5-5V11c0-2.762,2.239-5,5-5h26c2.762,0,5,2.238,5,5V37z"}),re.createElement("path",{fill:"#FFF",d:"M12 19H17V36H12zM14.485 17h-.028C12.965 17 12 15.888 12 14.499 12 13.08 12.995 12 14.514 12c1.521 0 2.458 1.08 2.486 2.499C17 15.887 16.035 17 14.485 17zM36 36h-5v-9.099c0-2.198-1.225-3.698-3.192-3.698-1.501 0-2.313 1.012-2.707 1.99C24.957 25.543 25 26.511 25 27v9h-5V19h5v2.616C25.721 20.5 26.85 19 29.738 19c3.578 0 6.261 2.25 6.261 7.274L36 36 36 36z"})),G1e=()=>re.createElement("svg",{className:Wr(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px",fillRule:"evenodd",clipRule:"evenodd"},re.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M11.553,11.099c1.232,1.001,1.694,0.925,4.008,0.77 l21.812-1.31c0.463,0,0.078-0.461-0.076-0.538l-3.622-2.619c-0.694-0.539-1.619-1.156-3.391-1.002l-21.12,1.54 c-0.77,0.076-0.924,0.461-0.617,0.77L11.553,11.099z",clipRule:"evenodd"}),re.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M12.862,16.182v22.95c0,1.233,0.616,1.695,2.004,1.619 l23.971-1.387c1.388-0.076,1.543-0.925,1.543-1.927V14.641c0-1-0.385-1.54-1.234-1.463l-25.05,1.463 C13.171,14.718,12.862,15.181,12.862,16.182L12.862,16.182z",clipRule:"evenodd"}),re.createElement("path",{fill:"#424242",fillRule:"evenodd",d:"M11.553,11.099c1.232,1.001,1.694,0.925,4.008,0.77 l21.812-1.31c0.463,0,0.078-0.461-0.076-0.538l-3.622-2.619c-0.694-0.539-1.619-1.156-3.391-1.002l-21.12,1.54 c-0.77,0.076-0.924,0.461-0.617,0.77L11.553,11.099z M12.862,16.182v22.95c0,1.233,0.616,1.695,2.004,1.619l23.971-1.387 c1.388-0.076,1.543-0.925,1.543-1.927V14.641c0-1-0.385-1.54-1.234-1.463l-25.05,1.463C13.171,14.718,12.862,15.181,12.862,16.182 L12.862,16.182z M36.526,17.413c0.154,0.694,0,1.387-0.695,1.465l-1.155,0.23v16.943c-1.003,0.539-1.928,0.847-2.698,0.847 c-1.234,0-1.543-0.385-2.467-1.54l-7.555-11.86v11.475l2.391,0.539c0,0,0,1.386-1.929,1.386l-5.317,0.308 c-0.154-0.308,0-1.078,0.539-1.232l1.388-0.385V20.418l-1.927-0.154c-0.155-0.694,0.23-1.694,1.31-1.772l5.704-0.385l7.862,12.015 V19.493l-2.005-0.23c-0.154-0.848,0.462-1.464,1.233-1.54L36.526,17.413z M7.389,5.862l21.968-1.618 c2.698-0.231,3.392-0.076,5.087,1.155l7.013,4.929C42.614,11.176,43,11.407,43,12.33v27.032c0,1.694-0.617,2.696-2.775,2.849 l-25.512,1.541c-1.62,0.077-2.391-0.154-3.239-1.232l-5.164-6.7C5.385,34.587,5,33.664,5,32.585V8.556 C5,7.171,5.617,6.015,7.389,5.862z",clipRule:"evenodd"})),H1e=()=>re.createElement("svg",{className:Wr(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},re.createElement("path",{fill:"#33d375",d:"M33,8c0-2.209-1.791-4-4-4s-4,1.791-4,4c0,1.254,0,9.741,0,11c0,2.209,1.791,4,4,4s4-1.791,4-4	C33,17.741,33,9.254,33,8z"}),re.createElement("path",{fill:"#33d375",d:"M43,19c0,2.209-1.791,4-4,4c-1.195,0-4,0-4,0s0-2.986,0-4c0-2.209,1.791-4,4-4S43,16.791,43,19z"}),re.createElement("path",{fill:"#40c4ff",d:"M8,14c-2.209,0-4,1.791-4,4s1.791,4,4,4c1.254,0,9.741,0,11,0c2.209,0,4-1.791,4-4s-1.791-4-4-4	C17.741,14,9.254,14,8,14z"}),re.createElement("path",{fill:"#40c4ff",d:"M19,4c2.209,0,4,1.791,4,4c0,1.195,0,4,0,4s-2.986,0-4,0c-2.209,0-4-1.791-4-4S16.791,4,19,4z"}),re.createElement("path",{fill:"#e91e63",d:"M14,39.006C14,41.212,15.791,43,18,43s4-1.788,4-3.994c0-1.252,0-9.727,0-10.984	c0-2.206-1.791-3.994-4-3.994s-4,1.788-4,3.994C14,29.279,14,37.754,14,39.006z"}),re.createElement("path",{fill:"#e91e63",d:"M4,28.022c0-2.206,1.791-3.994,4-3.994c1.195,0,4,0,4,0s0,2.981,0,3.994c0,2.206-1.791,3.994-4,3.994	S4,30.228,4,28.022z"}),re.createElement("path",{fill:"#ffc107",d:"M39,33c2.209,0,4-1.791,4-4s-1.791-4-4-4c-1.254,0-9.741,0-11,0c-2.209,0-4,1.791-4,4s1.791,4,4,4	C29.258,33,37.746,33,39,33z"}),re.createElement("path",{fill:"#ffc107",d:"M28,43c-2.209,0-4-1.791-4-4c0-1.195,0-4,0-4s2.986,0,4,0c2.209,0,4,1.791,4,4S30.209,43,28,43z"})),K1e=()=>re.createElement("svg",{className:Wr(),width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},re.createElement("path",{d:"M255.498 31.0034C131.513 31.0034 31 131.515 31 255.502C31 379.492 131.513 480 255.498 480C379.497 480 480 379.495 480 255.502C480 131.522 379.497 31.0135 255.495 31.0135L255.498 31V31.0034ZM358.453 354.798C354.432 361.391 345.801 363.486 339.204 359.435C286.496 327.237 220.139 319.947 141.993 337.801C134.463 339.516 126.957 334.798 125.24 327.264C123.516 319.731 128.217 312.225 135.767 310.511C221.284 290.972 294.639 299.384 353.816 335.549C360.413 339.596 362.504 348.2 358.453 354.798ZM385.932 293.67C380.864 301.903 370.088 304.503 361.858 299.438C301.512 262.345 209.528 251.602 138.151 273.272C128.893 276.067 119.118 270.851 116.309 261.61C113.521 252.353 118.74 242.597 127.981 239.782C209.512 215.044 310.87 227.026 380.17 269.612C388.4 274.68 391 285.456 385.935 293.676V293.673L385.932 293.67ZM388.293 230.016C315.935 187.039 196.56 183.089 127.479 204.055C116.387 207.42 104.654 201.159 101.293 190.063C97.9326 178.964 104.189 167.241 115.289 163.87C194.59 139.796 326.418 144.446 409.723 193.902C419.722 199.826 422.995 212.71 417.068 222.675C411.168 232.653 398.247 235.943 388.303 230.016H388.293V230.016Z",fill:"#1ED760"})),Y1e=()=>re.createElement("svg",{className:Wr(),width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},re.createElement("path",{d:"M416 240L352 304H288L232 360V304H160V64H416V240Z",fill:"white"}),re.createElement("path",{d:"M144 32L64 112V400H160V480L240 400H304L448 256V32H144ZM416 240L352 304H288L232 360V304H160V64H416V240Z",fill:"#9146FF"}),re.createElement("path",{d:"M368 120H336V216H368V120Z",fill:"#9146FF"}),re.createElement("path",{d:"M280 120H248V216H280V120Z",fill:"#9146FF"})),J1e=()=>re.createElement("svg",{className:Wr(),width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},re.createElement("path",{d:"M33 256.043C33 264.556 35.3159 273.069 39.4845 280.202L117.993 415.493C126.098 429.298 138.373 440.572 153.657 445.634C183.764 455.528 214.797 442.873 229.618 417.333L248.609 384.661L173.806 256.043L252.777 119.831L271.768 87.1591C277.557 77.2654 284.968 69.4424 294 63H285.894H172.185C150.878 63 131.193 74.2742 120.54 92.6812L39.7161 231.884C35.3159 239.016 33 247.53 33 256.043Z",fill:"#6363F1"}),re.createElement("path",{d:"M480 256.058C480 247.539 477.684 239.021 473.516 231.883L393.849 94.6596C379.028 69.3331 347.995 56.4396 317.888 66.34C302.603 71.4053 290.329 82.6871 282.224 96.5015L264.391 127.354L339.194 256.058L260.223 392.131L241.232 424.825C235.443 434.495 228.032 442.553 219 449H227.106H340.815C362.122 449 381.807 437.718 392.46 419.299L473.284 280.003C477.684 272.866 480 264.577 480 256.058Z",fill:"#6363F1"})),X1e=()=>re.createElement("svg",{className:Wr(),xmlns:"http://www.w3.org/2000/svg",width:"2500",height:"2500",viewBox:"0 0 256 256"},re.createElement("path",{fill:"#FFE812",d:"M256 236c0 11.046-8.954 20-20 20H20c-11.046 0-20-8.954-20-20V20C0 8.954 8.954 0 20 0h216c11.046 0 20 8.954 20 20v216z"}),re.createElement("path",{d:"M128 36C70.562 36 24 72.713 24 118c0 29.279 19.466 54.97 48.748 69.477-1.593 5.494-10.237 35.344-10.581 37.689 0 0-.207 1.762.934 2.434s2.483.15 2.483.15c3.272-.457 37.943-24.811 43.944-29.04 5.995.849 12.168 1.29 18.472 1.29 57.438 0 104-36.712 104-82 0-45.287-46.562-82-104-82z"}),re.createElement("path",{fill:"#FFE812",d:"M70.5 146.625c-3.309 0-6-2.57-6-5.73V105.25h-9.362c-3.247 0-5.888-2.636-5.888-5.875s2.642-5.875 5.888-5.875h30.724c3.247 0 5.888 2.636 5.888 5.875s-2.642 5.875-5.888 5.875H76.5v35.645c0 3.16-2.691 5.73-6 5.73zM123.112 146.547c-2.502 0-4.416-1.016-4.993-2.65l-2.971-7.778-18.296-.001-2.973 7.783c-.575 1.631-2.488 2.646-4.99 2.646a9.155 9.155 0 0 1-3.814-.828c-1.654-.763-3.244-2.861-1.422-8.52l14.352-37.776c1.011-2.873 4.082-5.833 7.99-5.922 3.919.088 6.99 3.049 8.003 5.928l14.346 37.759c1.826 5.672.236 7.771-1.418 8.532a9.176 9.176 0 0 1-3.814.827c-.001 0 0 0 0 0zm-11.119-21.056L106 108.466l-5.993 17.025h11.986zM138 145.75c-3.171 0-5.75-2.468-5.75-5.5V99.5c0-3.309 2.748-6 6.125-6s6.125 2.691 6.125 6v35.25h12.75c3.171 0 5.75 2.468 5.75 5.5s-2.579 5.5-5.75 5.5H138zM171.334 146.547c-3.309 0-6-2.691-6-6V99.5c0-3.309 2.691-6 6-6s6 2.691 6 6v12.896l16.74-16.74c.861-.861 2.044-1.335 3.328-1.335 1.498 0 3.002.646 4.129 1.772 1.051 1.05 1.678 2.401 1.764 3.804.087 1.415-.384 2.712-1.324 3.653l-13.673 13.671 14.769 19.566a5.951 5.951 0 0 1 1.152 4.445 5.956 5.956 0 0 1-2.328 3.957 5.94 5.94 0 0 1-3.609 1.211 5.953 5.953 0 0 1-4.793-2.385l-14.071-18.644-2.082 2.082v13.091a6.01 6.01 0 0 1-6.002 6.003z"}));function Q1e({supabaseClient:t,socialLayout:e="vertical",providers:n=["github","google","azure"],providerScopes:r,queryParams:i,redirectTo:s,onlyThirdPartyProviders:o=!0,view:l="sign_in",i18n:u,appearance:d}){const[h,p]=x.useState(!1),[g,y]=x.useState(""),b=e==="vertical",C=l==="magic_link"?"sign_in":l,_=async E=>{p(!0);const{error:j}=await t.auth.signInWithOAuth({provider:E,options:{redirectTo:s,scopes:r==null?void 0:r[E],queryParams:i}});j&&y(j.message),p(!1)};function P(E){const j=E.toLowerCase();return E.charAt(0).toUpperCase()+j.slice(1)}return re.createElement(re.Fragment,null,n&&n.length>0&&re.createElement(re.Fragment,null,re.createElement(eo,{gap:"large",direction:"vertical",appearance:d},re.createElement(eo,{direction:b?"vertical":"horizontal",gap:b?"small":"medium",appearance:d},n.map(E=>{var j;return re.createElement(ad,{key:E,color:"default",loading:h,onClick:()=>_(E),appearance:d},re.createElement(M1e,{provider:E}),b&&_1e((j=u==null?void 0:u[C])==null?void 0:j.social_provider_text,{provider:P(E)}))}))),!o&&re.createElement(R1e,{appearance:d})))}function JL({authView:t="sign_in",defaultEmail:e="",defaultPassword:n="",setAuthView:r=()=>{},setDefaultEmail:i=b=>{},setDefaultPassword:s=b=>{},supabaseClient:o,showLinks:l=!1,redirectTo:u,additionalData:d,magicLink:h,i18n:p,appearance:g,children:y}){var b,C,_,P;const E=x.useRef(!0),[j,R]=x.useState(e),[I,M]=x.useState(n),[A,$]=x.useState(""),[B,G]=x.useState(!1),[X,K]=x.useState("");x.useEffect(()=>(E.current=!0,R(e),M(n),()=>{E.current=!1}),[t]);const W=async ne=>{var ue;switch(ne.preventDefault(),$(""),G(!0),t){case"sign_in":const{error:oe}=await o.auth.signInWithPassword({email:j,password:I});oe&&$(oe.message);break;case"sign_up":let ie={emailRedirectTo:u};d&&(ie.data=d);const{data:{user:L,session:F},error:Z}=await o.auth.signUp({email:j,password:I,options:ie});Z?$(Z.message):L&&!F&&K((ue=p==null?void 0:p.sign_up)==null?void 0:ue.confirmation_text);break}E.current&&G(!1)},V=ne=>{i(j),s(I),r(ne)},Y=p==null?void 0:p[t];return re.createElement("form",{id:t==="sign_in"?"auth-sign-in":"auth-sign-up",onSubmit:W,autoComplete:"on",style:{width:"100%"}},re.createElement(eo,{direction:"vertical",gap:"large",appearance:g},re.createElement(eo,{direction:"vertical",gap:"large",appearance:g},re.createElement("div",null,re.createElement(ja,{htmlFor:"email",appearance:g},Y==null?void 0:Y.email_label),re.createElement(Na,{id:"email",type:"email",name:"email",placeholder:Y==null?void 0:Y.email_input_placeholder,defaultValue:j,onChange:ne=>R(ne.target.value),autoComplete:"email",appearance:g})),re.createElement("div",null,re.createElement(ja,{htmlFor:"password",appearance:g},Y==null?void 0:Y.password_label),re.createElement(Na,{id:"password",type:"password",name:"password",placeholder:Y==null?void 0:Y.password_input_placeholder,defaultValue:I,onChange:ne=>M(ne.target.value),autoComplete:t==="sign_in"?"current-password":"new-password",appearance:g})),y),re.createElement(ad,{type:"submit",color:"primary",loading:B,appearance:g},B?Y==null?void 0:Y.loading_button_label:Y==null?void 0:Y.button_label),l&&re.createElement(eo,{direction:"vertical",gap:"small",appearance:g},t===cr.SIGN_IN&&h&&re.createElement(zl,{href:"#auth-magic-link",onClick:ne=>{ne.preventDefault(),r(cr.MAGIC_LINK)},appearance:g},(b=p==null?void 0:p.magic_link)==null?void 0:b.link_text),t===cr.SIGN_IN&&re.createElement(zl,{href:"#auth-forgot-password",onClick:ne=>{ne.preventDefault(),r(cr.FORGOTTEN_PASSWORD)},appearance:g},(C=p==null?void 0:p.forgotten_password)==null?void 0:C.link_text),t===cr.SIGN_IN?re.createElement(zl,{href:"#auth-sign-up",onClick:ne=>{ne.preventDefault(),V(cr.SIGN_UP)},appearance:g},(_=p==null?void 0:p.sign_up)==null?void 0:_.link_text):re.createElement(zl,{href:"#auth-sign-in",onClick:ne=>{ne.preventDefault(),V(cr.SIGN_IN)},appearance:g},(P=p==null?void 0:p.sign_in)==null?void 0:P.link_text))),X&&re.createElement(io,{appearance:g},X),A&&re.createElement(io,{color:"danger",appearance:g},A))}function W9({setAuthView:t=()=>{},supabaseClient:e,redirectTo:n,i18n:r,appearance:i,showLinks:s=!1}){var o;const[l,u]=x.useState(""),[d,h]=x.useState(""),[p,g]=x.useState(""),[y,b]=x.useState(!1),C=async P=>{var E;P.preventDefault(),h(""),g(""),b(!0);const{error:j}=await e.auth.resetPasswordForEmail(l,{redirectTo:n});j?h(j.message):g((E=r==null?void 0:r.forgotten_password)==null?void 0:E.confirmation_text),b(!1)},_=r==null?void 0:r.forgotten_password;return re.createElement("form",{id:"auth-forgot-password",onSubmit:C},re.createElement(eo,{direction:"vertical",gap:"large",appearance:i},re.createElement(eo,{gap:"large",direction:"vertical",appearance:i},re.createElement("div",null,re.createElement(ja,{htmlFor:"email",appearance:i},_==null?void 0:_.email_label),re.createElement(Na,{id:"email",name:"email",type:"email",autoFocus:!0,placeholder:_==null?void 0:_.email_input_placeholder,onChange:P=>u(P.target.value),appearance:i})),re.createElement(ad,{type:"submit",color:"primary",loading:y,appearance:i},y?_==null?void 0:_.loading_button_label:_==null?void 0:_.button_label),s&&re.createElement(zl,{href:"#auth-sign-in",onClick:P=>{P.preventDefault(),t(cr.SIGN_IN)},appearance:i},(o=r==null?void 0:r.sign_in)==null?void 0:o.link_text),p&&re.createElement(io,{appearance:i},p),d&&re.createElement(io,{color:"danger",appearance:i},d))))}function q9({supabaseClient:t,i18n:e,appearance:n}){const[r,i]=x.useState(""),[s,o]=x.useState(""),[l,u]=x.useState(""),[d,h]=x.useState(!1),p=async y=>{var b;y.preventDefault(),o(""),u(""),h(!0);const{error:C}=await t.auth.updateUser({password:r});C?o(C.message):u((b=e==null?void 0:e.update_password)==null?void 0:b.confirmation_text),h(!1)},g=e==null?void 0:e.update_password;return re.createElement("form",{id:"auth-update-password",onSubmit:p},re.createElement(eo,{gap:"large",direction:"vertical",appearance:n},re.createElement("div",null,re.createElement(ja,{htmlFor:"password",appearance:n},g==null?void 0:g.password_label),re.createElement(Na,{id:"password",name:"password",placeholder:g==null?void 0:g.password_input_placeholder,type:"password",autoFocus:!0,onChange:y=>i(y.target.value),appearance:n})),re.createElement(ad,{type:"submit",color:"primary",loading:d,appearance:n},d?g==null?void 0:g.loading_button_label:g==null?void 0:g.button_label),l&&re.createElement(io,{appearance:n},l),s&&re.createElement(io,{color:"danger",appearance:n},s)))}function Z1e({setAuthView:t=()=>{},supabaseClient:e,otpType:n="email",i18n:r,appearance:i,showLinks:s=!1}){var o;const[l,u]=x.useState(""),[d,h]=x.useState(""),[p,g]=x.useState(""),[y,b]=x.useState(""),[C,_]=x.useState(""),[P,E]=x.useState(!1),j=async I=>{I.preventDefault(),b(""),_(""),E(!0);let M={email:l,token:p,type:n};["sms","phone_change"].includes(n)&&(M={phone:d,token:p,type:n});const{error:A}=await e.auth.verifyOtp(M);A&&b(A.message),E(!1)},R=r==null?void 0:r.verify_otp;return re.createElement("form",{id:"auth-magic-link",onSubmit:j},re.createElement(eo,{gap:"large",direction:"vertical",appearance:i},["sms","phone_change"].includes(n)?re.createElement("div",null,re.createElement(ja,{htmlFor:"phone",appearance:i},R==null?void 0:R.phone_input_label),re.createElement(Na,{id:"phone",name:"phone",type:"text",autoFocus:!0,placeholder:R==null?void 0:R.phone_input_placeholder,onChange:I=>h(I.target.value),appearance:i})):re.createElement("div",null,re.createElement(ja,{htmlFor:"email",appearance:i},R==null?void 0:R.email_input_label),re.createElement(Na,{id:"email",name:"email",type:"email",autoFocus:!0,placeholder:R==null?void 0:R.email_input_placeholder,onChange:I=>u(I.target.value),appearance:i})),re.createElement("div",null,re.createElement(ja,{htmlFor:"token",appearance:i},R==null?void 0:R.token_input_label),re.createElement(Na,{id:"token",name:"token",type:"text",placeholder:R==null?void 0:R.token_input_placeholder,onChange:I=>g(I.target.value),appearance:i})),re.createElement(ad,{color:"primary",type:"submit",loading:P,appearance:i},P?R==null?void 0:R.loading_button_label:R==null?void 0:R.button_label),s&&re.createElement(zl,{href:"#auth-sign-in",onClick:I=>{I.preventDefault(),t(cr.SIGN_IN)},appearance:i},(o=r==null?void 0:r.sign_in)==null?void 0:o.link_text),C&&re.createElement(io,{appearance:i},C),y&&re.createElement(io,{color:"danger",appearance:i},y)))}const G9=x.createContext({user:null,session:null}),eSe=t=>{const{supabaseClient:e}=t,[n,r]=x.useState(null),[i,s]=x.useState((n==null?void 0:n.user)??null);x.useEffect(()=>{(async()=>{var u;const{data:d}=await e.auth.getSession();r(d.session),s(((u=d.session)==null?void 0:u.user)??null)})();const{data:l}=e.auth.onAuthStateChange(async(u,d)=>{r(d),s((d==null?void 0:d.user)??null)});return()=>{l==null||l.subscription.unsubscribe()}},[]);const o={session:n,user:i};return re.createElement(G9.Provider,{value:o,...t})},tSe=()=>{const t=x.useContext(G9);if(t===void 0)throw new Error("useUser must be used within a UserContextProvider.");return t};function ld({supabaseClient:t,socialLayout:e="vertical",providers:n,providerScopes:r,queryParams:i,view:s="sign_in",redirectTo:o,onlyThirdPartyProviders:l=!1,magicLink:u=!1,showLinks:d=!0,appearance:h,theme:p="default",localization:g={variables:{}},otpType:y="email",additionalData:b,children:C}){const _=Ab(T1e,g.variables??{}),[P,E]=x.useState(s),[j,R]=x.useState(""),[I,M]=x.useState(""),A=P==="sign_in"||P==="sign_up"||P==="magic_link";x.useEffect(()=>{var G,X;U9({theme:Ab(((G=h==null?void 0:h.theme)==null?void 0:G.default)??{},((X=h==null?void 0:h.variables)==null?void 0:X.default)??{})})},[h]);const $=({children:G})=>{var X;return re.createElement("div",{className:p!=="default"?S1e(Ab(h==null?void 0:h.theme[p],((X=h==null?void 0:h.variables)==null?void 0:X[p])??{})):""},A&&re.createElement(Q1e,{appearance:h,supabaseClient:t,providers:n,providerScopes:r,queryParams:i,socialLayout:e,redirectTo:o,onlyThirdPartyProviders:l,i18n:_,view:P}),!l&&G)};x.useEffect(()=>{const{data:G}=t.auth.onAuthStateChange(X=>{X==="PASSWORD_RECOVERY"?E("update_password"):X==="USER_UPDATED"&&E("sign_in")});return E(s),()=>G.subscription.unsubscribe()},[s]);const B={supabaseClient:t,setAuthView:E,defaultEmail:j,defaultPassword:I,setDefaultEmail:R,setDefaultPassword:M,redirectTo:o,magicLink:u,showLinks:d,i18n:_,appearance:h};switch(P){case cr.SIGN_IN:return re.createElement($,null,re.createElement(JL,{...B,authView:"sign_in"}));case cr.SIGN_UP:return re.createElement($,null,re.createElement(JL,{appearance:h,supabaseClient:t,authView:"sign_up",setAuthView:E,defaultEmail:j,defaultPassword:I,setDefaultEmail:R,setDefaultPassword:M,redirectTo:o,magicLink:u,showLinks:d,i18n:_,additionalData:b,children:C}));case cr.FORGOTTEN_PASSWORD:return re.createElement($,null,re.createElement(W9,{appearance:h,supabaseClient:t,setAuthView:E,redirectTo:o,showLinks:d,i18n:_}));case cr.MAGIC_LINK:return re.createElement($,null,re.createElement(z9,{appearance:h,supabaseClient:t,setAuthView:E,redirectTo:o,showLinks:d,i18n:_}));case cr.UPDATE_PASSWORD:return re.createElement(q9,{appearance:h,supabaseClient:t,i18n:_});case cr.VERIFY_OTP:return re.createElement(Z1e,{appearance:h,supabaseClient:t,otpType:y,i18n:_});default:return null}}ld.ForgottenPassword=W9;ld.UpdatePassword=q9;ld.MagicLink=z9;ld.UserContextProvider=eSe;ld.useUser=tSe;Wo({borderRadius:"12px",boxShadow:"rgba(100, 100, 111, 0.2) 0px 7px 29px 0px",width:"360px",padding:"28px 32px"});const nSe={default:{colors:{brand:"hsl(var(--primary))",brandAccent:"hsl(var(--primary-foreground))",brandButtonText:"hsl(var(--primary-foreground))",defaultButtonBackground:"hsl(var(--background))",defaultButtonBackgroundHover:"hsl(var(--accent))",defaultButtonBorder:"hsl(var(--input))",defaultButtonText:"hsl(var(--foreground))",dividerBackground:"hsl(var(--border))",inputBackground:"hsl(var(--background))",inputBorder:"hsl(var(--input))",inputBorderHover:"hsl(var(--ring))",inputBorderFocus:"hsl(var(--ring))",inputText:"hsl(var(--foreground))",inputLabelText:"hsl(var(--foreground))",inputPlaceholder:"hsl(var(--muted-foreground))",messageText:"hsl(var(--foreground))",messageTextDanger:"hsl(var(--destructive-foreground))",anchorTextColor:"hsl(var(--primary))",anchorTextColorHover:"hsl(var(--primary))"},space:{spaceSmall:"4px",spaceMedium:"8px",spaceLarge:"16px",labelBottomMargin:"8px",anchorBottomMargin:"4px",emailInputSpacing:"4px",socialAuthSpacing:"4px",buttonPadding:"10px 15px",inputPadding:"10px 15px"},fontSizes:{baseBodySize:"13px",baseInputSize:"14px",baseLabelSize:"14px",baseButtonSize:"14px"},fonts:{bodyFontFamily:'Inter, ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',buttonFontFamily:'Inter, ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',inputFontFamily:'Inter, ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',labelFontFamily:'Inter, ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"'},borderWidths:{buttonBorderWidth:"1px",inputBorderWidth:"1px"},radii:{borderRadiusButton:"var(--radius)",buttonBorderRadius:"var(--radius)",inputBorderRadius:"var(--radius)"}}};function rSe(){return a.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:a.jsxs("div",{className:"w-full max-w-md p-8 space-y-8 bg-card shadow-lg rounded-lg",children:[a.jsx("div",{children:a.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-foreground",children:"Sign in to your account"})}),a.jsx(ld,{supabaseClient:ni,appearance:{theme:nSe},providers:["google"],socialLayout:"vertical",theme:"dark",redirectTo:window.location.origin+"/"})]})})}const iSe=()=>{const{isAuthenticated:t,user:e}=Is();return a.jsxs(a.Fragment,{children:[a.jsx(PE,{}),a.jsxs("div",{style:{padding:"20px",textAlign:"center"},children:[a.jsx("h1",{children:"Our Plan"}),a.jsx("p",{children:"Get full access to all store creation and management features."}),a.jsxs("div",{style:{border:"1px solid #ccc",padding:"20px",margin:"20px auto",maxWidth:"400px",borderRadius:"8px"},children:[a.jsx("h2",{children:"Store Creator Plan"}),a.jsx("p",{style:{fontSize:"2em",fontWeight:"bold",margin:"10px 0"},children:"$24.99 / month"}),a.jsxs("ul",{children:[a.jsx("li",{children:"Full access to publishing"}),a.jsx("li",{children:"Accept payments for your store"}),a.jsx("li",{children:"Unlimited products"}),a.jsx("li",{children:"And more!"})]}),t?a.jsx(UU,{}):a.jsxs("p",{children:["Please ",a.jsx(Ni,{to:"/auth",children:"log in or sign up"})," to subscribe."]})]})]})]})};function sSe(){return new URLSearchParams(Fo().search)}const oSe=()=>{const e=sSe().get("session_id"),[n,r]=x.useState(null),[i,s]=x.useState(!0),[o,l]=x.useState(null);return x.useEffect(()=>{if(!e){l("No session ID found. Your order might still be processing."),s(!1);return}s(!1)},[e]),i?a.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading order details..."}):o?a.jsxs("div",{style:{padding:"20px",textAlign:"center"},children:[a.jsx("h1",{children:"Order Status"}),a.jsx("p",{style:{color:"red"},children:o}),a.jsx(Ni,{to:"/",children:"Go to Homepage"})]}):a.jsxs("div",{style:{padding:"20px",textAlign:"center"},children:[a.jsx("h1",{children:"Thank You for Your Order!"}),a.jsx("p",{children:"Your payment was successful and your order is being processed."}),a.jsxs("p",{children:["Order (Session ID): ",e]}),a.jsx("p",{children:"You will receive an email confirmation shortly."}),a.jsx(Ni,{to:"/",children:"Continue Shopping"})]})},aSe=()=>a.jsx(Hde,{children:a.jsxs("main",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-gray-900 dark:to-slate-900",children:[a.jsx(Iz,{})," ",a.jsx(yQ,{}),a.jsx(L9,{})," "]})}),lSe=({children:t,activeTab:e,setActiveTab:n,storeId:r})=>{const[i,s]=x.useState(""),[o,l]=x.useState([]),u=[{id:"orders",label:"Orders",icon:a.jsx(Ag,{className:"h-5 w-5"})},{id:"products",label:"Products",icon:a.jsx(_a,{className:"h-5 w-5"})},{id:"customers",label:"Customers",icon:a.jsx(j_,{className:"h-5 w-5"})},{id:"payments",label:"Payments",icon:a.jsx(Es,{className:"h-5 w-5"})},{id:"analytics",label:"Analytics",icon:a.jsx(jv,{className:"h-5 w-5"})},{id:"marketing",label:"Marketing",icon:a.jsx(gu,{className:"h-5 w-5"})},{id:"shipping",label:"Shipping",icon:a.jsx(yO,{className:"h-5 w-5"})},{id:"settings",label:"Settings",icon:a.jsx(kv,{className:"h-5 w-5"})}],d=u.map(g=>({id:g.id,label:g.label,tab:g.id})),h=g=>{const y=g.target.value;if(s(y),y.trim()===""){l([]);return}const b=y.toLowerCase(),C=[];d.forEach(_=>{_.label.toLowerCase().includes(b)&&C.push({id:`${_.id}-main`,label:_.label,tab:_.tab}),_.subItems&&_.subItems.forEach(P=>{P.label.toLowerCase().includes(b)&&C.push({id:P.id,label:`${_.label} > ${P.label}`,tab:_.tab})})}),l(C)},p=g=>{n(g.tab),s(""),l([])};return a.jsxs("div",{className:"flex h-screen bg-muted/40",children:[" ",a.jsxs("div",{className:"w-64 bg-card border-r border-border flex flex-col",children:[" ",a.jsxs("div",{className:"p-4 border-b flex items-center gap-2",children:[" ",r&&a.jsx(te,{asChild:!0,variant:"outline",size:"icon",className:"flex-shrink-0",children:a.jsxs(Ni,{to:`/store/${r}`,children:[a.jsx(Aa,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Back to Store"})]})}),a.jsxs("div",{className:"relative flex-grow",children:[" ",a.jsx(dg,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),a.jsx(ft,{type:"text",placeholder:"Search dashboard...",className:"pl-9 w-full",value:i,onChange:h}),o.length>0&&a.jsxs(We,{className:"absolute mt-1 w-full z-50 max-h-64 overflow-y-auto shadow-lg",children:[" ",a.jsxs("div",{className:"p-1",children:[" ",o.map(g=>a.jsx("button",{className:"w-full text-left px-3 py-1.5 hover:bg-accent rounded-md text-sm",onClick:()=>p(g),children:g.label},g.id))]})]})]})]}),a.jsxs("nav",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:[" ",u.map(g=>a.jsxs(te,{variant:e===g.id?"secondary":"ghost",className:"w-full justify-start text-left h-10 px-3",onClick:()=>n(g.id),children:[a.jsx("span",{className:"mr-3",children:g.icon})," ",g.label]},g.id))]}),a.jsx("div",{className:"p-4 border-t",children:a.jsx(te,{variant:"ghost",className:"w-full justify-start text-left",children:"Help & Support"})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[" ",t]})]})},XL=()=>{const[t,e]=x.useState("all"),n=[{id:"ORD-1234",customer:"John Doe",date:"2023-05-15",total:"$129.99",status:"Fulfilled"},{id:"ORD-1235",customer:"Jane Smith",date:"2023-05-14",total:"$89.50",status:"Processing"},{id:"ORD-1236",customer:"Robert Johnson",date:"2023-05-13",total:"$210.75",status:"Pending"}],r=[{id:"CART-567",customer:"Emily Davis",date:"2023-05-15",items:3,total:"$78.45",timeSpent:"12m 30s"},{id:"CART-568",customer:"Michael Brown",date:"2023-05-14",items:2,total:"$45.99",timeSpent:"5m 15s"}],i=[{id:"RET-890",orderId:"ORD-1230",customer:"Sarah Wilson",date:"2023-05-10",amount:"$65.00",reason:"Wrong size"},{id:"RET-891",orderId:"ORD-1228",customer:"David Miller",date:"2023-05-09",amount:"$120.50",reason:"Damaged item"}];return a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Orders"}),a.jsxs(ks,{value:t,onValueChange:e,className:"w-full",children:[a.jsxs(fs,{className:"grid grid-cols-4 mb-6",children:[a.jsxs(Yt,{value:"all",children:[a.jsx(Ag,{className:"mr-2 h-4 w-4"}),"All Orders"]}),a.jsxs(Yt,{value:"abandoned",children:[a.jsx(w0,{className:"mr-2 h-4 w-4"}),"Abandoned Checkouts"]}),a.jsxs(Yt,{value:"returns",children:[a.jsx(Av,{className:"mr-2 h-4 w-4"}),"Returns & Refunds"]}),a.jsxs(Yt,{value:"fulfillment",children:[a.jsx(_a,{className:"mr-2 h-4 w-4"}),"Order Fulfillment"]})]}),a.jsx(Jt,{value:"all",children:a.jsxs(We,{children:[a.jsxs(Xe,{children:[a.jsx(Qe,{children:"All Orders"}),a.jsx(Dt,{children:"View and manage all customer orders"})]}),a.jsx(Ke,{children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b",children:[a.jsx("th",{className:"text-left py-3 px-4",children:"Order ID"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Customer"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Date"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Total"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Status"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Actions"})]})}),a.jsx("tbody",{children:n.map(s=>a.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[a.jsx("td",{className:"py-3 px-4",children:s.id}),a.jsx("td",{className:"py-3 px-4",children:s.customer}),a.jsx("td",{className:"py-3 px-4",children:s.date}),a.jsx("td",{className:"py-3 px-4",children:s.total}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${s.status==="Fulfilled"?"bg-green-100 text-green-800":s.status==="Processing"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:s.status})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx(te,{variant:"outline",size:"sm",children:"View"})})]},s.id))})]})})})]})}),a.jsx(Jt,{value:"abandoned",children:a.jsxs(We,{children:[a.jsxs(Xe,{children:[a.jsx(Qe,{children:"Abandoned Checkouts"}),a.jsx(Dt,{children:"View details of abandoned shopping carts"})]}),a.jsx(Ke,{children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b",children:[a.jsx("th",{className:"text-left py-3 px-4",children:"Cart ID"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Customer"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Date"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Items"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Total"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Time Spent"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Actions"})]})}),a.jsx("tbody",{children:r.map(s=>a.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[a.jsx("td",{className:"py-3 px-4",children:s.id}),a.jsx("td",{className:"py-3 px-4",children:s.customer}),a.jsx("td",{className:"py-3 px-4",children:s.date}),a.jsx("td",{className:"py-3 px-4",children:s.items}),a.jsx("td",{className:"py-3 px-4",children:s.total}),a.jsx("td",{className:"py-3 px-4",children:s.timeSpent}),a.jsx("td",{className:"py-3 px-4",children:a.jsx(te,{variant:"outline",size:"sm",children:"View Details"})})]},s.id))})]})})})]})}),a.jsx(Jt,{value:"returns",children:a.jsxs(We,{children:[a.jsxs(Xe,{children:[a.jsx(Qe,{children:"Returns & Refunds"}),a.jsx(Dt,{children:"Manage customer returns and process refunds"})]}),a.jsx(Ke,{children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b",children:[a.jsx("th",{className:"text-left py-3 px-4",children:"Return ID"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Order ID"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Customer"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Date"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Amount"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Reason"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Actions"})]})}),a.jsx("tbody",{children:i.map(s=>a.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[a.jsx("td",{className:"py-3 px-4",children:s.id}),a.jsx("td",{className:"py-3 px-4",children:s.orderId}),a.jsx("td",{className:"py-3 px-4",children:s.customer}),a.jsx("td",{className:"py-3 px-4",children:s.date}),a.jsx("td",{className:"py-3 px-4",children:s.amount}),a.jsx("td",{className:"py-3 px-4",children:s.reason}),a.jsxs("td",{className:"py-3 px-4",children:[a.jsx(te,{variant:"outline",size:"sm",className:"mr-2",children:"View"}),a.jsx(te,{variant:"outline",size:"sm",children:"Process"})]})]},s.id))})]})})})]})}),a.jsx(Jt,{value:"fulfillment",children:a.jsxs(We,{children:[a.jsxs(Xe,{children:[a.jsx(Qe,{children:"Order Fulfillment"}),a.jsx(Dt,{children:"Manage and fulfill pending orders"})]}),a.jsx(Ke,{children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b",children:[a.jsx("th",{className:"text-left py-3 px-4",children:"Order ID"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Customer"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Date"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Total"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Status"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Fraud Risk"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Customer Score"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Actions"})]})}),a.jsx("tbody",{children:n.map(s=>a.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[a.jsx("td",{className:"py-3 px-4",children:s.id}),a.jsx("td",{className:"py-3 px-4",children:s.customer}),a.jsx("td",{className:"py-3 px-4",children:s.date}),a.jsx("td",{className:"py-3 px-4",children:s.total}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${s.status==="Fulfilled"?"bg-green-100 text-green-800":s.status==="Processing"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:s.status})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:"px-2 py-1 rounded-full text-xs bg-green-100 text-green-800",children:"Low"})}),a.jsxs("td",{className:"py-3 px-4",children:[Math.floor(Math.random()*100),"/100"]}),a.jsxs("td",{className:"py-3 px-4",children:[a.jsx(te,{variant:"outline",size:"sm",className:"mr-2",children:"View"}),a.jsx(te,{variant:"default",size:"sm",disabled:s.status==="Fulfilled",children:"Fulfill"})]})]},s.id))})]})})})]})})]})]})},cSe=()=>{const[t,e]=x.useState("all"),n=[{id:"PRD-1234",name:"Premium T-Shirt",category:"Apparel",price:"$29.99",inventory:45,status:"Active"},{id:"PRD-1235",name:"Wireless Headphones",category:"Electronics",price:"$89.50",inventory:12,status:"Active"},{id:"PRD-1236",name:"Leather Wallet",category:"Accessories",price:"$49.99",inventory:0,status:"Out of Stock"}],r=[{id:"COL-567",name:"Summer Collection",products:12,type:"Manual",status:"Active"},{id:"COL-568",name:"Holiday Specials",products:8,type:"AI Generated",status:"Draft"}];return a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Products"}),a.jsxs(ks,{value:t,onValueChange:e,className:"w-full",children:[a.jsxs(fs,{className:"grid grid-cols-3 mb-6",children:[a.jsxs(Yt,{value:"all",children:[a.jsx(_a,{className:"mr-2 h-4 w-4"}),"All Products"]}),a.jsxs(Yt,{value:"inventory",children:[a.jsx(fg,{className:"mr-2 h-4 w-4"}),"Inventory"]}),a.jsxs(Yt,{value:"collections",children:[a.jsx(Z1,{className:"mr-2 h-4 w-4"}),"Collections"]})]}),a.jsx(Jt,{value:"all",children:a.jsxs(We,{children:[a.jsxs(Xe,{className:"flex flex-row items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(Qe,{children:"All Products"}),a.jsx(Dt,{children:"Manage your product catalog"})]}),a.jsxs(te,{children:[a.jsx(_a,{className:"mr-2 h-4 w-4"}),"Add Product"]})]}),a.jsxs(Ke,{children:[a.jsxs("div",{className:"mb-4 flex items-center",children:[a.jsx(ft,{placeholder:"Search products...",className:"max-w-sm mr-2"}),a.jsx(te,{variant:"outline",children:"Search"})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b",children:[a.jsx("th",{className:"text-left py-3 px-4",children:"ID"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Product"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Category"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Price"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Inventory"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Status"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Actions"})]})}),a.jsx("tbody",{children:n.map(i=>a.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[a.jsx("td",{className:"py-3 px-4",children:i.id}),a.jsx("td",{className:"py-3 px-4",children:i.name}),a.jsx("td",{className:"py-3 px-4",children:i.category}),a.jsx("td",{className:"py-3 px-4",children:i.price}),a.jsx("td",{className:"py-3 px-4",children:i.inventory}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${i.status==="Active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:i.status})}),a.jsxs("td",{className:"py-3 px-4",children:[a.jsx(te,{variant:"outline",size:"sm",className:"mr-2",children:"Edit"}),a.jsx(te,{variant:"outline",size:"sm",children:"Delete"})]})]},i.id))})]})})]})]})}),a.jsx(Jt,{value:"inventory",children:a.jsxs(We,{children:[a.jsxs(Xe,{children:[a.jsx(Qe,{children:"Inventory Management"}),a.jsx(Dt,{children:"Track and update product inventory levels"})]}),a.jsx(Ke,{children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b",children:[a.jsx("th",{className:"text-left py-3 px-4",children:"ID"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Product"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Current Stock"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Low Stock Alert"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Status"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Actions"})]})}),a.jsx("tbody",{children:n.map(i=>a.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[a.jsx("td",{className:"py-3 px-4",children:i.id}),a.jsx("td",{className:"py-3 px-4",children:i.name}),a.jsx("td",{className:"py-3 px-4",children:i.inventory}),a.jsx("td",{className:"py-3 px-4",children:"10"}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${i.inventory>10?"bg-green-100 text-green-800":i.inventory>0?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:i.inventory>10?"In Stock":i.inventory>0?"Low Stock":"Out of Stock"})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx(te,{variant:"outline",size:"sm",children:"Update Stock"})})]},i.id))})]})})})]})}),a.jsx(Jt,{value:"collections",children:a.jsxs(We,{children:[a.jsxs(Xe,{className:"flex flex-row items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(Qe,{children:"Collections"}),a.jsx(Dt,{children:"Organize products into collections"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(te,{variant:"outline",children:[a.jsx(Z1,{className:"mr-2 h-4 w-4"}),"Create Manual Collection"]}),a.jsxs(te,{children:[a.jsx(Z1,{className:"mr-2 h-4 w-4"}),"Generate with AI"]})]})]}),a.jsx(Ke,{children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b",children:[a.jsx("th",{className:"text-left py-3 px-4",children:"ID"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Collection Name"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Products"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Type"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Status"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Actions"})]})}),a.jsx("tbody",{children:r.map(i=>a.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[a.jsx("td",{className:"py-3 px-4",children:i.id}),a.jsx("td",{className:"py-3 px-4",children:i.name}),a.jsx("td",{className:"py-3 px-4",children:i.products}),a.jsx("td",{className:"py-3 px-4",children:i.type}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${i.status==="Active"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:i.status})}),a.jsxs("td",{className:"py-3 px-4",children:[a.jsx(te,{variant:"outline",size:"sm",className:"mr-2",children:"Edit"}),a.jsx(te,{variant:"outline",size:"sm",children:"Delete"})]})]},i.id))})]})})})]})})]})]})},uSe=()=>{const t=[{id:"CUS-1234",name:"John Doe",email:"john.doe@example.com",orders:5,totalSpent:"$345.75",lastOrder:"2023-05-10",segment:"Loyal"},{id:"CUS-1235",name:"Jane Smith",email:"jane.smith@example.com",orders:2,totalSpent:"$129.50",lastOrder:"2023-04-22",segment:"New"},{id:"CUS-1236",name:"Robert Johnson",email:"robert.j@example.com",orders:8,totalSpent:"$780.25",lastOrder:"2023-05-15",segment:"VIP"}],e=[{id:"SEG-1",name:"New Customers",count:124,description:"Customers with 1-2 orders"},{id:"SEG-2",name:"Loyal Customers",count:86,description:"Customers with 3-7 orders"},{id:"SEG-3",name:"VIP Customers",count:32,description:"Customers with 8+ orders"}];return a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Customers"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:e.map(n=>a.jsxs(We,{children:[a.jsxs(Xe,{className:"pb-2",children:[a.jsx(Qe,{className:"text-lg",children:n.name}),a.jsx(Dt,{children:n.description})]}),a.jsxs(Ke,{children:[a.jsx("div",{className:"text-3xl font-bold",children:n.count}),a.jsx(te,{variant:"link",className:"p-0",children:"View customers"})]})]},n.id))}),a.jsxs(We,{className:"mb-6",children:[a.jsxs(Xe,{className:"flex flex-row items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(Qe,{children:"Customer Insights"}),a.jsx(Dt,{children:"AI-generated insights about your customer base"})]}),a.jsxs(te,{variant:"outline",children:[a.jsx(XX,{className:"mr-2 h-4 w-4"}),"Generate New Insights"]})]}),a.jsx(Ke,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg",children:[a.jsx("h3",{className:"font-medium mb-2",children:"Demographics"}),a.jsx("div",{className:"h-64 flex items-center justify-center bg-card rounded-md border",children:a.jsx("p",{className:"text-muted-foreground",children:"Demographics chart placeholder"})}),a.jsx("p",{className:"mt-3 text-sm text-muted-foreground",children:"Your customer base is primarily 25-34 years old (45%), followed by 35-44 years old (30%). The gender distribution is 55% female and 45% male."})]}),a.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg",children:[a.jsx("h3",{className:"font-medium mb-2",children:"Geographic Distribution"}),a.jsx("div",{className:"h-64 flex items-center justify-center bg-card rounded-md border",children:a.jsx("p",{className:"text-muted-foreground",children:"Geographic map placeholder"})}),a.jsx("p",{className:"mt-3 text-sm text-muted-foreground",children:"Most of your customers are from California (25%), New York (18%), and Texas (12%). International customers make up 15% of your customer base."})]})]})})]}),a.jsxs(We,{children:[a.jsxs(Xe,{className:"flex flex-row items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(Qe,{children:"All Customers"}),a.jsx(Dt,{children:"View and manage your customer database"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(te,{variant:"outline",children:[a.jsx(fg,{className:"mr-2 h-4 w-4"}),"Add Tags"]}),a.jsxs(te,{children:[a.jsx(j_,{className:"mr-2 h-4 w-4"}),"Create Segment"]})]})]}),a.jsxs(Ke,{children:[a.jsxs("div",{className:"mb-4 flex items-center",children:[a.jsx(ft,{placeholder:"Search customers...",className:"max-w-sm mr-2"}),a.jsx(te,{variant:"outline",children:"Search"})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b",children:[a.jsx("th",{className:"text-left py-3 px-4",children:"ID"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Name"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Email"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Orders"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Total Spent"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Last Order"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Segment"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Actions"})]})}),a.jsx("tbody",{children:t.map(n=>a.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[a.jsx("td",{className:"py-3 px-4",children:n.id}),a.jsx("td",{className:"py-3 px-4",children:n.name}),a.jsx("td",{className:"py-3 px-4",children:n.email}),a.jsx("td",{className:"py-3 px-4",children:n.orders}),a.jsx("td",{className:"py-3 px-4",children:n.totalSpent}),a.jsx("td",{className:"py-3 px-4",children:n.lastOrder}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${n.segment==="VIP"?"bg-purple-100 text-purple-800":n.segment==="Loyal"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:n.segment})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx(te,{variant:"outline",size:"sm",children:"View Profile"})})]},n.id))})]})})]})]})]})},dSe=()=>{const[t,e]=x.useState("transactions"),{session:n,user:r}=Is(),[i,s]=x.useState(!1),[o,l]=x.useState(null),u=async()=>{if(!(n!=null&&n.access_token)||!r){l("Authentication token not found. Please log in again.");return}s(!0),l(null);try{const g=await fetch("https://uwbrgokfgelgxeonoqah.supabase.co/functions/v1/create-stripe-connect-account",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n.access_token}`},body:JSON.stringify({record:{id:r.id,email:r.email}})}),y=await g.json();if(!g.ok){const b=y.error||y.data&&y.data.error||"Failed to create Stripe Connect account link.";throw new Error(b)}if(y.account_link_url)window.location.href=y.account_link_url;else if(y.url)window.location.href=y.url;else throw new Error("No URL returned from Stripe Connect account creation.")}catch(g){console.error("Stripe Connect account creation error:",g),l(g.message)}finally{s(!1)}},d=[{id:"TRX-1234",orderId:"ORD-1234",customer:"John Doe",date:"2023-05-15",amount:"$129.99",status:"Completed",method:"Credit Card"},{id:"TRX-1235",orderId:"ORD-1235",customer:"Jane Smith",date:"2023-05-14",amount:"$89.50",status:"Completed",method:"PayPal"},{id:"TRX-1236",orderId:"ORD-1236",customer:"Robert Johnson",date:"2023-05-13",amount:"$210.75",status:"Pending",method:"Credit Card"}],h=[{id:"PAY-567",date:"2023-05-15",amount:"$1,245.75",status:"Completed",destination:"Bank Account (****1234)"},{id:"PAY-568",date:"2023-05-01",amount:"$980.50",status:"Completed",destination:"Bank Account (****1234)"},{id:"PAY-569",scheduledDate:"2023-06-01",estimatedAmount:"$1,500.00",status:"Scheduled",destination:"Bank Account (****1234)"}],p=[{id:"DSP-890",transactionId:"TRX-1230",customer:"Sarah Wilson",date:"2023-05-10",amount:"$65.00",reason:"Item not received",status:"Under Review"},{id:"DSP-891",transactionId:"TRX-1228",customer:"David Miller",date:"2023-05-09",amount:"$120.50",reason:"Unauthorized charge",status:"Lost"}];return a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Payments & Payouts"}),a.jsxs(ks,{value:t,onValueChange:e,className:"w-full",children:[a.jsxs(fs,{className:"grid grid-cols-4 mb-6",children:[" ",a.jsxs(Yt,{value:"overview",children:[" ",a.jsx(Xb,{className:"mr-2 h-4 w-4"}),"Connect Account"]}),a.jsxs(Yt,{value:"transactions",children:[a.jsx(Es,{className:"mr-2 h-4 w-4"}),"Transactions"]}),a.jsxs(Yt,{value:"payouts",children:[a.jsx(E_,{className:"mr-2 h-4 w-4"}),"Payout Schedule"]}),a.jsxs(Yt,{value:"disputes",children:[a.jsx(w0,{className:"mr-2 h-4 w-4"}),"Disputes & Chargebacks"]})]}),a.jsxs(Jt,{value:"overview",children:[" ",a.jsxs(We,{children:[a.jsxs(Xe,{children:[a.jsx(Qe,{children:"Connect Stripe Account"}),a.jsx(Dt,{children:"Connect your Stripe account to start accepting payments and manage payouts."})]}),a.jsxs(Ke,{children:[a.jsxs(te,{onClick:u,disabled:i,children:[a.jsx(Xb,{className:"mr-2 h-4 w-4"}),i?"Connecting...":"Connect with Stripe"]}),o&&a.jsx("p",{className:"text-sm text-red-500 mt-2",children:o})]})]})]}),a.jsx(Jt,{value:"transactions",children:a.jsxs(We,{children:[a.jsxs(Xe,{children:[a.jsx(Qe,{children:"All Transactions"}),a.jsx(Dt,{children:"View all payment transactions"})]}),a.jsx(Ke,{children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b",children:[a.jsx("th",{className:"text-left py-3 px-4",children:"Transaction ID"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Order ID"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Customer"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Date"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Amount"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Method"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Status"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Actions"})]})}),a.jsx("tbody",{children:d.map(g=>a.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[a.jsx("td",{className:"py-3 px-4",children:g.id}),a.jsx("td",{className:"py-3 px-4",children:g.orderId}),a.jsx("td",{className:"py-3 px-4",children:g.customer}),a.jsx("td",{className:"py-3 px-4",children:g.date}),a.jsx("td",{className:"py-3 px-4",children:g.amount}),a.jsx("td",{className:"py-3 px-4",children:g.method}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${g.status==="Completed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:g.status})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx(te,{variant:"outline",size:"sm",children:"View Details"})})]},g.id))})]})})})]})}),a.jsx(Jt,{value:"payouts",children:a.jsxs(We,{className:"mb-6",children:[a.jsxs(Xe,{className:"flex flex-row items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(Qe,{children:"Payout Schedule"}),a.jsx(Dt,{children:"Manage your payout schedule and instant transfers"})]}),a.jsxs(te,{children:[a.jsx(Es,{className:"mr-2 h-4 w-4"}),"Instant Transfer"]})]}),a.jsxs(Ke,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[a.jsxs(We,{children:[a.jsx(Xe,{className:"pb-2",children:a.jsx(Qe,{className:"text-lg",children:"Current Balance"})}),a.jsxs(Ke,{children:[a.jsx("div",{className:"text-3xl font-bold",children:"$1,845.75"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Available for payout"})]})]}),a.jsxs(We,{children:[a.jsx(Xe,{className:"pb-2",children:a.jsx(Qe,{className:"text-lg",children:"Next Payout"})}),a.jsxs(Ke,{children:[a.jsx("div",{className:"text-3xl font-bold",children:"$1,500.00"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Scheduled for June 1, 2023"})]})]}),a.jsxs(We,{children:[a.jsx(Xe,{className:"pb-2",children:a.jsx(Qe,{className:"text-lg",children:"Payout Schedule"})}),a.jsxs(Ke,{children:[a.jsx("div",{className:"text-xl font-medium",children:"Monthly"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Every 1st of the month"}),a.jsx(te,{variant:"link",className:"p-0 mt-2",children:"Change schedule"})]})]})]}),a.jsxs("div",{className:"overflow-x-auto",children:[a.jsx("h3",{className:"font-medium mb-3",children:"Payout History"}),a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b",children:[a.jsx("th",{className:"text-left py-3 px-4",children:"Payout ID"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Date"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Amount"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Destination"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Status"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Actions"})]})}),a.jsx("tbody",{children:h.map(g=>a.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[a.jsx("td",{className:"py-3 px-4",children:g.id}),a.jsx("td",{className:"py-3 px-4",children:g.date||g.scheduledDate}),a.jsx("td",{className:"py-3 px-4",children:g.amount||g.estimatedAmount}),a.jsx("td",{className:"py-3 px-4",children:g.destination}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${g.status==="Completed"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:g.status})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx(te,{variant:"outline",size:"sm",children:"View Details"})})]},g.id))})]})]})]})]})}),a.jsx(Jt,{value:"disputes",children:a.jsxs(We,{children:[a.jsxs(Xe,{children:[a.jsx(Qe,{children:"Disputes & Chargebacks"}),a.jsx(Dt,{children:"Manage payment disputes and chargebacks"})]}),a.jsx(Ke,{children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b",children:[a.jsx("th",{className:"text-left py-3 px-4",children:"Dispute ID"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Transaction ID"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Customer"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Date"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Amount"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Reason"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Status"}),a.jsx("th",{className:"text-left py-3 px-4",children:"AI Analysis"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Actions"})]})}),a.jsx("tbody",{children:p.map(g=>a.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[a.jsx("td",{className:"py-3 px-4",children:g.id}),a.jsx("td",{className:"py-3 px-4",children:g.transactionId}),a.jsx("td",{className:"py-3 px-4",children:g.customer}),a.jsx("td",{className:"py-3 px-4",children:g.date}),a.jsx("td",{className:"py-3 px-4",children:g.amount}),a.jsx("td",{className:"py-3 px-4",children:g.reason}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${g.status==="Under Review"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:g.status})}),a.jsx("td",{className:"py-3 px-4",children:g.status==="Under Review"?a.jsx("span",{className:"px-2 py-1 rounded-full text-xs bg-green-100 text-green-800",children:"High chance of winning"}):a.jsx("span",{className:"px-2 py-1 rounded-full text-xs bg-red-100 text-red-800",children:"Insufficient evidence"})}),a.jsxs("td",{className:"py-3 px-4",children:[a.jsx(te,{variant:"outline",size:"sm",className:"mr-2",children:"View"}),g.status==="Under Review"&&a.jsx(te,{variant:"default",size:"sm",children:"Respond"})]})]},g.id))})]})})})]})})]})]})},fSe=()=>{const[t,e]=x.useState("sales");return a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Analytics & Reports"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[a.jsxs(We,{children:[a.jsx(Xe,{className:"pb-2",children:a.jsx(Qe,{className:"text-lg",children:"Total Sales"})}),a.jsxs(Ke,{children:[a.jsx("div",{className:"text-3xl font-bold",children:"$12,845.75"}),a.jsxs("p",{className:"text-sm text-green-600 flex items-center",children:[a.jsx(Jd,{className:"h-4 w-4 mr-1"})," +15% from last month"]})]})]}),a.jsxs(We,{children:[a.jsx(Xe,{className:"pb-2",children:a.jsx(Qe,{className:"text-lg",children:"Orders"})}),a.jsxs(Ke,{children:[a.jsx("div",{className:"text-3xl font-bold",children:"156"}),a.jsxs("p",{className:"text-sm text-green-600 flex items-center",children:[a.jsx(Jd,{className:"h-4 w-4 mr-1"})," +8% from last month"]})]})]}),a.jsxs(We,{children:[a.jsx(Xe,{className:"pb-2",children:a.jsx(Qe,{className:"text-lg",children:"Conversion Rate"})}),a.jsxs(Ke,{children:[a.jsx("div",{className:"text-3xl font-bold",children:"3.2%"}),a.jsxs("p",{className:"text-sm text-red-600 flex items-center",children:[a.jsx(Jd,{className:"h-4 w-4 mr-1"})," -0.5% from last month"]})]})]}),a.jsxs(We,{children:[a.jsx(Xe,{className:"pb-2",children:a.jsx(Qe,{className:"text-lg",children:"Avg. Order Value"})}),a.jsxs(Ke,{children:[a.jsx("div",{className:"text-3xl font-bold",children:"$82.34"}),a.jsxs("p",{className:"text-sm text-green-600 flex items-center",children:[a.jsx(Jd,{className:"h-4 w-4 mr-1"})," +5% from last month"]})]})]})]}),a.jsxs(ks,{value:t,onValueChange:e,className:"w-full",children:[a.jsxs(fs,{className:"grid grid-cols-5 mb-6",children:[a.jsxs(Yt,{value:"sales",children:[a.jsx(jv,{className:"mr-2 h-4 w-4"}),"Sales Reports"]}),a.jsxs(Yt,{value:"traffic",children:[a.jsx(Jd,{className:"mr-2 h-4 w-4"}),"Traffic & Conversion"]}),a.jsxs(Yt,{value:"customers",children:[a.jsx(j_,{className:"mr-2 h-4 w-4"}),"Customer Insights"]}),a.jsxs(Yt,{value:"marketing",children:[a.jsx(iQ,{className:"mr-2 h-4 w-4"}),"Marketing Attribution"]}),a.jsxs(Yt,{value:"products",children:[a.jsx(_a,{className:"mr-2 h-4 w-4"}),"Product Performance"]})]}),a.jsx(Jt,{value:"sales",children:a.jsxs(We,{children:[a.jsxs(Xe,{className:"flex flex-row items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(Qe,{children:"Sales Overview"}),a.jsx(Dt,{children:"Comprehensive sales data with AI summarization"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(te,{variant:"outline",children:"Export"}),a.jsx(te,{variant:"outline",children:"Print"})]})]}),a.jsxs(Ke,{children:[a.jsx("div",{className:"mb-6",children:a.jsx("div",{className:"h-80 flex items-center justify-center bg-muted rounded-md",children:a.jsx("p",{className:"text-muted-foreground",children:"Sales chart placeholder"})})}),a.jsxs(We,{className:"bg-muted/30",children:[a.jsx(Xe,{className:"pb-2",children:a.jsx(Qe,{className:"text-lg",children:"AI Sales Summary"})}),a.jsxs(Ke,{children:[a.jsxs("p",{className:"text-sm",children:[a.jsx("strong",{children:"Key Insights:"}),' Your sales have increased by 15% compared to last month, with the highest growth in the "Electronics" category (+24%). Weekend sales are particularly strong, accounting for 45% of your weekly revenue. The average order value has increased by 5%, indicating customers are purchasing higher-value items.']}),a.jsxs("p",{className:"text-sm mt-2",children:[a.jsx("strong",{children:"Recommendations:"}),' Consider running promotions on weekdays to boost sales during slower periods. The "Apparel" category has seen a slight decline (-3%) and may benefit from new product additions or targeted marketing.']})]})]})]})]})}),a.jsx(Jt,{value:"traffic",children:a.jsxs(We,{children:[a.jsxs(Xe,{children:[a.jsx(Qe,{children:"Traffic & Conversion Analysis"}),a.jsx(Dt,{children:"Website traffic sources and conversion rates"})]}),a.jsxs(Ke,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium mb-3",children:"Traffic Sources"}),a.jsx("div",{className:"h-64 flex items-center justify-center bg-muted rounded-md",children:a.jsx("p",{className:"text-muted-foreground",children:"Traffic sources chart placeholder"})})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium mb-3",children:"Conversion Funnel"}),a.jsx("div",{className:"h-64 flex items-center justify-center bg-muted rounded-md",children:a.jsx("p",{className:"text-muted-foreground",children:"Conversion funnel chart placeholder"})})]})]}),a.jsxs(We,{className:"bg-muted/30",children:[a.jsx(Xe,{className:"pb-2",children:a.jsx(Qe,{className:"text-lg",children:"AI Conversion Recommendations"})}),a.jsxs(Ke,{children:[a.jsx("p",{className:"text-sm",children:"Your current conversion rate of 3.2% is below the industry average of 4.5% for e-commerce stores in your category. The biggest drop-off occurs at the checkout page (45% abandonment rate)."}),a.jsx("p",{className:"text-sm mt-2",children:a.jsx("strong",{children:"Recommendations:"})}),a.jsxs("ul",{className:"text-sm list-disc pl-5 mt-1",children:[a.jsx("li",{children:"Simplify your checkout process by reducing the number of form fields"}),a.jsx("li",{children:"Add trust badges and security indicators near payment information"}),a.jsx("li",{children:"Implement exit-intent popups with discount offers to reduce cart abandonment"}),a.jsx("li",{children:"Optimize product page load times (currently averaging 3.2s, aim for under 2s)"})]})]})]})]})]})}),a.jsx(Jt,{value:"customers",children:a.jsxs(We,{children:[a.jsxs(Xe,{children:[a.jsx(Qe,{children:"Customer Insights"}),a.jsx(Dt,{children:"Detailed analysis of customer behavior and demographics"})]}),a.jsxs(Ke,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium mb-3",children:"Customer Demographics"}),a.jsx("div",{className:"h-64 flex items-center justify-center bg-muted rounded-md",children:a.jsx("p",{className:"text-muted-foreground",children:"Demographics chart placeholder"})})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium mb-3",children:"Purchase Frequency"}),a.jsx("div",{className:"h-64 flex items-center justify-center bg-muted rounded-md",children:a.jsx("p",{className:"text-muted-foreground",children:"Purchase frequency chart placeholder"})})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium mb-3",children:"Customer Lifetime Value"}),a.jsx("div",{className:"h-64 flex items-center justify-center bg-muted rounded-md",children:a.jsx("p",{className:"text-muted-foreground",children:"CLV chart placeholder"})})]})]}),a.jsxs(We,{className:"bg-muted/30",children:[a.jsx(Xe,{className:"pb-2",children:a.jsx(Qe,{className:"text-lg",children:"Customer Personas"})}),a.jsx(Ke,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-card p-3 rounded-md border",children:[a.jsx("h4",{className:"font-medium",children:"Tech-Savvy Millennials"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"25-34 years old, urban areas, high income"}),a.jsx("p",{className:"text-sm mt-2",children:"Prefer electronics and premium products, shop primarily on mobile devices"})]}),a.jsxs("div",{className:"bg-card p-3 rounded-md border",children:[a.jsx("h4",{className:"font-medium",children:"Budget-Conscious Families"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"35-44 years old, suburban areas, middle income"}),a.jsx("p",{className:"text-sm mt-2",children:"Focus on value, frequently use discount codes, buy in bulk"})]}),a.jsxs("div",{className:"bg-card p-3 rounded-md border",children:[a.jsx("h4",{className:"font-medium",children:"Luxury Shoppers"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"45-60 years old, various locations, high income"}),a.jsx("p",{className:"text-sm mt-2",children:"Purchase high-end products, less price sensitive, value quality and service"})]})]})})]})]})]})}),a.jsx(Jt,{value:"marketing",children:a.jsxs(We,{children:[a.jsxs(Xe,{children:[a.jsx(Qe,{children:"Marketing Attribution"}),a.jsx(Dt,{children:"Track the effectiveness of your marketing channels"})]}),a.jsxs(Ke,{children:[a.jsx("div",{className:"mb-6",children:a.jsx("div",{className:"h-80 flex items-center justify-center bg-muted rounded-md",children:a.jsx("p",{className:"text-muted-foreground",children:"Marketing attribution chart placeholder"})})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b",children:[a.jsx("th",{className:"text-left py-3 px-4",children:"Channel"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Sessions"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Conversions"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Conv. Rate"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Revenue"}),a.jsx("th",{className:"text-left py-3 px-4",children:"ROAS"})]})}),a.jsxs("tbody",{children:[a.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[a.jsx("td",{className:"py-3 px-4",children:"Organic Search"}),a.jsx("td",{className:"py-3 px-4",children:"2,456"}),a.jsx("td",{className:"py-3 px-4",children:"98"}),a.jsx("td",{className:"py-3 px-4",children:"4.0%"}),a.jsx("td",{className:"py-3 px-4",children:"$7,845.00"}),a.jsx("td",{className:"py-3 px-4",children:"N/A"})]}),a.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[a.jsx("td",{className:"py-3 px-4",children:"Paid Search"}),a.jsx("td",{className:"py-3 px-4",children:"1,245"}),a.jsx("td",{className:"py-3 px-4",children:"62"}),a.jsx("td",{className:"py-3 px-4",children:"5.0%"}),a.jsx("td",{className:"py-3 px-4",children:"$4,980.00"}),a.jsx("td",{className:"py-3 px-4",children:"3.2x"})]}),a.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[a.jsx("td",{className:"py-3 px-4",children:"Social Media"}),a.jsx("td",{className:"py-3 px-4",children:"3,120"}),a.jsx("td",{className:"py-3 px-4",children:"78"}),a.jsx("td",{className:"py-3 px-4",children:"2.5%"}),a.jsx("td",{className:"py-3 px-4",children:"$5,460.00"}),a.jsx("td",{className:"py-3 px-4",children:"2.8x"})]}),a.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[a.jsx("td",{className:"py-3 px-4",children:"Email Marketing"}),a.jsx("td",{className:"py-3 px-4",children:"980"}),a.jsx("td",{className:"py-3 px-4",children:"49"}),a.jsx("td",{className:"py-3 px-4",children:"5.0%"}),a.jsx("td",{className:"py-3 px-4",children:"$3,920.00"}),a.jsx("td",{className:"py-3 px-4",children:"4.5x"})]}),a.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[a.jsx("td",{className:"py-3 px-4",children:"Direct"}),a.jsx("td",{className:"py-3 px-4",children:"1,560"}),a.jsx("td",{className:"py-3 px-4",children:"47"}),a.jsx("td",{className:"py-3 px-4",children:"3.0%"}),a.jsx("td",{className:"py-3 px-4",children:"$3,760.00"}),a.jsx("td",{className:"py-3 px-4",children:"N/A"})]})]})]})})]})]})}),a.jsx(Jt,{value:"products",children:a.jsxs(We,{children:[a.jsxs(Xe,{children:[a.jsx(Qe,{children:"Product Performance"}),a.jsx(Dt,{children:"Detailed analysis of product sales and performance"})]}),a.jsxs(Ke,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium mb-3",children:"Top Selling Products"}),a.jsx("div",{className:"h-64 flex items-center justify-center bg-muted rounded-md",children:a.jsx("p",{className:"text-muted-foreground",children:"Top products chart placeholder"})})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium mb-3",children:"Product Category Performance"}),a.jsx("div",{className:"h-64 flex items-center justify-center bg-muted rounded-md",children:a.jsx("p",{className:"text-muted-foreground",children:"Category performance chart placeholder"})})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b",children:[a.jsx("th",{className:"text-left py-3 px-4",children:"Product"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Category"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Units Sold"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Revenue"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Profit Margin"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Return Rate"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Rating"})]})}),a.jsxs("tbody",{children:[a.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[a.jsx("td",{className:"py-3 px-4",children:"Premium T-Shirt"}),a.jsx("td",{className:"py-3 px-4",children:"Apparel"}),a.jsx("td",{className:"py-3 px-4",children:"245"}),a.jsx("td",{className:"py-3 px-4",children:"$7,345.55"}),a.jsx("td",{className:"py-3 px-4",children:"45%"}),a.jsx("td",{className:"py-3 px-4",children:"2.1%"}),a.jsx("td",{className:"py-3 px-4",children:"4.8/5"})]}),a.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[a.jsx("td",{className:"py-3 px-4",children:"Wireless Headphones"}),a.jsx("td",{className:"py-3 px-4",children:"Electronics"}),a.jsx("td",{className:"py-3 px-4",children:"124"}),a.jsx("td",{className:"py-3 px-4",children:"$11,098.00"}),a.jsx("td",{className:"py-3 px-4",children:"32%"}),a.jsx("td",{className:"py-3 px-4",children:"3.5%"}),a.jsx("td",{className:"py-3 px-4",children:"4.6/5"})]}),a.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[a.jsx("td",{className:"py-3 px-4",children:"Leather Wallet"}),a.jsx("td",{className:"py-3 px-4",children:"Accessories"}),a.jsx("td",{className:"py-3 px-4",children:"98"}),a.jsx("td",{className:"py-3 px-4",children:"$4,899.02"}),a.jsx("td",{className:"py-3 px-4",children:"55%"}),a.jsx("td",{className:"py-3 px-4",children:"1.2%"}),a.jsx("td",{className:"py-3 px-4",children:"4.9/5"})]})]})]})})]})]})})]})]})},hSe=()=>{const[t,e]=x.useState("email"),n=[{id:"EM-1234",name:"Summer Sale Announcement",status:"Sent",sentDate:"2023-05-15",opens:1245,clicks:356,conversions:28,revenue:"$2,450"},{id:"EM-1235",name:"New Product Launch",status:"Draft",lastEdited:"2023-05-14"},{id:"EM-1236",name:"Customer Feedback Request",status:"Scheduled",scheduledDate:"2023-05-20"},{id:"EM-1237",name:"Abandoned Cart Recovery",status:"Sent",sentDate:"2023-05-12",opens:876,clicks:234,conversions:15,revenue:"$1,280"}],r=[{id:"SM-567",platform:"Instagram",content:"Summer collection now available!",status:"Published",publishDate:"2023-05-15",engagement:245,likes:189,comments:32},{id:"SM-568",platform:"Facebook",content:"Limited time offer: 20% off all accessories",status:"Scheduled",scheduledDate:"2023-05-18"},{id:"SM-569",platform:"Twitter",content:"Flash sale today only! Use code FLASH25",status:"Published",publishDate:"2023-05-14",engagement:178,likes:45,comments:12},{id:"SM-570",platform:"TikTok",content:"Behind the scenes of our latest photoshoot",status:"Draft",lastEdited:"2023-05-16"}],i=[{id:"BLG-890",title:"10 Summer Fashion Trends",status:"Published",publishDate:"2023-05-10",views:1245,comments:23,shares:56},{id:"BLG-891",title:"How to Choose the Perfect Headphones",status:"Draft",lastEdited:"2023-05-14"},{id:"BLG-892",title:"Sustainable Fashion: Our Commitment",status:"Published",publishDate:"2023-05-05",views:980,comments:18,shares:42},{id:"BLG-893",title:"Gift Guide: Father's Day Edition",status:"Scheduled",scheduledDate:"2023-05-25"}],s=[{id:"PROMO-123",name:"Summer Sale",type:"Discount",value:"20% off",status:"Active",startDate:"2023-05-01",endDate:"2023-05-31",usageCount:245},{id:"PROMO-124",name:"Free Shipping",type:"Free Shipping",value:"Orders over $50",status:"Active",startDate:"2023-05-01",endDate:"2023-06-30",usageCount:189},{id:"PROMO-125",name:"WELCOME10",type:"Discount",value:"10% off first order",status:"Active",startDate:"2023-01-01",endDate:"2023-12-31",usageCount:567},{id:"PROMO-126",name:"Holiday Bundle",type:"Bundle",value:"Buy 2 Get 1 Free",status:"Draft",startDate:"2023-11-15",endDate:"2023-12-25"}];return a.jsxs("div",{className:"bg-background",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Marketing"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(te,{variant:"outline",size:"sm",children:[a.jsx(E_,{className:"h-4 w-4 mr-2"}),"Content Calendar"]}),a.jsxs(te,{size:"sm",children:[a.jsx(Zb,{className:"h-4 w-4 mr-2"}),"Create Campaign"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[a.jsxs(We,{children:[a.jsx(Xe,{className:"pb-2",children:a.jsx(Qe,{className:"text-lg",children:"Email Performance"})}),a.jsxs(Ke,{children:[a.jsx("div",{className:"text-3xl font-bold",children:"24.5%"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Average open rate"}),a.jsx("p",{className:"text-sm text-green-600 mt-2",children:"+2.3% from last month"})]})]}),a.jsxs(We,{children:[a.jsx(Xe,{className:"pb-2",children:a.jsx(Qe,{className:"text-lg",children:"Social Engagement"})}),a.jsxs(Ke,{children:[a.jsx("div",{className:"text-3xl font-bold",children:"1,245"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total interactions"}),a.jsx("p",{className:"text-sm text-green-600 mt-2",children:"+15% from last month"})]})]}),a.jsxs(We,{children:[a.jsx(Xe,{className:"pb-2",children:a.jsx(Qe,{className:"text-lg",children:"Blog Traffic"})}),a.jsxs(Ke,{children:[a.jsx("div",{className:"text-3xl font-bold",children:"3,890"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Monthly page views"}),a.jsx("p",{className:"text-sm text-green-600 mt-2",children:"+8% from last month"})]})]}),a.jsxs(We,{children:[a.jsx(Xe,{className:"pb-2",children:a.jsx(Qe,{className:"text-lg",children:"Promo Conversions"})}),a.jsxs(Ke,{children:[a.jsx("div",{className:"text-3xl font-bold",children:"12.8%"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Conversion rate"}),a.jsx("p",{className:"text-sm text-red-600 mt-2",children:"-1.2% from last month"})]})]})]}),a.jsxs(ks,{value:t,onValueChange:e,className:"w-full",children:[a.jsxs(fs,{className:"grid grid-cols-5 mb-6",children:[a.jsxs(Yt,{value:"email",children:[a.jsx(gu,{className:"mr-2 h-4 w-4"}),"Email Campaigns"]}),a.jsxs(Yt,{value:"social",children:[a.jsx(uv,{className:"mr-2 h-4 w-4"}),"Social Media"]}),a.jsxs(Yt,{value:"seo",children:[a.jsx(dg,{className:"mr-2 h-4 w-4"}),"SEO Tools"]}),a.jsxs(Yt,{value:"blog",children:[a.jsx(lr,{className:"mr-2 h-4 w-4"}),"Blog"]}),a.jsxs(Yt,{value:"promotions",children:[a.jsx(fg,{className:"mr-2 h-4 w-4"}),"Promotions"]})]}),a.jsx(Jt,{value:"email",children:a.jsxs(We,{children:[a.jsxs(Xe,{className:"flex flex-row items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(Qe,{children:"Email Campaigns"}),a.jsx(Dt,{children:"Create and manage email marketing campaigns"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(te,{variant:"outline",children:[a.jsx(gu,{className:"mr-2 h-4 w-4"}),"Import Template"]}),a.jsxs(te,{children:[a.jsx(gu,{className:"mr-2 h-4 w-4"}),"Create Campaign"]})]})]}),a.jsxs(Ke,{children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b",children:[a.jsx("th",{className:"text-left py-3 px-4",children:"Campaign Name"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Status"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Date"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Opens"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Clicks"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Conversions"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Revenue"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Actions"})]})}),a.jsx("tbody",{children:n.map(o=>a.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[a.jsx("td",{className:"py-3 px-4",children:o.name}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${o.status==="Sent"?"bg-green-100 text-green-800":o.status==="Draft"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:o.status})}),a.jsx("td",{className:"py-3 px-4",children:o.sentDate||o.lastEdited||o.scheduledDate}),a.jsx("td",{className:"py-3 px-4",children:o.opens||"-"}),a.jsx("td",{className:"py-3 px-4",children:o.clicks||"-"}),a.jsx("td",{className:"py-3 px-4",children:o.conversions||"-"}),a.jsx("td",{className:"py-3 px-4",children:o.revenue||"-"}),a.jsxs("td",{className:"py-3 px-4",children:[a.jsx(te,{variant:"outline",size:"sm",className:"mr-2",children:"View"}),o.status!=="Sent"&&a.jsx(te,{variant:"outline",size:"sm",children:"Edit"})]})]},o.id))})]})}),a.jsxs("div",{className:"mt-6 p-4 bg-muted/30 rounded-lg",children:[a.jsx("h3",{className:"font-medium mb-2",children:"AI Email Generator"}),a.jsx("p",{className:"text-sm mb-4",children:"Generate professional marketing emails with AI, including copy and layout suggestions."}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(te,{children:[a.jsx(gu,{className:"mr-2 h-4 w-4"}),"Generate New Email"]}),a.jsxs(te,{variant:"outline",children:[a.jsx(jv,{className:"mr-2 h-4 w-4"}),"A/B Test Generator"]})]})]})]})]})}),a.jsx(Jt,{value:"social",children:a.jsxs(We,{children:[a.jsxs(Xe,{className:"flex flex-row items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(Qe,{children:"Social Media Campaigns"}),a.jsx(Dt,{children:"Create and schedule social media content"})]}),a.jsxs(te,{children:[a.jsx(uv,{className:"mr-2 h-4 w-4"}),"Create Post"]})]}),a.jsxs(Ke,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium mb-3",children:"Content Calendar"}),a.jsx("div",{className:"h-64 flex items-center justify-center bg-muted rounded-md border",children:a.jsx("p",{className:"text-muted-foreground",children:"Content calendar placeholder"})})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium mb-3",children:"Platform Performance"}),a.jsx("div",{className:"h-64 flex items-center justify-center bg-muted rounded-md border",children:a.jsx("p",{className:"text-muted-foreground",children:"Performance chart placeholder"})})]})]}),a.jsxs("div",{className:"overflow-x-auto",children:[a.jsx("h3",{className:"font-medium mb-3",children:"Recent Posts"}),a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b",children:[a.jsx("th",{className:"text-left py-3 px-4",children:"Platform"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Content"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Status"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Date"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Engagement"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Likes"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Comments"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Actions"})]})}),a.jsx("tbody",{children:r.map(o=>a.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[a.jsx("td",{className:"py-3 px-4",children:o.platform}),a.jsx("td",{className:"py-3 px-4",children:o.content}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${o.status==="Published"?"bg-green-100 text-green-800":o.status==="Draft"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:o.status})}),a.jsx("td",{className:"py-3 px-4",children:o.publishDate||o.scheduledDate||o.lastEdited}),a.jsx("td",{className:"py-3 px-4",children:o.engagement||"-"}),a.jsx("td",{className:"py-3 px-4",children:o.likes||"-"}),a.jsx("td",{className:"py-3 px-4",children:o.comments||"-"}),a.jsxs("td",{className:"py-3 px-4",children:[a.jsx(te,{variant:"outline",size:"sm",className:"mr-2",children:"View"}),o.status!=="Published"&&a.jsx(te,{variant:"outline",size:"sm",children:"Edit"})]})]},o.id))})]})]}),a.jsxs("div",{className:"mt-6 p-4 bg-muted/30 rounded-lg",children:[a.jsx("h3",{className:"font-medium mb-2",children:"AI Content Generator"}),a.jsx("p",{className:"text-sm mb-4",children:"Transform product images into engaging social media content with AI."}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(te,{children:[a.jsx(uv,{className:"mr-2 h-4 w-4"}),"Generate Social Media Images"]}),a.jsxs(te,{variant:"outline",children:[a.jsx(lr,{className:"mr-2 h-4 w-4"}),"Generate Caption Ideas"]})]})]})]})]})}),a.jsx(Jt,{value:"seo",children:a.jsxs(We,{children:[a.jsxs(Xe,{children:[a.jsx(Qe,{children:"SEO Tools"}),a.jsx(Dt,{children:"Optimize your store for search engines"})]}),a.jsxs(Ke,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[a.jsxs(We,{children:[a.jsx(Xe,{className:"pb-2",children:a.jsx(Qe,{className:"text-lg",children:"Keyword Research"})}),a.jsxs(Ke,{children:[a.jsxs("div",{className:"mb-4 flex gap-2",children:[a.jsx(ft,{placeholder:"Enter a keyword to research...",className:"flex-1"}),a.jsxs(te,{children:[a.jsx(dg,{className:"mr-2 h-4 w-4"}),"Analyze"]})]}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Recent searches: wireless headphones, premium t-shirts, leather wallet"})]})]}),a.jsxs(We,{children:[a.jsx(Xe,{className:"pb-2",children:a.jsx(Qe,{className:"text-lg",children:"SEO Performance"})}),a.jsx(Ke,{children:a.jsx("div",{className:"h-40 flex items-center justify-center bg-muted rounded-md",children:a.jsx("p",{className:"text-muted-foreground",children:"SEO performance chart placeholder"})})})]})]}),a.jsxs("div",{className:"mt-6",children:[a.jsx("h3",{className:"font-medium mb-3",children:"Top Keywords"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b",children:[a.jsx("th",{className:"text-left py-3 px-4",children:"Keyword"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Search Volume"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Difficulty"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Current Ranking"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Traffic"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Actions"})]})}),a.jsxs("tbody",{children:[a.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[a.jsx("td",{className:"py-3 px-4",children:"wireless headphones"}),a.jsx("td",{className:"py-3 px-4",children:"12,400"}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:"px-2 py-1 rounded-full text-xs bg-yellow-100 text-yellow-800",children:"Medium"})}),a.jsx("td",{className:"py-3 px-4",children:"#8"}),a.jsx("td",{className:"py-3 px-4",children:"245"}),a.jsx("td",{className:"py-3 px-4",children:a.jsx(te,{variant:"outline",size:"sm",children:"Optimize"})})]}),a.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[a.jsx("td",{className:"py-3 px-4",children:"premium t-shirts"}),a.jsx("td",{className:"py-3 px-4",children:"5,800"}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:"px-2 py-1 rounded-full text-xs bg-green-100 text-green-800",children:"Low"})}),a.jsx("td",{className:"py-3 px-4",children:"#3"}),a.jsx("td",{className:"py-3 px-4",children:"320"}),a.jsx("td",{className:"py-3 px-4",children:a.jsx(te,{variant:"outline",size:"sm",children:"Optimize"})})]}),a.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[a.jsx("td",{className:"py-3 px-4",children:"leather wallet men"}),a.jsx("td",{className:"py-3 px-4",children:"8,200"}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:"px-2 py-1 rounded-full text-xs bg-red-100 text-red-800",children:"High"})}),a.jsx("td",{className:"py-3 px-4",children:"#15"}),a.jsx("td",{className:"py-3 px-4",children:"98"}),a.jsx("td",{className:"py-3 px-4",children:a.jsx(te,{variant:"outline",size:"sm",children:"Optimize"})})]})]})]})})]}),a.jsxs("div",{className:"mt-6 p-4 bg-muted/30 rounded-lg",children:[a.jsx("h3",{className:"font-medium mb-2",children:"AI Content Optimizer"}),a.jsx("p",{className:"text-sm mb-4",children:"Generate SEO-optimized content for your product pages and blog posts."}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(te,{children:[a.jsx(lr,{className:"mr-2 h-4 w-4"}),"Generate SEO Content"]}),a.jsxs(te,{variant:"outline",children:[a.jsx(dg,{className:"mr-2 h-4 w-4"}),"Analyze Page SEO"]})]})]})]})]})}),a.jsx(Jt,{value:"blog",children:a.jsxs(We,{children:[a.jsxs(Xe,{className:"flex flex-row items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(Qe,{children:"Blog"}),a.jsx(Dt,{children:"Create and manage blog content"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(te,{variant:"outline",children:[a.jsx(lr,{className:"mr-2 h-4 w-4"}),"Import Article"]}),a.jsxs(te,{children:[a.jsx(lr,{className:"mr-2 h-4 w-4"}),"Create New Post"]})]})]}),a.jsxs(Ke,{children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b",children:[a.jsx("th",{className:"text-left py-3 px-4",children:"Title"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Status"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Date"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Views"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Comments"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Shares"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Actions"})]})}),a.jsx("tbody",{children:i.map(o=>a.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[a.jsx("td",{className:"py-3 px-4",children:o.title}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${o.status==="Published"?"bg-green-100 text-green-800":o.status==="Draft"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:o.status})}),a.jsx("td",{className:"py-3 px-4",children:o.publishDate||o.lastEdited||o.scheduledDate}),a.jsx("td",{className:"py-3 px-4",children:o.views||"-"}),a.jsx("td",{className:"py-3 px-4",children:o.comments||"-"}),a.jsx("td",{className:"py-3 px-4",children:o.shares||"-"}),a.jsxs("td",{className:"py-3 px-4",children:[a.jsx(te,{variant:"outline",size:"sm",className:"mr-2",children:"View"}),a.jsx(te,{variant:"outline",size:"sm",children:"Edit"})]})]},o.id))})]})}),a.jsxs("div",{className:"mt-6 p-4 bg-muted/30 rounded-lg",children:[a.jsx("h3",{className:"font-medium mb-2",children:"AI Blog Generator"}),a.jsx("p",{className:"text-sm mb-4",children:"Generate engaging blog content with AI based on your products and target audience."}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(te,{children:[a.jsx(lr,{className:"mr-2 h-4 w-4"}),"Generate Blog Post"]}),a.jsxs(te,{variant:"outline",children:[a.jsx(lr,{className:"mr-2 h-4 w-4"}),"Generate Topic Ideas"]})]})]})]})]})}),a.jsx(Jt,{value:"promotions",children:a.jsxs(We,{children:[a.jsxs(Xe,{className:"flex flex-row items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(Qe,{children:"Promotions"}),a.jsx(Dt,{children:"Create and manage promotional campaigns"})]}),a.jsxs(te,{children:[a.jsx(fg,{className:"mr-2 h-4 w-4"}),"Create Promotion"]})]}),a.jsxs(Ke,{children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b",children:[a.jsx("th",{className:"text-left py-3 px-4",children:"Name"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Type"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Value"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Status"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Start Date"}),a.jsx("th",{className:"text-left py-3 px-4",children:"End Date"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Usage"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Actions"})]})}),a.jsx("tbody",{children:s.map(o=>a.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[a.jsx("td",{className:"py-3 px-4",children:o.name}),a.jsx("td",{className:"py-3 px-4",children:o.type}),a.jsx("td",{className:"py-3 px-4",children:o.value}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${o.status==="Active"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:o.status})}),a.jsx("td",{className:"py-3 px-4",children:o.startDate}),a.jsx("td",{className:"py-3 px-4",children:o.endDate}),a.jsx("td",{className:"py-3 px-4",children:o.usageCount||"-"}),a.jsxs("td",{className:"py-3 px-4",children:[a.jsx(te,{variant:"outline",size:"sm",className:"mr-2",children:"View"}),a.jsx(te,{variant:"outline",size:"sm",children:"Edit"})]})]},o.id))})]})}),a.jsxs("div",{className:"mt-6 p-4 bg-muted/30 rounded-lg",children:[a.jsx("h3",{className:"font-medium mb-2",children:"AI Promotion Optimizer"}),a.jsx("p",{className:"text-sm mb-4",children:"Get AI recommendations for optimal discount levels and promotion timing based on your sales data."}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(te,{children:[a.jsx(fg,{className:"mr-2 h-4 w-4"}),"Generate Promotion Strategy"]}),a.jsxs(te,{variant:"outline",children:[a.jsx(jv,{className:"mr-2 h-4 w-4"}),"Analyze Past Promotions"]})]})]})]})]})})]})]})},pSe=()=>{const[t,e]=x.useState("rates"),n=[{id:"ZONE-1",name:"Domestic",countries:["United States"],methods:[{name:"Standard",price:"$5.99",deliveryTime:"3-5 business days"},{name:"Express",price:"$12.99",deliveryTime:"1-2 business days"}]},{id:"ZONE-2",name:"Canada & Mexico",countries:["Canada","Mexico"],methods:[{name:"Standard",price:"$9.99",deliveryTime:"5-7 business days"},{name:"Express",price:"$19.99",deliveryTime:"2-3 business days"}]},{id:"ZONE-3",name:"International",countries:["Rest of World"],methods:[{name:"Standard",price:"$14.99",deliveryTime:"7-14 business days"},{name:"Express",price:"$29.99",deliveryTime:"3-5 business days"}]}],r=[{id:"SUP-1",name:"GlobalDropship Inc.",products:245,avgShippingTime:"4-7 days",status:"Connected"},{id:"SUP-2",name:"FastShip Solutions",products:189,avgShippingTime:"3-5 days",status:"Pending"},{id:"SUP-3",name:"EcoPackaging Co.",products:78,avgShippingTime:"5-8 days",status:"Connected"}];return a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Shipping & Delivery"}),a.jsxs(ks,{value:t,onValueChange:e,className:"w-full",children:[a.jsxs(fs,{className:"grid grid-cols-3 mb-6",children:[a.jsxs(Yt,{value:"rates",children:[a.jsx(yO,{className:"mr-2 h-4 w-4"}),"Shipping Rates"]}),a.jsxs(Yt,{value:"dropshipping",children:[a.jsx(_u,{className:"mr-2 h-4 w-4"}),"Dropshipping"]}),a.jsxs(Yt,{value:"policy",children:[a.jsx(lr,{className:"mr-2 h-4 w-4"}),"Shipping Policy"]})]}),a.jsx(Jt,{value:"rates",children:a.jsxs(We,{children:[a.jsxs(Xe,{className:"flex flex-row items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(Qe,{children:"Shipping Zones & Rates"}),a.jsx(Dt,{children:"Configure shipping rates by zone and package type"})]}),a.jsxs(te,{children:[a.jsx(_u,{className:"mr-2 h-4 w-4"}),"Add Shipping Zone"]})]}),a.jsxs(Ke,{children:[n.map(i=>a.jsxs(We,{className:"mb-6",children:[a.jsxs(Xe,{className:"pb-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx(Qe,{className:"text-lg",children:i.name}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(te,{variant:"outline",size:"sm",children:"Edit"}),a.jsx(te,{variant:"outline",size:"sm",children:"Delete"})]})]}),a.jsxs(Dt,{children:["Countries: ",i.countries.join(", ")]})]}),a.jsxs(Ke,{children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b",children:[a.jsx("th",{className:"text-left py-3 px-4",children:"Method"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Price"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Delivery Time"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Actions"})]})}),a.jsx("tbody",{children:i.methods.map((s,o)=>a.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[a.jsx("td",{className:"py-3 px-4",children:s.name}),a.jsx("td",{className:"py-3 px-4",children:s.price}),a.jsx("td",{className:"py-3 px-4",children:s.deliveryTime}),a.jsxs("td",{className:"py-3 px-4",children:[a.jsx(te,{variant:"outline",size:"sm",className:"mr-2",children:"Edit"}),a.jsx(te,{variant:"outline",size:"sm",children:"Delete"})]})]},o))})]})}),a.jsxs(te,{variant:"outline",size:"sm",className:"mt-4",children:[a.jsx(_a,{className:"mr-2 h-4 w-4"}),"Add Shipping Method"]})]})]},i.id)),a.jsxs("div",{className:"mt-6 p-4 bg-muted/30 rounded-lg",children:[a.jsx("h3",{className:"font-medium mb-2",children:"Package Types"}),a.jsx("p",{className:"text-sm mb-4",children:"Define standard package types to calculate shipping rates accurately."}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[a.jsxs("div",{className:"p-3 border rounded-md",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h4",{className:"font-medium",children:"Small Package"}),a.jsx(te,{variant:"ghost",size:"sm",children:"Edit"})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:'Up to 1 lb, 9" x 6" x 2"'})]}),a.jsxs("div",{className:"p-3 border rounded-md",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h4",{className:"font-medium",children:"Medium Package"}),a.jsx(te,{variant:"ghost",size:"sm",children:"Edit"})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:'Up to 5 lbs, 12" x 9" x 4"'})]}),a.jsxs("div",{className:"p-3 border rounded-md",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h4",{className:"font-medium",children:"Large Package"}),a.jsx(te,{variant:"ghost",size:"sm",children:"Edit"})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:'Up to 10 lbs, 18" x 12" x 6"'})]})]}),a.jsxs(te,{variant:"outline",size:"sm",children:[a.jsx(_a,{className:"mr-2 h-4 w-4"}),"Add Package Type"]})]})]})]})}),a.jsx(Jt,{value:"dropshipping",children:a.jsxs(We,{children:[a.jsxs(Xe,{children:[a.jsx(Qe,{children:"Dropshipping Integration"}),a.jsx(Dt,{children:"Connect with dropshipping suppliers and manage fulfillment"})]}),a.jsxs(Ke,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[a.jsxs(We,{children:[a.jsx(Xe,{className:"pb-2",children:a.jsx(Qe,{className:"text-lg",children:"Fulfillment Mode"})}),a.jsxs(Ke,{children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(te,{variant:"outline",className:"flex-1",children:"Self-Fulfillment"}),a.jsx(te,{variant:"default",className:"flex-1",children:"Dropshipping"}),a.jsx(te,{variant:"outline",className:"flex-1",children:"Hybrid"})]}),a.jsxs("p",{className:"text-sm text-muted-foreground mt-4",children:["Current mode: ",a.jsx("strong",{children:"Dropshipping"}),". Products will be shipped directly from suppliers to customers."]})]})]}),a.jsxs(We,{children:[a.jsx(Xe,{className:"pb-2",children:a.jsx(Qe,{className:"text-lg",children:"Connect Supplier"})}),a.jsxs(Ke,{children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ft,{placeholder:"Enter supplier API key or ID",className:"flex-1"}),a.jsxs(te,{children:[a.jsx(_u,{className:"mr-2 h-4 w-4"}),"Connect"]})]}),a.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"We support direct integration with AliExpress, Spocket, Oberlo, and more."})]})]})]}),a.jsx("h3",{className:"font-medium mb-3",children:"Connected Suppliers"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b",children:[a.jsx("th",{className:"text-left py-3 px-4",children:"Supplier"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Products"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Avg. Shipping Time"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Status"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Actions"})]})}),a.jsx("tbody",{children:r.map(i=>a.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[a.jsx("td",{className:"py-3 px-4",children:i.name}),a.jsx("td",{className:"py-3 px-4",children:i.products}),a.jsx("td",{className:"py-3 px-4",children:i.avgShippingTime}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${i.status==="Connected"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:i.status})}),a.jsxs("td",{className:"py-3 px-4",children:[a.jsx(te,{variant:"outline",size:"sm",className:"mr-2",children:"View Products"}),a.jsx(te,{variant:"outline",size:"sm",children:"Disconnect"})]})]},i.id))})]})}),a.jsxs("div",{className:"mt-6 p-4 bg-muted/30 rounded-lg",children:[a.jsx("h3",{className:"font-medium mb-2",children:"Automatic Order Routing"}),a.jsx("p",{className:"text-sm mb-4",children:"Configure how orders are routed to different suppliers based on product, location, or other criteria."}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(te,{children:[a.jsx(Av,{className:"mr-2 h-4 w-4"}),"Configure Routing Rules"]}),a.jsxs(te,{variant:"outline",children:[a.jsx(_a,{className:"mr-2 h-4 w-4"}),"View Order Queue"]})]})]})]})]})}),a.jsx(Jt,{value:"policy",children:a.jsxs(We,{children:[a.jsxs(Xe,{children:[a.jsx(Qe,{children:"Shipping Policy & Returns"}),a.jsx(Dt,{children:"Configure your shipping policy and return management settings"})]}),a.jsxs(Ke,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium mb-3",children:"Shipping Policy"}),a.jsx("div",{className:"border rounded-md p-4 h-64 overflow-y-auto",children:a.jsxs("div",{className:"prose prose-sm max-w-none",children:[a.jsx("h4",{children:"Shipping Policy"}),a.jsx("p",{children:"We ship to all 50 US states and select international destinations. Orders are typically processed within 1-2 business days."}),a.jsx("h5",{children:"Domestic Shipping"}),a.jsxs("p",{children:["Standard shipping (3-5 business days): $5.99",a.jsx("br",{}),"Express shipping (1-2 business days): $12.99"]}),a.jsx("h5",{children:"International Shipping"}),a.jsxs("p",{children:["Standard shipping (7-14 business days): $14.99",a.jsx("br",{}),"Express shipping (3-5 business days): $29.99"]}),a.jsx("p",{children:"Free shipping on all domestic orders over $50. Shipping times may vary during peak seasons and holidays."})]})}),a.jsxs(te,{className:"mt-4",children:[a.jsx(lr,{className:"mr-2 h-4 w-4"}),"Edit Shipping Policy"]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium mb-3",children:"Return Policy"}),a.jsx("div",{className:"border rounded-md p-4 h-64 overflow-y-auto",children:a.jsxs("div",{className:"prose prose-sm max-w-none",children:[a.jsx("h4",{children:"Return Policy"}),a.jsx("p",{children:"We offer a 30-day return policy for most items. To be eligible for a return, your item must be unused and in the same condition that you received it."}),a.jsx("h5",{children:"Return Process"}),a.jsxs("p",{children:["1. Contact our customer service team",a.jsx("br",{}),"2. Receive a Return Merchandise Authorization (RMA) number",a.jsx("br",{}),"3. Ship the item back with the RMA number clearly marked",a.jsx("br",{}),"4. Once received, we will process your refund within 5-7 business days"]}),a.jsx("h5",{children:"Exceptions"}),a.jsxs("p",{children:["Certain items cannot be returned, including:",a.jsx("br",{}),"- Personalized or custom-made products",a.jsx("br",{}),"- Digital downloads",a.jsx("br",{}),"- Gift cards"]})]})}),a.jsxs(te,{className:"mt-4",children:[a.jsx(lr,{className:"mr-2 h-4 w-4"}),"Edit Return Policy"]})]})]}),a.jsxs("div",{className:"mt-6 p-4 bg-muted/30 rounded-lg",children:[a.jsx("h3",{className:"font-medium mb-2",children:"Return Management"}),a.jsx("p",{className:"text-sm mb-4",children:"Configure how returns are processed and managed."}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium mb-2",children:"Return Window"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ft,{type:"number",defaultValue:"30",className:"w-20"}),a.jsx("span",{className:"text-sm",children:"days after delivery"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium mb-2",children:"Restocking Fee"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ft,{type:"number",defaultValue:"10",className:"w-20"}),a.jsx("span",{className:"text-sm",children:"% of item price"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium mb-2",children:"Return Labels"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(te,{variant:"outline",size:"sm",children:"Customer Pays"}),a.jsx(te,{variant:"default",size:"sm",children:"Store Provides"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium mb-2",children:"Refund Method"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(te,{variant:"default",size:"sm",children:"Original Payment"}),a.jsx(te,{variant:"outline",size:"sm",children:"Store Credit"})]})]})]}),a.jsxs(te,{className:"mt-4",children:[a.jsx(Av,{className:"mr-2 h-4 w-4"}),"Save Return Settings"]})]})]})]})})]})]})},mSe=({store:t})=>{var P,E,j,R;const[e,n]=x.useState("store"),{user:r,session:i,subscriptionStatus:s}=Is(),{updateStore:o,isLoadingStores:l}=Zn(),[u,d]=x.useState(!1),[h,p]=x.useState(null),[g,y]=x.useState(!1),b=s==="active",C=async()=>{if(!(i!=null&&i.access_token)){p("Authentication token not found. Please log in again.");return}d(!0),p(null);try{const I=await fetch("https://uwbrgokfgelgxeonoqah.supabase.co/functions/v1/create-portal-session",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i.access_token}`}}),M=await I.json();if(!I.ok)throw new Error(M.error||"Failed to create portal session.");window.location.href=M.url}catch(I){console.error("Portal session error:",I),p(I.message)}finally{d(!1)}},_=()=>{var M;const I=((M=r==null?void 0:r.store)==null?void 0:M.subdomain)||"your-store";navigator.clipboard.writeText(`${I}.storegen.app`),y(!0),setTimeout(()=>y(!1),2e3)};return a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Settings"}),a.jsxs(ks,{value:e,onValueChange:n,className:"w-full",children:[a.jsxs(fs,{className:"grid grid-cols-5 mb-6",children:[a.jsxs(Yt,{value:"store",children:[a.jsx(kv,{className:"mr-2 h-4 w-4"}),"Store Details"]}),a.jsxs(Yt,{value:"billing",children:[a.jsx(Es,{className:"mr-2 h-4 w-4"}),"Billing"]}),a.jsxs(Yt,{value:"domain",children:[a.jsx(_u,{className:"mr-2 h-4 w-4"}),"Domain Management"]}),a.jsxs(Yt,{value:"legal",children:[a.jsx(lr,{className:"mr-2 h-4 w-4"}),"Legal Pages"]}),a.jsxs(Yt,{value:"footer",children:[a.jsx(lr,{className:"mr-2 h-4 w-4"}),"Footer Editor"]})]}),a.jsx(Jt,{value:"store",children:a.jsxs(We,{children:[a.jsxs(Xe,{children:[a.jsx(Qe,{children:"Store Details"}),a.jsx(Dt,{children:"Update your store information and preferences"})]}),a.jsxs(Ke,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{htmlFor:"store-name",children:"Store Name"}),a.jsx(ft,{id:"store-name",placeholder:"Your Store Name",defaultValue:"My Awesome Store"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{htmlFor:"store-email",children:"Store Email"}),a.jsx(ft,{id:"store-email",type:"email",placeholder:"contact@yourstore.com",defaultValue:(r==null?void 0:r.email)||""})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{htmlFor:"store-phone",children:"Store Phone"}),a.jsx(ft,{id:"store-phone",placeholder:"+1 (555) 123-4567",defaultValue:"+1 (555) 123-4567"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{htmlFor:"store-address",children:"Store Address"}),a.jsx(gr,{id:"store-address",placeholder:"123 Main St, City, State, ZIP",defaultValue:"123 Main St\\nNew York, NY 10001\\nUnited States",rows:3})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{htmlFor:"store-currency",children:"Currency"}),a.jsxs("select",{id:"store-currency",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",defaultValue:"USD",children:[a.jsx("option",{value:"USD",children:"USD ($)"}),a.jsx("option",{value:"EUR",children:"EUR ()"}),a.jsx("option",{value:"GBP",children:"GBP ()"}),a.jsx("option",{value:"CAD",children:"CAD ($)"}),a.jsx("option",{value:"AUD",children:"AUD ($)"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{htmlFor:"store-timezone",children:"Timezone"}),a.jsxs("select",{id:"store-timezone",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",defaultValue:"America/New_York",children:[a.jsx("option",{value:"America/New_York",children:"Eastern Time (ET)"}),a.jsx("option",{value:"America/Chicago",children:"Central Time (CT)"}),a.jsx("option",{value:"America/Denver",children:"Mountain Time (MT)"}),a.jsx("option",{value:"America/Los_Angeles",children:"Pacific Time (PT)"}),a.jsx("option",{value:"Europe/London",children:"London (GMT)"})]})]})]})]})]}),a.jsxs("div",{className:"mt-6 space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{htmlFor:"store-description",children:"Store Description"}),a.jsx(gr,{id:"store-description",placeholder:"Tell customers about your store...",defaultValue:"Welcome to My Awesome Store! We offer high-quality products at competitive prices. Our mission is to provide exceptional customer service and a seamless shopping experience.",rows:4})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(No,{id:"enable-reviews",defaultChecked:!0}),a.jsx(Je,{htmlFor:"enable-reviews",children:"Enable customer reviews"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(No,{id:"enable-inventory",defaultChecked:!0}),a.jsx(Je,{htmlFor:"enable-inventory",children:"Show inventory warnings on product pages"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(No,{id:"enable-tax",defaultChecked:!0}),a.jsx(Je,{htmlFor:"enable-tax",children:"Enable automatic tax calculation"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(No,{id:"enable-store-theme-toggle",checked:((P=t==null?void 0:t.settings)==null?void 0:P.showThemeToggle)??!0,onCheckedChange:I=>{t&&o&&o(t.id,{settings:{...t.settings,showThemeToggle:I}})},disabled:l||!t}),a.jsx(Je,{htmlFor:"enable-store-theme-toggle",children:"Show theme (light/dark) toggle in store header"})]})]}),a.jsxs(te,{className:"mt-6",disabled:l||!t,children:[a.jsx(eS,{className:"mr-2 h-4 w-4"}),"Save Store Details"]})]})]})}),a.jsx(Jt,{value:"billing",children:a.jsxs(We,{children:[a.jsxs(Xe,{children:[a.jsx(Qe,{children:"Billing Information"}),a.jsx(Dt,{children:"Manage your subscription and payment methods"})]}),a.jsxs(Ke,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[a.jsxs(We,{children:[a.jsx(Xe,{className:"pb-2",children:a.jsx(Qe,{className:"text-lg",children:"Current Plan"})}),a.jsxs(Ke,{children:[a.jsx("div",{className:"text-xl font-medium",children:b?"Store Creator Plan":"Free Plan"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:b?"$29.99/month, billed monthly":"Limited features"}),a.jsxs("div",{className:"mt-4",children:[b?a.jsxs(te,{onClick:C,disabled:u,children:[a.jsx(Es,{className:"mr-2 h-4 w-4"}),u?"Loading...":"Manage Subscription"]}):a.jsxs(te,{onClick:C,disabled:u,children:[" ",a.jsx(Es,{className:"mr-2 h-4 w-4"}),u?"Loading...":"Upgrade to Pro"]}),h&&a.jsx("p",{className:"text-sm text-red-500 mt-2",children:h})]})]})]}),a.jsxs(We,{children:[a.jsx(Xe,{className:"pb-2",children:a.jsx(Qe,{className:"text-lg",children:"Payment Methods"})}),a.jsx(Ke,{children:b?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-md",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"bg-blue-100 p-2 rounded-md mr-3",children:a.jsx(Es,{className:"h-5 w-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Visa ending in 4242"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Expires 12/2025"})]})]}),a.jsx(te,{variant:"outline",size:"sm",onClick:C,disabled:u,children:"Edit"})]}),a.jsxs(te,{variant:"outline",onClick:C,disabled:u,children:[a.jsx(Es,{className:"mr-2 h-4 w-4"}),u?"Loading...":"Add Payment Method"]})]}):a.jsx("div",{className:"flex items-center justify-center h-32",children:a.jsxs("p",{className:"text-muted-foreground",children:["No payment methods available.",a.jsx("br",{}),"Upgrade to add payment methods."]})})})]})]}),a.jsxs(We,{children:[a.jsx(Xe,{className:"pb-2",children:a.jsx(Qe,{className:"text-lg",children:"Billing History"})}),a.jsx(Ke,{children:b?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b",children:[a.jsx("th",{className:"text-left py-3 px-4",children:"Date"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Description"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Amount"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Status"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Invoice"})]})}),a.jsxs("tbody",{children:[a.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[a.jsx("td",{className:"py-3 px-4",children:"May 1, 2023"}),a.jsx("td",{className:"py-3 px-4",children:"Store Creator Plan"}),a.jsx("td",{className:"py-3 px-4",children:"$29.99"}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:"px-2 py-1 rounded-full text-xs bg-green-100 text-green-800",children:"Paid"})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx(te,{variant:"outline",size:"sm",children:"Download"})})]}),a.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[a.jsx("td",{className:"py-3 px-4",children:"Apr 1, 2023"}),a.jsx("td",{className:"py-3 px-4",children:"Store Creator Plan"}),a.jsx("td",{className:"py-3 px-4",children:"$29.99"}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:"px-2 py-1 rounded-full text-xs bg-green-100 text-green-800",children:"Paid"})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx(te,{variant:"outline",size:"sm",children:"Download"})})]})]})]})}):a.jsx("div",{className:"flex items-center justify-center h-32",children:a.jsxs("p",{className:"text-muted-foreground",children:["No billing history available.",a.jsx("br",{}),"Upgrade to view billing history."]})})})]})]})]})}),a.jsx(Jt,{value:"domain",children:a.jsxs(We,{children:[a.jsxs(Xe,{children:[a.jsx(Qe,{children:"Domain Management"}),a.jsx(Dt,{children:"Configure your store's domain and URL settings"})]}),a.jsxs(Ke,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[a.jsxs(We,{children:[a.jsx(Xe,{className:"pb-2",children:a.jsx(Qe,{className:"text-lg",children:"Subdomain"})}),a.jsxs(Ke,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ft,{defaultValue:((E=r==null?void 0:r.store)==null?void 0:E.subdomain)||"your-store",className:"flex-grow"}),a.jsx("span",{className:"text-muted-foreground",children:".storegen.app"})]}),a.jsxs("div",{className:"flex justify-between mt-4",children:[a.jsxs(te,{children:[a.jsx(eS,{className:"mr-2 h-4 w-4"}),"Save Subdomain"]}),a.jsx(te,{variant:"outline",onClick:_,children:g?a.jsxs(a.Fragment,{children:[a.jsx(S0,{className:"mr-2 h-4 w-4"})," Copied"]}):a.jsxs(a.Fragment,{children:[a.jsx(mO,{className:"mr-2 h-4 w-4"})," Copy URL"]})})]})]})]}),a.jsxs(We,{children:[a.jsxs(Xe,{className:"pb-2",children:[a.jsx(Qe,{className:"text-lg",children:"Custom Domain"}),!b&&a.jsx(Dt,{children:a.jsx("span",{className:"text-yellow-600",children:"Available on paid plans only"})})]}),a.jsx(Ke,{children:b?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ft,{placeholder:"yourdomain.com",className:"flex-grow"}),a.jsxs(te,{children:[a.jsx(_u,{className:"mr-2 h-4 w-4"}),"Connect"]})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Enter your domain name without http:// or www."})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center h-32 space-y-4",children:[a.jsx("p",{className:"text-muted-foreground text-center",children:"Custom domains are available on paid plans only."}),a.jsxs(te,{onClick:C,disabled:u,children:[a.jsx(Es,{className:"mr-2 h-4 w-4"}),u?"Loading...":"Upgrade to Pro"]})]})})]})]}),b&&a.jsxs(We,{children:[a.jsx(Xe,{className:"pb-2",children:a.jsx(Qe,{className:"text-lg",children:"DNS Configuration"})}),a.jsx(Ke,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm",children:"To connect your custom domain, add these DNS records in your domain provider's dashboard:"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b",children:[a.jsx("th",{className:"text-left py-3 px-4",children:"Type"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Name"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Value"}),a.jsx("th",{className:"text-left py-3 px-4",children:"TTL"})]})}),a.jsxs("tbody",{children:[a.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[a.jsx("td",{className:"py-3 px-4",children:"CNAME"}),a.jsx("td",{className:"py-3 px-4",children:"@"}),a.jsxs("td",{className:"py-3 px-4",children:[((j=r==null?void 0:r.store)==null?void 0:j.subdomain)||"your-store",".storegen.app"]}),a.jsx("td",{className:"py-3 px-4",children:"3600"})]}),a.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[a.jsx("td",{className:"py-3 px-4",children:"CNAME"}),a.jsx("td",{className:"py-3 px-4",children:"www"}),a.jsxs("td",{className:"py-3 px-4",children:[((R=r==null?void 0:r.store)==null?void 0:R.subdomain)||"your-store",".storegen.app"]}),a.jsx("td",{className:"py-3 px-4",children:"3600"})]})]})]})}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs(te,{variant:"outline",children:[a.jsx(lr,{className:"mr-2 h-4 w-4"}),"View DNS Guide"]}),a.jsxs(te,{children:[a.jsx(_u,{className:"mr-2 h-4 w-4"}),"Verify DNS"]})]})]})})]})]})]})}),a.jsx(Jt,{value:"legal",children:a.jsxs(We,{children:[a.jsxs(Xe,{children:[a.jsx(Qe,{children:"Legal Pages"}),a.jsx(Dt,{children:"Configure your store's legal documents and policies"})]}),a.jsxs(Ke,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[a.jsxs(We,{children:[a.jsx(Xe,{className:"pb-2",children:a.jsx(Qe,{className:"text-lg",children:"Privacy Policy"})}),a.jsx(Ke,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"border rounded-md p-4 h-64 overflow-y-auto",children:a.jsxs("div",{className:"prose prose-sm max-w-none",children:[a.jsx("h4",{children:"Privacy Policy"}),a.jsx("p",{children:"This Privacy Policy describes how your personal information is collected, used, and shared when you visit or make a purchase from our store."}),a.jsx("h5",{children:"Personal Information We Collect"}),a.jsx("p",{children:"When you visit the Site, we automatically collect certain information about your device, including information about your web browser, IP address, time zone, and some of the cookies that are installed on your device."}),a.jsx("p",{children:"Additionally, as you browse the Site, we collect information about the individual web pages or products that you view, what websites or search terms referred you to the Site, and information about how you interact with the Site."}),a.jsx("h5",{children:"How We Use Your Personal Information"}),a.jsx("p",{children:"We use the information that we collect generally to fulfill any orders placed through the Site (including processing your payment information, arranging for shipping, and providing you with invoices and/or order confirmations)."})]})}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs(te,{children:[a.jsx(lr,{className:"mr-2 h-4 w-4"}),"Edit Privacy Policy"]}),a.jsxs(te,{variant:"outline",children:[a.jsx(lr,{className:"mr-2 h-4 w-4"}),"Generate with AI"]})]})]})})]}),a.jsxs(We,{children:[a.jsx(Xe,{className:"pb-2",children:a.jsx(Qe,{className:"text-lg",children:"Terms of Service"})}),a.jsx(Ke,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"border rounded-md p-4 h-64 overflow-y-auto",children:a.jsxs("div",{className:"prose prose-sm max-w-none",children:[a.jsx("h4",{children:"Terms of Service"}),a.jsx("p",{children:"These Terms of Service govern your use of our website and the products and services provided by us."}),a.jsx("h5",{children:"Overview"}),a.jsx("p",{children:"By accessing our website, you agree to these Terms of Service. If you do not agree with any part of these terms, you may not access the website or use our services."}),a.jsx("h5",{children:"Products and Services"}),a.jsx("p",{children:"All products and services displayed on our website are subject to availability. We reserve the right to discontinue any product or service at any time."}),a.jsx("h5",{children:"Accuracy of Information"}),a.jsx("p",{children:"We make every effort to ensure that the information on our website is accurate and up-to-date. However, we do not warrant that product descriptions or other content is accurate, complete, reliable, current, or error-free."})]})}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs(te,{children:[a.jsx(lr,{className:"mr-2 h-4 w-4"}),"Edit Terms of Service"]}),a.jsxs(te,{variant:"outline",children:[a.jsx(lr,{className:"mr-2 h-4 w-4"}),"Generate with AI"]})]})]})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs(We,{children:[a.jsx(Xe,{className:"pb-2",children:a.jsx(Qe,{className:"text-lg",children:"Refund Policy"})}),a.jsx(Ke,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"border rounded-md p-4 h-64 overflow-y-auto",children:a.jsxs("div",{className:"prose prose-sm max-w-none",children:[a.jsx("h4",{children:"Refund Policy"}),a.jsx("p",{children:"We offer a 30-day return policy for most items. To be eligible for a return, your item must be unused and in the same condition that you received it."}),a.jsx("h5",{children:"Return Process"}),a.jsxs("p",{children:["1. Contact our customer service team",a.jsx("br",{}),"2. Receive a Return Merchandise Authorization (RMA) number",a.jsx("br",{}),"3. Ship the item back with the RMA number clearly marked",a.jsx("br",{}),"4. Once received, we will process your refund within 5-7 business days"]}),a.jsx("h5",{children:"Exceptions"}),a.jsxs("p",{children:["Certain items cannot be returned, including:",a.jsx("br",{}),"- Personalized or custom-made products",a.jsx("br",{}),"- Digital downloads",a.jsx("br",{}),"- Gift cards"]})]})}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs(te,{children:[a.jsx(lr,{className:"mr-2 h-4 w-4"}),"Edit Refund Policy"]}),a.jsxs(te,{variant:"outline",children:[a.jsx(lr,{className:"mr-2 h-4 w-4"}),"Generate with AI"]})]})]})})]}),a.jsxs(We,{children:[a.jsx(Xe,{className:"pb-2",children:a.jsx(Qe,{className:"text-lg",children:"Cookie Policy"})}),a.jsx(Ke,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"border rounded-md p-4 h-64 overflow-y-auto",children:a.jsxs("div",{className:"prose prose-sm max-w-none",children:[a.jsx("h4",{children:"Cookie Policy"}),a.jsx("p",{children:"This Cookie Policy explains how we use cookies and similar technologies to recognize you when you visit our website."}),a.jsx("h5",{children:"What are cookies?"}),a.jsx("p",{children:"Cookies are small data files that are placed on your computer or mobile device when you visit a website. Cookies are widely used by website owners in order to make their websites work, or to work more efficiently, as well as to provide reporting information."}),a.jsx("h5",{children:"How we use cookies"}),a.jsx("p",{children:'We use cookies for several reasons. Some cookies are required for technical reasons in order for our website to operate, and we refer to these as "essential" or "strictly necessary" cookies. Other cookies enable us to track and target the interests of our users to enhance the experience on our website.'})]})}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs(te,{children:[a.jsx(lr,{className:"mr-2 h-4 w-4"}),"Edit Cookie Policy"]}),a.jsxs(te,{variant:"outline",children:[a.jsx(lr,{className:"mr-2 h-4 w-4"}),"Generate with AI"]})]})]})})]})]})]})]})}),a.jsx(Jt,{value:"footer",children:a.jsxs(We,{children:[a.jsxs(Xe,{children:[a.jsx(Qe,{children:"Footer Editor"}),a.jsx(Dt,{children:"Customize your store's footer information"})]}),a.jsxs(Ke,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[a.jsxs(We,{children:[a.jsx(Xe,{className:"pb-2",children:a.jsx(Qe,{className:"text-lg",children:"Contact Information"})}),a.jsx(Ke,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{htmlFor:"footer-email",children:"Email"}),a.jsx(ft,{id:"footer-email",type:"email",placeholder:"contact@yourstore.com",defaultValue:(r==null?void 0:r.email)||""})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{htmlFor:"footer-phone",children:"Phone"}),a.jsx(ft,{id:"footer-phone",placeholder:"+1 (555) 123-4567",defaultValue:"+1 (555) 123-4567"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{htmlFor:"footer-address",children:"Address"}),a.jsx(gr,{id:"footer-address",placeholder:"123 Main St, City, State, ZIP",defaultValue:"123 Main St\\nNew York, NY 10001\\nUnited States",rows:3})]})]})})]}),a.jsxs(We,{children:[a.jsx(Xe,{className:"pb-2",children:a.jsx(Qe,{className:"text-lg",children:"Business Hours"})}),a.jsx(Ke,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{htmlFor:"footer-hours",children:"Hours of Operation"}),a.jsx(gr,{id:"footer-hours",placeholder:"Monday-Friday: 9am-5pm",defaultValue:"Monday-Friday: 9am-5pm\\nSaturday: 10am-4pm\\nSunday: Closed",rows:3})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{htmlFor:"footer-support",children:"Customer Support Hours"}),a.jsx(gr,{id:"footer-support",placeholder:"Monday-Friday: 9am-5pm",defaultValue:"Monday-Friday: 9am-6pm\\nSaturday: 10am-2pm\\nSunday: Closed",rows:3})]})]})})]}),a.jsxs(We,{children:[a.jsx(Xe,{className:"pb-2",children:a.jsx(Qe,{className:"text-lg",children:"Social Media"})}),a.jsx(Ke,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{htmlFor:"footer-facebook",children:"Facebook"}),a.jsx(ft,{id:"footer-facebook",placeholder:"https://facebook.com/yourstore",defaultValue:"https://facebook.com/yourstore"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{htmlFor:"footer-instagram",children:"Instagram"}),a.jsx(ft,{id:"footer-instagram",placeholder:"https://instagram.com/yourstore",defaultValue:"https://instagram.com/yourstore"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{htmlFor:"footer-twitter",children:"Twitter"}),a.jsx(ft,{id:"footer-twitter",placeholder:"https://twitter.com/yourstore",defaultValue:"https://twitter.com/yourstore"})]})]})})]})]}),a.jsxs(We,{children:[a.jsx(Xe,{className:"pb-2",children:a.jsx(Qe,{className:"text-lg",children:"About Us"})}),a.jsx(Ke,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{htmlFor:"footer-about",children:"About Us Text"}),a.jsx(gr,{id:"footer-about",placeholder:"Tell customers about your business...",defaultValue:"My Awesome Store was founded in 2023 with a mission to provide high-quality products at competitive prices. We are committed to exceptional customer service and a seamless shopping experience.",rows:4})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{htmlFor:"footer-copyright",children:"Copyright Text"}),a.jsx(ft,{id:"footer-copyright",placeholder:" 2023 Your Store. All rights reserved.",defaultValue:` ${new Date().getFullYear()} My Awesome Store. All rights reserved.`})]})]})})]}),a.jsx("div",{className:"mt-6",children:a.jsxs(te,{children:[a.jsx(eS,{className:"mr-2 h-4 w-4"}),"Save Footer Settings"]})})]})]})})]})]})},gSe=()=>{const{storeId:t}=u0(),e=Fo(),{getStoreById:n,setCurrentStore:r,isLoadingStores:i}=Zn(),s=new URLSearchParams(e.search),o=s.get("tab")||"orders",[l,u]=x.useState(o),[d,h]=x.useState(null);x.useEffect(()=>{if(!i){const g=n(t);g?(h(g),r(g)):console.error(`Store with ID ${t} not found.`)}},[t,n,r,i]),x.useEffect(()=>{const g=s.get("tab");g&&g!==l&&u(g)},[e.search]);const p=()=>{switch(l){case"orders":return a.jsx(XL,{store:d});case"products":return a.jsx(cSe,{store:d});case"customers":return a.jsx(uSe,{store:d});case"payments":return a.jsx(dSe,{store:d});case"analytics":return a.jsx(fSe,{store:d});case"marketing":return a.jsx(hSe,{store:d});case"shipping":return a.jsx(pSe,{store:d});case"settings":return a.jsx(mSe,{store:d});default:return a.jsx(XL,{store:d})}};return i?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Loading dashboard..."})]})}):!d&&!i?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Store Not Found"}),a.jsxs("p",{className:"text-muted-foreground",children:["Could not load dashboard for store ID: ",t]})]})}):a.jsx(lSe,{activeTab:l,setActiveTab:u,storeId:t,children:p()})},ySe=()=>{const{isAuthenticated:t,userRole:e,loadingProfile:n}=Is();return n?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("p",{className:"text-xl",children:"Loading..."})}):t?e==="admin"?a.jsx(rye,{}):a.jsx(nye,{}):a.jsx(m_,{to:"/auth",replace:!0})},xSe=()=>{const{isAuthenticated:t,loadingProfile:e}=Is();return e?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("p",{className:"text-xl",children:"Loading..."})}):t?a.jsx(m_,{to:"/",replace:!0}):a.jsx(rSe,{})},vSe=[{element:a.jsxs(Rde,{children:[a.jsx(aSe,{})," "]}),children:[{index:!0,element:a.jsx(ySe,{})},{path:"auth",element:a.jsx(xSe,{})},{path:"pricing",element:a.jsx(iSe,{})},{path:"store/:storeId",element:a.jsx(Rwe,{})},{path:"store/:storeId/product/:productId",element:a.jsx(qwe,{})},{path:"checkout",element:a.jsx(Hwe,{})},{path:"order-confirmation",element:a.jsx(oSe,{})},{path:"store/:storeId/content-creation",element:a.jsx(Kde,{})},{path:"store/:storeId/dashboard",element:a.jsx(gSe,{})},{path:"*",element:a.jsx(m_,{to:"/",replace:!0})}]}],wSe=!0,SSe=!0,bSe=Uz(vSe,{future:{v7_startTransition:wSe,v7_relativeSplatPath:SSe}}),Cv=document.getElementById("root");Cv._reactRoot||(Cv._reactRoot=xV.createRoot(Cv));const QL=Cv._reactRoot;try{QL.render(a.jsx(re.StrictMode,{children:a.jsx(Jz,{router:bSe})}))}catch(t){console.error("Application initialization failed:",t);let e="Application failed to load. Please check the console for details.";t.message.includes("VITE_")&&t.message.includes("is not set")&&(e=`Configuration Error: ${t.message}. Please ensure all required environment variables are correctly set in your .env file and the application is rebuilt if necessary.`),QL.render(a.jsx(re.StrictMode,{children:a.jsxs("div",{style:{padding:"20px",textAlign:"center",color:"red",fontFamily:"sans-serif"},children:[a.jsx("h1",{children:"Application Load Error"}),a.jsx("p",{children:e}),a.jsxs("p",{children:["Please check your ",a.jsx("code",{children:".env"})," file and ensure all necessary environment variables are configured."]})]})}))}export{No as $,Wv as A,te as B,nQ as C,Zl as D,Jd as E,Wi as F,Ni as G,Jb as H,ft as I,V3 as J,Rs as K,Je as L,R$ as M,Oa as N,Mv as O,qe as P,dg as Q,re as R,Tu as S,ks as T,Z1 as U,yO as V,Es as W,gt as X,Bo as Y,gu as Z,Rv as _,K_ as a,Qb as a0,eC as a1,Ag as a2,o_ as a3,VX as a4,Xl as a5,Sa as a6,Io as a7,Fwe as a8,N$ as a9,Cr as aa,NSe as ab,ZX as ac,KX as ad,gO as ae,sn as af,DX as ag,Wl as ah,hg as ai,P_ as aj,gr as ak,Ra as al,z3 as am,We as an,IX as ao,Ke as ap,el as aq,Ppe as ar,$X as as,uQ as at,sQ as au,uv as av,MX as aw,Gu as ax,CR as b,Mo as c,mte as d,ri as e,Dn as f,ka as g,Ia as h,b5 as i,a as j,Ma as k,Ju as l,Bu as m,fs as n,Yt as o,Dg as p,Jt as q,x as r,Xs as s,RSe as t,H$ as u,C5 as v,ASe as w,qTe as x,Zn as y,In as z};
