import{p as E,u as A,r as p,j as t,m as v,B as w,P as M,I as m,aF as D,d as z,ax as L}from"./index-45811221.js";import{R as B}from"./ReplaceVideoModal-80a42644.js";const $=E("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]),W=({store:C,isPublishedView:i=!1})=>{const{name:b,content:e,theme:h,id:n}=C,{updateStoreTextContent:x,updateStore:U,viewMode:l}=A(),[T,S]=p.useState(!1),[f,d]=p.useState((e==null?void 0:e.videoLeftSectionVideoUrl)||""),[k,r]=p.useState((e==null?void 0:e.videoLeftSectionVideoPosterUrl)||"https://images.pexels.com/photos/3183197/pexels-photo-3183197.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"),u=(e==null?void 0:e.videoLeftSectionTitle)||"Experience Our Craft",g=(e==null?void 0:e.videoLeftSectionSubtitle)||"See the dedication and precision that goes into every product we create.",V=(e==null?void 0:e.videoLeftSectionText)||"Our commitment to excellence is evident in our process. Watch to learn more about our values and the journey of our products from concept to your hands.",j=(e==null?void 0:e.videoLeftSectionCtaText)||"View Our Catalog",N=(e==null?void 0:e.videoLeftSectionCtaLink)||`#products-${n}`,c="https://images.pexels.com/photos/3184418/pexels-photo-3184418.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",R=(h==null?void 0:h.primaryColor)||"#2563EB";p.useEffect(()=>{d((e==null?void 0:e.videoLeftSectionVideoUrl)||""),r((e==null?void 0:e.videoLeftSectionVideoPosterUrl)||c)},[e==null?void 0:e.videoLeftSectionVideoUrl,e==null?void 0:e.videoLeftSectionVideoPosterUrl]),p.useEffect(()=>{(async()=>{if(!(e!=null&&e.videoLeftSectionVideoUrl)){const a=b||u||g||"craftsmanship";try{const s=await L(a);s.video&&s.video.videoUrl?(d(s.video.videoUrl),s.video.imageUrl?r(s.video.imageUrl):r(c)):(d(""),r(c))}catch(s){console.error("Error fetching Pexels video for sharp video left section:",s),d(""),r(c)}}})()},[e==null?void 0:e.videoLeftSectionVideoUrl,b,u,g]);const I=()=>{S(!0)},O=async o=>{let a=c;if(o)try{const s=o.match(/pexels\.com\/video-files\/(\d+)\//i);if(s&&s[1]){const y=await L(s[1]);y.video&&y.video.imageUrl&&(a=y.video.imageUrl)}else a=""}catch(s){console.warn("Could not fetch Pexels poster for new video",s),a=""}if(n)try{await U(n,{content:{...e,videoLeftSectionVideoUrl:o||"",videoLeftSectionVideoPosterUrl:a}}),d(o||""),r(a),o||(d(""),r(c))}catch(s){console.error("Failed to update store with new video section video URL:",s)}},P=(e==null?void 0:e.videoLeftSectionListItems)||["Detail-Oriented Design","Expert Assembly Process","Rigorous Testing Protocols","Sustainable Sourcing"];return t.jsxs("section",{id:`video-left-${n}`,className:"py-16 md:py-24 bg-slate-900 text-white overflow-hidden",children:[t.jsx("div",{className:"container mx-auto px-4 sm:px-6",children:t.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 lg:gap-16 items-center",children:[t.jsxs(v.div,{className:"relative aspect-video lg:aspect-[16/10] rounded-lg overflow-hidden shadow-2xl border-2 border-slate-700/50",initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},viewport:{once:!0,amount:.3},transition:{duration:.7,ease:"easeOut"},children:[f?t.jsx("video",{src:f,poster:k,controls:!0,className:"w-full h-full object-cover"},f):t.jsx("div",{className:"w-full h-full bg-slate-800 flex items-center justify-center",children:!i&&l==="edit"?t.jsx("p",{className:"text-slate-500",children:"No video set. Click edit to add one."}):t.jsx($,{className:"w-16 h-16 text-slate-600"})}),!i&&l==="edit"&&t.jsx(w,{variant:"outline",size:"icon",className:"absolute top-3 right-3 z-20 bg-slate-800/80 hover:bg-slate-700 text-slate-300 hover:text-blue-400 backdrop-blur-sm border-slate-600 rounded-md shadow-md",onClick:I,title:"Replace Section Video",children:t.jsx(M,{className:"h-4 w-4"})})]}),t.jsxs(v.div,{initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},viewport:{once:!0,amount:.3},transition:{duration:.7,ease:"easeOut"},children:[t.jsx(m,{initialText:u,onSave:o=>x("videoLeftSectionTitle",o),isAdmin:!i&&l==="edit",as:"h2",textClassName:"text-5xl md:text-6xl lg:text-7xl font-black mb-4 tracking-tighter font-mono uppercase",inputClassName:"text-5xl md:text-6xl lg:text-7xl font-black mb-4 tracking-tighter font-mono uppercase bg-transparent",className:"text-5xl md:text-6xl lg:text-7xl font-black mb-4 tracking-tighter font-mono uppercase",children:t.jsx("span",{className:"bg-gradient-to-r from-slate-100 via-blue-400 to-sky-400 bg-clip-text text-transparent",children:u})}),t.jsx(m,{initialText:g,onSave:o=>x("videoLeftSectionSubtitle",o),isAdmin:!i&&l==="edit",as:"p",textClassName:"text-xl md:text-2xl text-slate-200 mb-6 leading-relaxed font-sans",inputClassName:"text-xl md:text-2xl text-slate-200 mb-6 leading-relaxed font-sans bg-transparent",className:"text-xl md:text-2xl text-slate-200 mb-6 leading-relaxed font-sans",useTextarea:!0}),t.jsx(m,{initialText:V,onSave:o=>x("videoLeftSectionText",o),isAdmin:!i&&l==="edit",as:"p",textClassName:"text-slate-300 mb-8 leading-relaxed text-md font-sans",inputClassName:"text-slate-300 mb-8 leading-relaxed text-md font-sans bg-transparent",className:"text-slate-300 mb-8 leading-relaxed text-md font-sans",useTextarea:!0}),t.jsx("ul",{className:"space-y-3 mb-8",children:P.map((o,a)=>t.jsxs(v.li,{className:"flex items-center gap-3 text-slate-300",initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.5,delay:a*.1},children:[t.jsx(D,{className:"w-5 h-5 flex-shrink-0",style:{color:R}}),t.jsx(m,{initialText:o,onSave:s=>x(`videoLeftSectionListItems.${a}`,s),isAdmin:!i&&l==="edit",as:"span",textClassName:"font-mono",inputClassName:"font-mono bg-transparent"})]},a))}),j&&N&&t.jsx(v.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.4},children:t.jsx(w,{asChild:!0,size:"lg",className:"group rounded-md px-8 py-3 text-base font-semibold shadow-lg transition-all duration-300 bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-700 hover:to-blue-600 text-white border-0 font-mono uppercase tracking-wider",children:t.jsxs("a",{href:N,children:[t.jsx(m,{initialText:j,onSave:o=>x("videoLeftSectionCtaText",o),isAdmin:!i&&l==="edit",as:"span",textClassName:"",inputClassName:"bg-transparent"}),t.jsx(z,{className:"w-5 h-5 ml-2 transition-transform group-hover:translate-x-1"})]})})})]})]})}),!i&&n&&t.jsx(B,{open:T,onOpenChange:S,storeId:n,currentVideoUrl:f,onVideoReplaced:O})]})};export{W as default};
