import{ai as M,aj as c,am as t,b4 as z,at as l,ap as u,aq as q,aA as T,b3 as D,au as b,aB as O,aC as Y,ao as H,bM as R}from"./index-72b1491b.js";const K=({store:y,isPublishedView:r=!1})=>{const{products:d,theme:m,id:g,content:e}=y,{updateStoreTextContent:s,viewMode:i}=M(),[o,k]=c.useState("grid"),[x,N]=c.useState(""),[v,h]=c.useState(d||[]),[f,j]=c.useState(!0),w=(e==null?void 0:e.productGridSectionTitle)||"Our Products",G=(e==null?void 0:e.productGridSectionSubtitle)||"Discover fresh arrivals and top picks, curated just for you.",A=(e==null?void 0:e.productGridBadgeText)||"Handpicked For You",B=(e==null?void 0:e.productGridSearchPlaceholder)||"Search products...",E=(e==null?void 0:e.productGridNoProductsTitle)||"No Products Found",P=(e==null?void 0:e.productGridNoProductsSubtitle)||'Your search for "{searchTerm}" did not match any products.',L=(e==null?void 0:e.productGridClearSearchButtonText)||"Clear Search",$=(e==null?void 0:e.productGridEmptyStateTitle)||w,I=(e==null?void 0:e.productGridEmptyStateSubtitle)||"Our product lineup is currently being updated. Please check back soon!";c.useEffect(()=>{j(!0);const a=setTimeout(()=>{h(d||[]),j(!1)},300);return()=>clearTimeout(a)},[d]),c.useEffect(()=>{if(!d){h([]);return}let a=d;x.trim()!==""&&(a=a.filter(n=>{var S,C;return((S=n.name)==null?void 0:S.toLowerCase().includes(x.toLowerCase()))||((C=n.description)==null?void 0:C.toLowerCase().includes(x.toLowerCase()))})),h(a)},[x,d]);const F=()=>t.jsxs("div",{className:"bg-white/60 dark:bg-neutral-800/60 backdrop-blur-sm rounded-2xl overflow-hidden border border-neutral-200/60 dark:border-neutral-700/60 animate-pulse",children:[t.jsx("div",{className:"aspect-square bg-neutral-200 dark:bg-neutral-700"}),t.jsxs("div",{className:"p-5 space-y-2.5",children:[t.jsx("div",{className:"h-4 bg-neutral-200 dark:bg-neutral-700 rounded-lg w-4/5"}),t.jsx("div",{className:"h-3 bg-neutral-200 dark:bg-neutral-700 rounded-lg w-3/5"}),t.jsx("div",{className:"h-5 bg-primary/20 rounded-lg w-1/3 mt-3"})]})]}),p=(m==null?void 0:m.primaryColor)||"#3B82F6";return!d&&!f?t.jsx("section",{id:`products-${g}`,className:"py-16 md:py-24 bg-neutral-50 dark:bg-neutral-800/90",children:t.jsxs("div",{className:"container mx-auto px-4 sm:px-6 text-center",children:[t.jsx(z,{className:"w-12 h-12 mx-auto mb-4",style:{color:p}}),t.jsx(l,{initialText:$,onSave:a=>s("productGridEmptyStateTitle",a),isAdmin:!r&&i==="edit",as:"h2",textClassName:"text-3xl font-bold mb-3 text-neutral-800 dark:text-white",inputClassName:"text-3xl font-bold mb-3 text-neutral-800 dark:text-white bg-transparent",className:"text-3xl font-bold mb-3 text-neutral-800 dark:text-white"}),t.jsx(l,{initialText:I,onSave:a=>s("productGridEmptyStateSubtitle",a),isAdmin:!r&&i==="edit",as:"p",textClassName:"text-neutral-600 dark:text-neutral-400 text-lg",inputClassName:"text-neutral-600 dark:text-neutral-400 text-lg bg-transparent",className:"text-neutral-600 dark:text-neutral-400 text-lg",useTextarea:!0})]})}):t.jsxs("section",{id:`products-${g}`,className:"py-16 md:py-24 bg-neutral-50 dark:bg-neutral-800/90 relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-1/4 left-0 w-1/2 h-1/2 bg-gradient-to-br from-primary/5 to-transparent rounded-full -translate-x-1/2 blur-3xl opacity-50 dark:opacity-30"}),t.jsx("div",{className:"absolute bottom-1/4 right-0 w-1/2 h-1/2 bg-gradient-to-tl from-primary/5 to-transparent rounded-full translate-x-1/2 blur-3xl opacity-50 dark:opacity-30"}),t.jsxs("div",{className:"container mx-auto px-4 sm:px-6 relative z-10",children:[t.jsxs(u.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.3},transition:{duration:.6},className:"text-center mb-10 md:mb-14",children:[t.jsxs(u.div,{className:"inline-flex items-center gap-2 px-4 py-1.5 rounded-full text-sm font-medium mb-4",style:{backgroundColor:`${p}1A`,color:p,border:`1px solid ${p}40`},initial:{scale:.9,opacity:0},whileInView:{scale:1,opacity:1},viewport:{once:!0},transition:{delay:.1,duration:.4},children:[t.jsx(q,{className:"w-4 h-4"}),t.jsx(l,{initialText:A,onSave:a=>s("productGridBadgeText",a),isAdmin:!r&&i==="edit",as:"span",textClassName:"",inputClassName:"bg-transparent"})]}),t.jsx(l,{initialText:w,onSave:a=>s("productGridSectionTitle",a),isAdmin:!r&&i==="edit",as:"h2",textClassName:"text-3xl md:text-5xl font-bold tracking-tight mb-3 text-neutral-800 dark:text-white",inputClassName:"text-3xl md:text-5xl font-bold tracking-tight mb-3 text-neutral-800 dark:text-white bg-transparent",className:"text-3xl md:text-5xl font-bold tracking-tight mb-3 text-neutral-800 dark:text-white"}),t.jsx(l,{initialText:G,onSave:a=>s("productGridSectionSubtitle",a),isAdmin:!r&&i==="edit",as:"p",textClassName:"text-neutral-600 dark:text-neutral-300 max-w-xl mx-auto text-md md:text-lg leading-relaxed",inputClassName:"text-neutral-600 dark:text-neutral-300 max-w-xl mx-auto text-md md:text-lg leading-relaxed bg-transparent",className:"text-neutral-600 dark:text-neutral-300 max-w-xl mx-auto text-md md:text-lg leading-relaxed",useTextarea:!0})]}),t.jsxs(u.div,{initial:{opacity:0,y:15},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2,duration:.5},className:"flex flex-col md:flex-row justify-between items-center mb-8 md:mb-10 gap-4",children:[t.jsxs("div",{className:"relative w-full md:max-w-xs",children:[t.jsx(T,{className:"absolute left-3.5 top-1/2 transform -translate-y-1/2 text-neutral-400 dark:text-neutral-500 h-4 w-4"}),t.jsx(D,{type:"text",placeholder:B,className:"w-full pl-10 pr-4 py-2.5 text-sm bg-white/70 dark:bg-neutral-800/70 backdrop-blur-sm border-neutral-300/70 dark:border-neutral-700/70 rounded-xl focus:ring-primary/30 focus:border-primary/60 transition-colors text-neutral-700 dark:text-neutral-200 placeholder-neutral-500 dark:placeholder-neutral-400",value:x,onChange:a=>N(a.target.value)})]}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs("div",{className:"flex items-center gap-1 bg-white/70 dark:bg-neutral-800/70 backdrop-blur-sm rounded-xl p-1 border border-neutral-300/70 dark:border-neutral-700/70",children:[t.jsx(b,{variant:"ghost",size:"icon",className:`h-8 w-8 rounded-lg transition-all duration-200 ${o==="grid"?"bg-primary text-white":"text-neutral-500 dark:text-neutral-400 hover:text-primary dark:hover:text-primary-light hover:bg-neutral-100 dark:hover:bg-neutral-700/50"}`,onClick:()=>k("grid"),title:"Grid View",children:t.jsx(O,{className:"h-4 w-4"})}),t.jsx(b,{variant:"ghost",size:"icon",className:`h-8 w-8 rounded-lg transition-all duration-200 ${o==="list"?"bg-primary text-white":"text-neutral-500 dark:text-neutral-400 hover:text-primary dark:hover:text-primary-light hover:bg-neutral-100 dark:hover:bg-neutral-700/50"}`,onClick:()=>k("list"),title:"List View",children:t.jsx(Y,{className:"h-4 w-4"})})]})})]}),t.jsx(H,{mode:"wait",children:f?t.jsx(u.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:o==="grid"?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 md:gap-8":"space-y-6",children:Array(o==="grid"?8:3).fill(0).map((a,n)=>t.jsx(F,{},`skeleton-fresh-${n}`))},"loading-grid-fresh"):v.length>0?t.jsx(u.div,{variants:_,initial:"hidden",animate:"visible",className:o==="grid"?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 md:gap-8":"space-y-6",children:v.map((a,n)=>t.jsx(R,{product:a,theme:m,index:n,storeName:y.urlSlug,storeId:g,isPublishedView:r,displayMode:o},a.id||`product-fresh-${n}`))},"product-list-fresh"):t.jsxs(u.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[t.jsx(T,{className:"w-10 h-10 text-neutral-400 dark:text-neutral-500 mx-auto mb-3"}),t.jsx(l,{initialText:E,onSave:a=>s("productGridNoProductsTitle",a),isAdmin:!r&&i==="edit",as:"h3",textClassName:"text-xl font-semibold text-neutral-700 dark:text-white mb-2",inputClassName:"text-xl font-semibold text-neutral-700 dark:text-white mb-2 bg-transparent",className:"text-xl font-semibold text-neutral-700 dark:text-white mb-2"}),t.jsx(l,{initialText:P.replace("{searchTerm}",x),onSave:a=>s("productGridNoProductsSubtitle",a),isAdmin:!r&&i==="edit",as:"p",textClassName:"text-neutral-500 dark:text-neutral-400 text-sm",inputClassName:"text-neutral-500 dark:text-neutral-400 text-sm bg-transparent",className:"text-neutral-500 dark:text-neutral-400 text-sm",useTextarea:!0}),t.jsx(b,{variant:"link",onClick:()=>N(""),className:"text-primary hover:text-primary/80 mt-3 text-sm",children:t.jsx(l,{initialText:L,onSave:a=>s("productGridClearSearchButtonText",a),isAdmin:!r&&i==="edit",as:"span",textClassName:"",inputClassName:"bg-transparent"})})]},"no-products-fresh")})]})]})},_={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.06}}};export{K as default};
